angular.module("templates-app",["components/directives/aamc-actions/aamc-actions.html","components/directives/aamc-application-tabs/aamc-application-tabs.html","components/directives/aamc-applied-reapplied-date/aamc-applied-reapplied-date.html","components/directives/aamc-assign-program/aamc-assign-program.html","components/directives/aamc-cas-state-license/aamc-cas-state-license.html","components/directives/aamc-certify-and-submit-certification/aamc-certify-and-submit-certification.html","components/directives/aamc-certify-and-submit-experience/aamc-certify-and-submit-experience.html","components/directives/aamc-certify-and-submit-general-information/aamc-certify-and-submit-general-information.html","components/directives/aamc-certify-and-submit-higher-education/aamc-certify-and-submit-higher-education.html","components/directives/aamc-certify-and-submit-hobbies/aamc-certify-and-submit-hobbies.html","components/directives/aamc-certify-and-submit-language/aamc-certify-and-submit-language.html","components/directives/aamc-certify-and-submit-medical-edu/aamc-certify-and-submit-medical-edu.html","components/directives/aamc-certify-and-submit-medical-education/aamc-certify-and-submit-medical-education.html","components/directives/aamc-certify-and-submit-medical-licenses/aamc-certify-and-submit-medical-licenses.html","components/directives/aamc-certify-and-submit-medical-school-honors/aamc-certify-and-submit-medical-school-honors.html","components/directives/aamc-certify-and-submit-other-awards/aamc-certify-and-submit-other-awards.html","components/directives/aamc-certify-and-submit-publications/aamc-certify-and-submit-publications.html","components/directives/aamc-certify-and-submit-society-membership/aamc-certify-and-submit-society-membership.html","components/directives/aamc-certify-and-submit-state-medical-licenses/aamc-certify-and-submit-state-medical-licenses.html","components/directives/aamc-certify-and-submit-training/aamc-certify-and-submit-training.html","components/directives/aamc-compiler/aamc-compiler.html","components/directives/aamc-dashboard-alerts-section/aamc-dashboard-alerts-section.html","components/directives/aamc-dashboard-application-section/aamc-dashboard-application-section.html","components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-detail-modal.html","components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-modal.html","components/directives/aamc-dashboard-documents-section/aamc-dashboard-documents-section.html","components/directives/aamc-dashboard-email-alert-section/aamc-dashboard-email-alert-section.html","components/directives/aamc-dashboard-help-section/aamc-dashboard-help-section.html","components/directives/aamc-dashboard-id-summary/aamc-dashboard-id-summary.html","components/directives/aamc-dashboard-id-summary/aamc-upload-avatar-modal.html","components/directives/aamc-dashboard-payment-alerts-section/aamc-dashboard-payment-alerts-section.html","components/directives/aamc-dashboard-programs-section/aamc-dashboard-programs-section.html","components/directives/aamc-dashboard-programs-section/aamc-dashboard-soap-programs-section.html","components/directives/aamc-dashboard-soap-message/aamc-dashboard-soap-message.html","components/directives/aamc-dashboard-title/aamc-dashboard-title.html","components/directives/aamc-documents-tabs/aamc-documents-tabs.html","components/directives/aamc-documenttracking/aamc-documenttracking.html","components/directives/aamc-eras-alerts/aamc-eras-alerts.html","components/directives/aamc-help-modal/aamc-help-modal.html","components/directives/aamc-non-peer-reviewed-online/aamc-non-peer-reviewed-online.html","components/directives/aamc-oral-presentation/aamc-oral-presentation.html","components/directives/aamc-other-articles/aamc-other-articles.html","components/directives/aamc-peer-reviewed-book/aamc-peer-reviewed-book.html","components/directives/aamc-peer-reviewed-journal/aamc-peer-reviewed-journal.html","components/directives/aamc-peer-reviewed-online/aamc-peer-reviewed-online.html","components/directives/aamc-peer-reviewed-other/aamc-peer-reviewed-other.html","components/directives/aamc-pivio-data-import-modal/aamc-pivio-data-import-modal.html","components/directives/aamc-poster-presentation/aamc-poster-presentation.html","components/directives/aamc-print-window/aamc-print-window.html","components/directives/aamc-program-details-modal/aamc-program-details-control.html","components/directives/aamc-program-details-modal/aamc-program-details-modal.html","components/directives/aamc-program-optional-content/aamc-program-table-optional-content.html","components/directives/aamc-program-search-soap/aamc-program-search-soap.html","components/directives/aamc-program-status-code/aamc-program-status-code.html","components/directives/aamc-programs-applied-tracks/aamc-programs-applied-tracks.html","components/directives/aamc-programs-applied/aamc-programs-applied.html","components/directives/aamc-programs-tabs/aamc-programs-tabs.html","components/directives/aamc-scientific-monograph/aamc-scientific-monograph.html","components/directives/aamc-soap-programs/aamc-soap-programs.html","components/directives/aamc-soap-sticky-header-message/aamc-soap-sticky-header-message.html","components/directives/aamc-timeout/aamc-timeout-modal.html","components/directives/aamc-timeout/aamc-timeout.html","components/directives/aamc-timeout/aamc-warning-modal.html","components/directives/aamc-tracks-details/aamc-tracks-detail-rows.html","components/directives/aamc-tracks-details/aamc-tracks-details.html","components/directives/aamc-transcriptquestionmodal/aamc-transcriptquestionmodal.html","components/directives/aamc-transcriptquestionmodal/transcript-question-modal.html","components/directives/aamc-validate-form-and-focus/aamc-validate-form-and-focus.html","components/directives/aamcSubmissionImg/aamc-submission-img.html","components/directives/certify-submit-checklist/certify-submit-checklist.html","components/directives/navbar/navbar.html","components/directives/program-assignments-doc-side/program-assignments-doc-side.html","components/directives/soap-eligible-assignments-programs/soap-eligible-assignments-programs.html","components/directives/soap-eligible-letter-assignments/soap-eligible-letter-assignments.html","components/directives/soap-eligible-previewed-invoice/soap-eligible-previewed-invoice.html","components/directives/soap-eligible-previewed-invoice/view-fee-modal.html","components/directives/soap-eligible-program-assignments/soap-eligible-program-assignments.html","components/directives/soap-eligible-programs-applied/soap-eligible-programs-applied.html","components/directives/soap-ineligible-programs-applied/soap-ineligible-programs-applied.html","components/templates/processModal.html","states/assignment-report/assignment-report-programs.html","states/assignment-report/assignment-report.html","states/biographic/biographic.html","states/biographic/languageFluency-modal.html","states/certify/certify.html","states/create/create.html","states/experience/experience-modal.html","states/experience/experience.html","states/experience/training-modal.html","states/general/general.html","states/general/higherEducation-modal.html","states/general/medicalEducation-modal.html","states/hosted-checkout-response/hosted-checkout-response.html","states/index/index.html","states/invoiceHistory/invoiceHistory.html","states/landing/landing.html","states/letter-recommendation/assign-letter-recommendation-modal.html","states/letter-recommendation/letter-recommendation.html","states/letter-recommendation/lor-author-modal.html","states/letter-recommendation/lor-finalized-author-modal.html","states/letter-recommendation/lor-modal.html","states/letter-recommendation/lor-print-request-form-modal.html","states/licensure/licensure-modal.html","states/licensure/licensure.html","states/mail/mail.html","states/main/main.html","states/maintenance/maintenance.html","states/newdashboard/email-difference-modal.html","states/newdashboard/newdashboard.html","states/otherdocuments/assign-programs-modal.html","states/otherdocuments/comlex-modal.html","states/otherdocuments/mspe-modal.html","states/otherdocuments/otherdocuments.html","states/otherdocuments/programs-applied-modal.html","states/otherdocuments/ptal-modal.html","states/otherdocuments/resend-comlex-modal.html","states/otherdocuments/resend-usmle-modal.html","states/otherdocuments/usmle-modal.html","states/payment-error/payment-error.html","states/payment-info/custom-payment-confirmation.html","states/payment-info/custom-payment-error.html","states/payment-info/custom-payment-form.html","states/payment-info/custom-payment-review-programs.html","states/payment-info/custom-payment-review.html","states/payment-info/payment-confirmation-msg_tpl.html","states/payment-info/payment-details_tpl.html","states/payment-info/payment-info-validate-modal.html","states/payment-info/payment-info.html","states/payment-info/payment-invoice_tpl.html","states/payment-info/soap-payment-invoice_tpl.html","states/payment/app-history-breakdown-modal.html","states/payment/initiated-warning-modal.html","states/payment/payment-policy-modal.html","states/payment/payment.html","states/payment/validate-payment-modal.html","states/payment/view-processing-fee-modal.html","states/pending-payment/pending-payment-info.html","states/personal-info/change-email-modal.html","states/personal-info/personal-info.html","states/personal-statements/assign-personal-statements-modal.html","states/personal-statements/personal-statements-delete-modal.html","states/personal-statements/personal-statements-modal.html","states/personal-statements/personal-statements-view-modal.html","states/personal-statements/personal-statements.html","states/personal-statements/perview-statement.html","states/programs-reapply/programs-reapply.html","states/programs-reapply/validate-modal.html","states/programs-withdrawn/programs-reinstate-modal.html","states/programs-withdrawn/programs-withdrawn.html","states/programsapplied/assign-documents-modal.html","states/programsapplied/program-details-modal.html","states/programsapplied/programsapplied.html","states/programsapplied/reapply-programs-modal.html","states/programsapplied/withdraw-programs-modal.html","states/programsearch/added-programs-modal.html","states/programsearch/program-additional-info-modal.html","states/programsearch/program-details-modal.html","states/programsearch/program-reapplied-modal.html","states/programsearch/programsearch.html","states/programshome/assign-documents-modal.html","states/programshome/confirm-program-delete-modal.html","states/programshome/fully-matched-modal.html","states/programshome/program-details-modal.html","states/programshome/programshome.html","states/programshome/validate-program-modal.html","states/publications/publications-modal.html","states/publications/publications.html","states/revoked/revoked.html","states/submission/confirmation-modal.html","states/submission/submission.html","states/summary/summary.html","states/templates/processModal.html","states/token/token.html","states/track/track.html"]),angular.module("components/directives/aamc-actions/aamc-actions.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-actions/aamc-actions.html",'<div class="aamc-actions-content">\n    <div class="btn-group">\n        <button role="button" type="button" class="btn btn-default">Select</button>\n        <button role="button" type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown"\n                aria-expanded="false" ng-click="actions.activate()">\n            <span class="caret"></span>\n            <span class="sr-only">Toggle Dropdown</span>\n        </button>\n        <ul class="dropdown-menu" role="menu">\n          <span ng-repeat="menu in actions.menuList">\n                <li class="divider" ng-if="menu.isVisible && menu.hasDivider"></li>\n                <li data-title="{{ menu.showToolTip ? menu.toolTip : \'\' }}" bs-tooltip>\n                    <a href aria-label="{{ menu.menuItemLabel }}" ng-if="menu.isVisible"\n                       ng-click="actions.callFunction(menu.clickEventHandler)"\n                       data-target="{{ menu.dataTarget }}" data-toggle="{{ menu.dataToggle }}"\n                       ng-class="{\'disable-link\': menu.isDisabled }" ><i\n                            class="fa {{ menu.menuFavIcon }}"/></i>{{ menu.menuItemLabel }} </a>\n                </li>\n          </span>\n        </ul>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-application-tabs/aamc-application-tabs.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-application-tabs/aamc-application-tabs.html",'<div class="form-wizard clearfix">\n    <!-- Nav tabs -->\n    <div class="row">\n        <div class="col-md-3 pull-right">\n            <div class="text-right" ng-if="!futureSeason">\n                <a class="details" href ng-click="printApp()"><u>View/Print MyERAS Application</u></a>\n                <span>&nbsp;</span>\n                <a class="details" href ng-click="printCV()"><u>View/Print CV</u></a>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-md-2">\n            <div class="bs-sidebar hidden-print" role="complementary" data-offset-top="-80" bs-affix>\n                <h3>Application</h3>\n                <ul class="nav bs-sidenav">\n                    <li ng-class="{\'active\':currState==\'main.personalInfo\',\'disabled\':applicationStates.availableStates.indexOf(\'main.personalInfo\') === -1 }"><a ui-sref="main.personalInfo" role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.personalInfo\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Personal Information&nbsp;<i class="fa fa-info-circle" data-title="Personal Information can be updated at any time." bs-tooltip></i></a>\n                        <ul class="nav" ng-if="currState==\'main.personalInfo\'">\n                            <li data-target="#contact" bs-scrollspy>\n                                <a class="pointer" scroll-to="contact">Contact Information</a>\n                            </li>\n                            <li data-target="#address" bs-scrollspy>\n                                <a class="pointer" scroll-to="address">Address</a>\n                            </li>\n                            <li data-target="#citizenship" bs-scrollspy>\n                                <a class="pointer" scroll-to="citizenship">Citizenship Information</a>\n                            </li>\n                            <li data-target="#match" bs-scrollspy>\n                                <a class="pointer" scroll-to="match">Match Information</a>\n                            </li>\n                            <li data-target="#additional" bs-scrollspy>\n                                <a class="pointer" scroll-to="additional">Additional Information</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.personalInfo\'">\n                            <button type="button" class="btn btn-primary" ng-click="savePersonalInfo(false);">Save Personal Information</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.biographic\', \'disabled\':applicationStates.availableStates.indexOf(\'main.biographic\') === -1 }" ng-show="statusId==3||statusId==8"><a ui-sref="main.biographic" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.biographic\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Biographic Information</a>\n                        <ul class="nav" bs-scrollspy-list ng-if="currState==\'main.biographic\'">\n                            <li data-target="#general" bs-scrollspy>\n                                <a class="pointer" scroll-to="general">General</a>\n                            </li>\n                            <li data-target="#selfId" bs-scrollspy>\n                                <a class="pointer" scroll-to="selfId">Self Identification</a>\n                            </li>\n                            <li data-target="#language" bs-scrollspy>\n                                <a class="pointer" scroll-to="language">Language Fluency</a>\n                            </li>\n                            <li data-target="#military" bs-scrollspy>\n                                <a class="pointer" scroll-to="military">Military Information</a>\n                            </li>\n                            <li data-target="#additional" bs-scrollspy>\n                                <a class="pointer" scroll-to="additional">Additional Information</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.biographic\'">\n                            <button type="button" class="btn btn-primary" ng-click="saveBioForm();">Save Biographic Information</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.general\', \'disabled\':applicationStates.availableStates.indexOf(\'main.general\') === -1 }" ng-show="statusId==3||statusId==8"><a ui-sref="main.general" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.general\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Education</a>\n                        <ul class="nav" bs-scrollspy-list ng-if="currState==\'main.general\'">\n                            <li data-target="#higherEd" bs-scrollspy>\n                                <a class="pointer" scroll-to="higherEd">Higher Education</a>\n                            </li>\n                            <li data-target="#medEd" bs-scrollspy>\n                                <a class="pointer" scroll-to="medEd">Medical Education</a>\n                            </li>\n                            <li data-target="#additional" bs-scrollspy>\n                                <a class="pointer" scroll-to="additional">Additional Information</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.general\'">\n                            <button type="button" class="btn btn-primary" ng-click="saveEducationPage();">\n                                </i>Save Education</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.experience\', \'disabled\':applicationStates.availableStates.indexOf(\'main.experience\') === -1 }" ng-show="statusId==3||statusId==8"><a ui-sref="main.experience" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.experience\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Experience</a>\n                        <ul class="nav" bs-scrollspy-list ng-if="currState==\'main.experience\'">\n                            <li data-target="#training" bs-scrollspy>\n                                <a class="pointer" scroll-to="training">Training</a>\n                            </li>\n                            <li data-target="#experience" bs-scrollspy>\n                                <a class="pointer" scroll-to="experience">Experience</a>\n                            </li>\n                            <li data-target="#additional" bs-scrollspy>\n                                <a class="pointer" scroll-to="additional">Additional Questions</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.experience\'">\n                            <button type="button" class="btn btn-primary" ng-click="saveExperiencePage();">Save Experience</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.licensure\', \'disabled\':applicationStates.availableStates.indexOf(\'main.experience\') === -1 }" ng-show="statusId==3||statusId==8"><a ui-sref="main.licensure" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.licensure\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Licensure</a>\n                        <ul class="nav" bs-scrollspy-list ng-if="currState==\'main.licensure\'">\n                            <li data-target="#licensure" bs-scrollspy>\n                                <a class="pointer" scroll-to="licensure">State Medical Licenses</a>\n                            </li>\n                            <li data-target="#additional" bs-scrollspy>\n                                <a class="pointer" scroll-to="additional">Additional Questions</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.licensure\'">\n                            <button type="button" class="btn btn-primary" ng-click="saveAdditionalForm();">Save Licensure</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.publications\', \'disabled\':applicationStates.availableStates.indexOf(\'main.publications\') === -1 }" ng-show="statusId==3||statusId==8"><a ui-sref="main.publications" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.publications\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Publications</a>\n                        <ul class="nav" bs-scrollspy-list ng-if="currState==\'main.publications\'">\n                            <li data-target="#publications" bs-scrollspy>\n                                <a class="pointer" scroll-to="publications">Publications</a>\n                            </li>\n                        </ul>\n                        <div class="text-center" ng-if="currState==\'main.publications\'">\n                            <button type="button" class="btn btn-primary" ng-click="savePublicationPage();">Save Publications</button>\n                        </div>\n                    </li>\n                    <li ng-class="{\'active\':currState==\'main.certify\', \'disabled\':applicationStates.availableStates.indexOf(\'main.certify\') === -1 }" ng-show="statusId==3||statusId==8">\n                        <a ui-sref="main.certify" href role="tab" data-title="{{applicationStates.availableStates.indexOf(\'main.certify\') === -1 ?tooltipText:\'\'}}" bs-tooltip>Certify & Submit</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="tab-content no-margin col-md-10">\n            <div class="ng-transclude"></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-applied-reapplied-date/aamc-applied-reapplied-date.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-applied-reapplied-date/aamc-applied-reapplied-date.html",'<span class="aamc-applied-reapplied-date-content">\n  <div ng-if="appliedReappliedDate.appliedDate">Applied - {{ appliedReappliedDate.appliedDate | amDateFormat:\'MM/DD/YYYY hh:mm A\' }} ET</div>\n  <div ng-if="appliedReappliedDate.reappliedDate">Reapplied - {{ appliedReappliedDate.reappliedDate | amDateFormat:\'MM/DD/YYYY hh:mm A\' }} ET</div>\n</span>\n')}]),angular.module("components/directives/aamc-assign-program/aamc-assign-program.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-assign-program/aamc-assign-program.html",'<div>\n    <program-assignments-doc-side ng-if="!showSoapEligibleAssignments"></program-assignments-doc-side>\n    <soap-eligible-program-assignments ng-if="showSoapEligibleAssignments"></soap-eligible-program-assignments>\n</div>\n')}]),angular.module("components/directives/aamc-cas-state-license/aamc-cas-state-license.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-cas-state-license/aamc-cas-state-license.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">State Medical Licenses</h2>\n    </h2>\n    <div ng-if="showLicensureNoneText===false">\n        <table class="table table-bordered casBorderedTable">\n            <tr>\n                <th class="col-md-4 caslabel">\n                    Type\n                </th>\n                <th class="col-md-4 caslabel">\n                    Number\n                </th>\n                <th class="col-md-2 caslabel">\n                    State\n                </th>\n                <th class="col-md-2 caslabel">\n                    Exp. Date\n                </th>\n            </tr>\n            <tr ng-repeat="license in AllMedLicenses|orderBy:[\'licenseType\',\'-licenseExpirationMonth\',\'-licenseExpirationYear\']">\n                <td class="col-md-4 casText">{{license.licenseType}}</td>{{license}}\n                <td class="col-md-4 casText">{{license.licenseNumber}}</td>\n                <td class="col-md-2 casText">{{license.licenseStateDesc}}</td>\n                <td class="col-md-2 casText">{{license.licenseExpirationMonth}}\n                    <span ng-if="license.licenseExpirationMonth!=null||license.licenseExpirationYear!=null">/</span>{{license.licenseExpirationYear}}</td>\n            </tr>\n        </table>\n    </div>\n    <div ng-if="showLicensureNoneText===true">\n        <div class="panel panel-info casPanel">\n\n            <div class="casText">&nbsp;&nbsp;None</div>\n\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-certification/aamc-certify-and-submit-certification.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-certification/aamc-certify-and-submit-certification.html",'<div ng-cloak="applicationData">\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Certification</h2>\n    </h2>\n\n    <div class="col-md-12 caslabel">\n        <div ng-bind-html="certifyMsg"></div>\n        <br />\n    </div>\n    <div ng-if="isEligible">\n        <br>\n        <div class="col-md-6">\n            <span class="control-label caslabel">Certified by:</span>\n            <span class="casText">{{applicationData.fullName}}</span>\n        </div>\n        <div class="col-md-6">\n            <span class="control-label caslabel">Date</span>\n            <span class="casText text-danger">\n                <strong>Not Submitted</strong>\n            </span>\n        </div>\n    </div>\n\n    <div class="clearfix">\n        <div class="pull-right">\n            <button class="btn btn-primary btn-purple" type="submit" ng-click="edit();">Edit\n            </button>\n            <button class="btn btn-primary btn-purple" type="submit" ng-click="next();" ng-disabled="checkListMode || !isEligible">\n                Continue\n                <span class="glyphicon glyphicon-play"></span>\n            </button>\n        </div>\n    </div>\n\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-experience/aamc-certify-and-submit-experience.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-experience/aamc-certify-and-submit-experience.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Experience</h2>\n    </h2>\n    <div ng-show="!showExperienceNoneText">\n        <table class="table casBorderedTable">\n            <tr>\n                <th class="col-md-3 caslabel">\n                    Experience\n                </th>\n                <th class="col-md-3 caslabel">\n                    Organization & Location\n                </th>\n                <th class="col-md-1 caslabel">\n                    Position\n                </th>\n                <th class="col-md-1 caslabel">\n                    Dates\n                </th>\n                <th class="col-md-2 caslabel">\n                    Supervisor\n                </th>\n                <th class="col-md-2 caslabel">\n                    Average Hours/Week\n                </th>\n            </tr>\n            <tbody ng-repeat="exp in AllExperiences|orderBy:[\'-expStartYr\',\'-expStartMth\',\'-expEndYr\',\'-expEndMth\']">\n                <tr>\n                    <td class="col-md-3 casText">{{exp.experienceType.experienceTypeDesc}}</td>\n                    <td class="col-md-3 casText">{{exp.expOrgName}}\n                        <br/>{{exp.expCity}}, {{exp.expStateCd}}, {{exp.expCountryCd}}</td>\n                    <td class="col-md-1 casText">{{exp.expPosTitle}}</td>\n                    <td class="col-md-1 casText">{{exp.expStartMth}}/{{exp.expStartYr}} -\n                        <span ng-if="exp.expEndMth!=null||exp.expEndYr!=null">{{exp.expEndMth}}/{{exp.expEndYr}}</span>\n                        <span ng-if="exp.expEndMth==null&&exp.expEndYr==null">Present</span>\n                    </td>\n                    <td class="col-md-2 casText">{{exp.expSupervisorName}}</td>\n                    <td class="col-md-2 casText">{{exp.expHours}}</td>\n                </tr>\n                <tr ng-if="exp.expJobDesc">\n                    <td class="casText col-md-6" style="padding-left:120px;" colspan="6">Description\n                        <br/>\n                        <div class="panel panel-default casPanel casPadding">&nbsp;&nbsp;{{exp.expJobDesc}}</div>\n                    </td>\n                </tr>\n                <tr ng-if="exp.expReasonLeftDesc">\n                    <td class="casText col-md-6" style="padding-left:120px;" colspan="6">Reason For Leaving\n                        <br/>\n                        <div class="panel panel-default casPanel casPadding">&nbsp;&nbsp;{{exp.expReasonLeftDesc}}</div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div ng-show="showExperienceNoneText">\n        <div class="panel panel-info casPanel">\n            <br/>\n            <div class="casText">&nbsp;&nbsp;None</div>\n            <br/>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-general-information/aamc-certify-and-submit-general-information.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-general-information/aamc-certify-and-submit-general-information.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">General Information</h2>\n    </h2>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <div class="col-lg-12">\n                <div class="table casTable" border="0">\n                    <table class="table casTable">\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" data-title="{{applicationData.fullName.length>50?applicationData.fullName:\'\'}}" bs-tooltip>{{applicationData.fullName|characters:50:true}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Applicant ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.applicationId}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Previous Last Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.previousLastName}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">AAMC ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.aamcId}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Preferred Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.preferredName}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%" rowspan="3">\n                                <p class="caslabel">Most Recent Medical School:</p>\n                            </td>\n                            <td width="30%" rowspan="3">\n                                <p class="casText" data-title="{{mostRecentMedicalSchool.medInstitutionName.length>50?mostRecentMedicalSchool.medInstitutionName:\'\'}}" bs-tooltip>{{mostRecentMedicalSchool.medInstitutionName}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">USMLE ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.usmleId}}</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.residencyType == \'DO\' || applicationData.fellowshipType == \'DO\'">\n                            <td width="20%">\n                                <p class="caslabel">NBOME ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nbomeId}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">AUA ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.auaNumber}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">E-mail:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" data-title="{{applicationData.email.length>50?applicationData.email:\'\'}}" bs-tooltip colspan="3">{{applicationData.email}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Gender:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" colspan="3" ng-if="applicantData.cafSex==\'M\'">Male</p>\n                                <p class="casText" colspan="3" ng-if="applicantData.cafSex==\'F\'">Female</p>\n                                <p class="casText" colspan="3" ng-if="applicantData.cafSex==\'N\'">No Response</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Birth Date:</p>\n                            </td>\n                            <td width="30%">\n                                <!-- Don\'t use amDateFormat here because birth date is coming across as a simple date string -->\n                                <p class="casText" colspan="3">{{applicantData.cafDob | date:\'MM/dd/yyyy\'}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Birth Place:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" colspan="3" ata-title="{{applicantData.cafBirthPlace.length>50?applicantData.cafBirthPlace:\'\'}}" bs-tooltip>{{applicantData.cafBirthPlace|characters:50:true}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Citizenship:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" data-title="{{applicationData.citizenship.citizenshipDescription.length>50?applicationData.citizenship.citizenshipDescription:\'\'}}" bs-tooltip>{{applicationData.citizenship.citizenshipDescription}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">NRMP ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nrmpId}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%" rowspan="2">\n                                <p class="caslabel">Current Visa/Employment Authorization Status:</p>\n                            </td>\n                            <td width="30%" rowspan="2">\n                                <p class="casText" data-title="{{applicationData.visa.visaDescription.length>50?applicationData.visa.visaDescription:\'\'}}">{{applicationData.visa.visaDescription}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Participating in the NRMP Match:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.nrmpIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.nrmpIndicator===\'N\'">No</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Participating as a Couple in NRMP:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.nrmpPartnerIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.nrmpPartnerIndicator===\'N\'">No</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Visa Sponsorship Needed:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.visaSponsorship==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.visaSponsorship==\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">NRMP Partner\'s Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nrmpPartnerName}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Expected Visa/Employment Authorization Status(s):</p>\n                            </td>\n                            <td width="30%" rowspan="2">\n                                <p class="casText" ng-if="expectedVisa.evB1!=null">B-1 - Temporary visitor for business</p>\n                                <p class="casText" ng-if="expectedVisa.evB2!=null">B-2 - Temporary visitor for pleasure</p>\n                                <p class="casText" ng-if="expectedVisa.evDS!=null">Diplomatic Service</p>\n                                <p class="casText" ng-if="expectedVisa.evE2!=null">E-2 - Treaty investor, spouse and children(Employement Authorization Document - EAD)</p>\n                                <p class="casText" ng-if="expectedVisa.evEAD!=null">Employment Authorization Document (EAD)</p>\n                                <p class="casText" ng-if="expectedVisa.evF1!=null">F-1 - Academic student (Employement Authorization Document - Optional Practical Training - OPT)</p>\n                                <p class="casText" ng-if="expectedVisa.evF2!=null">F-2 - Spouse or child of F-1</p>\n                                <p class="casText" ng-if="expectedVisa.evH1!=null">H-1 - Temporary worker</p>\n                                <p class="casText" ng-if="expectedVisa.evH1b!=null">H-1B - Specialty occupation, DOD worker, etc.</p>\n                                <p class="casText" ng-if="expectedVisa.evH4!=null">H-4 - Spouse or child of H-1, H-2, H-3</p>\n                                <p class="casText" ng-if="expectedVisa.evImm!=null">Immigrant</p>\n                                <p class=" casText" ng-if="expectedVisa.H2b!=null">H-2B - Temporary worker - skilled and unskilled</p>\n                                <p class="casText" ng-if="expectedVisa.evJ1!=null">J-1 - Visa for exchange visitor</p>\n                                <p class="casText" ng-if="expectedVisa.evJ2!=null">J-2 - Spouse or child of J-1 (Employment Authorization document - EAD)</p>\n                                <p class="casText" ng-if="expectedVisa.evL2!=null">L-2 - Dependent of Intra-Company Transferee (Employment Authorization Document - EAD)</p>\n                                <p class="casText" ng-if="expectedVisa.evO1!=null">O-1 - Extraordinary ability in sciences, arts, education, business or atheletics</p>\n                                <p class="casText" ng-if="expectedVisa.evTn!=null">TN - NAFTA trade visa for Canadians and Mexicans</p>\n                                <p class="casText" ng-if="expectedVisa.evDaca!=null">DACA - Deferred Action for Childhood Arrivals</p>\n                                <p class="casText" ng-if="expectedVisa.evOth!=null">Other</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Specialities NRMP Partner is applying to:</p>\n                            </td>\n                            <td width="30%" rowspan="2">\n                                <p class="casText">{{applicationData.nrmpPartnerSpec}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">&nbsp;</td>\n                            <td width="20%">&nbsp;</td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel"><u>Self Identification:</u>\n                                </p>\n                            </td>\n                            <td width="30%">&nbsp;</td>\n                            <td width="20%">&nbsp;</td>\n                            <td width="30%">&nbsp;</td>\n                        </tr>\n                        <tr>\n                            <td width=20%>\n                                <p class="casText" ng-repeat="si in parentSis">\n                                    {{si.selfIdentification.selfIdentificationDescription}}\n                                    <span ng-if="si.selfIdentificationOther"> ({{si.selfIdentificationOther}})</span>\n                                    <br ng-if="si.childSis">&nbsp;&nbsp;\n                                    <span ng-repeat="csi in si.childSis">\n                                        {{csi.selfIdentification.selfIdentificationDescription}}{{$last ? \' \' : \', \'}}\n                                        <span ng-if="csi.selfIdentificationOther">: {{csi.selfIdentificationOther}}</span>\n                                    </span>\n                                </p>\n                                <span class="casText" ng-if="si.selfIdentificationOther">\n                                    ({{si.selfIdentificationOther}})\n                                </span>\n                            </td>\n                            <td width=30%>&nbsp;</td>\n                            <td width=20%>&nbsp;</td>\n                            <td width=30%>&nbsp;</td>\n                        </tr>\n                        <tr ng-if="applicationData.residencyType == \'DO\' || applicationData.fellowshipType == \'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">AOA ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.aoaId}}</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">AOA Match ID:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nmsId}}</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Participating in the NMS Match:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.nmsIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.nmsIndicator===\'N\'">No</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Participating as a couple in NMS:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.nmsPartnerIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.nmsPartnerIndicator===\'N\'">No</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">NMS Partner\'s Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nmsPartnerName}}</p>\n                            </td>\n                        </tr>\n                        <tr ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                            <td width="20%">\n                            </td>\n                            <td width="30%">\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Specialties NMS Partner is applying to:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.nmsPartnerSpec}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel"><u>Present Mailing Address:</u>\n                                </p>\n                                <div class="casText" ng-if="applicationData.contactAddress1">{{applicationData.contactAddress1}},\n                                </div>\n                                <div class="casText" ng-if="applicationData.contactAddress2">{{applicationData.contactAddress2}},\n                                </div>\n                                <div div class="casText" ng-if="applicationData.contactCity">\n                                    {{applicationData.contactCity}}, {{applicationData.contactStateCode}} {{applicationData.contactPostalCode}}\n                                </div>\n                                <div class="casText" ng-if="applicationData.contactCountryCode && applicationData.contactCountryCode!==\'USA\'">{{applicationData.contactCountryCode}}</div>\n                            </td>\n                            <td width="30%">\n                                <p>&nbsp;</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"><u>Permanent Mailing Address:</u>\n                                </p>\n                                <span class="casText" ng-if="applicantData.cafHomeAddr1">{{applicantData.cafHomeAddr1}},\n                                </span>\n                                <span class="casText" ng-if="applicantData.cafHomeAddr2">{{applicantData.cafHomeAddr2}},\n                                </span>\n                                <div div class="casText" ng-if="applicantData.cafHomeCity">\n                                    {{applicantData.cafHomeCity}}, {{applicantData.cafHomeStateCd}} {{applicantData.cafHomePostCd}}\n                                    <span ng-if="applicantData.cafHomeStateCd" class="casText"></span>\n                                </div>\n                                <div class="casText" ng-if="applicantData.cafHomeCountryCd && applicantData.cafHomeCountryCd!==\'USA\'">{{applicantData.cafHomeCountryCd}}</div>\n                            </td>\n                            <td width="30%">\n                                <p>&nbsp;</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Preferred Phone #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.contactPhone1}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel">Phone:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafHomePhone1}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Alternate Phone #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.contactPhone2}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Mobile #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.contactCellNumber}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Pager #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.contactBeeperNumber}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Fax #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicationData.faxNumber}}</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <div class="col-lg-12">\n                <div class="table casTable" border="0">\n                    <table class="table casTable">\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Military Service Obligation/Deferment?</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafMilServiceObligInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafMilServiceObligInd==\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafMilServiceObligInd==\'Y\'">Years Remaining:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafMilServiceYrs}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Military Branch:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafMilBranchCd==1">Army</p>\n                                <p class="casText" ng-if="applicantData.cafMilBranchCd==2">Navy</p>\n                                <p class="casText" ng-if="applicantData.cafMilBranchCd==3">Air Force</p>\n                                <p class="casText" ng-if="applicantData.cafMilBranchCd==99">Other</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel"></p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText"></p>\n                            </td>\n                            <tr>\n                                <td width="20%">\n                                    <p class="caslabel">Other Service Obligation?</p>\n                                </td>\n                                <td width="30%">\n                                    <p class="casText" ng-if="applicantData.cafOtherServiceObligInd==\'Y\'">Yes</p>\n                                    <p class="casText" ng-if="applicantData.cafOtherServiceObligInd==\'N\'">No</p>\n                                </td>\n                                <td width="20%">\n                                    <p class="caslabel" ng-if="applicantData.cafOtherServiceDesc">Description</p>\n                                </td>\n                                <td width="30%">\n                                    <p class="casText">{{applicantData.cafOtherServiceDesc}}</p>\n                                </td>\n                            </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <div class="col-lg-12">\n                <div class="table casTable" border="0">\n                    <table class="table casTable">\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Misdemeanor Conviction in the United States?</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafMisdemeanorInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafMisdemeanorInd==\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafMisdemeanorDesc">Explanation:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafMisdemeanorDesc}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Felony Conviction in the United States?</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafFelonyInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafFelonyInd==\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafFelonyDesc">Description</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafFelonyDesc}}</p>\n                            </td>\n                            <tr>\n                                <td width="20%">\n                                    <p class="caslabel">Limitations?</p>\n                                </td>\n                                <td width="30%">\n                                    <p class="casText" ng-if="applicantData.cafNoLimitationsInd==\'N\'">Yes</p>\n                                    <p class="casText" ng-if="applicantData.cafNoLimitationsInd==\'Y\'">No</p>\n                                    <p class="casText" ng-if="applicantData.cafNoLimitationsInd==\'R\'">No Response</p>\n                                </td>\n                                <td width="20%">\n                                    <p class="caslabel" ng-if="applicantData.cafNoLimitationsInd==\'N\'&&applicantData.cafLimitationsDesc">Description</p>\n                                </td>\n                                <td width="30%">\n                                    <p class="casText" ng-if="applicantData.cafNoLimitationsInd==\'N\'&&applicantData.cafLimitationsDesc">{{applicantData.cafLimitationsDesc}}</p>\n                                </td>\n                            </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/aamc-certify-and-submit-higher-education/aamc-certify-and-submit-higher-education.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-higher-education/aamc-certify-and-submit-higher-education.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Education</h2>\n    </h2>\n    <div ng-if="showEduNoneText===false">\n        <table class="table casBorderedTable">\n            <tr>\n                <th class="col-md-2 caslabel">\n                    Education\n                </th>\n                <th class="col-md-3 caslabel">\n                    Institution & Location\n                </th>\n                <th class="col-md-1 caslabel">\n                    Dates Attended\n                </th>\n                <th class="col-md-2 caslabel">\n                    Degree\n                </th>\n                <th class="col-md-2 caslabel">\n                    Degree Date\n                </th>\n                <th class="col-md-2 caslabel">\n                    Field of Study\n                </th>\n            </tr>\n            <tr ng-repeat="he in allHigherEducations|orderBy:[\'educationEndYear\',\'-educationStartMonth\']">\n                <td class="col-md-2 casText">\n                    <span ng-if="he.educationTypeIndicator==\'U\'">UnderGraduate</span>\n                    <span ng-if="he.educationTypeIndicator==\'G\'">Graduate</span>\n                    <span ng-if="he.educationTypeIndicator==\'O\'">Other</span>\n                </td>\n                <td class="col-md-3 casText">{{he.educationInstitution}} {{he.location}}</td>\n                <td class="col-md-1 casText">{{he.educationStartMonth}}/{{he.educationStartYear}} -\n                    <span ng-if="he.educationEndMonth!=null||he.educationEndYear!=null">{{he.educationEndMonth}}/{{he.educationEndYear}}</span>\n                    <span ng-if="he.educationEndMonth===null&&he.educationEndYear===null">Present</span>\n                </td>\n                <td class="col-md-2 casText">\n                    <span ng-if="he.degreeIndicator===\'Y\'">Yes, {{he.degree.displayText}}</span>\n                    <span ng-if="he.degreeIndicator===\'N\'">No</span>\n                </td>\n                <td class="col-md-2 casText">\n                    <span ng-if="he.degreeMonth!=null||he.degreeYear!=null">{{he.degreeMonth}}/{{he.degreeYear}}</span>\n                </td>\n                <td class="col-md-2 casText">{{he.educationMajor}}</td>\n            </tr>\n        </table>\n    </div>\n    <div ng-if="showEduNoneText===true">\n        <div class="panel casPanel">\n            <div class="panel-body">\n                <span class="casText">None</span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-hobbies/aamc-certify-and-submit-hobbies.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-hobbies/aamc-certify-and-submit-hobbies.html",'<div>\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Hobbies & Interests</h2>\n    </h2>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <div class="col-md-12">\n                <span class="casText" ng-if="applicantData.cafHobbiesInterestsDesc">{{applicantData.cafHobbiesInterestsDesc}}</span>\n                <span class="casText" ng-if="!applicantData.cafHobbiesInterestsDesc">None</span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-language/aamc-certify-and-submit-language.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-language/aamc-certify-and-submit-language.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Language Fluency</h2>\n    </h2>\n    <table class="table casBorderedTable">\n        <tr>\n            <td class="col-md-2">\n                <span class="casLabel">Language</span>\n            </td>\n            <td class="col-md-4">\n                <span class="casLabel">Language Proficiency</span>\n            </td>\n            <td class="col-md-6">\n                <span class="casLabel">Proficiency Description</span>\n            </td>\n        </tr>\n        <tr ng-repeat="lang in selectedLangs">\n            <td class="col-md-2 casText">{{lang.language.languageDescription}}</td>\n            <td class="col-md-4 casText">{{lang.languageProficiency.languageProficiencyDescription}}</td>\n            <td class="col-md-4 casText">{{lang.languageProficiency.lpNotes}}</td>\n        </tr>\n    </table>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-medical-edu/aamc-certify-and-submit-medical-edu.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-medical-edu/aamc-certify-and-submit-medical-edu.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Medical Education</h2>\n    </h2>\n    <div>\n        <table class="table casBorderedTable">\n            <tr>\n                <th class="col-md-6 caslabel">\n                    Institution & Location\n                </th>\n                <th class="col-md-2 caslabel">\n                    Dates Attended\n                </th>\n                <th class="col-md-2 caslabel">\n                    Degree\n                </th>\n                <th class="col-md-2 caslabel">\n                    Date of Degree\n                </th>\n            </tr>\n            <tr ng-repeat="me in allMedicalEducations|orderBy:[\'-medStartMth\',\'-medStartyr\',\'-medEndMth\',\'-medEndYr\']">\n                <td class="col-md-6 casText">\n                    <span>{{me.medInstitutionName}}, {{me.medCountryCd}}</span>\n                    <span ng-show="me.medCcId">\n                        <br/>\n                        {{ getCampusDetails(me.medCcId) }}<!--, {{me.medCountryCd}}-->\n                    </span>\n\n                </td>\n                <td class="col-md-2 casText">{{me.medStartMth}}/{{me.medStartyr}} -\n                    <span ng-if="me.medEndMth!=null||me.medEndYr!=null">{{me.medEndMth}}/{{me.medEndYr}}</span>\n                    <span ng-if="me.medEndMth==null||me.medEndYr==null">Present</span>\n                </td>\n                <td class="col-md-2 casText">\n                    <span ng-if="me.medDegreeCd">Yes, {{me.degree.displayText}}</span>\n                    <span ng-if="!me.medDegreeCd">No</span>\n                </td>\n                <td class="col-md-2 casText">\n                    <span ng-if="me.medDegreeMth!=null||me.medDegreeYr!=null">{{me.medDegreeMth}}/{{me.medDegreeYr}}</span>\n                </td>\n\n            </tr>\n        </table>\n    </div>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <table class="table casTable">\n                <tr>\n                    <td width="20%">Medical Education/Training Extended or Interrupted?</td>\n                    <td width="80%">\n                        <p class="casText" ng-if="applicantData.cafEducInterruptInd==\'Y\'">Yes</p>\n\n                        <p class="casText" ng-if="applicantData.cafEducInterruptInd==\'N\'">No\n                        </p>\n                    </td>\n                </tr>\n                <tr>\n                    <td width="20%" ng-if="applicantData.cafEducInterruptDesc">Explanation</td>\n                    <td width="80%">\n                        <p class="casText" ng-if="applicantData.cafEducInterruptDesc">\n                            {{applicantData.cafEducInterruptDesc}}</p>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-medical-education/aamc-certify-and-submit-medical-education.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-medical-education/aamc-certify-and-submit-medical-education.html",'<div>\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <div class="tab-content">\n    <div class="tab-pane in  active" id="certify">\n      <div class="panel panel-info">\n        <div class="panel-heading">\n          <h2 class="panel-title">Medical Education</h2>\n        </div>\n        <div class="panel-body">\n          <form name="medicalEducationInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="institutionName" class="col-md-6 control-label">\n                    <strong>Institution: </strong>{{institutionName}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="location" class="col-md-6 control-label" >\n                    <strong>Location: </strong>{{location}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="datesAttended" class="col-md-6 control-label" >\n                    <strong>Dates Attended: </strong>{{datesAttended}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="degree" class="col-md-6 control-label" >\n                    <strong>Degree: </strong>{{degree}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="degreeDate" class="col-md-6 control-label" >\n                    <strong>Degree: </strong>{{degreeDate}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="trainingInterrupted" class="col-md-6 control-label" >\n                    <strong>Medical Education/Training Extended or Interrupted? </strong>{{trainingInterrupted}}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-medical-licenses/aamc-certify-and-submit-medical-licenses.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-medical-licenses/aamc-certify-and-submit-medical-licenses.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Medical Licensure</h2>\n    </h2>\n    <div class="panel panel-info casPanel">\n        <div class="panel-body">\n            <div class="col-lg-12">\n                <div class="table casTable" border="0">\n                    <table class="table casTable">\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">ACLS:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.aclsIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.aclsIndicator===\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicationData.aclsExpireDt">Exp. Date:</p>\n                            </td>\n                            <td width="30%">\n                                <!-- Don\'t use amDateFormat here because this date is coming across as a simple date string -->\n                                <p class="casText">{{applicationData.aclsExpireDt|date:\'MM/dd/yyyy\'}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">PALS:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.palsIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.palsIndicator===\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicationData.palsExpireDt">Exp. Date:</p>\n                            </td>\n                            <td width="30%">\n                                <!-- Don\'t use amDateFormat here because this date is coming across as a simple date string -->\n                                <p class="casText">{{applicationData.palsExpireDt|date:\'MM/dd/yyyy\'}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">BLS:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicationData.blsIndicator===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicationData.blsIndicator===\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicationData.blsExpireDt">Exp. Date:</p>\n                            </td>\n                            <td width="30%">\n                                <!-- Don\'t use amDateFormat here because this date is coming across as a simple date string -->\n                                <p class="casText">{{applicationData.blsExpireDt|date:\'MM/dd/yyyy\'}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">DEA Reg. #:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafDeaRegNbr">{{applicantData.cafDeaRegNbr}}</p>\n                                <p class="casText" ng-if="!applicantData.cafDeaRegNbr">None</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafDeaRegExpMth&&applicantData.cafDeaRegExpYr">Exp. Date:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafDeaRegExpMth&&applicantData.cafDeaRegExpYr">{{applicantData.cafDeaRegExpMth}}\n                                    <span ng-if="applicantData.cafDeaRegExpMth&&applicantData.cafDeaRegExpYr">/</span>{{applicantData.cafDeaRegExpYr}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                &nbsp;\n                            </td>\n                            <td width="30%">\n                                &nbsp;\n\n                            </td>\n                            <td width="20%">\n                                &nbsp;\n                            </td>\n                            <td width="30%">\n                                &nbsp;\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Board Certification:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafBoardCertifiedInd===\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafBoardCertifiedInd===\'N\'">No</p>\n                            </td>\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafBoardCertifiedInd===\'Y\'">Name:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafBoardCertifiedName}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Medical Licensure</p>\n                            </td>\n                            <td width="30%"></td>\n\n                            <td width="20%"></td>\n\n                            <td width="30%">\n\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Suspended/Revoked/Voluntarily Terminated:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafLicensureProblemInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafLicensureProblemInd===\'N\'">No</p>\n                            </td>\n\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafLicensureProblemDesc">Explanation:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafLicensureProblemDesc}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Ever Named in a Malpractice Suit?</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafMalpracticeInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafMalpracticeInd===\'N\'">No</p>\n                            </td>\n\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafMalpracticeDesc">Explanation:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafMalpracticeDesc}}</p>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td width="20%">\n                                <p class="caslabel">Past History?</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText" ng-if="applicantData.cafPastHistoryInd==\'Y\'">Yes</p>\n                                <p class="casText" ng-if="applicantData.cafPastHistoryInd===\'N\'">No</p>\n                            </td>\n\n                            <td width="20%">\n                                <p class="caslabel" ng-if="applicantData.cafPastHistoryDesc">Explanation:</p>\n                            </td>\n                            <td width="30%">\n                                <p class="casText">{{applicantData.cafPastHistoryDesc}}</p>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-medical-school-honors/aamc-certify-and-submit-medical-school-honors.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-medical-school-honors/aamc-certify-and-submit-medical-school-honors.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Medical School Honors/Awards</h2>\n    </h2>\n    <div class="panel panel-info casPanel">\n        <div class="panel-body">\n            <table class="table casTable">\n                <td>\n                    <div class="casText" ng-if="applicantData.cafAwardsDesc">{{applicantData.cafAwardsDesc}}</div>\n                    <div class="casText" ng-if="!applicantData.cafAwardsDesc">None</div>\n                </td>\n            </table>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-other-awards/aamc-certify-and-submit-other-awards.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-other-awards/aamc-certify-and-submit-other-awards.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Other Awards/Accomplishments</h2>\n    </h2>\n\n    <div class="panel panel-info casPanel">\n        <div class="panel-body">\n            <div class="col-md-12">\n                <div class="casText" ng-if="applicantData.cafOtherAccomplDesc">{{applicantData.cafOtherAccomplDesc}}</div>\n                <div class="casText" ng-if="!applicantData.cafOtherAccomplDesc">None</div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-publications/aamc-certify-and-submit-publications.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-publications/aamc-certify-and-submit-publications.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Publications</h2>\n    </h2>\n    <div ng-show="!showPublicationNoneText">\n        <div class="panel panel-info casPanel">\n            <div class="panel-body">\n                <div ng-repeat="pub in AllPublications">\n                    <div class="col-md-6">\n                        <label class="caslabel"><strong>{{pub.publicationType.pubTypeDesc}}</strong></label>\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="pub.pubTypeCd===\'1\'">\n                        <!-- Don\'t use amDateFormat here because birth date is coming across as a simple date string -->\n                        {{pub.pubAuthor}}. {{pub.pubTitle}} {{pub.pubName}} {{pub.pubDt|date:\'yyyy\'}} {{pub.pubDt|date:\'MMM\'}}; {{pub.pubVol}} ({{pub.pubIssue}}): {{pub.pubPages}}. <span ng-if="pub.pubPmid!==null">Cited in PubMed; PMID:{{pub.pubPmid}}.</span> Pub Status: {{pub.pubStatus.pubStatusDesc}}.\n                    </div>\n\n                    <div class="col-md-12 caslabel" ng-if="pub.pubTypeCd===\'2\'">\n                        {{pub.pubAuthor}}. {{pub.pubTitle}} {{pub.pubName}} {{pub.pubDt|date:\'yyyy\'}} {{pub.pubDt|date:\'MMM\'}}; Pub Status: {{pub.pubStatus.pubStatusDesc}}.\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="pub.pubTypeCd===\'3\'">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy\'}}). {{pub.pubTitle}} In {{pub.pubEditor}}(Ed.) <i>{{pub.pubName}}</i> ({{pub.pubPages}}). {{pub.pubCity}}: {{pub.pubPublisher}}.\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'4\'&&(pub.pubWholeNbr||pub.pubSerialNbr))">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy\'}}). {{pub.pubTitle}} <i>{{pub.pubName}}</i> {{pub.pubVol}} ({{pub.pubIssue}} <span ng-if="pub.pubSerialNbr">Serial No. {{pub.pubSerialNbr}}</span><span ng-if="pub.pubWholeNbr">Whole No. {{pub.pubWholeNbr}}</span>)\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'4\'&&(pub.pubPartNbr))">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy\'}}). {{pub.pubTitle}} <i>{{pub.pubName}}</i> {{pub.pubVol}} ({{pub.pubIssue}} pt.{{pub.pubPartNbr}})\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'4\'&&(pub.pubPages))">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy\'}}). {{pub.pubTitle}} [Monograph] <i>{{pub.pubName}}</i> {{pub.pubVol}} ({{pub.pubIssue}}) ({{pub.pubPages}}).\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'6\'||pub.pubTypeCd===\'7\')">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy\'}}). <i>{{pub.pubTitle}}</i> <span ng-if="pub.pubTypeCd===\'6\'">Poster Presented At:</span><span ng-if="pub.pubTypeCd===\'7\'">Oral Presentation Presented At:</span> {{pub.pubCity}}, <span ng-if="pub.pubCountryCd===\'USA\'">{{pub.pubStateCd}}.</span><span ng-if="pub.pubCountryCd!==\'USA\'">{{pub.pubCountryCd}}.</span>\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'8\')">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy, MMM d\'}}). {{pub.pubTitle}} {{pub.pubUrl}}, Pub Status: {{pub.pubStatus.pubStatusDesc}}.\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'9\')">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy, MMM d\'}}). {{pub.pubTitle}} {{pub.pubUrl}}, Pub Status: {{pub.pubStatus.pubStatusDesc}}.\n                    </div>\n                    <div class="col-md-12 caslabel" ng-if="(pub.pubTypeCd===\'5\')">\n                        {{pub.pubAuthor}}. ({{pub.pubDt|date:\'yyyy, MMM d\'}}). {{pub.pubTitle}} <i>{{pub.pubName}},</i> Pub Status: {{pub.pubStatus.pubStatusDesc}}.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-show="showPublicationNoneText">\n        <div class="panel panel-info casPanel">\n            <br/>\n            <div class="casText">&nbsp;&nbsp;None</div>\n            <br/>\n        </div>\n    </div>\n\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-society-membership/aamc-certify-and-submit-society-membership.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-society-membership/aamc-certify-and-submit-society-membership.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Membership in Honorary/Professional Societies</h2>\n    </h2>\n    <div class="panel casPanel">\n        <div class="panel-body">\n            <table class="table casTable">\n                <td ng-if="applicationData.aoaCode||applicationData.sspCode||applicationData.ghhsCode||applicantData.cafMembershipsDesc">\n                    <div ng-if="applicationData.aoaCode">\n                        <p class="caslabel">Alpha Omega Alpha</p>\n                        <p class="casText" ng-if="applicationData.aoaCode===\'1\'">Member of AOA</p>\n                        <p class="casText" ng-if="applicationData.aoaCode===\'2\'">AOA Elections held in Senior Year</p>\n                        <p class="casText" ng-if="applicationData.aoaCode===\'3\'">No AOA Chapter at my School</p>\n                    </div>\n                    <br ng-if="applicationData.aoaCode">\n                    <div ng-if="applicationData.sspCode">\n                        <p class="caslabel">Sigma Sigma Phi</p>\n                        <p class="casText" ng-if="applicationData.sspCode===\'1\'">Member of SSP</p>\n                        <p class="casText" ng-if="applicationData.sspCode===\'2\'">SSP Elections held in Senior Year</p>\n                        <p class="casText" ng-if="applicationData.sspCode===\'3\'">No SSP Chapter at my School</p>\n                    </div>\n                    <br ng-if="applicationData.sspCode">\n                    <div ng-if="applicationData.ghhsCode">\n                        <p class="caslabel">Gold Humanism Honor Society</p>\n                        <p class="casText" ng-if="applicationData.ghhsCode===\'1\'">Member of GHHS</p>\n                        <p class="casText" ng-if="applicationData.ghhsCode===\'2\'">No GHHS Chapter at my School</p>\n                    </div>\n                    <br ng-if="applicationData.ghhsCode">\n                    <div class="casText">\n                        {{applicantData.cafMembershipsDesc}}\n                    </div>\n                </td>\n                <td ng-if="!applicationData.aoaCode && !applicationData.sspCode && !applicationData.ghhsCode && !applicantData.cafMembershipsDesc" class="casText">None</td>\n            </table>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-state-medical-licenses/aamc-certify-and-submit-state-medical-licenses.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-state-medical-licenses/aamc-certify-and-submit-state-medical-licenses.html",'<div>\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <div class="tab-content">\n    <div class="tab-pane in  active" id="certify">\n      <div class="panel panel-info">\n        <div class="panel-heading">\n          <h2 class="panel-title">State Medical Licenses</h2>\n        </div>\n        <div class="panel-body">\n          <form name="stateLicensureInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n            <div class="row">\n              <div class="col-md-4">\n                <div class="form-group">\n                  <label for="licenseType" class="col-md-6 control-label">\n                    <strong>Type: </strong>{{licenseType}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="stateLicenseId" class="col-md-6 control-label" >\n                    <strong>Number: </strong>{{stateLicenseId}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="licenseState" class="col-md-6 control-label" >\n                    <strong>State: </strong>{{licenseState}}\n                  </label>\n                </div>\n                <div class="form-group">\n                  <label for="expirationDate" class="col-md-6 control-label" >\n                    <strong>Exp. Date: </strong>{{expirationDate}}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("components/directives/aamc-certify-and-submit-training/aamc-certify-and-submit-training.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-certify-and-submit-training/aamc-certify-and-submit-training.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <h2 class="casHeading tab-content">\n        <h2 class="panel-title">Current/Prior Training</h2>\n    </h2>\n    <div ng-if="!showTrainingNoneText">\n        <table class="table casBorderedTable">\n            <tr>\n                <th class="col-md-3 caslabel">\n                    Institution, Location & Training Type\n                </th>\n                <th class="col-md-2 caslabel">\n                    Program Director\n                </th>\n                <th class="col-md-2 caslabel">\n                    Program Supervisor\n                </th>\n                <th class="col-md-1 caslabel">\n                    Dates Attended\n                </th>\n                <th class="col-md-2 caslabel">\n                    Month(s)\n                </th>\n                <th class="col-md-2 caslabel">\n                    Discipline\n                </th>\n            </tr>\n            <tbody ng-repeat="training in allTrainings|orderBy:[\'-resStartYr\',\'-resStartMth\',\'-resEndYr\',\'-resEndMth\']">\n                <tr>\n                    <td class="col-md-3 casText">{{training.resPgm}}\n                        <br/>\n                        <span ng-if="training.resCity!=null">{{training.resCity}},</span>\n                        <span ng-if="training.resStateCd!=null">{{training.resStateCd}},</span>\n                        <span ng-if="training.resCountryCd!=null">{{training.resCountryCd}}</span>\n                        <br/>{{training.trainingType.ptDesc}}<span ng-if="training.resChiefInd===\'Y\'">, Chief Resident</span>\n                    </td>\n                    <td class="col-md-2 casText">{{training.resPgmDirector}}</td>\n                    <td class="col-md-2 casText">{{training.resSupervisor}}</td>\n                    <td class="col-md-1 casText">{{training.resStartMth}}/{{training.resStartYr}} -\n                        <span ng-if="training.resEndMth!=null||training.resEndYr!=null">{{training.resEndMth}}/{{training.resEndYr}}</span>\n                        <span ng-if="training.resEndMth==null&&training.resEndYr==null">Present</span>\n                    </td>\n                    <td class="col-md-2 casText">{{trainingMonths(training.resStartMth,training.resStartYr,training.resEndMth,training.resEndYr)}}</td>\n                    <td class="col-md-2 casText">{{getSpecialty(training.resSpecCd)}}</td>\n                </tr>\n                <tr ng-if="training.resReasonLeftDesc">\n                    <td class="caslabel col-md-6" colspan="6">Reason For Leaving\n                        <br/>\n                        <div class="panel casPanel">\n                            <div class="panel-body casText">{{training.resReasonLeftDesc}}</div>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="panel casPanel" ng-if="showTrainingNoneText">\n        <div class="panel-body">\n            <div class="casText">None</div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/aamc-compiler/aamc-compiler.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-compiler/aamc-compiler.html","<div>\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <h3>{{name}}</h3>\n</div>\n")}]),angular.module("components/directives/aamc-dashboard-alerts-section/aamc-dashboard-alerts-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-alerts-section/aamc-dashboard-alerts-section.html",'<div ng-repeat="alert in dashboardAlertsSection.alerts">\n  <div class="alert alert-warning alert-white-alt rounded alert-dismissible ng-scope no-print" role="alert">\n    <button class="close" type="button" data-dismiss="alert">\n    </button>\n    <div class="icon">\n      <i class="fa fa-info-circle"></i>\n    </div>\n    <span ng-bind-html="alert.varValue"></span>\n  </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-application-section/aamc-dashboard-application-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-application-section/aamc-dashboard-application-section.html",'<div class="aamc-dashboard-application-section-content">\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4">\n        <div class="dashboard-panel alt-first">\n            <div class="panel-heading header">\n                <h2>Application</h2>\n            </div>\n            <div ng-if="dashboardApplicationSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardApplicationSection.isBusy && dashboardApplicationSection.postApplicationStatus[\'cafSubmitDt\'] == null">\n\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'personalInfo\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.personalInfo" href>{{ dashboardApplicationSection.applicationStatus[\'personalInfo\'][\'value\'] }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'biographic\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.biographic" href>{{ dashboardApplicationSection.applicationStatus[\'biographic\'][\'value\'] }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'general\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.general" href>{{ dashboardApplicationSection.applicationStatus[\'general\'][\'value\'] }} </a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'experience\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.experience" href>{{ dashboardApplicationSection.applicationStatus[\'experience\'][\'value\'] }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'licensure\'][\'key\']}}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.licensure">{{ dashboardApplicationSection.applicationStatus[\'licensure\'][\'value\']}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'publications\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.publications" href>{{ dashboardApplicationSection.applicationStatus[\'publications\'][\'value\'] }}</a>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div class="row">\n                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">\n                            <a class="details" href ng-click="dashboardApplicationSection.printApp()" tabindex="0">View/Print Application</a>\n                        </div>\n                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">\n                            <a class="details" href ng-click="dashboardApplicationSection.printCV()" tabindex="0">View/Print CV</a>\n                        </div>\n                    </div>\n\n                </div>\n                <div class="panel-body ng-scope" ng-if="!dashboardApplicationSection.isBusy && dashboardApplicationSection.postApplicationStatus[\'cafSubmitDt\'] != null">\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">Application submitted on</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            {{ dashboardApplicationSection.postApplicationStatus[\'cafSubmitDt\'] | amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8">\n                            <strong class="ng-binding col-title"> {{ dashboardApplicationSection.applicationStatus[\'personalInfo\'][\'key\'] }}</strong>\n                            <div>Last Updated - {{dashboardApplicationSection.applicationCheckList.personalInfoSavedDt | amDateFormat:\'MM/DD/YYYY\n                                h:mm A\'}} ET</div>\n                        </div>\n                        <div class="col-xs-4">\n                            <a ui-sref="main.personalInfo" href>Update</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding"> Application Released to Designated Dean\'s Office</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a href="" data-target="#UpdateReleaseStatusModal" data-toggle="modal">\n                            {{ dashboardApplicationSection.postApplicationStatus[\'cafReleaseInd\'] == \'Y\' ? \'Yes\' : \'No\' }}\n                        </a>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div class="row">\n                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">\n                            <a class="details" href ng-click="dashboardApplicationSection.printApp()" tabindex="0">View/Print Application</a>\n                        </div>\n                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">\n                            <a class="details" href ng-click="dashboardApplicationSection.printCV()" tabindex="0">View/Print CV</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="dashboardApplicationSection.currentSeason.seasonStatus === \'FUTURE\'">\n                <div class="panel-body ng-scope">\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'personalInfo\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.personalInfo" href>{{ dashboardApplicationSection.applicationStatus[\'personalInfo\'][\'value\'] }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'biographic\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            Not Available\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'general\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            Not Available\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'experience\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            Not Available\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'licensure\'][\'key\']}}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            Not Available\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong class="ng-binding">{{ dashboardApplicationSection.applicationStatus[\'publications\'][\'key\'] }}</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            Not Available\n                        </div>\n                    </div>\n                    <hr>\n                    <div class="row">\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                            <span class="text-danger">Note:</span>\n                        </div>\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                           <div aamc-compiler="dashboardApplicationSection.applicationFutureText"></div> \n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!--Modal-->\n    <div class="modal fade" id="UpdateReleaseStatusModal" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog modal-lg">\n            <form name="MessageForm">\n                <div class="modal-content">\n                    <div class="modal-body">\n                        Do you give your Designated Dean\'s Office permission to view your application once it has been submitted?\n                    </div>\n                    <div class="modal-footer">\n                        <button data-dismiss="modal" class="btn btn-default" ng-click="dashboardApplicationSection.updatePostApplicationStatus(\'Y\')"\n                        ng-class="{\'btn-primary active\': dashboardApplicationSection.postApplicationStatus[\'cafReleaseInd\'] == \'Y\'}">Yes</button>\n                        <button data-dismiss="modal" class="btn btn-default" ng-click="dashboardApplicationSection.updatePostApplicationStatus(\'N\')"\n                        ng-class="{\'btn-primary active\': dashboardApplicationSection.postApplicationStatus[\'cafReleaseInd\'] == null || dashboardApplicationSection.postApplicationStatus[\'cafReleaseInd\'] == \'N\'}">No</button>\n                        <button class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>')}]),angular.module("components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-detail-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-detail-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <span aamc-compiler="pendingPaymentDetailedText.displayText"></span>\n            </div>\n            <div class="modal-footer">\n                <span aamc-compiler="pendingPaymentDetailedFooterText.displayText"></span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <span aamc-compiler="pendingPaymentText.displayText"></span>\n            </div>\n            <div class="modal-footer">\n                <span aamc-compiler="pendingPaymentFooterText.displayText"></span>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-documents-section/aamc-dashboard-documents-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-documents-section/aamc-dashboard-documents-section.html",'<div class="aamc-dashboard-documents-section-content ng-isolate-scope">\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4">\n        <div class="dashboard-panel alt-first">\n            <div class="panel-heading header">\n                <h2>Documents</h2>\n            </div>\n            <div  ng-if="dashboardDocumentsSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body">\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Uploaded but Unassigned LoRs</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.letterRecommendation" href>{{dashboardDocumentsSection.unassignedLoRCount||0}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Unassigned Personal Statements</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.personalStatements" href>{{dashboardDocumentsSection.unassignedPersonalStatementsCount||0}}</a>\n                        </div>\n                    </div>\n                    <div class="row" ng-if="dashboardDocumentsSection.usmleStatus">\n                        <div class="col-xs-8 col-title">\n                            <strong>Latest USMLE Request Status</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{dashboardDocumentsSection.usmleStatus}}</a>\n                        </div>\n                    </div>\n                    <div class="row" ng-if="dashboardDocumentsSection.comlexStatus">\n                        <div class="col-xs-8 col-title">\n                            <strong>Latest COMLEX Request Status</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{dashboardDocumentsSection.comlexStatus}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>MS Transcript</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.msTranscriptLatestUploadDate ?\n                            \'Uploaded\' : \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>MSPE (Dean\'s Letter)</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.mspeLatestUploadDate ? \'Uploaded\' :\n                            \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                    <div class="row" ng-if="dashboardDocumentsSection.app.fellowshipType===\'IMG\'||dashboardDocumentsSection.app.residencyType===\'IMG\'">\n                        <div class="col-xs-8 col-title">\n                            <strong>ECFMG Status Report</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.ecfmgStatusReportUploadDate ?\n                            \'Uploaded\' : \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                    <div class="row" ng-if="dashboardDocumentsSection.ptalData && (dashboardDocumentsSection.app.fellowshipType===\'IMG\'||dashboardDocumentsSection.app.residencyType===\'IMG\')">\n                        <div class="col-xs-8 col-title">\n                            <strong>PTAL</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.ptalUploadDate ? \'Uploaded\' :\n                            \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                    <div class="row" ng-if="dashboardDocumentsSection.app.applicationType===\'F\'">\n                        <div class="col-xs-8 col-title">\n                            <strong>ABSITE</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.absiteUploadDate ? \'Uploaded\'\n                            : \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Photo</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.otherDocuments" href>{{ dashboardDocumentsSection.docStatus.photoLatestUploadDate ? \'Uploaded\'\n                            : \'Not Uploaded\' }}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="dashboardDocumentsSection.currentSeason.seasonStatus === \'FUTURE\'">\n                <div class="panel-body">\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Total LoRs</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.letterRecommendation" href>{{dashboardDocumentsSection.totalLors||0}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Confirmed LoRs</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.letterRecommendation" href>{{dashboardDocumentsSection.confirmedLorsLength||0}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Uploaded LoRs</strong>\n                        </div>\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.letterRecommendation" href>{{dashboardDocumentsSection.uploadedLorsLength||0}}</a>\n                        </div>\n                    </div>\n                    <hr>\n                    <div class="row">\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                            <span class="text-danger">Note:</span>\n                        </div>\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                           <div aamc-compiler="dashboardDocumentsSection.documentsFutureText"></div> \n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("components/directives/aamc-dashboard-email-alert-section/aamc-dashboard-email-alert-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-email-alert-section/aamc-dashboard-email-alert-section.html",'<div class="aamc-dashboard-email-alert-section-content">\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="alert alert-warning alert-white-alt rounded" ng-if="dashboardEmailAlertSection.contextEmail !== dashboardEmailAlertSection.erasEmail">\n        <button class="close" aria-hidden="true" type="button" ng-click="dashboardEmailAlertSection.ignoreEmailUpdate()">\n            <span></span>\n            <span class="sr-only"></span>\n        </button>\n        <div class="icon">\n            <i class="fa fa-info-circle"></i>\n        </div>\n        <div>\n            <p>\n                Your MyERAS application email address is not the same as your AAMC email address.\n            </p>\n\n            <p>\n                Are you sure you want to change your MyERAS email address from {{dashboardEmailAlertSection.application.email}} to {{dashboardEmailAlertSection.context.emailAddress}}?\n            </p>\n\n            <div>\n                <div class="text-center">\n                    <button class="btn btn-primary btn-large" ng-click="dashboardEmailAlertSection.showEmailModal()">Yes\n                    </button>\n                    <button class="btn btn-default btn-large" ng-click="dashboardEmailAlertSection.ignoreEmailUpdate()">No\n                    </button>\n                </div>\n\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-help-section/aamc-dashboard-help-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-help-section/aamc-dashboard-help-section.html",'<div class="aamc-dashboard-help-section-content">\n    <div class="col-md-12">\n        <div class="dashboard-panel alt-fourth" ng-if="!dashboardHelpSection.isBusy && dashboardHelpSection.currentSeason.seasonStatus !== \'FUTURE\'">\n            <span ng-bind-html="dashboardHelpSection.helpContent"></span>\n        </div>\n        <div class="dashboard-panel alt-fourth" ng-if="!dashboardHelpSection.isBusy && dashboardHelpSection.currentSeason.seasonStatus === \'FUTURE\'">\n           <div aamc-compiler="dashboardHelpSection.helpContent"></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-id-summary/aamc-dashboard-id-summary.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-id-summary/aamc-dashboard-id-summary.html",'<div class="aamc-dashboard-id-summary-content no-print">\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="col-photo pull-right" ng-if="vm.context !== undefined">\n        <div class="photo-wrapper">\n            <a href="#" class="photo pull-left" id="uploadAvatar" ng-click="vm.showUploadAvatarModal()"\n               ng-if="vm.currentApplication.statusId!== 5 &&(vm.currentApplication !== null && (vm.currentApplication[\'sourceOrganization\'] == \'DWS\' || vm.currentApplication[\'sourceOrganization\'] == \'EFDO\'|| vm.currentApplication[\'sourceOrganization\'] == \'ECFMG\') && !vm.tokenRegisterInProgress)"\n               data-target="#UploadAvatarModal" data-toggle="modal">\n                <img class="pull-right image-avatar" ng-src="{{vm.avatarDisplayArea}}" ng-show="vm.avatarDisplayArea" data-title="{{vm.photoTooltipText}}" bs-tooltip>\n                <img class="pull-right image-avatar" ng-src="images/avatar.png" ng-show="!vm.avatarDisplayArea" data-title="{{ vm.tooltipText }}" bs-tooltip>\n            </a>\n            <ul class="list-unstyled user-details pull-left">\n                <li><strong>{{vm.currentApplication.firstName}} {{vm.currentApplication.lastName}}</strong></li>\n                <li><span class="small">AAMC ID: {{vm.context.aamcId}}</span></li>\n                 <li><span class="small">Email: {{vm.currentApplication.email||vm.context.emailAddress}}</span></li>\n            </ul>\n        </div>\n    </div>\n</div>\n\n')}]),angular.module("components/directives/aamc-dashboard-id-summary/aamc-upload-avatar-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-id-summary/aamc-upload-avatar-modal.html",'<div class="modal" id="uploadAvatar" tabindex="-1" role="dialog" aria-labelledby="CSV Export Modal" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close"\n                        data-dismiss="modal" ng-click="vm.hideUploadAvatarModal()">\n                    <span aria-hidden="true">&times;</span>\n                    <span class="sr-only">Close</span>\n                </button>\n                <h4 class="modal-title" id="myModalLabel">\n                    Upload image\n                </h4>\n                <div class="tab" ng-bind-html="photoText"></div>\n            </div>\n\n            <div class="modal-body clearfix">\n                <div ng-if="vm.errorMsg !== \'\'"\n                     class="alert alert-warning alert-white-alt rounded alert-dismissible ng-scope no-print"\n                     role="alert">\n                    <button class="close" type="button" data-dismiss="alert">\n                    </button>\n                    <div class="icon">\n                        <i class="fa fa-info-circle"></i>\n                    </div>\n                    <span>{{ vm.errorMsg }}</span>\n                </div>\n                <div class=\'row\'>\n                    <div class=\'col-sm-6\'>\n                        <div class=\'form-group\'>\n                            <label>Select an image file</label>\n\n                            <div class="form-control btn btn-sm btn-primary pull-left" ng-file-select\n                                 multiple="false"\n                                 ng-accept="\'.png,.jpg\'"\n                                 ng-model="vm.selectedFile" ng-change="vm.updatePreview()" bse-input\n                                 submit-required="true">Browse\n                            </div>\n                            <div>\n                                <span class="text-danger" ng-show="vm.validationPhotoMsg">Please select a photo.</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\'col-sm-6\'>\n                        <div class=\'form-group\'>\n                            <label>Preview</label>\n                            <span ng-show="vm.isImageChanged && vm.originalImage !== \'\'"><img class="pull-right image-preview" ng-src="{{vm.previewDisplayArea}}" alt="Image Preview"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" ng-click="vm.hideUploadAvatarModal()">\n                    Close\n                </button>\n                <button class="btn btn-primary" ng-click="vm.uploadFile(this)">\n                    Upload\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n')}]),angular.module("components/directives/aamc-dashboard-payment-alerts-section/aamc-dashboard-payment-alerts-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-payment-alerts-section/aamc-dashboard-payment-alerts-section.html",'<div>\n    <div class="alert alert-warning alert-white-alt rounded alert-dismissible ng-scope no-print" role="alert"\n         ng-if="dashboardPaymentAlertsSection.showPaymentAlert && !dashboardPaymentAlertsSection.showPaymentAlertInPrograms">\n        <button class="close" type="button" data-dismiss="alert">\n            <span>&times;</span>\n            <span class="sr-only">Close</span>\n        </button>\n        <div class="icon">\n            <i class="fa fa-info-circle"></i>\n        </div>\n        <!--<span ng-bind-html="alert.varValue"></span>-->\n        <div>\n            You currently have a USMLE/COMLEX-USA transcript assigned to one or more programs to which you have applied.<br/>\n            <strong>The transcript can not be made available to the assigned program(s) until the transcript fee is paid.</strong>\n        </div>\n    </div>\n    <div class="alert alert-warning alert-white-alt rounded alert-dismissible ng-scope no-print" role="alert"\n         ng-if="dashboardPaymentAlertsSection.showMessageDiv && dashboardPaymentAlertsSection.showPaymentAlert && dashboardPaymentAlertsSection.showPaymentAlertInPrograms">\n        <button class="close" type="button" ng-click="dashboardPaymentAlertsSection.hideAlert()">\n            <span>&times;</span>\n            <span class="sr-only">Close</span>\n        </button>\n        <div class="icon">\n            <i class="fa fa-info-circle"></i>\n        </div>\n        <!--<span ng-bind-html="alert.varValue"></span>-->\n        <div>\n            You currently have a USMLE/COMLEX-USA transcript assigned to one or more programs to which you have applied.<br/>\n            <strong>The transcript can not be made available to the assigned program(s) until the transcript fee is paid.</strong>\n            </br>\n            </br>\n            Please navigate to the Dashboard and click the Transcript Payment link in the Programs section to make the\n            transcript payment.\n        </div>\n    </div>\n</div>');
}]),angular.module("components/directives/aamc-dashboard-programs-section/aamc-dashboard-programs-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-programs-section/aamc-dashboard-programs-section.html",'<div class="aamc-dashboard-programs-section-content">\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4">\n        <div class="dashboard-panel alt-first">\n            <div class="panel-heading header">\n                <h2>Programs</h2>\n            </div>\n            <div ng-if="dashboardProgramsSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardProgramsSection.isBusy">\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Saved Programs</strong>\n                        </div>\n                        <div class="col-xs-4" ng-if="dashboardProgramsSection.soapInfo.applicantSoapMatchStatus !== \'FM\' && dashboardProgramsSection.soapInfo.soapOpen">\n                            <a class="ng-binding" ui-sref="main.programHome" href>{{ dashboardProgramsSection.programsCount.savedPgmsCount }}</a>\n                        </div>\n                        <div class="col-xs-4" ng-if="dashboardProgramsSection.soapInfo.applicantSoapMatchStatus === \'FM\' && dashboardProgramsSection.soapInfo.soapOpen">\n                            <span class="ng-binding">{{ dashboardProgramsSection.programsCount.savedPgmsCount }}</span>\n                        </div>\n\n                        <div class="col-xs-4" ng-if="!dashboardProgramsSection.soapInfo.soapOpen">\n                            <a class="ng-binding" ui-sref="main.programHome" href>{{ dashboardProgramsSection.programsCount.savedPgmsCount }}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-8 col-title">\n                            <strong>Programs Applied to</strong>\n                        </div>\n\n                        <div class="col-xs-4">\n                            <a class="ng-binding" ui-sref="main.programsapplied" href>{{ dashboardProgramsSection.programsCount.appliedPgmsCount}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="dashboardProgramsSection.currentSeason.seasonStatus === \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardProgramsSection.isBusy">\n                    <div class="row">\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                            <span class="text-danger">Note:</span>\n                        </div>\n                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n                            <div aamc-compiler="dashboardProgramsSection.programsFutureText"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("components/directives/aamc-dashboard-programs-section/aamc-dashboard-soap-programs-section.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-programs-section/aamc-dashboard-soap-programs-section.html",'<div class="aamc-dashboard-programs-section-content">\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4">\n        <div class="dashboard-panel alt-first">\n            <div class="panel-heading header">\n                <h2>Programs</h2>\n            </div>\n\n            <div ng-if="dashboardProgramsSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardProgramsSection.isBusy">\n                    <div class="row">\n                        <div class="col-xs-9 col-title">\n                            <strong>Saved SOAP Programs</strong>\n                        </div>\n                        <div class="col-xs-3" ng-if="dashboardProgramsSection.soapInfo.applicantSoapMatchStatus !== \'FM\'">\n                            <a class="ng-binding" ui-sref="main.programHome" href>{{dashboardProgramsSection.programsCount.savedSoapPgmsCount}}</a>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-9 col-title">\n                            <strong>Saved Non-SOAP Programs</strong>\n                        </div>\n\n                        <div class="col-xs-3">\n                             <a class="ng-binding" ui-sref="main.programHome" href>{{dashboardProgramsSection.programsCount.savedNonSoapPgmsCount}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <hr>\n\n            <div ng-if="dashboardProgramsSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardProgramsSection.isBusy">\n                    <div class="row">\n                        <div class="col-xs-9 col-title">\n                            <strong>SOAP Programs Eligible for Reapply</strong>\n                        </div>\n\n                        <div class="col-xs-3">\n                            <a class="ng-binding" ui-sref="main.programsreApply" href>{{dashboardProgramsSection.programsCount.soapPgmsEligibleForReapplyCount}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <hr>\n\n            <div ng-if="dashboardProgramsSection.currentSeason.seasonStatus !== \'FUTURE\'">\n                <div class="panel-body ng-scope" ng-if="!dashboardProgramsSection.isBusy">\n                    <div class="row">\n                        <div class="col-xs-9 col-title">\n                            <strong>SOAP Programs Applied To</strong>\n                        </div>\n\n                        <div class="col-xs-3">\n                            <span class="text-nowrap">\n                                <a class="ng-binding" ui-sref="main.programsapplied" href>{{dashboardProgramsSection.programsCount.soapPgmsAppliedCount}} of {{dashboardProgramsSection.programsCount.maxSoapPgmsAllowedToApply}}</a>\n                            </span>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-9 col-title">\n                            <strong>Non-SOAP Programs Applied To</strong>\n                        </div>\n\n                        <div class="col-xs-3">\n                             <a class="ng-binding" ui-sref="main.programsapplied" href>{{dashboardProgramsSection.programsCount.nonSoapPgmsAppliedCount}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>')}]),angular.module("components/directives/aamc-dashboard-soap-message/aamc-dashboard-soap-message.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-soap-message/aamc-dashboard-soap-message.html",'<div class="aamc-dashboard-soap-message-content">\n    <div class="col-xs-12 col-sm-12 col-md-12"\n         ng-if="(dashboardSoapMessage.soapInfo.soapOpen && dashboardSoapMessage.soapInfo.residencyApplicant)">\n        <div ng-bind-html="dashboardSoapMessage.soapMessage"></div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-dashboard-title/aamc-dashboard-title.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-dashboard-title/aamc-dashboard-title.html",'<div class="aamc-dashboard-title-content no-print">\n    <h1>\n        <span class="title pull-left" ng-if="dashboardTitle.showToggleInd">MyERAS</span>\n        <div class="dropdown pull-left"></div>\n    </h1>\n    <div class="dropdown pull-left" area-label="Season-Application Toggle" tabindex="-1">\n        <!--Logout case-->\n        <h1 ng-if="(dashboardTitle.tracks.length === 0 && dashboardTitle.showToggleInd)">\n            <span ng-if="dashboardTitle.SEASON" class="dropdown-toggle ng-scope" href="#" data-toggle="dropdown">\n                <small>ERAS {{ dashboardTitle.SEASON }} Season</small>\n            </span>\n        </h1>\n        <!--Login case-->\n        <h1 ng-if="(dashboardTitle.tracks.length !== 0 && dashboardTitle.showToggleInd)">\n            <a class="dropdown-toggle ng-scope" href="#" data-toggle="dropdown" tabindex="0" aria-haspopup="true">\n                <small>ERAS {{ dashboardTitle.SEASON }} Season - {{\n                    dashboardTitle.dropdownTitle }} <b class="caret" ng-if="!dashboardTitle.FUTURESEASON"></b></small>\n            </a>\n            <ul class="dropdown-menu pull-right" role="menu" ng-if="!dashboardTitle.FUTURESEASON">\n                <li tabindex="-1">\n                    <a ui-sref="main.token" ng-if="dashboardTitle.dropdownNewTokenOption != \'\'"\n                       ng-click="dashboardTitle.toggleTrack(\'existing\')">{{\n                        dashboardTitle.dropdownNewTokenOption }}</a>\n                </li>\n                <li tabindex="-1">\n                    <a ui-sref="main.newdashboard" ng-if="dashboardTitle.dropdownOtherApplicationOption != \'\'"\n                       ng-click="dashboardTitle.toggleTrack(\'new\')">{{ \'ERAS\' + \' \'+dashboardTitle.SEASON +\' Season \'+ \' - \'\n                        +\n                        dashboardTitle.dropdownOtherApplicationOption }}</a>\n                </li>\n            </ul>\n        </h1>\n    </div>\n    <!-- <div ng-if="dashboardTitle.availableSeasons.length>1" class="dropdown pull-left" area-label="Season Toggle" tabindex="-1">\n        <h1 ng-if="dashboardTitle.availableSeasons.length>1">\n            <a class="dropdown-toggle ng-scope" href="#" data-toggle="dropdown" tabindex="0" aria-haspopup="true">\n                <small>Select Season - {{dashboardTitle.SEASON}} <b class="caret"></b></small>\n            </a>\n            <ul class="dropdown-menu" role="menu">\n                <li tabindex="-1" ng-repeat="seasonTitle in dashboardTitle.availableSeasons">\n                    <a ng-click="dashboardTitle.toggleSeason(seasonTitle)">{{seasonTitle.season}}</a>\n                </li>                    \n            </ul>\n       </h1>\n    </div> -->\n</div>\n')}]),angular.module("components/directives/aamc-documents-tabs/aamc-documents-tabs.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-documents-tabs/aamc-documents-tabs.html",'<div class="form-wizard clearfix">\n    <div class="row">\n        <div class="col-md-2">\n            <div class="bs-sidebar hidden-print" role="complementary" data-offset-top="-80" bs-affix>\n                <h3>Documents</h3>\n                <ul class="nav bs-sidenav">\n'+"                    <li ng-class=\"{'active':currState=='main.personalStatements','disabled':applicationStates.availableStates.indexOf('main.personalStatements') === -1}\"><a ui-sref=\"main.personalStatements\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.personalStatements') === -1?tooltipText:''}}\" bs-tooltip>Personal Statements</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.letterRecommendation','disabled':applicationStates.availableStates.indexOf('main.letterRecommendation') === -1}\"><a ui-sref=\"main.letterRecommendation\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.letterRecommendation') === -1?tooltipText:''}}\" bs-tooltip>Letters of Recommendation</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.otherDocuments', 'disabled':applicationStates.availableStates.indexOf('main.otherDocuments') === -1}\"><a ui-sref=\"main.otherDocuments\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.otherDocuments') === -1?tooltipText:''}}\" bs-tooltip>Additional Documents</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class=\"tab-content no-print no-margin col-md-10\">\n            <div class=\"ng-transclude\"></div>\n        </div>\n    </div>\n</div>\n")}]),angular.module("components/directives/aamc-documenttracking/aamc-documenttracking.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-documenttracking/aamc-documenttracking.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="panel-group" ng-model="program.panel.activePanel" data-start-collapsed="true" bs-collapse>\n        <div class="panel panel-default">\n            <div class="panel-heading panel-clickable">\n                <h4 class="panel-title">\n                    <a bs-collapse-toggle>\n                        <i class="fa fa-plus" ng-if="program.panel.activePanel!==0"></i><i class="fa fa-minus" ng-if="program.panel.activePanel===0"></i> Track Documents\n                    </a>\n                </h4>\n            </div>\n            <div class="panel-collapse" bs-collapse-target>\n                <div class="panel-body">\n                    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">\n                        <div class="page-header clearfix">\n                            <h4 class="pull-left">Documents</h4>\n                        </div>\n                        <ul class="list-unstyled list-2up">\n                            <li class="list-header">\n                                <ul class="list-inline">\n                                    <li>\n                                        <strong>Title</strong>\n                                    </li>\n                                    <li>\n                                        <strong>Status</strong>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body">\n                                <ul class="list-inline">\n                                    <li>MyERAS Application</li>\n                                    <li>\n                                        <span class="label label-success"><i class="fa fa-check"></i>\n                                            Available - {{programDet.applicationAvailableDate|amDateFormat:\'MM/DD/YYYY\'}}\n                                        </span>&nbsp;<img class="icon" src="images/circle-info.png" ng-if="programDet.applicationAvailableDate" data-placement="top" data-title="This document was made available to the program on  {{programDet.applicationAvailableDate|amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showPhoto">\n                                <ul class="list-inline">\n                                    <li>Photo</li>\n                                    <li>\n                                        <span ng-if="!programDet.photoReleaseDt " class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.photoReleaseDt" class="label label-success ng-scope"><i class="fa fa-check"></i> Available - {{programDet.photoReleaseDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.photoReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.photoReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showPs">\n                                <ul class="list-inline">\n                                    <li>Personal Statement - {{programDet.assignedPS[0].psTitle}}</li>\n                                    <li>\n                                        <span class="label label-success ng-scope"><i class="fa fa-check"></i> Available - {{programDet.personalStatementReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>&nbsp;<img class="icon" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.personalStatementReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showMsTranscript">\n                                <ul class="list-inline">\n                                    <li>MS Transcript</li>\n                                    <li>\n                                        <span ng-if="!programDet.mstReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.mstReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.mstReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.mstReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.mstReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showMspe">\n                                <ul class="list-inline">\n                                    <li>MSPE (Dean\'s Letter)</li>\n                                    <li>\n                                        <span ng-if="!programDet.mspeReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.mspeReleaseDt && !programDet.shouldShowAvailableDt && programDet.mspeReleaseDt<mspeAvailableDate && isResidency" class="label label-success"><i class="fa fa-check"></i> Available; Viewable on {{mspeAvailableDate |date:\'MMM d\'}}</span>\n                                        <span ng-if="programDet.shouldShowAvailableDt || ((programDet.mspeReleaseDt && programDet.mspeReleaseDt>mspeAvailableDate && isResidency) || (programDet.mspeReleaseDt && !isResidency))" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.mspeReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n\n                                        <img class="icon" ng-if="!programDet.shouldShowAvailableDt && programDet.mspeReleaseDt && programDet.mspeReleaseDt<mspeAvailableDate && isResidency" src="images/circle-info.png" data-placement="top" data-title="This document was made available on {{programDet.mspeReleaseDt|amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET, but is not viewable until the {{mspeAvailableDate |date:\'MMM d\'}} release." bs-tooltip>\n                                        <img class="icon" ng-if="programDet.shouldShowAvailableDt || ((programDet.mspeReleaseDt && programDet.mspeReleaseDt>mspeAvailableDate && isResidency) || (programDet.mspeReleaseDt && !isResidency))" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.mspeReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showUsmle">\n                                <ul class="list-inline">\n                                    <li>USMLE Transcript</li>\n                                    <li>\n                                        <span ng-if="!programDet.usmleReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.usmleReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.usmleReleaseDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.usmleReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.usmleReleaseDt|amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showComlex">\n                                <ul class="list-inline">\n                                    <li>COMLEX-USA Transcript</li>\n                                    <li>\n                                        <span ng-if="!programDet.comlexReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.comlexReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.comlexReleaseDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.comlexReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.comlexReleaseDt|amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showEcfmgReport">\n                                <ul class="list-inline">\n                                    <li>ECFMG Status Report</li>\n                                    <li>\n                                        <span ng-if="!programDet.ecfmgReportReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.ecfmgReportReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.ecfmgReportReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.ecfmgReportReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.ecfmgReportReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showPtal ">\n                                <ul class="list-inline">\n                                    <li>PTAL</li>\n                                    <li>\n                                        <span ng-if="!programDet.ptalReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.ptalReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.ptalReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.ptalReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.ptalReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\' }} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="list-body" ng-if="programDet.showAbsite ">\n                                <ul class="list-inline">\n                                    <li>ABSITE</li>\n                                    <li>\n                                        <span ng-if="!programDet.absiteReleaseDt" class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                        <span ng-if="programDet.absiteReleaseDt" class="label label-success"><i class="fa fa-check"></i> Available - {{programDet.absiteReleaseDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                        <img class="icon" ng-if="programDet.absiteReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{programDet.absiteReleaseDt |amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                    </li>\n                                </ul>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">\n                        <div class="page-header clearfix">\n                            <h4>Letters of Recommendation</h4>\n                        </div>\n                        <div ng-if="programDet.assignedLors.length===0">\n                            No Letters of Recommendation have been assigned. <span ng-if="((!programDet.withdrawnIndicator || programDet.withdrawnIndicator===\'N\') && (programDet.unit.unitStatusCode === \'O\' || programDet.unit.unitStatusCode === \'D\'))">Please <a ng-click="showAssignDocumentsModal(programDet)" href>assign</a> Letters of Recommendations.</span>\n                        </div>\n                        <ul class="list-unstyled" ng-if="programDet.assignedLors.length>0">\n                            <li class="list-header clearfix">\n                                <div class="pull-left col-name">\n                                    <strong>Name &amp; Specialty</strong>\n                                </div>\n                                <div class="pull-right col-status">\n                                    <strong>Status</strong>\n                                </div>\n                            </li>\n                            <li class="list-body clearfix" ng-repeat="lor in programDet.assignedLors|orderBy:[\'lorWriterName\',\'lorInstructions\']">\n                                <div class="pull-left col-name">\n                                    <ul class="list-unstyled">\n                                        <li>{{lor.lorWriterName}}</li>\n                                        <li>{{lor.lorInstructions}}</li>\n                                    </ul>\n                                </div>\n                                <div class="pull-right col-status">\n                                    <span class="label label-warning ng-scope" style="color: #555;" ng-if="!lor.lorReleaseDt">Not Uploaded</span>\n                                    <span class="label label-success ng-scope" ng-if="lor.lorReleaseDt"><i class="fa fa-check"></i> Available - {{lor.lorReleaseDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n\n                                    <img class="icon" ng-if="lor.lorReleaseDt" src="images/circle-info.png" data-placement="top" data-title="This document was made available to the program on {{lor.lorReleaseDt|amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET." bs-tooltip>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-eras-alerts/aamc-eras-alerts.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-eras-alerts/aamc-eras-alerts.html",'<div ng-show="alert.show" ng-repeat="text in alert.texts">\n    <div class="alert alert-{{alert.type}} animate-repeat alert-white-alt rounded no-print" role="alert">\n        <button type="button" class="close" ng-click="alert.show = false;">\n            <span>&times;</span>\n            <span class="sr-only">Close</span>\n        </button>\n        <div class="icon">\n            <i class="fa fa-warning"></i>\n        </div>\n        <span ng-bind-html="text"></span>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-help-modal/aamc-help-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-help-modal/aamc-help-modal.html",'<div class="aamc-help-modal-content pull-right">\n\n    <a href="" ng-click="HelpModal.getHelpContent()" data-target="#HelpPopupModal" data-toggle="modal"><span\n            class="pull-right">Help <i\n            class="fa fa-question-circle fa-1x"></i></span></a>\n\n    <div class="modal fade" id="HelpPopupModal" tabindex="-1" role="dialog" aria-hidden="true">\n        <div class="modal-dialog modal-lg">\n            <div class="modal-content">\n                <!-- Modal Header -->\n                <div class="modal-header">\n                    <button type="button" class="close"\n                            data-dismiss="modal">\n                        <span aria-hidden="true">&times;</span>\n                        <span class="sr-only">Close</span>\n                    </button>\n                    <h4 class="modal-title" id="myModalLabel">\n                        MyERAS Help\n                    </h4>\n                </div>\n\n                <!-- Modal Body -->\n                <div class="modal-body">\n                    <div ng-if="!HelpModal.isBusy">\n                        <span ng-bind-html="HelpModal.htmlContent"></span>\n                    </div>\n                    <!--<div class="spinner-container" ng-if="HelpModal.isBusy">\n                        <div class="spinner">\n                            <i class="fa fa-spinner fa-5x fa-spin"></i>\n                        </div>\n                    </div>-->\n                </div>\n\n                <!-- Modal Footer -->\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default"\n                            data-dismiss="modal">\n                        Close\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n')}]),angular.module("components/directives/aamc-non-peer-reviewed-online/aamc-non-peer-reviewed-online.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-non-peer-reviewed-online/aamc-non-peer-reviewed-online.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication9Title">\n            Online Publication Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication9Title" name="publication9Title" data-ng-model="publication.publication9Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==9"></textarea>\n            <span ng-show="!forms.publicationForm.publication9Title.$error.maxlength && !forms.publicationForm.publication9Title.$error.charSet">{{255-(publication.publication9Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication9AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication9AuthorNames" name="publication9AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication9AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==9">\n            <span class="text-danger" ng-show="forms.publicationForm.publication9AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication9Url">\n            URL: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input type="url" class="form-control" id="publication9Url" name="publication9Url" data-ng-model="publication.publication9Url" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==9" ->\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Url.$error.maxlength">This field must be within 255 Characters</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Url.$error.url">Not valid URL</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication9Date">\n            Publication Date: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input type="text" class="form-control" ng-model="publication.publication9Date" data-date-format="MM/dd/yyyy" data-min-date="01/01/1930" data-max-date="today" data-autoclose="1" id="publication9Date" name="publication9Date" ng-required="publications.pubTypeCd==9" bs-datepicker>\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Date.$dirty && forms.publicationForm.publication9Date.$invalid">Invalid Date</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Date.$dirty && forms.publicationForm.publication9Date.$error.required && !forms.publicationForm.publication9Date.$error.max">This field only accepts valid MM/DD/YYYY formatted date values.</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication9Date.$dirty && forms.publicationForm.publication9Date.$error.max">Publication date cannot exceed the current month, day, and year for this publication type</span>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/aamc-oral-presentation/aamc-oral-presentation.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-oral-presentation/aamc-oral-presentation.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication7Title">\n            Oral Presentation Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication7Title" name="publication7Title" data-ng-model="publication.publication7Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==7" required></textarea>\n            <span ng-show="!forms.publicationForm.publication7Title.$error.maxlength && !forms.publicationForm.publication7Title.$error.charSet">{{255-(publication.publication7Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication7Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication7AuthorNames">\n            Author(s)/ Presenter(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication7AuthorNames" name="publication7AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication7AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==7" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication7AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication7EventName">\n            Event / Meeting: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication7EventName" name="publication7EventName" data-ng-model="publication.publication7EventName" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==7" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication7EventName.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="country">\n            <strong>\n                Country <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-7">\n            <select id="country7" name="country7" class="carehomeselectbox form-control" ng-options="o.countryCd as o.countryDesc for o in countries" ng-model="publication.publication7CountryCd" ng-change="statesvaluesChange(publication.publication7CountryCd)" ng-required="publications.pubTypeCd==7" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <div>\n            <label class="col-md-4 control-label" id="label-publication7CountryCd">\n                <strong>\n                    State/Province <span class="text-danger" ng-show=" publication.publication7CountryCd===\'USA\' || publication.publication7CountryCd===\'CAN\'  ">*</span>\n                </strong>\n            </label>\n            <div class="col-md-6" ng-show=" publication.publication7CountryCd===\'USA\' || publication.publication7CountryCd===\'CAN\' ">\n                <select aria-labelledby="label-publication7CountryCd" id="publication7StateCd" name="publication7StateCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication7StateCd" ng-disabled="publication.publication7CountryCd==null" ng-required="states.length && publications.pubTypeCd==7" required>\n                    <option value="">--Select--</option>\n                </select>\n            </div>\n            <div class="col-md-6" ng-show=" publication.publication7CountryCd !=\'USA\' && publication.publication7CountryCd !=\'CAN\' ">\n                <select aria-labelledby="label-publication7CountryCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication7StateCd" ng-disabled="publication.publication7CountryCd==null">\n                    <option value="">Not Applicable</option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication7City">\n            City: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication7City" name="publication7City" data-ng-model="publication.publication7City" maxlength="50" placeholder="Enter City" ng-required="publications.pubTypeCd==7" required/>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication7Month">\n            <strong>\n                <span class="ml15">Month</span>\n                <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication7Month" name="publication7Month" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" data-ng-model="publication.publication7Mnth" ng-required="publications.pubTypeCd==7" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n        <label class="col-md-1 control-label" for="publication7Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication7Year" name="publication7Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication7Yr" ng-required="publications.pubTypeCd==7" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-other-articles/aamc-other-articles.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-other-articles/aamc-other-articles.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group" ng-show="publications.pubTypeCd==5">\n        <label class="col-md-4 control-label" for="publication5Title">\n            Title of Other Article: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication5Title" name="publication5Title" data-ng-model="publication.publication5Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==5" required></textarea>\n            <span ng-show="!forms.publicationForm.publication5Title.$error.maxlength && !forms.publicationForm.publication5Title.$error.charSet">{{255-(publication.publication5Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==5">\n        <label class="col-md-4 control-label" for="publication5AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication5AuthorNames" name="publication5AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication5AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==5" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==5">\n        <label class="col-md-4 control-label" for="publication5Name">\n            Publication Name: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication5Name" name="publication5Name" data-ng-model="publication.publication5Name" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==5" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5Name.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==5">\n        <label class="col-md-4 control-label" for="publication5Date">\n            Publication Date: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input type="text" class="form-control" ng-model="publication.publication5Date" data-date-format="MM/dd/yyyy" data-min-date="01/01/1930" data-max-date="today" data-autoclose="1" id="publication5Date" name="publication5Date" ng-required="publications.pubTypeCd==5" bs-datepicker>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5Date.$dirty && forms.publicationForm.publication5Date.$invalid">This field only accepts valid MM/DD/YYYY formatted date values.</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5Date.$dirty && forms.publicationForm.publication5Date.$invalid">Invalid Date</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication5Date.$dirty && forms.publicationForm.publication5Date.$error.max">Publication date cannot exceed the current month, day, and year for this publication type</span>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-peer-reviewed-book/aamc-peer-reviewed-book.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-peer-reviewed-book/aamc-peer-reviewed-book.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3Title">\n            Chapter Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication3Title" name="publication3Title" data-ng-model="publication.publication3Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==3"></textarea>\n            <span ng-show="!forms.publicationForm.publication3Title.$error.maxlength && !forms.publicationForm.publication3Title.$error.charSet">{{255-(publication.publication3Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication3Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3BookName">\n            Name of Book: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3BookName" name="publication3BookName" data-ng-model="publication.publication3BookName" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==3" />\n            <span class="text-danger" ng-show="forms.publicationForm.publication3BookName.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3AuthorNames" name="publication3AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication3AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==3" />\n            <span class="text-danger" ng-show="forms.publicationForm.publication3AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3EditorNames">\n            Editor(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3EditorNames" name="publication3EditorNames" placeholder="FirstInitial. MiddleInitial. LastName" data-ng-model="publication.publication3EditorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==3" />\n            <span class="text-danger" ng-show="forms.publicationForm.publication3EditorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3PublisherName">\n            Publisher: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3PublisherName" name="publication3PublisherName" data-ng-model="publication.publication3PublisherName" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==3" />\n            <span class="text-danger" ng-show="forms.publicationForm.publication3PublisherName.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3PageNumbers">\n            Pages: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3PageNumbers" name="publication3PageNumbers" data-ng-model="publication.publication3PageNumbers" maxlength="20" placeholder="(eg. 200-212)" ng-required="publications.pubTypeCd==3" />\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="country">\n            <strong>\n                Country <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-7">\n            <select id="country3" name="country3" class="carehomeselectbox form-control" ng-options="o.countryCd as o.countryDesc for o in countries" ng-model="publication.publication3CountryCd" ng-change="statesvaluesChange(publication.publication3CountryCd)" ng-required="publications.pubTypeCd==3" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <div>\n            <label class="col-md-4 control-label" id="label-publication3StateCd">\n                <strong>\n                    State/Province <span class="text-danger" ng-show=" publication.publication3CountryCd===\'USA\' || publication.publication3CountryCd===\'CAN\'  ">*</span>\n                </strong>\n            </label>\n            <div class="col-md-6" ng-show=" publication.publication3CountryCd===\'USA\' || publication.publication3CountryCd===\'CAN\' ">\n                <select aria-labelledby="label-publication3StateCd" name="publication3StateCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication3StateCd" ng-disabled="publication.publication3CountryCd==null" ng-required="states.length && publications.pubTypeCd==3">\n                    <option value="">--Select--</option>\n                </select>\n            </div>\n            <div class="col-md-6" ng-show=" publication.publication3CountryCd !=\'USA\' && publication.publication3CountryCd !=\'CAN\' ">\n                <select aria-labelledby="label-publication3StateCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication3StateCd" ng-disabled="publication.publication3CountryCd==null">\n                    <option value="">Not Applicable</option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==3">\n        <label class="col-md-4 control-label" for="publication3City">\n            City: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication3City" name="publication3City" data-ng-model="publication.publication3City" maxlength="50" placeholder="Enter City" ng-required="publications.pubTypeCd==3" />\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd == 3">\n        <label class="col-md-4 control-label" for="publication3Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-2">\n            <select id="publication3Year" name="publication3Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication3Yr" ng-required="publications.pubTypeCd==3">\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="hidden" ng-model="dummy" ng-required="publication.publication3Yr > currentYear">\n        <div class="col-md-8 col-md-offset-4 text-danger" ng-show="publication.publication3Yr > currentYear">Publication date cannot exceed the current year for this publication type</div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-peer-reviewed-journal/aamc-peer-reviewed-journal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-peer-reviewed-journal/aamc-peer-reviewed-journal.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication1Title">\n            Journal Article(s)/Abstract(s) Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication1Title" name="publication1Title" data-ng-model="publication.publication1Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==1" required></textarea>\n            <span ng-show="!forms.publicationForm.publication1Title.$error.maxlength && !forms.publicationForm.publication1Title.$error.charSet">{{255-(publication.publication1Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication1Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication1AuthorNames" name="publication1AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication1AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==1" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication1AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1Name">\n            Publication Name: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication1Name" name="publication1Name" data-ng-model="publication.publication1Name" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==1" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication1Name.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="pmId">PMID:</label>\n        <div class="col-md-7">\n            <input class="form-control" id="pmId" name="pmId" data-ng-model="publication.pmId" maxlength="20" placeholder="Enter Publication Med-Line Unique Identifier" />\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1Volume">\n            Volume: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication1Volume" name="publication1Volume" data-ng-model="publication.publication1Volume" maxlength="20" placeholder="Enter Publication Volume" ng-required="publications.pubTypeCd==1" required>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1IssueNumber">\n            Issue Number: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication1IssueNumber" name="publication1IssueNumber" data-ng-model="publication.publication1IssueNumber" maxlength="20" placeholder="Enter Publication Issue Number" ng-required="publications.pubTypeCd==1" required>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1PageNumbers">\n            Pages: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication1PageNumbers" name="publication1PageNumbers" data-ng-model="publication.publication1PageNumbers" maxlength="20" placeholder="(eg. 200-212)" ng-required="publications.pubTypeCd==1" required/>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==1">\n        <label class="col-md-4 control-label" for="publication1Month">\n            <strong>\n                <span class="ml15">Month</span>\n                <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication1Month" name="publication1Month" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" data-ng-model="publication.publication1Mnth" ng-required="publications.pubTypeCd==1" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n        <label class="col-md-1 control-label" for="publication1Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication1Year" name="publication1Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication1Yr" ng-required="publications.pubTypeCd==1" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="hidden" ng-model="dummy" ng-required="publication.publication1Yr > currentYear || publication.publication1Yr === currentYear && publication.publication1Mnth > currentMonth">\n        <div class="col-md-8 col-md-offset-4 text-danger" ng-show="publication.publication1Yr > currentYear || publication.publication1Yr === currentYear && publication.publication1Mnth > currentMonth">Publication date cannot exceed the current month and year for this publication type</div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-peer-reviewed-online/aamc-peer-reviewed-online.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-peer-reviewed-online/aamc-peer-reviewed-online.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication8Title">\n            Online Publication Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication8Title" name="publication8Title" data-ng-model="publication.publication8Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==8" required></textarea>\n            <span ng-show="!forms.publicationForm.publication8Title.$error.maxlength && !forms.publicationForm.publication8Title.$error.charSet">{{255-(publication.publication8Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication8AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication8AuthorNames" name="publication8AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication8AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==8" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication8Url">\n            URL: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input type="url" class="form-control" id="publication8Url" name="publication8Url" data-ng-model="publication.publication8Url" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==8" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Url.$error.maxlength">This field must be within 255 Characters</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Url.$error.url">Not valid URL</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication8Date">\n            Publication Date: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input type="text" class="form-control" id="publication8Date" data-ng-model="publication.publication8Date" data-autoclose="1" data-date-format="MM/dd/yyyy" data-min-date="01/01/1930" data-max-date="today" ng-required="publications.pubTypeCd==8" bs-datepicker>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Date.$dirty && forms.publicationForm.publication8Date.$error.required && !forms.publicationForm.publication8Date.$error.max">This field only accepts valid MM/DD/YYYY formatted date values.</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Date.$dirty && forms.publicationForm.publication8Date.$invalid">Invalid Date</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication8Date.$dirty && forms.publicationForm.publication8Date.$error.max">Publication date cannot exceed the current month, day, and year for this publication type</span>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-peer-reviewed-other/aamc-peer-reviewed-other.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-peer-reviewed-other/aamc-peer-reviewed-other.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group" ng-show="publications.pubTypeCd==2">\n        <label class="col-md-4 control-label" for="publication2Title">\n            Journal Article(s)/Abstract(s) Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication2Title" name="publication2Title" data-ng-model="publication.publication2Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==2" required></textarea>\n            <span ng-show="!forms.publicationForm.publication2Title.$error.maxlength && !forms.publicationForm.publication2Title.$error.charSet">{{255-(publication.publication2Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication2Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==2">\n        <label class="col-md-4 control-label" for="publication2AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication2AuthorNames" name="publication2AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication2AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==2" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication2AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==2">\n        <label class="col-md-4 control-label" for="publication2Name">\n            Publication Name: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication2Name" name="publication2Name" data-ng-model="publication.publication2Name" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==2" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication2Name.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==2">\n        <label class="col-md-4 control-label" for="publicationStatus">\n            <strong>\n                Publication Status: <span class="text-danger">*</span></strong>\n        </label>\n        <div class="col-md-7">\n            <select class="carehomeselectbox form-control" id="publicationStatus" name="publicationStatus" ng-options="ps.pubStatusCd as ps.pubStatusDesc for ps in publicationStatuses" data-ng-model="publication.pubStatusCd" ng-required="publications.pubTypeCd==2" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==2">\n        <label class="col-md-4 control-label" for="publication2Month">\n            <strong>\n                <span class="ml15">Month</span>\n                <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication2Month" name="publication2Month" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" data-ng-model="publication.publication2Mnth" ng-required="publications.pubTypeCd==2" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n        <label class="col-md-1 control-label" for="publication2Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication2Year" name="publication2Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication2Yr" ng-required="publications.pubTypeCd==2" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="hidden" ng-model="dummy" ng-required="publication.publication2Yr > currentYear || publication.publication2Yr === currentYear && publication.publication2Mnth > currentMonth">\n        <div class="col-md-8 col-md-offset-4 text-danger" ng-show="publication.publication2Yr > currentYear || publication.publication2Yr === currentYear && publication.publication2Mnth > currentMonth">Publication date cannot exceed the current month and year for this publication type</div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/aamc-pivio-data-import-modal/aamc-pivio-data-import-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-pivio-data-import-modal/aamc-pivio-data-import-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog">\n        <form name="PivoDataForm">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h4 class="modal-title">\n                        <strong>Pivio Data</strong>\n                    </h4>\n                </div>\n                <div class="modal-body">\n                    <p>\n                        MyERAS can pre-populate the MyERAS application with your corresponding Pivio data.\n                    </p>\n                    <p>   \n                        You will have the opportunity to review and edit all of this information at any time prior to certifying and submitting your MyERAS application.\n                    </p>\n                    <p>\n                        <strong>Would you like to import your Pivio data to the MyERAS application?</strong>\n                    </p>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary btn-purple" ng-click="pivio.importData();" ng-disabled="pivio.dataIsImporting" type="submit">Yes</button>\n                    <button class="btn btn-default" type="submit" ng-click="pivio.abortDataImport();">No</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-poster-presentation/aamc-poster-presentation.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-poster-presentation/aamc-poster-presentation.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group">\n        <label class="col-md-4 control-label" for="publication6Title">\n            Poster Presentation Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication6Title" name="publication6Title" data-ng-model="publication.publication6Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==6" required></textarea>\n            <span ng-show="!forms.publicationForm.publication6Title.$error.maxlength && !forms.publicationForm.publication6Title.$error.charSet">{{255-(publication.publication6Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication6Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication6AuthorNames">\n            Author(s)/ Presenter(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication6AuthorNames" name="publication6AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication6AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==6" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication6AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group">\n        <label class="control-label col-md-4" for="publication6EventName">\n            Event / Meeting: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication6EventName" name="publication6EventName" data-ng-model="publication.publication6EventName" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==6" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication6EventName.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==6">\n        <label class="col-md-4 control-label" for="country">\n            <strong>\n                Country <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-7">\n            <select id="country6" name="country6" class="carehomeselectbox form-control" ng-options="o.countryCd as o.countryDesc for o in countries" ng-model="publication.publication6CountryCd" ng-change="statesvaluesChange(publication.publication6CountryCd)" ng-required="publications.pubTypeCd==6" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==6">\n        <div>\n            <label class="col-md-4 control-label" id="label-publication6StateCd">\n                <strong>\n                    State/Province <span class="text-danger" ng-show=" publication.publication6CountryCd===\'USA\' || publication.publication6CountryCd===\'CAN\'  ">*</span>\n                </strong>\n            </label>\n            <div class="col-md-6" ng-show=" publication.publication6CountryCd===\'USA\' || publication.publication6CountryCd===\'CAN\' ">\n                <select aria-labelledby="label-publication6StateCd" id="publication6StateCd" name="publication6StateCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication6StateCd" ng-disabled="publication.publication6CountryCd==null" ng-required="states.length && publications.pubTypeCd==6" required>\n                    <option value="">--Select--</option>\n                </select>\n            </div>\n            <div class="col-md-6" ng-show=" publication.publication6CountryCd !=\'USA\' && publication.publication6CountryCd !=\'CAN\' ">\n                <select aria-labelledby="label-publication6StateCd" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="publication.publication6StateCd" ng-disabled="publication.publication6CountryCd==null">\n                    <option value="">Not Applicable</option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==6">\n        <label class="col-md-4 control-label" for="publication6City">\n            City: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication6City" name="publication6City" data-ng-model="publication.publication6City" maxlength="50" placeholder="Enter City" ng-required="publications.pubTypeCd==6" required/>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==6">\n        <label class="col-md-4 control-label" for="publication7Month">\n            <strong>\n                <span class="ml15">Month</span>\n                <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication7Month" name="publication6Month" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" data-ng-model="publication.publication6Mnth" ng-required="publications.pubTypeCd==6" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n        <label class="col-md-1 control-label" for="publication6Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-3">\n            <select id="publication6Year" name="publication6Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication6Yr" ng-required="publications.pubTypeCd==6" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-print-window/aamc-print-window.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-print-window/aamc-print-window.html","<div>\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <h3>{{name}}</h3>\n</div>\n")}]),angular.module("components/directives/aamc-program-details-modal/aamc-program-details-control.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-program-details-modal/aamc-program-details-control.html",'<div class="row">\n    <div ng-class="applicantType ? \'col-sm-3\' : \'col-sm-4\'">\n        <input type="checkbox" ng-model="track.selected" ng-disabled="isDisabled" ng-change="executableFunc(program, track)" ng-if="!track.preselected">\n        <span class="text-info"><i class="fa fa-check" ng-if="track.preselected" data-title="{{tooltipText}}" bs-tooltip> </i></span>{{track.trackName}}</div>\n    <div class="col-sm-2" ng-if="applicantType">{{track.nrmpPgmCd}}</div>\n    <div ng-class="applicantType ? \'col-sm-2\' : \'col-sm-3\'">{{track.trackTypeDescription}}</div>\n    <div class="col-sm-5">\n        <aamc-applied-reapplied-date track="track" programs="program"></aamc-applied-reapplied-date>\n    </div>\n    <span class="col-sm-12 text-danger" ng-if="track.trackMyerasDisplayInd===\'N\'">The "{{track.trackName}}" training is no longer being offered by "{{program.unit.unitName}}".</span>\n    <span class="col-sm-12 text-danger">{{getMessage()}}</span>\n</div>\n')}]),angular.module("components/directives/aamc-program-details-modal/aamc-program-details-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-program-details-modal/aamc-program-details-modal.html",'<div class="aamc-program-details-modal-content">\n    <div class="modal-body">\n        <div class="panel panel-info" ng-show="modalCurrentPage===1">\n            <div class="panel-body">\n                <div class="col-md-12">\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Program Name:</label>\n                        </div>\n                        <div class="col-md-9">\n                            <span class="form-control-static">{{programDet.unit.unitName}}</span>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Specialty:</label>\n                        </div>\n                        <div class="col-md-9">\n                            <span class="form-control-static">{{programDet.unit.specialty.specName}}</span>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Address:</label>\n                        </div>\n                        <div class="col-md-9">\n                            <span class="form-control-static" ng-if="programDet.unit.unitAddress1!=null">{{programDet.unit.unitAddress1}}</span>,\n                            <br>\n                            <span class="form-control-static" ng-if="programDet.unit.unitAddress2!=null">{{programDet.unit.unitAddress2}},\n                                <br>\n                            </span>\n                            <span class="form-control-static" ng-if="programDet.unit.unitAddress3!=null">{{programDet.unit.unitAddress3}},\n                                <br>\n                            </span>\n                            <span class="form-control-static" ng-if="programDet.unit.unitCity!=null">{{programDet.unit.unitCity}}</span>\n                            <span ng-if="programDet.unit.unitStateCode!=null">,\n                            {{programDet.unit.unitStateCode}}</span>\n                            <span ng-if="programDet.unit.unitPostalCode!=null">- {{programDet.unit.unitPostalCode}}</span>\n                            <br>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Web Page:</label>\n                        </div>\n                        <div class="col-md-9">\n                            <span class="form-control-static" style="word-wrap: break-word;"><a href="{{programDet.unit.unitUrl}}" target="_blank">{{programDet.unit.unitUrl}}</a>\n                            </span>\n                            <br>\n                            <span class="text-danger" ng-if="programDet.unit.unitUrl">*</span>\n                            <small ng-if="programDet.unit.unitUrl">If the URL does not work, please contact the Program,\n                                and not MyERAS\n                            </small>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Email:</label>\n                        </div>\n                        <div class="col-md-3">\n                            <span class="form-control-static"><a href="mailto:{{programDet.unit.unitEmail}}"\n                                                                 target="_blank">{{programDet.unit.unitEmail}}</a>\n                            </span>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Phone:</label>\n                        </div>\n                        <div class="col-md-3">\n                            <span class="form-control-static">{{programDet.unit.unitPhone}}</span>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Program Director:</label>\n                        </div>\n                        <div class="col-md-3">\n                            <span class="form-control-static">{{programDet.unit.unitPgmDirector}}</span>\n                        </div>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="form-control-label col-md-3">\n                            <label>Accreditation ID:</label>\n                        </div>\n                        <div class="col-md-3">\n                            <span class="form-control-static">{{programDet.accreditationId}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div ng-show="programDet.unit.unitMilitaryCode &&  programDet.unit.unitMilitaryCode !== \'\' && programDet.unit.unitMsgNumber === \'1\'">\n                    <p>\n                        <strong class="text-danger">Note</strong>: {{programNoteMilitaryText}}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default" ng-if="(modalCurrentPage===1)&&(programDet.unit.unitPgmInformation||(programDet.unit.cimSurvey.length>0&&programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\'))">\n            <div class="panel-heading">\n                <h3 class="panel-title">Additional Program Information</h3> <a ng-show="(programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')||programDet.unit.unitPgmInformation"><i\n                    class="fa fa-info-circle"></i> </a>\n            </div>\n            <div class="panel-body">\n                <div class="col-md-12" ng-if="programDet.unit.unitPgmInformation&&programDet.unit.cimSurvey.length===0">\n                    <div class="col-md-12">\n                        <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length>300 && !showMore">{{programDet.unit.unitPgmInformation|characters:300:true}}</span>\n                        <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length<300&& showMore">{{programDet.unit.unitPgmInformation}}</span>\n                        <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length>300&& showMore">{{programDet.unit.unitPgmInformation}}</span>\n                        <span ng-show="!showMore&&programDet.unit.unitPgmInformation.length>300"><a href\n                                                                                                    ng-click="showMore=!showMore">Show\n                            More</a>\n                        </span>\n                        <span ng-show="showMore&&programDet.unit.unitPgmInformation.length>300"><a href\n                                                                                                   ng-click="showMore=!showMore">Show\n                            Less</a>\n                        </span>\n                        <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length<=300 && !showMore">{{programDet.unit.unitPgmInformation}}</span>\n                    </div>\n                </div>\n                <div class="col-md-12" ng-if="!programDet.unit.unitPgmInformation && (programDet.unit.cimSurvey.length>0&&programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')">\n                    <div>\n                        <div>ERAS asked programs questions about their training sites during the ERAS registration process. Programs were not required to provide responses to these questions. Below are the responses to the question(s) this program chose to answer. We hope this information will be helpful to you during your program selection process.\n                        </div>\n                        <p ng-if="!vm.showMoreCimInfo"><a href ng-click="showMoreCim()">Show More</a>\n                        </p>\n                        <ul ng-if="vm.showMoreCimInfo">\n                            <li ng-if="(cimSurvey.cimTrainingLocation&&(cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1))">\n                                <h5>Are your training sites located (check all that apply):</h5>\n                                <div>\n                                    <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1"></i>\n                                    <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'1\')===-1"></i> At affiliate hospitals throughout the city\n                                </div>\n                                <div>\n                                    <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1"></i>\n                                    <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'2\')===-1"></i> At affiliate hospitals throughout the state\n                                </div>\n                                <div>\n                                    <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1"></i>\n                                    <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'3\')===-1"></i> At VA hospital(s)\n                                </div>\n                                <div>\n                                    <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1"></i>\n                                    <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'4\')===-1"></i> At Ambulatory (non-hospital) settings\n                                </div>\n                            </li>\n                            <li ng-if="cimSurvey.cimTrainingTime1||cimSurvey.cimTrainingTime2||cimSurvey.cimTrainingTime3||cimSurvey.cimTrainingTime4||cimSurvey.cimTrainingTimeOther">\n                                <h5>Over the course of the training, please estimate the percentage of time spent by the\n                                    resident in the following setting(s):</h5>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingTime1||0}}%</strong> Academic teaching hospital\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingTime2||0}}%</strong> Community-based hospital\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingTime3||0}}%</strong> Ambulatory (non-hospital) setting\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingTime4||0}}%</strong> Medically underserved/HSPA setting\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingTimeOther||0}}%</strong> Other (Please Specify:)\n                                </div>\n                                <div ng-show="cimSurvey.timeOtherReason">\n                                    {{cimSurvey.timeOtherReason}}\n                                </div>\n                            </li>\n                            <li ng-if="cimSurvey.cimTrainingArea1||cimSurvey.cimTrainingArea2||cimSurvey.cimTrainingArea3||cimSurvey.cimTrainingAreaOther">\n                                <h5>Please estimate the percentage of your training sites that reside in:</h5>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingArea1||0}}%</strong> An urban area\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingArea2||0}}%</strong> A suburban area\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingArea3||0}}%</strong> An rural area\n                                </div>\n                                <div>\n                                    <strong>{{cimSurvey.cimTrainingAreaOther||0}}%</strong> Other (Please Specify:)\n                                </div>\n                                <div ng-show="cimSurvey.areaOtherReason">\n                                    {{cimSurvey.areaOtherReason}}\n                                </div>\n                            </li>\n                        </ul>\n                        <p ng-if="vm.showMoreCimInfo"><a href ng-click="showMoreCim()">Show Less</a>\n                        </p>\n                    </div>\n                </div>\n                <div ng-if="programDet.unit.unitPgmInformation && (programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')">\n                    <div class="col-md-12">\n                        <div class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length>300 && !vm.showFullInfo">\n                            {{programDet.unit.unitPgmInformation|characters:300:true}}\n                        </div>\n                        <div class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length<=300 && !vm.showFullInfo">\n                            {{programDet.unit.unitPgmInformation}}\n                        </div>\n                        <div class="form-control-static" ng-if="vm.showFullInfo">\n                            {{programDet.unit.unitPgmInformation}}\n                        </div>\n                        <div ng-if="!vm.showFullInfo && ((programDet.unit.unitPgmInformation.length>300||programDet.unit.unitPgmInformation.length<=300) && (programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\'))">\n                            <a href ng-click="showFullInfoFunction()">Show More</a>\n                        </div>\n                        <div ng-if="vm.showFullInfo">\n                            <hr class="col-md-11 casHr" style="width:775px">\n                            <div class="col-md-12">\n                                <div>\n                                    <div>ERAS asked programs questions about their training sites during the ERAS registration process. Programs were not required to provide responses to these questions. Below are the responses to the question(s) this program chose to answer. We hope this information will be helpful to you during your program selection process.\n                                    </div>\n                                </div>\n                                <ul>\n                                    <li ng-if="(cimSurvey.cimTrainingLocation&&(cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1))">\n                                        <h5>Are your training sites located (check all that apply):</h5>\n                                        <div>\n                                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1"></i>\n                                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'1\')===-1"></i> At affiliate hospitals throughout the city\n                                        </div>\n                                        <div>\n                                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1"></i>\n                                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'2\')===-1"></i> At affiliate hospitals throughout the state\n                                        </div>\n                                        <div>\n                                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1"></i>\n                                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'3\')===-1"></i> At VA hospital(s)\n                                        </div>\n                                        <div>\n                                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1"></i>\n                                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'4\')===-1"></i> At Ambulatory (non-hospital) settings\n                                        </div>\n                                    </li>\n                                    <li ng-if="cimSurvey.cimTrainingTime1||cimSurvey.cimTrainingTime2||cimSurvey.cimTrainingTime3||cimSurvey.cimTrainingTime4||cimSurvey.cimTrainingTimeOther">\n                                        <h5>Over the course of the training, please estimate the percentage of time\n                                            spent by the resident in the following setting(s):</h5>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingTime1||0}}%</strong> Academic teaching hospital\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingTime2||0}}%</strong> Community-based hospital\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingTime3||0}}%</strong> Ambulatory (non-hospital) setting\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingTime4||0}}%</strong> Medically underserved/HSPA setting\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingTimeOther||0}}%</strong> Other (Please Specify:)\n                                        </div>\n                                        <div ng-show="cimSurvey.timeOtherReason">\n                                            {{cimSurvey.timeOtherReason}}\n                                        </div>\n                                    </li>\n                                    <li ng-if="cimSurvey.cimTrainingArea1||cimSurvey.cimTrainingArea2||cimSurvey.cimTrainingArea3||cimSurvey.cimTrainingAreaOther">\n                                        <h5>Please estimate the percentage of your training sites that reside in:</h5>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingArea1||0}}%</strong> An urban area\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingArea2||0}}%</strong> A suburban area\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingArea3||0}}%</strong> An rural area\n                                        </div>\n                                        <div>\n                                            <strong>{{cimSurvey.cimTrainingAreaOther||0}}%</strong> Other (Please Specify:)\n                                        </div>\n                                        <div ng-show="cimSurvey.areaOtherReason">\n                                            {{cimSurvey.areaOtherReason}}\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                            <div ng-if="vm.showFullInfo"><a href ng-click="showFullInfoFunction()">Show Less</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default" ng-if="modalCurrentPage===1">\n            <div class="panel-heading">\n                <h3 class="panel-title">Training Offered</h3>\n            </div>\n            <div class="panel-body">\n                <div>\n                    <p>\n                        <strong class="text-danger">Note</strong>: After you have applied and paid for a program, you will not be able to deselect your training offered selection(s). However, you may select and apply to additional training offered options if they are available. If you wish to not be considered for a type of training you previously selected after you have applied and paid for a program, please contact the program directly.\n                    </p>\n                </div>\n                <aamc-tracks-details>\n                <div ng-repeat="selectedTrack in programDet.unit.tracks">\n                    <span ng-if="isAppliedProgramTab">\n                       <span data-placement="top" ng-if="(programDet.selectedProgramTracks.length===1 && programDet.unit.tracks.length===1)">\n                           <aamc-program-details-control executable-func="updateProgramSelections(programDet, selectedTrack)" is-disabled="modalControl2(selectedTrack, programDet)" track="selectedTrack" program="programDet" application-data="applicationData" soap-dto="soapDto"></aamc-program-details-control>\n                       </span>\n                        <span ng-if="!(programDet.selectedProgramTracks.length===1 && programDet.unit.tracks.length===1)">\n                           <aamc-program-details-control executable-func="updateProgramSelections(programDet, selectedTrack)" is-disabled="modalControl1(selectedTrack, programDet)" track="selectedTrack" program="programDet" application-data="applicationData" soap-dto="soapDto"></aamc-program-details-control>\n                       </span>\n                    </span>\n                    <span ng-if="!isAppliedProgramTab && !isReapplyProgramTab">\n                        <aamc-program-details-control  executable-func="updateProgramSelections(programDet, selectedTrack)" is-disabled="trackDisableCheck(selectedTrack, programDet)" track="selectedTrack" program="programDet" application-data="applicationData" soap-dto="soapDto"></aamc-program-details-control>\n                    </span>\n                    <span ng-if="isReapplyProgramTab">\n                        <aamc-program-details-control  executable-func="selectTrack(programDet, selectedTrack)" is-disabled="shouldBeACondition(selectedTrack, programDet)" track="selectedTrack" program="programDet" application-data="applicationData" soap-dto="soapDto"></aamc-program-details-control>\n                    </span>\n                    <hr>\n                    <!-- <aamc-programs-applied-tracks ng-if="isReapplyProgramTab"></aamc-programs-applied-tracks> -->\n                </div>\n                </aamc-tracks-details>\n                <p></p>\n                <div ng-show="preliminaryConditions(programDet)" class="form-group">\n                    <label for="pgy2">If you are applying to the Preliminary training: You may indicate your PGY-2 Specialty interest(s) here:</label>\n                    <input class="col-md-6" name="pgy2" id="pgy2" class="form-control" type="text" ng-model="programDet.pgy2" maxlength="50" ng-maxlength="50" size="50">\n                </div>\n                <div class="clearfix"></div>\n                <div class="text-danger" ng-show="showErrors && programDet.pgy2 && (!programDet.selectedProgramTracks || !programDet.selectedProgramTracks.length)">\n                    You have provided specialty interest(s) to a Program for which you have not selected any training(s).\n                </div>\n                <div class="bg-danger training-track-not-selected" ng-show="vm.trackNotSelected">\n                    <span class="text-danger" ng-bind-html="vm.content.trackNotSelected"></span>\n                </div>\n            </div>\n        </div>\n        <div ng-show="modalCurrentPage===2">\n            <p>\n                Your Saved Programs must have at least one training selected. Would you like to remove this program from your list of saved programs?\n            </p>\n        </div>\n    </div>\n    <div class="modal-footer" ng-if="modalCurrentPage===1">\n        <button class="btn btn-default btn-small" ng-show="showCancelButton(programDet, vm)" ng-click="clearProgramTracks();">Cancel\n        </button>\n        <button class="btn btn-default btn-small" ng-show="showCloseButton(programDet, vm)" ng-click="clearProgramTracks();">Close\n        </button>\n        <button class="btn btn-primary btn-small" ng-click="showErrors=true;updateProgram(programDet)" ng-show="showSaveButton(programDet, vm);">Save\n        </button>\n    </div>\n    <div class="modal-footer" ng-if="modalCurrentPage===2">\n        <button class="btn btn-default btn-small" ng-click="backToProgramDetails();">No</button>\n        <button class="btn btn-primary btn-small" ng-click="showErrors=true;updateProgram(programDet)">Yes</button>\n    </div>\n</div>\n');
}]),angular.module("components/directives/aamc-program-optional-content/aamc-program-table-optional-content.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-program-optional-content/aamc-program-table-optional-content.html",'<div>\n	<span ng-if="conditionCheck" aamc-compiler="programMessage"></span>\n</div>')}]),angular.module("components/directives/aamc-program-search-soap/aamc-program-search-soap.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-program-search-soap/aamc-program-search-soap.html",'<div>\n    <div>\n        <div class="row">\n            <form class="simple-form form-horizontal" name="programSelectForm" novalidate role="form" ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                <div class="col-md-4">\n                    <p>\n                        <span class="text-danger">*</span>\n                        <strong>Are you searching for D.O. or M.D. programs?</strong>\n                    </p>\n                </div>\n                <div class="col-md-4">\n                    <label class="radio-inline" style="padding-top: 0px;">\n                        <input type="radio" name="programInd" ng-model="program.programInd" value="DO" required>\n                        <strong>\n                                <span>DO</span>\n                            </strong>\n                    </label>\n                    <label class="radio-inline" style="padding-top: 0px;">\n                        <input type="radio" name="programInd" ng-model="program.programInd" value="MD" required>\n                        <strong>\n                                <span>MD</span>\n                            </strong>\n                    </label>\n                </div>\n            </form>\n        </div>\n        <div class="alert alert-warning alert-white-alt rounded" role="alert" ng-if="showDOMessageText && applicationData.residencyType===\'DO\'">\n            <div class="icon"><i class="fa fa-info-circle"></i></div>\n            You are SOAP eligible and can only apply to MD programs participating in SOAP.\n        </div>\n        <div>\n            <div class="row" ng-if="showSearchControls" style="margin-top: 25px;">\n                <div class="col-md-5">\n                    <div class="block block-color success">\n                        <div class="header">\n                            <h3>Search by Accreditation ID / NRMP Program Code: </h3>\n                        </div>\n                        <div class="content">\n                            <form class="simple-form form-horizontal" name="programSearchForm" novalidate role="form" ng-submit="searchByAccreditationId()">\n                                <div class="form-group">\n                                    <span class="col-md-10">\n                                        <div class="input-group">\n                                            <input id="accreditation-search" ng-model="program.prgAccreditationId" placeholder="Enter Accreditation ID / NRMP Program Code" class="input-xlarge search-query form-control search-query" />\n                                            <span class="input-group-btn">\n                                                <button class="btn btn-primary" type="button" ng-click="searchByAccreditationId()" ng-disabled="program.prgAccreditationId.length===0||!program.prgAccreditationId">\n                                                    <span class="glyphicon glyphicon-search"></span>\n                                    </button>\n                                    </span>\n                                </div>\n                                </span>\n                        </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="col-md-1 text-center">\n                <span style="font-size: 22px; font-style: italic;">- OR -</span>\n            </div>\n            <div class="col-md-5">\n                <div class="block block-color success">\n                    <div class="header">\n                        <h3>Search by Specialty</h3>\n                    </div>\n                    <div class="content">\n                        <form class="simple-form form-horizontal">\n                            <div class="form-group">\n                                <span class="col-md-10">\n                                        <select class="carehomeselectbox form-control" name="specialityType" ng-options="s.specCd as s.specName for s in specialities | orderBy : \'specName\'" type="select" ng-model="program.specCd">\n                                            <option value="">Select a Specialty</option>\n                                        </select>\n                                    </span>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n')}]),angular.module("components/directives/aamc-program-status-code/aamc-program-status-code.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-program-status-code/aamc-program-status-code.html",'<div>\n	<span ng-if="programStatus.show" aamc-compiler="programStatus.message"></span>\n</div>')}]),angular.module("components/directives/aamc-programs-applied-tracks/aamc-programs-applied-tracks.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-programs-applied-tracks/aamc-programs-applied-tracks.html",'<div>\n    <input type="checkbox" ng-model="track.selected" ng-disabled="checkTrackEligibility(track, programDet)" ng-change="updateProgramSelections(programDet, track)" ng-if="!track.preselected">\n    <span class="text-info">\n                            <i class="fa fa-check" ng-if="track.preselected" data-title="{{getTooltipText(track, vm.soapOpen, applicantSoapEligible)}}" bs-tooltip> </i>\n                        </span> {{track.trackName}} <span ng-if="track.nrmpPgmCd">| NRMP Program Code:{{track.nrmpPgmCd}}</span>\n    <span ng-show="track.trackTypeDescription && track.trackTypeDescription!=track.trackName">\n                            ({{track.trackTypeDescription}})</span>\n    <span class="text-danger" ng-if="track.trackMyerasDisplayInd===\'N\'">\n                            <br>The "{{track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}".\n                        </span>\n    <span ng-if="track.appliedDate"><strong>Applied:</strong> {{track.appliedDate | amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET</span>\n</div>\n')}]),angular.module("components/directives/aamc-programs-applied/aamc-programs-applied.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-programs-applied/aamc-programs-applied.html",'<div>\n    <div class="panel-body table-responsive">\n        <table class="table-responsive table-bordered transcript-request" border="0">\n            <thead>\n                <tr>\n                    <th width="25%">\n                        <strong>Program Name</strong>\n                    </th>\n                    <th width="20%">\n                        <strong>Most Recent Request Date</strong>\n                    </th>\n                    <th width="10%">\n                        <strong>Transmission Status</strong>\n                    </th>\n                    <th width="20%">\n                        <strong>Most Recent Successful Request Date</strong>\n                    </th>\n                    <th width="10%">\n                        <strong>Scores Included</strong>\n                    </th>\n                    <th width="15%">\n                        <strong>Exam Date</strong>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="document in transcriptReportList">\n                    <td>{{document.unitName}}, {{document.unitStateCode}}\n                        <br>Accreditation ID :{{document.accreditationId}}\n                        <br>{{document.specialtyName}}</td>\n                    <td><span ng-if="document.requestDate">{{document.requestDate | amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET</span></td>\n                    <td><span data-placement="top" data-title="{{document.tooltipStatus}}" data-html="true" bs-tooltip>{{document.status}}</span></td>\n                    <td><span ng-if="document.lastSuccessStatusDate">{{document.lastSuccessStatusDate | amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET</span></td>\n                    <td><span ng-repeat="examScore in document.examScores">{{examScore.scoreType}}<br></span></td>\n                    <td><span ng-repeat="examScore in document.examScores">{{examScore.examDate}}<br></span></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-programs-tabs/aamc-programs-tabs.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-programs-tabs/aamc-programs-tabs.html",'<div class="form-wizard clearfix">\n    <div class="row">\n        <div class="col-md-2">\n            <div class="bs-sidebar hidden-print" role="complementary" data-offset-top="-80" bs-affix>\n                <h3>Programs</h3>\n                <ul class="nav bs-sidenav">\n'+"                    <li ng-class=\"{'active':currState=='main.programSearch','disabled':applicationStates.availableStates.indexOf('main.programSearch') === -1}\"><a ui-sref=\"main.programSearch\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.programSearch') === -1?tooltipText:''}}\" bs-tooltip>Search Programs</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.programHome','disabled':applicationStates.availableStates.indexOf('main.programHome') === -1}\"><a ui-sref=\"main.programHome\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.programHome') === -1?tooltipText:''}}\" bs-tooltip>Saved Programs</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.programsapplied','disabled':applicationStates.availableStates.indexOf('main.programsapplied') === -1}\"><a ui-sref=\"main.programsapplied\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.programsapplied') === -1?tooltipText:''}}\" bs-tooltip>Programs Applied To</a>\n                    </li>\n                    <li ng-if=\"showReApply\" ng-class=\"{'active':currState=='main.programsreApply','disabled':applicationStates.availableStates.indexOf('main.programsreApply') === -1}\"><a ui-sref=\"main.programsreApply\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.programsreApply') === -1?tooltipText:''}}\" bs-tooltip>Reapply To Programs <i class=\"fa fa-info-circle\" data-title={{reapplyMessage}} bs-tooltip></i></a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.programsWithdrawn','disabled':applicationStates.availableStates.indexOf('main.programsWithdrawn') === -1}\"><a ui-sref=\"main.programsWithdrawn\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.programsWithdrawn') === -1?tooltipText:''}}\" bs-tooltip>Programs Withdrawn From</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.invoiceHistory','disabled':applicationStates.availableStates.indexOf('main.invoiceHistory') === -1}\" ng-show=\"statusId!=3\"><a ui-sref=\"main.invoiceHistory\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.invoiceHistory') === -1?tooltipText:''}}\" bs-tooltip>Payment History</a>\n                    </li>\n                    <li ng-class=\"{'active':currState=='main.assignmentReport','disabled':applicationStates.availableStates.indexOf('main.assignmentReport') === -1}\"><a ui-sref=\"main.assignmentReport\" href role=\"tab\" data-title=\"{{applicationStates.availableStates.indexOf('main.assignmentReport') === -1?tooltipText:''}}\" bs-tooltip>Assignments Report</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class=\"tab-content no-margin col-md-10\">\n            <div class=\"ng-transclude\"></div>\n        </div>\n    </div>\n</div>\n")}]),angular.module("components/directives/aamc-scientific-monograph/aamc-scientific-monograph.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-scientific-monograph/aamc-scientific-monograph.html",'<div>\n    <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4Title">\n            Monograph Title: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <textarea class="form-control" rows="4" id="publication4Title" name="publication4Title" data-ng-model="publication.publication4Title" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==4" required></textarea>\n            <span ng-show="!forms.publicationForm.publication4Title.$error.maxlength && !forms.publicationForm.publication4Title.$error.charSet">{{255-(publication.publication4Title.length)}} characters left /255</span>\n            <span class="text-danger" ng-show="forms.publicationForm.publication4Title.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4Name">\n            Publication Name: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication4Name" name="publication4Name" data-ng-model="publication.publication4Name" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==4" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication4Name.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4Volume">\n            Volume: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication4Volume" name="publication4Volume" data-ng-model="publication.publication4Volume" maxlength="20" placeholder="Enter Publication Volume" ng-required="publications.pubTypeCd==4" required>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4IssueNumber">\n            Issue Number: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication4IssueNumber" name="publication4IssueNumber" data-ng-model="publication.publication4IssueNumber" maxlength="20" placeholder="Enter Publication Issue Number" ng-required="publications.pubTypeCd==4" required>\n        </div>\n    </div>\n    <div class="form-group form-inline text-nowrap control-label row" ng-show="publications.pubTypeCd==4">\n        <div class="col-md-2 col-md-offset-2">\n            <strong>\n                <select id="publication4IssueTypeNumber_list" name="publication4IssueTypeNumber_list" role="listbox" class="carehomeselectbox form-control " ng-model="publication.publication4IssueTypeCd" ng-required="publications.pubTypeCd==4" required noMsg>\n                    <option value="1">Page(s)</option>\n                    <option value="2">Part No.</option>\n                    <option value="3">Serial No.</option>\n                    <option value="4">Whole No.</option>\n                </select>\n            </strong>\n            <span class="text-danger control-label">*</span>\n        </div>\n        <div class="col-md-3">\n            <input class="form-control" role="combobox" aria-labelledby="Issue Type Number" aria-owns="publication4IssueTypeNumber_list" name="publication4IssueTypeNumber" data-ng-model="publication.publication4IssueTypeNumber" maxlength="20" placeholder="eg. (200-212)" ng-required="publications.pubTypeCd==4" required noMsg>\n        </div>\n    </div>\n    <div class="col-md-4 col-md-offset-2">\n        <span class="text-danger" ng-show="!formValidator.forms.forms.publicationForm.valid &amp;&amp; forms.forms.publicationForm.publication4IssueTypeNumber_list.$error.required &amp;&amp; (publications.pubTypeCd==4)" aria-hidden="true">Selection is required</span>\n    </div>\n\n    <br>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="control-label col-md-4" for="publication4AuthorNames">\n            Author(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication4AuthorNames" name="publication4AuthorNames" placeholder="LastName, FirstInitial.MiddleInitial., & LastName, FirstInitial.MiddleInitial" data-ng-model="publication.publication4AuthorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==4" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication4AuthorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4EditorNames">\n            Editor(s): <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control col-md-6" id="publication4EditorNames" name="publication4EditorNames" placeholder="FirstInitial. MiddleInitial. LastName" data-ng-model="publication.publication4EditorNames" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==4" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication4EditorNames.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd==4">\n        <label class="col-md-4 control-label" for="publication4PublisherName">\n            Publisher: <span class="text-danger">*</span></label>\n        <div class="col-md-7">\n            <input class="form-control" id="publication4PublisherName" name="publication4PublisherName" data-ng-model="publication.publication4PublisherName" maxlength="255" ng-maxlength="255" ng-required="publications.pubTypeCd==4" required/>\n            <span class="text-danger" ng-show="forms.publicationForm.publication4PublisherName.$error.maxlength">This field must be within 255 Characters</span>\n        </div>\n    </div>\n    <div class="form-group" ng-show="publications.pubTypeCd == 4">\n        <label class="col-md-4 control-label" for="publication4Year">\n            <strong>\n                Year <span class="text-danger">*</span>\n            </strong>\n        </label>\n        <div class="col-md-2">\n            <select id="publication4Year" name="publication4Year" class="carehomeselectbox form-control" ng-options="year for year in years" data-ng-model="publication.publication4Yr" ng-required="publications.pubTypeCd==4" required>\n                <option value="">--Select--</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="hidden" ng-model="dummy" ng-required="publication.publication4Yr > currentYear">\n        <div class="col-md-8 col-md-offset-4 text-danger" ng-show="publication.publication4Yr > currentYear">Publication date cannot exceed the current year for this publication type</div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-soap-programs/aamc-soap-programs.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-soap-programs/aamc-soap-programs.html",'<div class="block block-color success" ng-if="vm.applicantSoapEligible">\n    <div class="header">\n        <h3>SOAP Programs</h3></div>\n    <aamc-program-table-optional-message class="text-danger" condition-check="oneSoapProgramsNotEligible" program-message="soapMsgs.soapSelectedTrainingNotEligibleMsg"></aamc-program-table-optional-message>\n    <aamc-program-table-optional-message condition-check="myPrograms.length === 0" program-message="\'You have not saved any programs. Click Add Programs to search and add programs to your Saved Programs list.\'"></aamc-program-table-optional-message>\n    <div ng-show="myPrograms.length > 0">\n        <table class="table table-bordered layout-fixed">\n            <thead>\n                <tr>\n                    <th class="text-center col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <div>\n                            <input type="checkbox" ng-change="checkData(myPrograms)" name="applyAll" class="selectall" ng-model="vm.applyAll"/>\n                        </div>\n                    </th>\n                    <th class="col-md-3 col-lg-3 col-sm-3 col-xs-6" ng-click="changeSortCol(\'unit.unitName\')">\n                        <div class="pointer">\n                            Program Name\n                            <span ng-show="orderByCol===\'unit.unitName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                        <div class="pointer">\n                            Specialty\n                            <span ng-show="orderByCol===\'unit.specialty.specName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2" ng-click="changeSortCol(\'unit.unitCity\')">\n                        <div class="pointer">\n                            City\n                            <span ng-show="orderByCol===\'unit.unitCity\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                        <div class="pointer">\n                            State\n                            <span ng-show="orderByCol===\'unit.unitStateCode\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <div>Accreditation ID</div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        <div>Action</div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody ng-repeat="programDet in vm.selectedPrograms = (myPrograms | orderBy:[\'unit.unitStatusCode\',\'-inEligible\',\'-warning\',orderByCol]:reverseSort | filter:filteredColumns)" ng-show="myPrograms.length>0 && vm.selectedPrograms.length!==0">\n                <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible || programDet.unit.unitStatusCode!=\'O\' || programDet.soapNotEligibleForTraining}">\n                    <td class="text-center">\n                        <div>\n                            <input type="checkbox" ng-change="isSelectedProgram(vm.selectedPrograms)" ng-model="programDet.applyInd" ng-if="(!programDet.inEligible && !programDet.warning) && programDet.unit.unitStatusCode === \'O\' && !programDet.soapNotEligibleForTraining" ng-disabled="shouldDisableSelection(programDet)">\n                        </div>\n                    </td>\n                    <td class="text-wrap cell-overflow">\n                        <div>\n                            <span ng-if="programDet.inEligible||programDet.unit.unitStatusCode!==\'O\' || programDet.soapNotEligibleForTraining"><i\n                                class="fa fa-exclamation"></i>\n                                    </span><a ng-click="showProgramDetailsModal(programDet)" href>{{programDet.unit.unitName}}</a>\n                        </div>\n                    </td>\n                    <td class="text-wrap cell-overflow">\n                        <div>{{programDet.unit.specialty.specName}}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{programDet.unit.unitCity}}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{ programDet.unit.unitStateDesc }}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{programDet.accreditationId}}</div>\n                    </td>\n                    <td class="">\n                        <div class="btn-group btn-block">\n                            <button type="button" class="btn btn-default btn-sm">Select</button>\n                            <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                <span class="caret"></span>\n                                <span class="sr-only">Toggle Dropdown</span>\n                            </button>\n                            <ul class="dropdown-menu btn-block" role="menu">\n                                <li>\n                                    <a href="" ng-click="showAssignDocumentsModal(programDet)"><i class="fa fa-share"></i>\n                                Assign Documents</a>\n                                </li>\n                                <li class="divider"></li>\n                                <li>\n                                    <a href="" ng-click="showDeleteProgramModal(programDet)"><i class="fa fa-trash"></i> Delete</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n                <tr bgcolor="#dddddd" ng-class="{danger:false}" ng-if="shouldShowMsg(programDet)">\n                    <td colspan="7">\n                        <div class="text-wrap cell-overflow text-danger">{{decCycleMsg}}</div>\n                    </td>\n                </tr>\n                <tr ng-if="programDet.unit.unitStatusCode !==\'O\'" ng-class="{danger:programDet.unit.unitStatusCode!==\'O\'}">\n                    <td class="cell-overflow" colspan="7">\n                        <span class="text-danger">This program is no longer participating in ERAS. </span><span>\n                                        <a href ng-click="showDeleteProgramModal(programDet)">Click here to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                    </td>\n                </tr>\n                <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible || programDet.unit.unitStatusCode!=\'O\' || programDet.soapNotEligibleForTraining}">\n                    <td colspan="7">\n                        <aamc-tracks-details class="col-md-offset-1">\n                            <div ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                <span class="text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                <span ng-if="programDet.showDelete">\n                                        <a href ng-click="showDeleteProgramModal(programDet)">Click here to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                                <span ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            tracks offered by this program.</a>\n                                    </span>\n                                <span ng-if="!selectedTrack.track.nrmpUnfilledPositionsIndicator || selectedTrack.track.nrmpUnfilledPositionsIndicator === \'N\'  || applicationData.soapEligibilityPositionType.indexOf(selectedTrack.track.trackTypeCode)===-1">\n                                        <span class="text-danger">{{soapMsgs.trainingNotEligibleMsg}}</span>\n                                </span>\n                                <hr>\n                            </div>\n\n                        </aamc-tracks-details>\n\n                        <div class="col-md-offset-1" ng-show="preliminaryConditions(programDet)">\n                            PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n<div class="block block-color success">\n    <div class="header" ng-if="vm.applicantSoapEligible">\n        <h3>Non-SOAP Programs</h3></div>\n    <div ng-if="soapInEligiblePrograms.length === 0">\n        <aamc-program-table-optional-message condition-check="soapInEligiblePrograms.length === 0" program-message="\'You have not saved any programs\'"></aamc-program-table-optional-message>\n    </div>\n    <div ng-show="soapInEligiblePrograms && soapInEligiblePrograms.length>0">\n        <aamc-program-table-optional-message class="text-danger pull-left" condition-check="vm.applicantSoapEligible" program-message="soapMsgs.soapProgramOnlyMsg"></aamc-program-table-optional-message>\n        <table class="table table-bordered layout-fixed">\n            <thead>\n                <tr>\n                    <th class="text-center col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <div ng-if="!vm.applicantSoapEligible">\n                            <input type="checkbox" ng-change="checkData(soapInEligiblePrograms)" name="applyAll" class="selectall" ng-model="vm.applyAll" ng-show="soapInEligiblePrograms.length > 0" />\n                        </div>\n                    </th>\n                    <th class="col-md-3 col-lg-3 col-sm-3 col-xs-6" ng-click="changeSortCol(\'unit.unitName\')">\n                        <div class="pointer">\n                            Program Name\n                            <span ng-show="orderByCol===\'unit.unitName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                        <div class="pointer">\n                            Specialty\n                            <span ng-show="orderByCol===\'unit.specialty.specName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2" ng-click="changeSortCol(\'unit.unitCity\')">\n                        <div class="pointer">\n                            City\n                            <span ng-show="orderByCol===\'unit.unitCity\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                        <div class="pointer">\n                            State\n                            <span ng-show="orderByCol===\'unit.unitStateCode\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                            </span>\n                            <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                            </span>\n                            </span>\n                            <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                        </div>\n                    </th>\n                    <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <div>Accreditation ID</div>\n                    </th>\n                    <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        <div>Action</div>\n                    </th>\n                </tr>\n            </thead>\n            <tbody ng-repeat="soapInEligible in vm.selectedPrograms = (soapInEligiblePrograms | orderBy:[\'unit.unitStatusCode\',\'-inEligible\',\'-warning\',orderByCol]:reverseSort | filter:filteredColumns)" ng-show="soapInEligiblePrograms.length>0 && soapInEligiblePrograms.length!==0">\n                <tr bgcolor="#dddddd" ng-class="{danger: soapInEligible.inEligible||soapInEligible.unit.unitStatusCode!=\'O\'}">\n                    <td class="text-center">\n                        <div>\n                            <input type="checkbox" ng-change="isSelectedProgram(soapInEligiblePrograms)" ng-model="soapInEligible.applyInd" ng-if="!soapInEligible.inEligible &&soapInEligible.unit.unitStatusCode===\'O\' && (!vm.applicantSoapEligible &&!soapInEligible.unit.unfilledPositionsIndicator)" ng-disabled="shouldDisableSelection(soapInEligible)">\n                        </div>\n                    </td>\n                    <td class="text-wrap cell-overflow">\n                        <div ng-if="!vm.applicantSoapEligible && !soapInEligible.unit.unfilledPositionsIndicator">\n                            <span ng-if="soapInEligible.inEligible || soapInEligible.unit.unitStatusCode !== \'O\'"><i\n                                class="fa fa-exclamation"></i>\n                                    </span><a ng-click="showProgramDetailsModal(soapInEligible)" href>{{soapInEligible.unit.unitName}}</a>\n                        </div>\n                        <div ng-if="vm.applicantSoapEligible || soapInEligible.unit.unfilledPositionsIndicator">\n                            {{soapInEligible.unit.unitName}}\n                        </div>\n                    </td>\n                    <td class="text-wrap cell-overflow">\n                        <div>{{soapInEligible.unit.specialty.specName}}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{soapInEligible.unit.unitCity}}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{ soapInEligible.unit.unitStateDesc }}</div>\n                    </td>\n                    <td class="cell-overflow">\n                        <div>{{soapInEligible.accreditationId}}</div>\n                    </td>\n                    <td class="">\n                        <div class="btn-group btn-block">\n                            <button type="button" class="btn btn-default btn-sm">Select</button>\n                            <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                <span class="caret"></span>\n                                <span class="sr-only">Toggle Dropdown</span>\n                            </button>\n                            <ul class="dropdown-menu btn-block" role="menu">\n                                <li ng-if="!vm.applicantSoapEligible && !soapInEligible.unit.unfilledPositionsIndicator">\n                                    <a ng-click="showAssignDocumentsModal(soapInEligible)"><i class="fa fa-share"></i>\n                                    Assign Documents</a>\n                                </li>\n                                <li class="divider"></li>\n                                <li>\n                                    <a ng-click="showNonSoapDeleteProgramModal(soapInEligiblePrograms, soapInEligible)"><i class="fa fa-trash"></i> Delete</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </td>\n                </tr>\n                <tr bgcolor="#dddddd" ng-class="{danger:false}" ng-if="shouldShowMsg(soapInEligible)">\n                    <td colspan="7">\n                        <div class="text-wrap cell-overflow text-danger">{{decCycleMsg}}</div>\n                    </td>\n                </tr>\n                <tr ng-if="soapInEligible.unit.unitStatusCode !==\'O\'" ng-class="{danger:soapInEligible.unit.unitStatusCode!==\'O\'}">\n                    <td class="cell-overflow" colspan="7">\n                        <span class="text-danger">This program is no longer participating in ERAS. </span><span>\n                                        <a href ng-click="showDeleteProgramModal(soapInEligible)">Click here to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                    </td>\n                </tr>\n                <tr bgcolor="#ffffff" ng-class="{danger: soapInEligible.inEligible||soapInEligible.unit.unitStatusCode!=\'O\'}">\n                    <td colspan="7">\n                        <aamc-tracks-details class="col-md-offset-1">\n                            <div ng-repeat="selectedTrack in soapInEligible.selectedProgramTracks">\n                                <aamc-tracks-detail-rows selected-track="selectedTrack" program="soapInEligible" application-data="applicationData"></aamc-tracks-detail-rows>\n                                <span class="text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{soapInEligible.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                <span ng-if="soapInEligible.showDelete">\n                                        <a href ng-click="showDeleteProgramModal(soapInEligible)">Clickhere to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                                <span ng-if="soapInEligible.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(soapInEligible)">Click here to view other\n                                            training(s) offered by this program.</a>\n                                    </span>\n                                <hr>\n                            </div>\n                        </aamc-tracks-details>\n                        <div class="col-md-offset-1" ng-show="preliminaryConditions(soapInEligible)">\n                            PGY-2 Specialty interest(s): {{soapInEligible.pgy2}}\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n');
}]),angular.module("components/directives/aamc-soap-sticky-header-message/aamc-soap-sticky-header-message.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-soap-sticky-header-message/aamc-soap-sticky-header-message.html",'<div class="sticky">\n    <div ng-if="showNoSelectedProgram" class="text-danger showNoAssignSelections">You have not selected any programs.\n    </div>\n    <div class="h3">\n        <span ng-if="applicantEligibility" class="text-left"\n              ng-class="{\'text-danger\': maxSoapProgramApplied}"\n              aamc-compiler="appliedMessage"></span>\n        <span class="pull-right">   <!-- ng-if="state === \'main.programHome\'" -->                         \n        <span class="" ng-class="{\'text-danger\': maxSoapProgramApplied}"><strong>{{selectedProgram ? selectedProgram : 0}}</strong> Programs Selected</span>\n        <span class="">\n        <ul class="nav navbar-right">\n            <li ng-class="{\'text-danger\': maxSoapProgramApplied, \'disabled\': maxSoapProgramApplied}">\n                <a id="idac"\n                   class="btn"\n                   ng-class="{\'btn-success\': isSuccess, \'btn-danger\': isDanger}"\n                   ng-click="!maxSoapProgramApplied && executableFunc(program)"\n                   data-title="{{maxSoapProgramApplied ? compiledMessage : \'\'}}"\n                   data-placement="bottom"\n                   bs-tooltip>{{btnLabel}}<span>  <i\n                        class="fa fa-arrow-circle-right"></i></span></a>\n            </li>\n        </ul>\n        </span>\n        </span>\n    </div>\n</div>\n\n\n\n')}]),angular.module("components/directives/aamc-timeout/aamc-timeout-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-timeout/aamc-timeout-modal.html",'<div class="modal" role="dialog" aria-labelledby="Timeout Warning" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header danger">\n                <button type="button" class="close" aria-label="Close"\n                        ng-click="timeout.hideTimeoutModal()"><span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="myModalLabel">You\'ve Timed Out!</h4>\n            </div>\n            <div class="modal-body clearfix">\n                You were idle too long. Normally you\'d be logged out, but in this demo just do anything and you\'ll be\n                reset.\n            </div>\n            <div class="modal-footer">\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-timeout/aamc-timeout.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-timeout/aamc-timeout.html",'<div class="aamc-timeout-content">\n   <!-- <p>\n        &lt;!&ndash;<button type="button" class="btn btn-success" data-ng-hide="started" data-ng-click="start()">Start Timeout</button>\n        <button type="button" class="btn btn-danger" data-ng-show="started" data-ng-click="stop()">Stop Timeout</button>&ndash;&gt;\n    </p>-->\n</div>\n')}]),angular.module("components/directives/aamc-timeout/aamc-warning-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-timeout/aamc-warning-modal.html",'<div class="modal" role="dialog" aria-labelledby="Timeout Warning" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header panel-danger">\n                <button type="button" class="close" aria-label="Close"\n                        ng-click="timeout.hideWarningModal()"><span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title" id="myModalLabel">MyERAS Time-out Warning</h4>\n            </div>\n            <div class="modal-body clearfix">\n                Your MyERAS session has been inactive for 25 minutes. After 30 minutes of inactivity, the session will be closed and you will be logged out of MyERAS/AAMC.\n                </br>\n                </br>\n                We recommend that you save any work in progress. Any unsaved work will be lost.\n                </br>\n                </br>\n                <span idle-countdown="countdown" ng-init="countdown=5">\n                    <progressbar max="5" value="5" animate="false" class="progress-striped active">You will be logged out in {{ countdown * 1000 | date : \'mm:ss\'  }} minutes.</progressbar>\n                </span>\n            </div>\n            <div class="modal-footer">\n            </div>\n        </div>\n    </div>\n</div>\n\n')}]),angular.module("components/directives/aamc-tracks-details/aamc-tracks-detail-rows.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-tracks-details/aamc-tracks-detail-rows.html",'<div class="row">\n    <div ng-class="applicantType ? \'col-sm-3\' : \'col-sm-4\'">{{selectedTrack.track.trackName}}</div>\n    <div class="col-sm-2" ng-if="applicantType">{{selectedTrack.track.nrmpPgmCd}}</div>\n    <div ng-class="applicantType ? \'col-sm-2\' : \'col-sm-3\'">{{selectedTrack.track.trackType.trackTypeDescription}}</div>\n    <div class="col-sm-5">\n        <aamc-applied-reapplied-date track="selectedTrack" programs="program"></aamc-applied-reapplied-date>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-tracks-details/aamc-tracks-details.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-tracks-details/aamc-tracks-details.html",'<div class="aamc-track-details">\n    <div class="row">\n        <div ng-class="applicantType ? \'col-sm-3\' : \'col-sm-4\'"><strong>Training Name</strong></div>\n        <div class="col-sm-2" ng-if="applicantType"><strong>NRMP Program Code</strong></div>\n        <div ng-class="applicantType ? \'col-sm-2\' : \'col-sm-3\'"><strong>Training Type</strong></div>\n        <div class="col-sm-5"><strong>Applied Dates</strong></div>\n    </div>\n    <div class="" ng-transclude></div>\n</div>\n')}]),angular.module("components/directives/aamc-transcriptquestionmodal/aamc-transcriptquestionmodal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-transcriptquestionmodal/aamc-transcriptquestionmodal.html","<div>\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <h3>{{name}}</h3>\n</div>\n")}]),angular.module("components/directives/aamc-transcriptquestionmodal/transcript-question-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-transcriptquestionmodal/transcript-question-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideTranscriptQuestionModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">MSPE/MS Transcript</h4>\n            </div>\n            <div class="modal-body">\n                <span class="pull-left">\n                    <span class="text-danger">*</span> Indicates required fields</span>\n                <hr>\n                <form class="simple-form form-horizontal" name="mspeForm" novalidate role="form">\n                    <div>Will you or your medical school provide a MSPE and/or Transcript to the ERAS Documents Office at the ECFMG this season?</div>\n                    <br>\n                    <div>Select "Yes" if you meet one of the following criteria:<br>\n                        • You or your medical school will be providing the specified document to the ERAS Documents office at the ECFMG.\n                        Instructions for submission can be found here:\n                        <a href="http://www.ecfmg.org/eras/applicants-documents-index.html" target="_blank">http://www.ecfmg.org/eras/applicants-documents-index.html</a>.\n                        <br>\n                        • The ECFMG retained the specified documents and you plan to reuse them this season or you plan to request updated versions of the\n                        specified documents from your medical school.\n                    </div>\n                    <br>\n                    <div>\n                        Select "No" if you or your medical school do not plan to submit the specified documents for this season.\n                    </div>\n                    <br>\n\n                    <div>\n                        <span class="pull-left">\n                            <strong>Medical School Performance Evaluation</strong>\n                            <span class="text-danger">*</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalRelInd" ng-model="applicationDataObj.cafMspeInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalRelInd" ng-model="applicationDataObj.cafMspeInd" value="N" required>No\n                        </label>\n                    </div>\n                    <div>\n                        <span class="pull-left">\n                            <strong>Medical School Transcript</strong>\n                            <span class="text-danger">*</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalTranscriptInd" ng-model="applicationDataObj.cafTranscriptInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalTranscriptInd" ng-model="applicationDataObj.cafTranscriptInd" value="N" required>No\n                        </label>\n                    </div>\n                </form>\n                <br>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideTranscriptQuestionModal();">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="saveTranscriptQuestion(applicationDataObj);" ng-disabled="mspeForm.$invalid">Save</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/aamc-validate-form-and-focus/aamc-validate-form-and-focus.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamc-validate-form-and-focus/aamc-validate-form-and-focus.html",'<div class="aamc-validate-form-and-focus-content">\n  <!-- Place all tags inside this parent tag. DIRECTIVE TEMPLATES CAN HAVE ONLY ONE ROOT ELEMENT! -->\n  <h3>{{ validateFormAndFocus.name }}</h3>\n</div>\n')}]),angular.module("components/directives/aamcSubmissionImg/aamc-submission-img.html",[]).run(["$templateCache",function(a){a.put("components/directives/aamcSubmissionImg/aamc-submission-img.html",'<div class="panel panel-default" ng-class="{ \'panel-danger\' : ((formValidator.invalid && forms.submissionForm.cafMspeInd.$error.required) || (formValidator.invalid && forms.submissionForm.cafTranscriptInd.$error.required)) }">\n    <div class="panel-heading">\n        <h2 class="panel-title">MSPE(Dean\'s Letter)/MS Transcript</h2>\n    </div>\n    <div class="panel-body">\n        <span class="pull-left">\n            <span class="text-danger">*</span> Indicates required fields</span>\n        <hr>\n        <div>Will you or your medical school provide a MSPE and/or Transcript to the ERAS Documents Office at the ECFMG this season?</div>\n        <br>\n        <div>Select "Yes" if you meet one of the following criteria:\n            <ul>\n                <li>\n                    You or your medical school will be providing the specified document to the ERAS Documents office at the ECFMG. Instructions for submission can be found here:\n                    <a href="http://www.ecfmg.org/eras/applicants-documents-index.html" target="_blank">http://www.ecfmg.org/eras/applicants-documents-index.html</a>.</li>\n                <li>The ECFMG retained the specified documents and you plan to reuse them this season or you plan to request updated versions of the specified documents from your medical school.</li>\n            </ul>\n        </div>\n        <br>\n        <div>\n            Select "No" if you or your medical school do not plan to submit the specified documents for this season.\n        </div>\n        <br>\n\n        <div>\n            <span class="pull-left">\n                <strong>Medical School Performance Evaluation</strong>\n                <span class="text-danger">*</span>\n            </span>\n        </div>\n        <br>\n        <div class="from-group">\n            <label class="radio-inline">\n                <input type="radio" name="cafMspeInd" ng-model="cafDataObj.cafMspeInd" required value="Y">Yes\n            </label>\n            <label class="radio-inline">\n                <input type="radio" name="cafMspeInd" ng-model="cafDataObj.cafMspeInd" required value="N">No\n            </label>\n        </div>\n        <div ng-show="formValidator.invalid && forms.submissionForm.cafMspeInd.$error.required">\n            <span class="text-danger">Selection is required.</span>\n        </div>\n        <div>\n            <span class="pull-left">\n                <strong>Medical School Transcript</strong>\n                <span class="text-danger">*</span>\n            </span>\n        </div>\n        <br>\n        <div class="from-group">\n            <label class="radio-inline">\n                <input type="radio" name="cafTranscriptInd" ng-model="cafDataObj.cafTranscriptInd" value="Y" required>Yes\n            </label>\n            <label class="radio-inline">\n                <input type="radio" name="cafTranscriptInd" ng-model="cafDataObj.cafTranscriptInd" value="N" required>No\n            </label>\n        </div>\n        <div ng-show="formValidator.invalid && forms.submissionForm.cafTranscriptInd.$error.required">\n            <span class="text-danger">Selection is required.</span>\n        </div>\n        <br>\n    </div>\n</div>\n')}]),angular.module("components/directives/certify-submit-checklist/certify-submit-checklist.html",[]).run(["$templateCache",function(a){a.put("components/directives/certify-submit-checklist/certify-submit-checklist.html",'<div class="aamc-dashboard-application-section-content">\n    <div class="checklist">\n        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <h2 class="panel-title">Application Checklist</h2>\n                </div>\n                <div class="panel-body">\n                    <p>Carefully review the information below. All required fields must be completed and each section of the application must be Saved in order to certify and submit your application.\n                    </p>\n                    <hr>\n                    <ul class="list-group">\n                        <li class="list-group-item" ng-repeat="state in CertifySubmitChecklist.states">\n                            <div class="page-header clearfix">\n                                <h4 class="pull-left">{{state.stateName}} <small><span class="pull-right"><a ui-sref="{{state.uiState}}">{{state.status}}</a></span></small></h4>\n                            </div>\n                            <ul>\n                                <li class="text-info" ng-repeat="msg in state.statusMessages"><span ng-bind-html="msg.msg"></span></li>\n                            </ul>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/navbar/navbar.html",[]).run(["$templateCache",function(a){a.put("components/directives/navbar/navbar.html",'<div>\n    <ul class="nav navbar-nav horizontal" id="nav" role="menubar">\n        <li><a class="pointer" ui-sref="main.newdashboard" ng-show="showNav" role="menuitem" tabindex="0"\n               aria-haspopup="false" aria-label="Dashboard" href>Dashboard</a>\n        </li>\n        <li class="dropdown" ng-show="showNav">\n            <a class="dropdown-toggle pointer" data-toggle="dropdown" role="menuitem" tabindex="0" aria-haspopup="true"\n               title="Application" href>Application <span\n                    class="caret"></span></a>\n            <ul class="dropdown-menu" role="menu" aria-hidden="true">\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.personalInfo\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.personalInfo\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.personalInfo" href>Personal Information</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.biographic\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.biographic\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.biographic" href>Biographic Information</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.general\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.general\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.general" href>Education</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.experience\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.experience\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.experience" href>Experience</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.licensure\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.licensure\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.licensure" href>Licensure</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.publications\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.publications\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.publications" href>Publications</a>\n                </li>\n                <li ng-if="statusId==3||statusId==8" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.certify\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.certify\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.certify" href>Certify & Submit</a>\n                </li>\n            </ul>\n        </li>\n        <li class="dropdown" ng-show="showNav">\n            <a class="dropdown-toggle pointer" data-toggle="dropdown" tabindex="0" aria-haspopup="true"\n               title="Documents" href>Documents <span class="caret"></span></a>\n            <ul class="dropdown-menu" role="menu" aria-hidden="true">\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.personalStatements\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.personalStatements\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.personalStatements" href>Personal Statements</a>\n                </li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.letterRecommendation\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.letterRecommendation\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.letterRecommendation" href>Letters of Recommendation</a>\n                </li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.otherDocuments\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.otherDocuments\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.otherDocuments" href>Additional Documents</a>\n                </li>\n            </ul>\n        </li>\n        <li class="dropdown" ng-show="showNav">\n            <a class="dropdown-toggle pointer" data-toggle="dropdown" tabindex="0" aria-haspopup="true" title="Programs"\n               href>Programs<span\n                    class="caret"></span></a>\n            <ul class="dropdown-menu" role="menu" aria-hidden="true">\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.programSearch\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.programSearch\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.programSearch" href>Search Programs</a>\n                </li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.programHome\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.programHome\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.programHome" href>Saved Programs</a>\n                </li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.programsapplied\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.programsapplied\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.programsapplied" href>Programs Applied To</a>\n                </li>\n                <li role="menuitem" tabindex="-1" ng-if="showReApply"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.programsreApply\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.programsreApply\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.programsreApply" href>Reapply To Programs</a>\n                </li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.programsWithdrawn\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.programsWithdrawn\') === -1 ? tooltipText :\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.programsWithdrawn" href>Programs Withdrawn From</a>\n                </li>\n                <li ng-if="statusId!=3" role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.invoiceHistory\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.invoiceHistory\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.invoiceHistory" href>Payment History</a>\n                </li>\n                <li class="divider"></li>\n                <li role="menuitem" tabindex="-1"\n                    ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.assignmentReport\') === -1}"\n                    data-title="{{applicationStates.availableStates.indexOf(\'main.assignmentReport\') === -1?tooltipText:\'\'}}"\n                    bs-tooltip>\n                    <a ui-sref="main.assignmentReport" href>Assignments Report</a>\n                </li>\n            </ul>\n        </li>\n        <li ng-class="{\'disabled\':applicationStates.availableStates.indexOf(\'main.mail\') === -1}"\n            data-title="{{applicationStates.availableStates.indexOf(\'main.mail\') === -1?tooltipText:\'\'}}" bs-tooltip>\n            <a ui-sref="main.mail" ng-show="showNav" class="pointer" role="menuitem" tabindex="0" aria-haspopup="false"\n               aria-label="Message Center" href>Message\n                Center <span ng-if="unreadMessages > 0">({{ unreadMessages }})</span></a>\n        </li>\n    </ul>\n    <ul class="nav navbar-nav not-nav"></ul>\n</div>\n')}]),angular.module("components/directives/program-assignments-doc-side/program-assignments-doc-side.html",[]).run(["$templateCache",function(a){a.put("components/directives/program-assignments-doc-side/program-assignments-doc-side.html",'<div>\n	<div class="panel-body table-responsive" ng-if="modalCurrentPage===1">\n        <div class="text-danger pull-left" ng-if="showSoapIneligibleMessage()">{{ ineligibleSelectionMessage }}</div>\n        <table class="table-responsive table-bordered transcript-request" ng-if="showTable===true">\n            <thead>\n                <tr>\n                    <th class="text-center" width="5%">\n                        <input type="checkbox" aria-label="Select All" ng-model="assignPrograms.selectAll">\n                    </th>\n                    <th width="25%">\n                        <strong>Program Name</strong>\n                    </th>\n                    <th width="15%">\n                        <strong>Specialty</strong>\n                    </th>\n                    <th width="30%">\n                        <strong>Training Offered</strong>\n                    </th>\n                    <th width="10">\n                        <strong>Status</strong>\n                    </th>\n                    <th width="20%" ng-hide="currentDocObj.docCd===\'4\'||currentDocObj.docCd===\'5\'">\n                        <strong>{{currentDocObj.docType}} Assignment Status</strong>\n                    </th>\n                    <th width="20%" ng-show="currentDocObj.docCd===\'4\'">\n                        <strong>Assigned Personal Statement</strong>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="program in selectedPrograms" data-title="{{(getHoverText(program))}}" bs-tooltip>\n                    <td class="text-center">\n                        <input type="checkbox" aria-label="{{program.unit.unitName}} Speciality {{program.unit.specialty.specName}}" ng-model="program.selected" ng-disabled="isDisabled(program);" ng-change="updateSelectedPrograms(letter.seqNbr, currentDocObj.docCd,program)">\n                    </td>\n                    <td>{{program.unit.unitName}}</td>{{program}}\n                    <td>{{program.unit.specialty.specName}}</td>\n                    <td>\n                        <div class="col-md-12" ng-repeat="selectedTracks in program.selectedProgramTracks">\n                            {{selectedTracks.track.trackName}}\n                            <span ng-show="selectedTracks.track.trackType.trackTypeDescription">({{selectedTracks.track.trackType.trackTypeDescription}})</span>\n                            <br>\n                        </div>\n                    </td>\n                    <td>\n                        {{ convertStatus(program) }}\n                    </td>\n                    <td ng-hide="currentDocObj.docCd===\'4\'||currentDocObj.docCd===\'5\'">\n                        <span ng-if="!program.assigned">Not Assigned</span>\n                        <span ng-if="program.assigned">Assigned</span>\n                    </td>\n                    <td ng-show="currentDocObj.docCd===\'4\'">\n                        {{program.assignedPs[0].psTitle}}\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <div class="text-danger pull-right" ng-if="showNoAssingmentSelectionMessage">There are no assignment selections/changes to save.</div>\n        <div class="text-danger pull-right" ng-if="showIneligibleSelectionMessage">{{ ineligibleSelectionMessage }}</div>\n        <div ng-if="showTable===false">{{contentObj.noSelectedProgramsText}}</div>\n    </div>\n    <div ng-if="modalCurrentPage===2 && currentDocObj.docCd===docCodes.LOR.docCd">\n        <p>Are you sure you want to assign the selected LoR(s) to this program? LoR selections will be locked upon applying to a program or when assigning a LoR to a program you previously applied to. Once a LoR selection is locked you will not be able to change it. You may only change your selection prior to applying to a program. Keep in mind that you may only assign up to 4 LoRs to any given program. Click Continue to proceed with your selections or click Cancel to go back\n        </p>\n    </div>\n    <div ng-if="modalCurrentPage===2 && currentDocObj.docCd!==docCodes.LOR.docCd">\n        <div ng-if="(listPrograms.length>0 || removedPrograms.length > 0)">\n            <p>\n                <div>Are you sure you want to proceed with your selections?</div>\n\n                <br/>\n                <br/>\n\n                <div ng-if="addedPrograms.length > 0">Assign this {{currentDocObj.docType}} to the following programs:</div>\n\n                <ul>\n                    <li ng-repeat="program in listPrograms" ng-if="!program.doNotShowInList">\n                        {{program.unitName}} - {{program.specName}}\n                    </li>\n                </ul>\n\n\n                <div ng-if="removedPrograms.length > 0">Unassign this {{currentDocObj.docType}} from the following programs:</div>\n\n                <ul>\n                    <li ng-repeat="program in removedPrograms">\n                        {{program.unitName}} - {{program.specName}}\n                    </li>\n                </ul>\n\n                <div>Click <i>Confirm</i> to proceed with your selections or click <i>Cancel</i> to go back</div>\n            </p>\n        </div>\n    </div>\n    <div ng-if="modalCurrentPage===3 && currentDocObj.docCd!==docCodes.LOR.docCd">\n        <div ng-show="payUsmleFeeText != \'\'" ng-bind-html="payUsmleFeeText"></div>\n    </div>\n</div>\n')}]),angular.module("components/directives/soap-eligible-assignments-programs/soap-eligible-assignments-programs.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-assignments-programs/soap-eligible-assignments-programs.html",'<div>\n    <!-- soapPrograms Stuff -->\n    <div class="block block-color success">\n        <div class="header">\n            <h3 ng-if="eligible">SOAP Programs</h3>\n            <h3 ng-if="!eligible">Non-SOAP Programs</h3>\n        </div>\n        <div ng-if="(!programs || !programs.length) && eligible">\n            No SOAP programs have been saved/applied/reapplied to.\n        </div>\n        <div ng-if="(!programs || !programs.length) && !eligible">\n            No programs have been saved/applied to.\n        </div>\n        <div ng-if="programs.length" class="table-responsive table-striped">\n            <table class="table table-bordered layout-fixed">\n                <colgroup>\n                    <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2" ng-if="eligible">\n                        <col class="col-md-3 col-lg-3 col-sm-3 col-xs-6">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                                <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                                    <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                                        <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                </colgroup>\n                <thead>\n                    <tr>\n                        <th class="text-center" ng-if="eligible">\n                            <input type="checkbox" aria-label="Select All" ng-change="checkAllPrograms()" ng-model="assignPrograms.selectAll">\n                        </th>\n                        <th>\n                            <strong>Program Name</strong>\n                        </th>\n                        <th>\n                            <strong>Specialty</strong>\n                        </th>\n                        <th>\n                            <strong>Training Offered</strong>\n                        </th>\n                        <th>\n                            <strong>Status</strong>\n                        </th>\n                        <th ng-hide="currentDocObj.docCd===\'4\'||currentDocObj.docCd===\'5\'">\n                            <strong>{{currentDocObj.docType}} Assignment Status</strong>\n                        </th>\n                        <th ng-show="currentDocObj.docCd===\'4\'">\n                            <strong>Assigned Personal Statement</strong>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="program in programs | orderBy:\'unit.unitName\'" bs-tooltip ng-if="programs && programs.length">\n                        <td class="text-center" ng-if="eligible">\n                            <input type="checkbox" aria-label="{{program.unit.unitName}} Speciality {{program.unit.specialty.specName}}" ng-model="program.selected" ng-disabled="isDisabled(program);" ng-change="updateAssignments(doc.seqNbr, currentDocObj.docCd, program)">\n                        </td>\n                        <td>{{program.unit.unitName}}</td>\n                        <td>{{program.unit.specialty.specName}}</td>\n                        <td>\n                            <div class="col-md-12" ng-repeat="selectedTracks in program.selectedProgramTracks">\n                                {{selectedTracks.track.trackName}}\n                                <span ng-show="selectedTracks.track.trackType.trackTypeDescription">({{selectedTracks.track.trackType.trackTypeDescription}})</span>\n                                <br>\n                            </div>\n                        </td>\n                        <td>\n                            <p>{{convertStatus(program)}}</p>\n                            <p>{{getReappliedStatus(program)}}</p>\n                        </td>\n                        <td ng-hide="currentDocObj.docCd===\'4\'||currentDocObj.docCd===\'5\'">\n                            <span ng-if="!program.assigned">Not Assigned</span>\n                            <span ng-if="program.assigned">Assigned</span>\n                        </td>\n                        <td ng-show="currentDocObj.docCd===\'4\'">\n                            {{program.assignedPs[0].psTitle}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/soap-eligible-letter-assignments/soap-eligible-letter-assignments.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-letter-assignments/soap-eligible-letter-assignments.html",'<div>\n    <!-- soapPrograms Stuff -->\n    <span class="text-danger" ng-bind-html="soapAssignmentMessage"></span>\n    <div class="block block-color success">\n        <div class="header">\n            <h3>SOAP Programs</h3>\n        </div>\n        <div ng-if="!eligiblePrograms.length">\n            No SOAP programs have been saved/applied/reapplied to.\n        </div>\n        <div ng-if="eligiblePrograms.length" class="table-responsive table-striped" >\n            <table class="table-responsive table-bordered transcript-request" border="0">\n                <thead>\n                    <tr>\n                        <th class="col-md-1"><strong>Assign</strong>\n                        </th>\n                        <th class="col-md-3">\n                            <strong>Program Name</strong>\n                        </th>\n                        <th class="col-md-2">\n                            <strong>Specialty</strong>\n                        </th>\n                        <th class="col-md-3">\n                            <strong>Training(s) Selected</strong>\n                        </th>\n                        <th width="col-md-3">\n                            <strong>Status</strong>\n                        </th>\n                        <th class="col-md-1">\n                            <strong>LoRs Assigned</strong>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="program in eligiblePrograms|orderBy:\'unit.unitName\'" bs-tooltip data-title="{{!program.programEligibleForReapply ? program.tooltip.title : \'\'}}" ng-if="eligiblePrograms && eligiblePrograms.length">\n                        <td>\n                            <input type="checkbox" ng-model="program.selected" ng-change="enableAssign(); updateSelectedPrograms(letter.seqNbr,program.selected,program); populateAssignments(letter,program,program.selected);" ng-disabled="isDisabled(program)">\n                            <span></span>\n                        </td>\n                        <td>{{program.unit.unitName}}</td>\n                        <td>{{program.unit.specialty.specName}}</td>\n                        <td>\n                            <div class="col-md-12" ng-repeat="selectedTracks in program.selectedProgramTracks">\n                                {{selectedTracks.track.trackName}}\n                                <span ng-show="selectedTracks.track.trackType.trackTypeDescription">({{selectedTracks.track.trackType.trackTypeDescription}})</span>\n                                <br ng-if="program.selectedProgramTracks.length>1">\n                            </div>\n                        </td>\n                        <td>\n                            <p>{{ convertStatus(program) }}</p>\n                            <p>{{getReappliedStatus(program)}}</p>\n                        </td>\n                        <td><a ng-click="showLorModal(program)" href>{{program.numAssignedDocs}}</a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="block block-color success">\n        <div class="header">\n            <h3>Non-SOAP Programs</h3>\n        </div>\n        <div ng-if="!ineligiblePrograms || !ineligiblePrograms.length">\n            No programs have been saved/applied to.\n        </div>\n        <div ng-if="ineligiblePrograms.length" class="table-responsive table-striped">\n            <table class="table-responsive table-bordered transcript-request" border="0">\n                <thead>\n                    <tr>\n                        <th class="col-md-3">\n                            <strong>Program Name</strong>\n                        </th>\n                        <th class="col-md-3">\n                            <strong>Specialty</strong>\n                        </th>\n                        <th class="col-md-3">\n                            <strong>Training(s) Selected</strong>\n                        </th>\n                        <th width="col-md-3">\n                            <strong>Status</strong>\n                        </th>\n                        <th class="col-md-1">\n                            <strong>LoRs Assigned</strong>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="program in ineligiblePrograms|orderBy:\'unit.unitName\'" bs-tooltip data-title="{{program.tooltip.title}}" ng-if="ineligiblePrograms && ineligiblePrograms.length">\n                        <td>{{program.unit.unitName}}</td>\n                        <td>{{program.unit.specialty.specName}}</td>\n                        <td>\n                            <div class="col-md-12" ng-repeat="selectedTracks in program.selectedProgramTracks">\n                                {{selectedTracks.track.trackName}}\n                                <span ng-show="selectedTracks.track.trackType.trackTypeDescription">({{selectedTracks.track.trackType.trackTypeDescription}})</span>\n                                <br ng-if="program.selectedProgramTracks.length>1">\n                            </div>\n                        </td>\n                        <td>\n                            <p>{{ convertStatus(program) }}</p>\n                        </td>\n                        <td><a ng-click="showLorModal(program)" href>{{program.numAssignedDocs}}</a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/soap-eligible-previewed-invoice/soap-eligible-previewed-invoice.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-previewed-invoice/soap-eligible-previewed-invoice.html",'<div>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div ng-show="!vm.dataIsLoading">\n                <h1 class="panel-heading payment-invoice-heading">{{vm.pageTitle}}</h1>\n                <div class="panel-body">\n                    <div class="row">\n                        <div class="col-md-12">\n                            <aamc-program-table-optional-message class="text-danger" condition-check="soapDto.soapOpen && soapDto.soapDataUpdatesInProgress && soapDto.applicantSoapEligible" program-message="SOAP_DATA_UPDATES_IN_PROGRESS_MSG"></aamc-program-table-optional-message>\n                        </div>\n                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                            <div class="panel panel-default">\n                                <div class="panel-heading">\n                                    <strong>Invoice</strong>\n                                    <span class="pull-right">\n                                    <a ng-hide="vm.application.isRegistered" ui-sref="main.invoiceHistory" href="">View past invoice</a>\n                                </span>\n                                </div>\n                                <div class="panel-body">\n                                    <div class="table-responsive" ng-hide="vm.isPayingForTest.only">\n                                        <table class="table table-bordered table-hover">\n                                            <colgroup>\n                                                <col style="width:60%">\n                                                    <col style="width:40%">\n                                            </colgroup>\n                                            <thead>\n                                                <tr>\n                                                    <th>Program Name</th>\n                                                    <th>Specialty</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <tr ng-repeat="item in vm.data.invoiceItems | orderBy:\'billingGroupName\'">\n                                                    <td class="payment-total">\n                                                        {{item.programName}}\n                                                    </td>\n                                                    <td>\n                                                        {{item.specialty}}\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    <form class="form-horizontal" name="process" role="form" novalidate>\n                                        <div class="form-group">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                ERAS Processing Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.previewedInvoice.erasAmtMdDo}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div class="form-group" ng-show="vm.data.previewedInvoice.usmleAmt>0">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                USMLE Transcript Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.previewedInvoice.usmleAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div class="form-group" ng-show="vm.data.previewedInvoice.comlexAmt>0">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                COMLEX-{{vm.application.countryCode}} Transcript Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.previewedInvoice.comlexAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                Total:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.previewedInvoice.totalAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <a ng-click="showSoapProcessingFeeModal();" href="">View SOAP Processing Fees</a>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="!vm.application.isCertifiedSubmitted">\n                                <div ng-show="!vm.application.isCertifiedSubmitted">\n                                    <div aamc-compiler="vm.content.applicationNotCertified"></div>\n                                </div>\n                                <div class="payment-total-buttons">\n                                    <a type="button" class="btn btn-primary pull-right" ui-sref="main.programHome">Return to Saved Programs</a>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="vm.application.isCertifiedSubmitted">\n                                <div>\n                                    {{vm.content.paymentDisclaimer}}\n                                </div>\n                                <form class="form-inline">\n                                    <div class="checkbox">\n                                        <label>\n                                            <input type="checkbox" ng-model="vm.paymentPolicyIsAccepted" />\n                                            <strong><span aamc-compiler="vm.content.paymentAcknowledgement"></span></strong>\n                                        </label>\n                                    </div>\n                                    <div ng-show="vm.acceptedError" class="text-danger">Selection is required.</div>\n                                </form>\n                                <div class="row">\n                                    <span class="pull-right text-danger" ng-if="!vm.isPayingForTest.only && !isShowContent && !isShowContent2 "> <span aamc-compiler="SOAP_PREVIEW_INVOICE_PROGRAMS_REMAINING_LIMIT"></span></span>\n                                    <span class="pull-right text-danger" ng-if="isShowContent">{{SOAP_COUNT_VALIDATION_MSG_CONTINUE}}</span>\n                                    <span class="pull-right text-danger" ng-if="isShowContent2">{{SOAP_COUNT_VALIDATION_MSG_SUBMIT}}</span>\n                                    <div>\n                                        <div class="payment-total-buttons">\n                                            <div>\n                                                <button class="btn btn-primary pull-right" ng-click="goToPaymentInfo()">Continue</button>\n                                            </div>\n                                            <div class="pull-right">&nbsp;</div>\n                                            <div ng-hide="vm.application.isMilitary">\n                                                <button class="btn btn-default pull-right" ng-click="goBack()">Cancel</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/soap-eligible-previewed-invoice/view-fee-modal.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-previewed-invoice/view-fee-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button role="button" type="button" class="close" ng-click="hideSoapProcessingFeeModal();" aria-label="Close">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">\n                        SOAP Processing Fees\n                </h4>\n            </div>\n            <div class="modal-body">\n                <div ng-bind-html="content"></div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideSoapProcessingFeeModal();">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/soap-eligible-program-assignments/soap-eligible-program-assignments.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-program-assignments/soap-eligible-program-assignments.html",'<div>\n    <div ng-if="modalCurrentPage===1">\n        <span class="text-danger" ng-bind-html="soapAssignmentMessage"></span>\n        <soap-eligible-assignments-programs programs="eligiblePrograms" eligible="eligibleProgramsEligibility" current-doc-obj="currentDocObj" assignedprograms="assignedPrograms" doc="letter" doc-codes="docCodes" executable-function="updateSelectedPrograms" all-personal-statements="allPersonalStatements" ptal-data="ptalData" application-data="applicationData" selected-programs="selectedPrograms" update-assigned-programs="updateAssignedPrograms" eligible-programs="eligiblePrograms"></soap-eligible-assignments-programs>\n        <soap-eligible-assignments-programs programs="ineligiblePrograms" eligible="ineligibleProgramsEligibility" current-doc-obj="currentDocObj" assignedprograms="assignedPrograms" doc="letter" doc-codes="docCodes" executable-function="updateSelectedPrograms" all-personal-statements="allPersonalStatements" ptal-data="ptalData" application-data="applicationData" selected-programs="selectedPrograms" update-assigned-programs="updateAssignedPrograms"></soap-eligible-assignments-programs>\n        <div class="text-danger pull-right" ng-if="showNoAssingmentSelectionMessage">There are no assignment selections/changes to save.</div>\n    </div>\n    <div>\n        <div ng-if="modalCurrentPage===2 && currentDocObj.docCd===docCodes.LOR.docCd">\n            <p>Are you sure you want to assign the selected LoR(s) to this program? LoR selections will be locked upon applying to a program or when assigning a LoR to a program you previously applied to. Once a LoR selection is locked you will not be able to change it. You may only change your selection prior to applying to a program. Keep in mind that you may only assign up to 4 LoRs to any given program. Click Continue to proceed with your selections or click Cancel to go back\n            </p>\n        </div>\n        <div ng-if="modalCurrentPage===2 && currentDocObj.docCd!==docCodes.LOR.docCd">\n            <div ng-if="(listPrograms.length>0 || removedPrograms.length > 0)">\n                <p>\n                    <div>Are you sure you want to proceed with your selections?</div>\n                    <br/>\n                    <br/>\n                    <div ng-if="addedPrograms.length > 0">Assign this {{currentDocObj.docType}} to the following programs:</div>\n                    <ul>\n                        <li ng-repeat="program in listPrograms" ng-if="!program.doNotShowInList">\n                            {{program.unitName}} - {{program.specName}}\n                        </li>\n                    </ul>\n                    <div ng-if="removedPrograms.length > 0">Unassign this {{currentDocObj.docType}} from the following programs:</div>\n                    <ul>\n                        <li ng-repeat="program in removedPrograms">\n                            {{program.unitName}} - {{program.specName}}\n                        </li>\n                    </ul>\n                    <div>Click <i>Confirm</i> to proceed with your selections or click <i>Cancel</i> to go back</div>\n                </p>\n            </div>\n        </div>\n        <div ng-if="modalCurrentPage===3 && currentDocObj.docCd!==docCodes.LOR.docCd">\n            <div ng-show="payUsmleFeeText != \'\'" ng-bind-html="payUsmleFeeText"></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/directives/soap-eligible-programs-applied/soap-eligible-programs-applied.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-eligible-programs-applied/soap-eligible-programs-applied.html",'<div>\n    <div class="panel panel-default ng-scope">\n        <div class="panel-body">\n            <div class="panel-heading">\n                <aamc-help-modal contentKey="PROGRAMSAPPLIED_HELPCONTENT"></aamc-help-modal>\n                <h1 class=" inline-block" style="padding-left: 0px;">Programs Applied To</h1>\n                <span class="pull-right" ng-show="showPastInvoiceLink()"><a href ui-sref="main.invoiceHistory">View\n                    Payment History</a>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n            </div>\n            <div class="clearfix" ng-bind-html="soapProgramsAppliedInstructionsText">\n            </div>\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group" style="xxmargin-top: 10px;">\n                        <div class="input-group input-group-sm">\n                            <input ng-disabled="disableSearch"\n                                   placeholder="Search by Program Name, Specialty, City, State, ID, or Training"\n                                   ng-model="vm.searchForText"\n                                   class="form-control ng-pristine ng-valid ng-valid-char-set" name="search"\n                                   type="search">\n                            <span class="input-group-btn">\n                                <button ng-disabled="disableSearch" name="searchButton"\n                                        class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                                </button>\n                            </span>\n                        </div>\n                        <span class="text-danger ng-hide"\n                              ng-show="vm.selectedSoapPrograms.length === 0 && vm.searchForText.length !== 0  ">No programs match your search</span>\n                        <span class="text-danger ng-hide" ng-show="showInEligibleText">One or more of the programs you have applied to includes a training which is no longer being offered.</span>\n                    </div>\n                </div>\n                <div class="col-md-6" ng-if="!applicantSoapEligible">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <div ng-show="showNoAssignSelections" class="text-danger showNoAssignSelections">You have not\n                            selected any programs.\n                        </div>\n                        <div class="h3 text-right">\n                            <strong>{{withdrawnProgramList.length?withdrawnProgramList.length:\'0\'}}</strong> Programs\n                            Selected\n                            <button class="btn btn-danger" ng-click="withdrawFromPrograms()">Withdraw <span><i\n                                    class="fa fa-arrow-circle-right"></i></span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12" ng-if="applicantSoapEligible">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <div ng-show="showNoAssignSelections" class="text-danger showNoAssignSelections">You have not\n                            selected any programs.\n                        </div>\n                        <div class="h3">\n                            <span class="text-left" ng-if="vm.showSoap && vm.applicantSoapEligible">You have applied to {{vm.programsCount.soapPgmsAppliedCount}} of your {{vm.programsCount.maxSoapPgmsAllowedToApply}} SOAP Program maximum.</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- soapPrograms Stuff -->\n            <div class="block block-color success">\n                <div class="header">\n                    <h3>SOAP Programs</h3>\n                </div>\n                <div ng-bind-html="soapEligibleSoapProgramsText">\n                </div>\n                <div class="table-responsive table-striped">\n                    <table class="table table-bordered layout-fixed">\n                        <colgroup>\n                            <col class="col-md-4 col-lg-$ col-sm-4 col-xs-8">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                            <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                            <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        </colgroup>\n                        <thead>\n                        <tr>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    Program Name\n                                    <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow"\n                                ng-click="changeSortCol(\'unit.specialty.specName\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    Specialty\n                                    <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    City\n                                    <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    State\n                                    <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow">\n                                <div>Accreditation ID</div>\n                            </th>\n                            <th>\n                                <div>Action</div>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody class="ng-scope"\n                               ng-repeat="programDet in vm.selectedSoapPrograms = (soapPrograms | orderBy:[\'-inEligible\',\'-warning\', orderByCol]:reverseSort | filter:filteredPrograms)">\n                        <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible}">\n                            <td class="text-wrap cell-overflow">\n                                <div>\n                                        <span ng-if="programDet.inEligible"><i class="fa fa-exclamation"></i>\n                                    </span>\n                                    <a class="ng-binding" data-toggle="modal"\n                                       ng-click="showProgramDetailsModal(programDet);" href=""\n                                       ng-if="programDet.unit.unfilledPositionsIndicator">{{programDet.unit.unitName}}</a>\n                                    <span ng-if="!programDet.unit.unfilledPositionsIndicator">{{programDet.unit.unitName}}</span>\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.specialty.specName}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitCity}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitStateDesc}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.accreditationId}}</div>\n                            </td>\n                            <td>\n                                <div class="btn-group btn-block"\n                                     ng-if="programDet.withdrawnIndicator !== \'Y\' && programDet.unit.unfilledPositionsIndicator">\n                                    <button type="button" class="btn btn-default btn-sm">Select</button>\n                                    <button type="button" class="btn btn-warning btn-sm dropdown-toggle"\n                                            data-toggle="dropdown" aria-expanded="false">\n                                        <span class="caret"></span>\n                                        <span class="sr-only">Toggle Dropdown</span>\n                                    </button>\n                                    <ul class="dropdown-menu btn-block" role="menu">\n                                        <li>\n                                            <a href="" ng-click="showAssignDocumentsModal(programDet);"><i\n                                                    class="fa fa-share"></i> Assign Documents</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div ng-if="!programDet.unit.unfilledPositionsIndicator">No Available Actions</div>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.withdrawnIndicator === \'Y\'">\n                            <td colspan="6"><span class="text-danger">You have withdrawn from this program. To reinstate your application with this program, navigate to the <em>\n                                Programs Withdrawn From </em> page.</span>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.unit.unitStatusCode === \'N\' || programDet.unit.unitStatusCode === \'C\' || programDet.unit.unitStatusCode === \'D\'">\n                            <td colspan="6">\n                                <aamc-program-status-code class="text-danger" display-program="programDet"\n                                                          content-text="displayText"></aamc-program-status-code>\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible}">\n                            <td class="" colspan="6">\n                              <aamc-tracks-details class="col-sm-offset-1">\n                                <div\n                                     ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                     <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                        <span class="text-danger"\n                                              ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                        <span ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            tracks offered by this program.</a>\n                                    </span>\n                                    <hr>\n                                </div>\n                               </aamc-tracks-details> \n                                <div class="col-sm-offset-1 form-group"\n                                     ng-show="preliminaryConditions(programDet)">\n                                    PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                                </div>\n                                <div class="col-sm-offset-1">\n                                    <aamc-documenttracking></aamc-documenttracking>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                        <tbody ng-show="soapPrograms.length === 0 && !vm.searchForText">\n                        <tr>\n                            <td class="cell-overflow" colspan="6"><strong>{{programNoAppliedToText}}</strong>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <!-- nonSoapPrograms Stuff -->\n            <div class="block block-color success">\n                <div class="header">\n                    <h3>Non-SOAP Programs</h3>\n                </div>\n                <div ng-bind-html="soapEligibleNonSoapProgramsText">\n                </div>\n                <div class="table-responsive table-striped">\n                    <table class="table table-bordered layout-fixed">\n                        <colgroup>\n                            <col class="col-md-4 col-lg-$ col-sm-4 col-xs-8">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                            <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                            <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        </colgroup>\n                        <thead>\n                        <tr>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    Program Name\n                                    <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow"\n                                ng-click="changeSortCol(\'unit.specialty.specName\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    Specialty\n                                    <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    City\n                                    <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\', \'soapEligible\')">\n                                <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                    State\n                                    <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow">\n                                <div>Accreditation ID</div>\n                            </th>\n                            <th>\n                                <div>Action</div>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody class="ng-scope"\n                               ng-repeat="programDet in vm.selectedNonPrograms = (nonSoapPrograms | orderBy:[\'-inEligible\',\'-warning\', orderByCol]:reverseSort | filter:filteredPrograms)">\n                        <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible}">\n                            <td class="text-wrap cell-overflow">\n                                <div>\n                                        <span ng-if="programDet.inEligible"><i class="fa fa-exclamation"></i>\n                                    </span>\n                                    <a class="ng-binding" data-toggle="modal"\n                                       ng-click="showProgramDetailsModal(programDet);" href="">{{programDet.unit.unitName}}</a>\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.specialty.specName}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitCity}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitStateDesc}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.accreditationId}}</div>\n                            </td>\n                            <td>\n                                <div>No Available Actions</div>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.withdrawnIndicator === \'Y\'">\n                            <td colspan="6"><span class="text-danger">You have withdrawn from this program. To reinstate your application with this program, navigate to the <em>\n                                Programs Withdrawn From </em> page.</span>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.unit.unitStatusCode === \'O\' || programDet.unit.unitStatusCode === \'C\' || programDet.unit.unitStatusCode === \'D\'">\n                            <td colspan="6">\n                                <aamc-program-status-code class="text-danger" display-program="programDet"\n                                                          content-text="displayText"></aamc-program-status-code>\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible}">\n                            <td class="" colspan="6">\n                               <aamc-tracks-details class="col-sm-offset-1">\n                                <div\n                                     ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                     <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                        <span class="text-danger"\n                                              ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                        <span ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            tracks offered by this program.</a>\n                                    </span>\n                                    <hr>\n                                </div>\n                                </aamc-tracks-details>\n                                <div class="col-sm-offset-1 form-group"\n                                     ng-show="preliminaryConditions(programDet)">\n                                    PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                                </div>\n                                <div class="col-sm-offset-1">\n                                    <aamc-documenttracking></aamc-documenttracking>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                        <tbody ng-show="nonSoapPrograms.length === 0 && !vm.searchForText">\n                        <tr>\n                            <td class="cell-overflow" colspan="6"><strong>{{programNoAppliedToText}}</strong>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("components/directives/soap-ineligible-programs-applied/soap-ineligible-programs-applied.html",[]).run(["$templateCache",function(a){a.put("components/directives/soap-ineligible-programs-applied/soap-ineligible-programs-applied.html",'<div>\n    <div class="panel panel-default ng-scope">\n        <div class="panel-body">\n            <div class="panel-heading">\n                <aamc-help-modal contentKey="PROGRAMSAPPLIED_HELPCONTENT"></aamc-help-modal>\n                <h1 class=" inline-block" style="padding-left: 0px;">Programs Applied To</h1>\n                <span class="pull-right" ng-show="showPastInvoiceLink()"><a href ui-sref="main.invoiceHistory">View Payment History</a>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n            </div>\n            <div class="row" ng-if="applicantSoapObject.applicantSoapMatchStatus !== \'FM\'" ng-bind-html="soapProgramsAppliedInstructionsText">\n            </div>\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group" style="xxmargin-top: 10px;">\n                        <div class="input-group input-group-sm">\n                            <input ng-disabled="!myPrograms || myPrograms.length===0" placeholder="Search by Program Name, Specialty, City, State, ID, or Training" ng-model="vm.searchForText" class="form-control ng-pristine ng-valid ng-valid-char-set" name="search" type="search">\n                            <span class="input-group-btn">\n                                <button ng-disabled="!myPrograms || myPrograms.length===0" name="searchButton" class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                            </button>\n                            </span>\n                        </div>\n                        <aamc-program-table-optional-message class="text-danger" condition-check="vm.selectedPrograms.length === 0 && vm.searchForText.length !== 0" program-message="\'No programs match your search\'"></aamc-program-table-optional-message>\n\n                    </div>\n                </div>\n            </div>\n            <aamc-program-table-optional-message class="text-danger" condition-check="showInEligibleText" program-message="\'One or more of the programs you have applied to includes a training which is no longer being offered.\'"></aamc-program-table-optional-message>\n            <div class="ng-scope text-danger" ng-if="applicantSoapObject.applicantSoapMatchStatus !== \'FM\'" ng-bind-html="soapIneligibleProgramsAppliedText">\n            </div>\n            <div class="ng-scope text-danger" ng-if="applicantSoapObject.applicantSoapMatchStatus === \'FM\'">You are fully matched and will have view only access to the Programs Applied To page until SOAP ends on {{applicantSoapObject.soapCloseDt | date:"MM/dd/yyyy \'at\' h:mma "}} ET.\n            </div>\n            <div class="table-responsive table-striped">\n                <table class="table table-bordered layout-fixed">\n                    <colgroup>\n                        <col class="col-md-4 col-lg-$ col-sm-4 col-xs-8">\n                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                                <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                                    <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                                        <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                                            <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\')">\n                                <div class="pointer">\n                                    <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Program Name\n                                    <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Specialty\n                                    <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    City\n                                    <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    State\n                                    <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow">\n                                <div>Accreditation ID</div>\n                            </th>\n                            <th>\n                                <div>Action</div>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody class="ng-scope" ng-repeat="programDet in vm.selectedPrograms = (myPrograms | orderBy:[\'-inEligible\',\'-warning\', orderByCol]:reverseSort | filter:filteredPrograms)">\n                        <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible}">\n                            <td class="text-wrap cell-overflow">\n                                <div>\n                                    <span ng-if="programDet.inEligible"><i class="fa fa-exclamation"></i>\n                                    </span>\n                                    <a class="ng-binding" data-toggle="modal" ng-click="showProgramDetailsModal(programDet);" href="" ng-if="showHyperlinkedProgramName(programDet)">{{programDet.unit.unitName}}</a>\n                                    <span ng-if="!showHyperlinkedProgramName(programDet)">{{programDet.unit.unitName}}</span>\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.specialty.specName}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitCity}}</div>{{applicantSoapMatchStatus}}\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitStateDesc}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.accreditationId}}</div>\n                            </td>\n                            <td>\n                                <div class="btn-group btn-block" ng-if="showHyperlinkedProgramName(programDet)">\n                                    <button type="button" class="btn btn-default btn-sm">Select</button>\n                                    <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                        <span class="caret"></span>\n                                        <span class="sr-only">Toggle Dropdown</span>\n                                    </button>\n                                    <ul class="dropdown-menu btn-block" role="menu">\n                                        <li>\n                                            <a href="" ng-click="showAssignDocumentsModal(programDet);"><i class="fa fa-share"></i> Assign Documents</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div ng-if="!showHyperlinkedProgramName(programDet)">No Available Actions</div>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.withdrawnIndicator === \'Y\'">\n                            <td colspan="6">\n                                <aamc-program-table-optional-message condition-check="programDet.withdrawnIndicator === \'Y\'" program-message="\'You have withdrawn from this program. To reinstate your application with this program, navigate to the <em> Programs Withdrawn From </em> page.\'"></aamc-program-table-optional-message>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.unit.unitStatusCode === \'N\' || programDet.unit.unitStatusCode === \'C\' || programDet.unit.unitStatusCode === \'D\'">\n                            <td colspan="6">\n                                <aamc-program-status-code class="text-danger" display-program="programDet" content-text="displayText"></aamc-program-status-code>\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible}">\n                            <td colspan="6">\n                            <aamc-tracks-details class="col-sm-offset-1">\n                                <div ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                    <span class="text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                    <span ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            tracks offered by this program.</a>\n                                    </span>\n                                    <hr>\n                                </div>\n                                <div class="col-sm-offset-1 ng-binding ng-scope treeview form-group" ng-show="preliminaryConditions(programDet)">\n                                    PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                                </div>\n                                <div class="col-sm-offset-1">\n                                    <aamc-documenttracking></aamc-documenttracking>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody ng-show="myPrograms.length === 0 && !vm.searchForText">\n                        <tr>\n                            <td class="cell-overflow" colspan="6">\n                                <aamc-program-table-optional-message condition-check="myPrograms.length === 0 && !vm.searchForText" program-message="programNoAppliedToText"></aamc-program-table-optional-message>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("components/templates/processModal.html",[]).run(["$templateCache",function(a){a.put("components/templates/processModal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="$hide()">&times;</button>\n            </div>\n            <div class="modal-body">{{SOAP_DATA_UPDATES_IN_PROGRESS_MSG}}</div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default btn-sm" ng-click="$hide()">Close</button>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/assignment-report/assignment-report-programs.html",[]).run(["$templateCache",function(a){a.put("states/assignment-report/assignment-report-programs.html",'<div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n        <div class="block block-color success">\n            <div class="header">\n                <h3>{{dvm.sectionTitle}}</h3>\n            </div>\n            <!-- <div class="spinner-container" ng-show="vm.dataIsLoading">\n                <div class="spinner assignment-report-spinner">\n                    <i class="fa fa-spinner fa-5x fa-spin"></i>\n                </div>\n            </div>-->\n            <div class="content program-not-selected" ng-show="dvm.section.programs.length === 0">\n                <h4>{{dvm.section.content.programsNotSelected}}</h4>\n            </div>\n            <div class="content" ng-show="dvm.section.programs.length > 0">\n                <div class="table-responsive">\n                    <table class="table table-bordered table-striped">\n                        <colgroup>\n                            <col style="width: 40%;">\n                                <col style="width: 30%;">\n                                    <col style="width: 20%;">\n                                        <col style="width: 10%;">\n                        </colgroup>\n                        <thead>\n                            <tr>\n                                <th>Program Name</th>\n                                <th>Specialty</th>\n                                <th>City</th>\n                                <th>State</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr ng-repeat-start="program in dvm.section.programsSorted = (dvm.section.programs | orderBy:[\'programName\',\'specialty\'])">\n                                <td>{{program.programName}}</td>\n                                <td>{{program.specialty}}</td>\n                                <td>{{program.city}}</td>\n                                <td>{{program.state| formatstate: vm.residenceStatesProvinces}}</td>\n                            </tr>\n                            <tr class="danger" ng-show="program.isWithdrawn">\n                                <td colspan="4">\n                                    <span class="text-danger">\n                                        <strong>{{vm.content.programIsWithdrawn}}</strong>\n                                    </span>\n                                </td>\n                            </tr>\n                            <tr class="danger" ng-if="program.program.unit.unitStatusCode === \'N\' || program.program.unit.unitStatusCode === \'C\' || program.program.unit.unitStatusCode === \'D\'">\n                                <td colspan="7"><aamc-program-status-code class="text-danger" display-program="program.program" content-text="displayText"></aamc-program-status-code></td>\n                            </tr>\n                            <tr>\n                                <td colspan="4">\n                                    <div class="row">\n                                        <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">\n                                            <div>\n                                                <label for="programDirector">\n                                                    <strong>Program Director</strong>\n                                                </label>\n                                                <span id="programDirector">{{program.programDirector}}</span>\n                                            </div>\n                                        </div>\n                                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">\n                                            <div>\n                                                <label for="programPhone">\n                                                    <strong>Phone</strong>\n                                                </label>\n                                                <span id="programPhone">{{program.phone}}</span>\n                                            </div>\n                                        </div>\n                                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">\n                                            <div>\n                                                <label for="programEmail">\n                                                    <strong>Email</strong>\n                                                </label>\n                                                <span id="programEmail"><a href="mailto:{{program.email}}">{{program.email}}</a></span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 col-sm-offset-1 program-tracks-section">\n                                            <div ng-repeat="track in program.tracksSorted = (program.tracks | orderBy:\'track.trackName\')">\n                                                {{track.track.trackName}} <span ng-if="track.track.nrmpPgmCd">| NRMP Program Code:{{track.track.nrmpPgmCd}}</span>\n                                                <span ng-show="track.track.trackTypeDescription && track.track.trackTypeDescription!=track.track.trackName">\n                                                ({{track.track.trackTypeDescription}})</span>\n                                                <span ng-show="vm.trackIsInactive(track)" class="text-danger">{{vm.content.trackIsInactive}}</span>\n                                            </div>\n                                            <div class="form-group" ng-show="vm.preliminaryConditions(program)">\n                                                PGY-2 Specialty interest(s): {{program.pgy2}}\n                                            </div>\n                                            <ul class="list-group program-tracks-list">\n                                                <li class="list-group-item" ng-repeat="document in program.documentsSorted = (program.documents | orderBy:[\'sort.primary\',\'sort.secondary\',\'sort.tertiary\'])">\n                                                    {{document.description}}\n                                                </li>\n                                                <li class="list-group-item" ng-show="program.documents.length === 0">\n                                                    {{vm.content.documentsNotAssigned}}\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr ng-repeat-end class="table-space" ng-hide="$index === dvm.section.programs.length - 1">\n                                <td class="table-space" colspan="4"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/assignment-report/assignment-report.html",[]).run(["$templateCache",function(a){a.put("states/assignment-report/assignment-report.html",'<aamc-programs-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading assignment-report-heading">Assignments Report</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="ASSIGNMENTREPORT_HELPCONTENT"></aamc-help-modal>\n            </div>\n\n            <div class="col-md-1">\n                <br />\n                <a type="button" ng-click="vm.printAssignmentReport()" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-print"></span> Print</a>\n            </div>\n\n            <assignment-report-programs vm="vm" section-title="Saved Programs" section-programs="saved"></assignment-report-programs>\n\n            <assignment-report-programs vm="vm" section-title="Programs Applied To" section-programs="appliedTo"></assignment-report-programs>\n\n        </div>\n    </div>\n</aamc-programs-tabs>\n')}]),angular.module("states/biographic/biographic.html",[]).run(["$templateCache",function(a){a.put("states/biographic/biographic.html",'<aamc-application-tabs aamc-validate-form-and-focus add-error-elems="true">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <!-- Tab panes -->\n            <div class="tab-pane with-bg active" id="Biographic">\n                <aamc-help-modal contentKey="BIOGRAPHICINFO_HELPCONTENT"></aamc-help-modal>\n                <p style="text-align:left">\n                    <span class="text-danger">*</span> Indicates required field.\n                </p>\n                <a id="general"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'generalForm\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">General</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form class="simple-form form-horizontal" novalidate id="forms.generalForm" name="forms.generalForm" role="form">\n                            <div class="form-group">\n                                <label for="gender" class="col-md-2 control-label">\n                                    <strong>Gender <span class="text-danger">*</span></strong>\n                                </label>\n                                <div class="col-md-4">\n                                    <select class="form-control" ng-model="cafData.cafSex" id="gender" name="gender" ng-options="item.sexCode as item.sexDescription for item in genders" ng-required="true" required>\n                                        <option value="">-- select --</option>\n                                    </select>\n                                    <!-- <span class="text-danger" ng-show="forms.generalForm.gender.$dirty && forms.generalForm.gender.$error.required">Please select a gender or \'No Response\'</span> -->\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="cafData.cafBirthPlace" class="col-md-2 control-label">\n                                    <strong>Birth Place</strong>\n                                </label>\n                                <div class="col-md-4">\n                                    <input type="text" class="form-control" id="cafData.cafBirthPlace" name="cafBirthPlace" ng-model="cafData.cafBirthPlace" ng-maxlength="50" maxlength="50" ng-required="false">\n                                    <span class="text-danger" ng-show="forms.generalForm.cafBirthPlace.$dirty && forms.generalForm.cafBirthPlace.$error.maxlength">Birth Place can be no more than 50 characters.</span>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="cafData.cafDob" class="col-md-2 control-label">\n                                    <strong>Birth Date</strong>\n                                </label>\n                                <div class="col-md-4">\n                                    <input type="text" class="form-control" id="cafData.cafDob" name="cafDob" data-ng-model="cafData.cafDob" placeholder="MM/DD/YYYY" bs-datepicker data-date-format="MM/dd/yyyy" data-max-date="today" data-autoclose="1" data-dateType="string">\n                                    <span class="text-danger" ng-show="(forms.generalForm.cafDob.$dirty && forms.generalForm.cafDob.$invalid) || !dateValid">This field only accepts valid past MM/DD/YYYY formatted date values.</span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="selfId"></a>\n                <div class="panel panel-default">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Self Identification</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form class="simple-form form-horizontal" novalidate id="forms.selfIdentificationForm" name="forms.selfIdentificationForm" role="form">\n                            <div class="col-md-12">\n                                <p> If you reside in the European Union, do not answer this question. Please ignore this section.</p>\n                                <p>This section allows you to indicate how you self-identify. You must select a major category prior to being able to select a sub-category. Sub-categories will be disabled until a major category is selected. When selecting "Other" as a sub-category, the text field is limited to 120 characters but is not a required field. If you prefer not to self-identify, please ignore this section.</p>\n                                <hr> How do you self-identify? Please select all that apply.\n                                <br>\n                                <br>\n                            </div>\n                            <div class="form-group">\n                                <div class="col-md-12">\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <input type="checkbox" ng-model="applicant.hispanicSI" aria-label="{{parentSIs[0].selfIdentificationDescription}}" ng-click="checkHispChildrens()">&nbsp;{{parentSIs[0].selfIdentificationDescription}}\n                                        </legend>\n                                        <div ng-repeat="childSI in filtered=(allSIs| sifilter:1)">\n                                            <div class="col-md-3" ng-show="(childSI.selfIdentificationDescription!==\'Other Hispanic\')">\n                                                <input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" checklist-model="applicant.hispanicSIs" checklist-value="childSI" ng-disabled="!applicant.hispanicSI">&nbsp; {{childSI.selfIdentificationDescription}}\n                                            </div>\n                                            <div class="col-md-12" ng-show="(childSI.selfIdentificationDescription===\'Other Hispanic\')">\n                                                <span class="pull-left"><input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" ng-click="checkHispOthersText()" ng-model="applicant.otherHispanicSI" ng-disabled="!applicant.hispanicSI">&nbsp; {{childSI.selfIdentificationDescription}}: &nbsp;</span>\n                                                <span ng-show="(childSI.selfIdentificationDescription===\'Other Hispanic\')">&nbsp;\n                                                        <input type="text" class="col-sm-8" ng-disabled="!applicant.otherHispanicSI"\n                                                               id="otherHisp" name="otherHisp" ng-model="applicant.hispanicSIOther" ng-maxlength="120" maxlength="120"/></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherHisp.$dirty && forms.selfIdentificationForm.otherHisp.$error.maxlength">Other Hispanic can be no more than 120 characters.</span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherHisp.$error.charSet">Invalid character!</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <input type="checkbox" ng-click="checkAmericanChildrens()" aria-label="{{parentSIs[1].selfIdentificationDescription}}" ng-model="applicant.americanSI">&nbsp;{{parentSIs[1].selfIdentificationDescription}}\n                                        </legend>\n                                        <div ng-repeat="childSI in filtered=(allSIs| sifilter:2)">\n                                            <div class="col-md-3" ng-show="(childSI.selfIdentificationDescription!==\'Tribal affiliation\')">\n                                                <input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" checklist-model="applicant.americanSIs" checklist-value="childSI" ng-disabled="!applicant.americanSI">&nbsp; {{childSI.selfIdentificationDescription}}\n                                            </div>\n                                            <div class="col-md-12" ng-show="(childSI.selfIdentificationDescription===\'Tribal affiliation\')">\n                                                <span class="pull-left"><input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" ng-click="checkAmericanOthersText()" ng-model="applicant.americanOtherSI" ng-disabled="!applicant.americanSI">&nbsp; {{childSI.selfIdentificationDescription}}:&nbsp;</span>\n                                                <span ng-show="(childSI.selfIdentificationDescription===\'Tribal affiliation\')">&nbsp;<input type="text" class="col-sm-8" id="otherAmerican" name="otherAmerican" ng-model="applicant.americanSIOther" ng-disabled="!applicant.americanOtherSI" ng-maxlength="120" maxlength="120"/></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherAmerican.$dirty && forms.selfIdentificationForm.otherAmerican.$error.maxlength">Tribal affiliation can be no more than 120 characters.</span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherAmerican.$error.charSet">Invalid character!</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <input type="checkbox" ng-click="checkAsianChildrens()" aria-label="{{parentSIs[2].selfIdentificationDescription}}" ng-model="applicant.asianSI">&nbsp;{{parentSIs[2].selfIdentificationDescription}}\n                                        </legend>\n                                        <div ng-repeat="childSI in filtered=(allSIs| sifilter:3)">\n                                            <div class="col-md-3" ng-show="(childSI.selfIdentificationDescription!==\'Other Asian\')">\n                                                <input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" checklist-model="applicant.asianSIs" checklist-value="childSI" ng-disabled="!applicant.asianSI">&nbsp; {{childSI.selfIdentificationDescription}}\n                                            </div>\n                                            <div class="col-md-12" ng-show="(childSI.selfIdentificationDescription===\'Other Asian\')">\n                                                <span class="pull-left"><input type="checkbox" ng-click="checkAsianOthersText()" aria-label="{{childSI.selfIdentificationDescription}}" ng-model="applicant.asianOtherSI" ng-disabled="!applicant.asianSI">&nbsp; {{childSI.selfIdentificationDescription}}:&nbsp;</span>\n                                                <span ng-show="(childSI.selfIdentificationDescription===\'Other Asian\')">&nbsp;<input type="text" id="otherAsian" class="col-sm-8" name="otherAsian"  ng-model="applicant.asianSIOther" ng-disabled="!applicant.asianOtherSI" ng-maxlength="120" maxlength="120"\n                                                            /></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherAsian.$dirty && forms.selfIdentificationForm.otherAsian.$error.maxlength">Other Asian can be no more than 120 characters.</span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherAsian.$error.charSet">Invalid character!</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <input type="checkbox" ng-click="checkBlackChildrens()" aria-label="{{parentSIs[3].selfIdentificationDescription}}" ng-model="applicant.blackSI">&nbsp;{{parentSIs[3].selfIdentificationDescription}}\n                                        </legend>\n                                        <div ng-repeat="childSI in filtered=(allSIs| sifilter:4)">\n                                            <div class="col-md-3" ng-show="(childSI.selfIdentificationDescription!==\'Other Black\')">\n                                                <input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" checklist-model="applicant.blackSIs" checklist-value="childSI" ng-disabled="!applicant.blackSI">&nbsp; {{childSI.selfIdentificationDescription}}\n                                            </div>\n                                            <div class="col-md-12" ng-show="(childSI.selfIdentificationDescription===\'Other Black\')">\n                                                <span class="pull-left"><input type="checkbox" ng-click="checkBlackOthersText()" aria-label="{{childSI.selfIdentificationDescription}}" ng-model="applicant.blackOtherSI" ng-disabled="!applicant.blackSI">&nbsp; {{childSI.selfIdentificationDescription}}:&nbsp;</span>\n                                                <span ng-show="(childSI.selfIdentificationDescription===\'Other Black\')">&nbsp;\n                                                        <input type="text" id="otherBlack" class="col-sm-8" name="otherBlack" ng-model="applicant.blackSIOther" ng-maxlength="120" maxlength="120"\n                                                               ng-disabled="!applicant.blackOtherSI"/></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherBlack.$dirty && forms.selfIdentificationForm.otherBlack.$error.maxlength">Other Black can be no more than 120 characters.</span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherBlack.$error.charSet">Invalid character!</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <input type="checkbox" ng-click="checkHawaiChildrens()" aria-label="{{parentSIs[4].selfIdentificationDescription}}" ng-model="applicant.hawaiSI">&nbsp;{{parentSIs[4].selfIdentificationDescription}}\n                                        </legend>\n                                        <div ng-repeat="childSI in filtered=(allSIs| sifilter:5)">\n                                            <div class="col-md-3" ng-show="(childSI.selfIdentificationDescription!==\'Other Pacific Islander\')">\n                                                <input type="checkbox" aria-label="{{childSI.selfIdentificationDescription}}" checklist-model="applicant.hawaiSIs" checklist-value="childSI" ng-disabled="!applicant.hawaiSI">&nbsp; {{childSI.selfIdentificationDescription}}\n                                            </div>\n                                            <div class="col-md-12" ng-show="(childSI.selfIdentificationDescription===\'Other Pacific Islander\')">\n                                                <span class="pull-left"><input type="checkbox" ng-click="checkHawaiOthersText()" aria-label="{{childSI.selfIdentificationDescription}}" ng-model="applicant.hawaiOtherSI" ng-disabled="!applicant.hawaiSI">&nbsp; {{childSI.selfIdentificationDescription}}:&nbsp;</span>\n                                                <span ng-show="(childSI.selfIdentificationDescription===\'Other Pacific Islander\')">&nbsp;\n                                                        <input type="text" id="otherPacific" class="col-sm-8" name="otherPacific"  ng-model="applicant.hawaiSIOther"  ng-maxlength="120" maxlength="120" ng-disabled="!applicant.hawaiOtherSI"/></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherPacific.$dirty && forms.selfIdentificationForm.otherPacific.$error.maxlength">Other Pacific Islander can be no more than 120 characters.</span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.otherPacific.$error.charSet">Invalid character!</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                    <fieldset>\n                                        <div class="col-md-12 siPadding">\n                                            <div class="form-group">\n                                                <input type="checkbox" aria-label="{{parentSIs[5].selfIdentificationDescription}}" ng-model="applicant.whiteSI"><strong>&nbsp;{{parentSIs[5].selfIdentificationDescription}}</strong>\n                                            </div>\n                                        </div>\n                                        <div class="col-md-12 siPadding">\n                                            <div class="form-group">\n                                                <span class="pull-left"><input type="checkbox" ng-click="checkOthersText()" aria-label="{{parentSIs[6].selfIdentificationDescription}}" ng-model="applicant.otherSI"><strong>&nbsp;{{parentSIs[6].selfIdentificationDescription}}:&nbsp;</strong></span>\n                                                <span>&nbsp;<input type="text" ng-disabled="!applicant.otherSI" id="OtherSIOther" class="col-sm-8" name="OtherSIOther" ng-maxlength="120" maxlength="120" ng-model="applicant.OtherSIOther"/></span>\n                                                <span class="text-danger" ng-show="forms.selfIdentificationForm.OtherSIOther.$dirty && forms.selfIdentificationForm.OtherSIOther.$error.maxlength">Other description can be no more than 120 characters.</span>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="language"></a>\n                <div class="panel panel-default" ng-class="languageFluency.sectionErrorLang">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Language Fluency <span class="text-danger">*</span></h2>\n                    </div>\n                    <div class="panel-body">\n                        <p>\n                            This section allows entries for each Language you speak.\n                            <br>\n                            <br>\n                        </p>\n                        <div class="pull-left">\n                            <form class="simple-form form-horizontal" novalidate id="forms.addLanguageForm" name="forms.addLanguageForm" role="form">\n                                <button role="button" class="btn btn-prusia" ng-class="{\'ng-invalid\':!languageFluency.selectedLanguages.length}" type="submit" aria-label="Add Entry Language Fluency" ng-click="languageFluency.showModal()">\n                                    <i class="fa fa-plus"></i> Add Entry\n                                </button>\n                            </form>\n                        </div>\n                        <div class="clearfix"></div>\n                        <span class="text-danger" ng-show="languageFluency.sectionErrorLang">Please add an entry.</span>\n                        <div class="table-responsive" ng-show="languageFluency.selectedLanguages && languageFluency.selectedLanguages.length>0">\n                            <table class="table table-bordered table-striped table-hover" ng-show="true">\n                                <thead>\n                                    <tr>\n                                        <th width="25%">Language</th>\n                                        <th width="25%">Proficiency</th>\n                                        <th width="10%">Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody class="no-border-y">\n                                    <tr ng-repeat="language in languageFluency.selectedLanguages | orderBy: \'languageDescription\'">\n                                        <td>{{ language.languageDescription }}</td>\n                                        <td><a data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale" data-title="{{language.lpNotes}}" bs-tooltip>{{ language.profDescription }}</a>\n                                        </td>\n                                        <td>\n                                            <button role="button" class="btn btn-default fa fa-edit" tooltip="Edit" aria-label="Edit Language Fluency" id="editLanguage" name="editLanguage" ng-click="languageFluency.showModal(language)" type="submit"></button>\n                                            <button role="button" class="btn btn-danger fa fa-trash" tooltip="Delete" aria-label="Delete Language Fluency" type="submit" data-target="#DeleteLanguageModal" data-toggle="modal" ng-click="languageFluency.showDeleteModal(language)"></button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <a id="military"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'militaryForm\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Military Information</h2>\n                    </div>\n                    <div class="panel-body form-horizontal">\n                        <form class="simple-form form-horizontal" novalidate id="forms.militaryForm" name="forms.militaryForm" role="form">\n                            <div class="form-group">\n                                <label id="militaryRadio" class="col-md-12">\n                                    <strong>Are you committed to fulfill a U.S. military active duty service obligations/deferments? <span class="text-danger">*</span>\n                                    </strong>\n                                </label>\n                                <div class="col-md-3 control-label"></div>\n                                <div class="col-md-4">\n                                    <fieldset>\n                                        <label class="radio-inline">\n                                            <input type="radio" aria-labelledby="militaryRadio" name="militaryRadio" value="Y" ng-model="cafData.cafMilServiceObligInd" ng-required="true" required> Yes\n                                        </label>\n                                        <label class="radio-inline">\n                                            <input type="radio" aria-labelledby="militaryRadio" name="militaryRadio" value="N" ng-model="cafData.cafMilServiceObligInd" ng-click="resetMilData()" ng-required="true" required> No\n                                        </label>\n                                    </fieldset>\n                                    <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.militaryForm.militaryRadio.$error.required" aria-hidden="false">\n                                        Selection is required.\n                                    </span>\n                                </div>\n                                <div class="col-md-4 control-label"></div>\n                                <div class="col-md-8"><span class="text-danger" ng-show="forms.militaryForm.militaryRadio.$dirty && forms.militaryForm.militaryRadio.$error.required">Please answer if you are committed to fulfill an active duty U.S. military service obligation/deferments.</span>\n                                </div>\n                            </div>\n                            <div class="form-group" ng-show="cafData.cafMilServiceObligInd===\'Y\'">\n                                <label class="col-md-3 control-label" for="cafData.cafMilServiceYrs">\n                                    <strong>Number of years remaining <span class="text-danger">*</span></strong>\n                                </label>\n                                <div class="col-md-2">\n                                    <input type="number" id="cafMilServiceYrs" name="cafMilServiceYrs" ng-model="cafData.cafMilServiceYrs" class="form-control" max="20" min="0" ng-max="20" ng-min="0" ng-required="cafData.cafMilServiceObligInd===\'Y\'" required>\n                                    <span class="text-danger" ng-show="forms.militaryForm.cafMilServiceYrs.$error.number">Please indicate the number of years remaining to fulfill your U.S. Military active duty service\n                                    obligations/deferments.</span>\n                                    <span class="text-danger" ng-show="forms.militaryForm.cafMilServiceYrs.$error.min || forms.militaryForm.cafMilServiceYrs.$error.max">The military years of service obligation must be between 0 and 20.</span>\n                                </div>\n                                <label class="col-md-1 control-label" for="militaryBranch">\n                                    <strong>Branch&nbsp;<span class="text-danger">*</span></strong>\n                                </label>\n                                <div class="col-md-3">\n                                    <select class="form-control" id="militaryBranch" name="militaryBranch" ng-model="cafData.cafMilBranchCd" ng-options="item.militaryBranchCode as item.militaryBranchDescription for item in refMilitaryBranches" ng-required="cafData.cafMilServiceObligInd===\'Y\'" required>\n                                        <option value="">-- Choose one --</option>\n                                    </select>\n                                    <span class="text-danger" ng-show="forms.militaryForm.militaryBranch.$error.required && forms.militaryForm.militaryBranch.$dirty">Please select a Military Branch</span>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label id="serviceObligation" class="col-md-12">\n                                    <strong>Do you have any other service obligations? (e.g. - Military Reserves, Public Health/State programs, etc.) <span class="text-danger">*</span></strong>\n                                </label>\n                                <div class="col-md-3 control-label"></div>\n                                <div class="col-md-4">\n                                    <fieldset>\n                                        <label class="radio-inline">\n                                            <input type="radio" value="Y" aria-labelledby="serviceObligation" name="serviceObligation" ng-model="cafData.cafOtherServiceObligInd" ng-required="!cafData.cafOtherServiceObligInd" required> Yes\n                                        </label>\n                                        <label class="radio-inline">\n                                            <input type="radio" value="N" aria-labelledby="serviceObligation" name="serviceObligation" ng-model="cafData.cafOtherServiceObligInd" ng-click="resetOtherServiceData()" ng-required="!cafData.cafOtherServiceObligInd" required> No\n                                        </label>\n                                    </fieldset>\n                                    <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.militaryForm.serviceObligation.$error.required && (!cafData.cafOtherServiceObligInd)" aria-hidden="false">\n                                        Selection is required.\n                                    </span>\n                                </div>\n                                <div class="col-md-4 control-label"></div>\n                                <div class="col-md-8"><span class="text-danger" ng-show="forms.militaryForm.serviceObligation.$dirty && forms.militaryForm.serviceObligation.$error.required">Please answer if you have any other service obligations.</span>\n                                </div>\n                            </div>\n                            <div class="form-group" ng-show="cafData.cafOtherServiceObligInd===\'Y\'">\n                                <label for="description" class="col-md-3 control-label">\n                                    <strong>Description <span class="text-danger">*</span></strong>\n                                </label>\n                                <div class="col-md-6">\n                                    <textarea ng-model="cafData.cafOtherServiceDesc" id="serviceObligText" name="serviceObligText" class="form-control" placeholder="Please enter your description for other service obligations" ng-required="cafData.cafOtherServiceObligInd===\'Y\'" required ng-maxlength="255" maxlength="255"></textarea>\n                                    <span ng-show="!forms.militaryForm.serviceObligText.$error.maxlength && !forms.militaryForm.serviceObligText.$error.charSet"><small><strong>{{255-(cafData.cafOtherServiceDesc.length)}} characters left/255</strong></small></span>\n                                    <span class="text-danger" ng-show="forms.militaryForm.serviceObligText.$error.maxlength">Other Service Description cannot be more than 255 characters</span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="additional"></a>\n                <div class="panel panel-default">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Additional Information</h2>\n                    </div>\n                    <div class="panel-body form-horizontal">\n                        <form class="simple-form form-horizontal" novalidate id="forms.additionalInfoForm" name="forms.additionalInfoForm" role="form">\n                            <div class="form-group">\n                                <label for="cafHobbiesInterestsDesc" class="col-md-2 control-label"><strong>Hobbies &\n                                    Interests </strong>\n                                </label>\n                                <div class="col-md-6">\n                                    <textarea id="cafHobbiesInterestsDesc" name="cafHobbiesInterestsDesc" ng-model="cafData.cafHobbiesInterestsDesc" class="form-control" ng-maxlength="510" maxlength="510"></textarea>\n                                    <span ng-show="!forms.additionalInfoForm.cafHobbiesInterestsDesc.$error.maxlength && !forms.additionalInfoForm.cafHobbiesInterestsDesc.$error.charSet"><small><strong>{{510-(cafData.cafHobbiesInterestsDesc.length)}} characters left/510</strong></small></span>\n                                    <br/>\n                                    <span class="text-danger" ng-show="forms.additionalInfoForm.cafHobbiesInterestsDesc.$dirty && forms.additionalInfoForm.cafHobbiesInterestsDesc.$error.maxlength">Hobbies & Interests cannot be more than 510 characters</span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal fade" id="DeleteLanguageModal" tabindex="-1" role="alertdialog" aria-hidden="true">\n        <div class="modal-dialog modal-lg">\n            <form id="forms.deleteLanguageForm" name="forms.deleteLanguageForm">\n                <div class="modal-content">\n                    <div class="modal-header modal-title">\n                        <h1>Delete Language Fluency Entry</h1>\n                    </div>\n                    <div class="modal-body">You have indicated that you would like to delete the Language Fluency entry for\n                        <strong>{{ languageFluency.languageToDelete.languageDescription }}</strong>. Are you certain?\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                        <button type="button" class="btn btn-danger" ng-click="languageFluency.deleteLanguage(languageFluency.languageToDelete)" data-dismiss="modal">Delete</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</aamc-application-tabs>\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n');
}]),angular.module("states/biographic/languageFluency-modal.html",[]).run(["$templateCache",function(a){a.put("states/biographic/languageFluency-modal.html",'<div class="modal" tabindex="-1" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="forms.languageFluencyForm" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button role="button" type="button" class="close" ng-click="languageFluency.hideModal();" aria-label="Close">&times;</button>\n                    <h4 class="modal-title" id="myModalLabel">\n                        <h1>Language Fluency</h1>\n                    </h4>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p style="text-align: left">\n                            <strong>\n                                <span class="text-danger">*</span>Indicates required fields.</strong>\n                        </p>\n                        <hr>\n                        <p>\n                            What languages do you speak? Select all that apply. For each language that you select, including English, you will be asked to rate your proficiency in that language using the guidelines provided below.\n                        </p>\n                        <p>\n                            <strong><u>Native/Functionally Native</u></strong>:\n                            <br> I converse easily and accurately in all types of situations. Native speakers, including the highly educated, may think that I am a native speaker, too.\n                        </p>\n                        <p>\n                            <strong><u>Advanced</u></strong>:\n                            <br> I speak very accurately, and I understand other speakers very accurately. Native speakers have no problem understanding me, but they probably perceive that I am not a native speaker.\n                        </p>\n                        <p>\n                            <strong><u>Good</u></strong>:\n                            <br> I speak well enough to participate in most conversations. Native speakers notice some errors in my speech or my understanding, but my errors rarely cause misunderstanding. I have some difficulty communicating necessary health concepts.\n                        </p>\n                        <p>\n                            <strong><u>Fair</u></strong>:\n                            <br> I speak and understand well enough to have extended conversations about current events, work, family, or personal life. Native speakers notice many errors in my speech or my understanding. I have difficulty communicating about healthcare concepts.\n                        </p>\n                        <p>\n                            <strong><u>Basic</u></strong>:\n                            <br> I speak the language imperfectly and only to a limited degree and in limited situations. I have difficulty in or understanding extended conversations. I am unable to understand or communicate most healthcare concepts.\n                        </p>\n                        <div class="form-group">\n                            <label for="language" class="col-md-4 control-label">\n                                <strong>\n                                    <span class="text-danger">*</span>\n                                    Language\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select class="form-control" name="language" id="language" ng-model="languageFluency.applicant.language" ng-options="item.languageDescription for item in languageData=(languageFluency.languages |orderBy: \'languageDescription\')" ng-change="languageFluency.applicant.proficiency = null" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="proficiency" class="col-md-4 control-label">\n                                <strong>\n                                    <span class="text-danger">*</span>\n                                    Proficiency\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select class="form-control" name="proficiency" id="proficiency" ng-model="languageFluency.applicant.proficiency" ng-options="item.languageProficiencyDescription for item in languageFluency.proficiencies" ng-disabled="!languageFluency.applicant.language" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" ng-click="languageFluency.hideModal();">Cancel</button>\n                    <button role="button" class="btn btn-primary btn-purple" ng-click="languageFluency.createLanguage(languageFluency.applicant.language, languageFluency.applicant.proficiency)" type="submit" ng-disabled="disableSave" ng-show="!languageFluency.editMode">Save</button>\n                    <button role="button" class="btn btn-primary btn-purple" ng-click="languageFluency.updateLanguage(languageFluency.applicant.language, languageFluency.applicant.proficiency)" type="submit" ng-disabled="disableUpdate" ng-show="languageFluency.editMode">Update</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/certify/certify.html",[]).run(["$templateCache",function(a){a.put("states/certify/certify.html",'<aamc-application-tabs>\n    <!-- Tab panels -->\n    <div class="tab-pane in  active" id="certify">\n        <div ng-if="checkListMode && isEligible" class="panel panel-default">\n            <div class="panel-body ">\n                <div class="span7 offset5">\n                    <aamc-help-modal contentKey="CERTIFY_HELPCONTENT"></aamc-help-modal>\n                    <certify-submit-checklist checklistStates="{{states}}"></certify-submit-checklist>\n                </div>\n                <div class="row">\n                    <span class="text-danger pull-right" ng-if="showChecklistNotCompleteText" ng-bind-html="contentObj.applicationChecklistText">\n                </span>\n                </div>\n                <div class="pull-right">\n                    <button class="btn btn-primary btn-purple" tabindex="0" aria-disabled="false" ng-click="continueToShowApplication();">\n                        Continue <span class="glyphicon glyphicon-play"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default casPanel" ng-if="isEligible && !checkListMode && !checkListModeStatus">\n            <div class="panel-body ">\n                <div>\n                    <div>\n                        <div class="container-fluid casContainer" ng-if="!checkListMode">\n                            <p class="pull-right caslabel" ng-if="!checkListMode">{{applicationData.fullName}} ({{applicationData.aamcId}});\n                                <small>MyERAS Application Form</small>\n                            </p>\n                            <br>\n                            <hr>\n                            <aamc-certify-and-submit-general-information></aamc-certify-and-submit-general-information>\n                            <aamc-certify-and-submit-medical-licenses></aamc-certify-and-submit-medical-licenses>\n                            <aamc-cas-state-license></aamc-cas-state-license>\n                            <aamc-certify-and-submit-medical-edu></aamc-certify-and-submit-medical-edu>\n                            <aamc-certify-and-submit-medical-school-honors></aamc-certify-and-submit-medical-school-honors>\n                            <aamc-certify-and-submit-society-membership></aamc-certify-and-submit-society-membership>\n                            <aamc-certify-and-submit-higher-education></aamc-certify-and-submit-higher-education>\n                            <aamc-certify-and-submit-training></aamc-certify-and-submit-training>\n                            <aamc-certify-and-submit-experience></aamc-certify-and-submit-experience>\n                            <aamc-certify-and-submit-publications></aamc-certify-and-submit-publications>\n                            <aamc-certify-and-submit-language></aamc-certify-and-submit-language>\n                            <aamc-certify-and-submit-hobbies></aamc-certify-and-submit-hobbies>\n                            <aamc-certify-and-submit-other-awards></aamc-certify-and-submit-other-awards>\n                            <aamc-certify-and-submit-certification></aamc-certify-and-submit-certification>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-if="!isEligible && !checkListMode" class="panel panel-default">\n            <div class="panel-body">\n                <div class="col-md-12">\n                    <div ng-bind-html="certifyMsg"></div>\n                    <br />\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n')}]),angular.module("states/create/create.html",[]).run(["$templateCache",function(a){a.put("states/create/create.html",'<div class="wrapper col-md-12 no-print">\n    <div class="panel panel-default">\n        <div class="panel-body table-responsive">\n            <div class="col-lg-12">\n                <div class="panel-body">\n                    <div class="row">\n                        <div class="col-md-11">\n                            <div class="form-group">\n                                <div class="panel panel-default">\n                                    <div class="panel-heading">\n                                        <label for="token">ERAS Electronic Token</label>\n                                    </div>\n                                    <div class="panel-body">\n                                        <div>\n                                            <form name="forms.createForm" class="forms.simple-form form-horizontal" role="form" aamc-validate-form-and-focus add-error-elems="true">\n                                                <div ng-if="currentPage == 3">\n                                                    <div>\n                                                        <div class="">\n                                                            <h5>\n                                                                <strong>Medical School Graduation Information</strong>\n                                                            </h5>\n                                                        </div>\n                                                        <div class="form-group">\n                                                            <label for="medCountry" class="col-md-2 control-label">\n                                                                <strong>Country\n                                                                    <span class="text-danger">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <select name="country" class="form-control" ng-options="o.countryCd as o.countryDesc for o in country" ng-model="app.inst.countryCd" required>\n                                                                </select>\n                                                                <span class="text-danger" ng-show="formValidator.invalid && forms.createForm.country.$error.required">This field is required</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group">\n                                                            <label for="medSchool" class="col-md-2 control-label">\n                                                                <strong>School\n                                                                    <span class="text-danger">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <select name="school" class="form-control" ng-options="o.instId as o.instName for o in school" ng-model="app.inst.instId" required>\n                                                                    <option></option>\n                                                                </select>\n                                                                <span class="text-danger" ng-show="formValidator.invalid && forms.createForm.school.$error.required">This field is required</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group" ng-show="app.inst.instId === 0">\n                                                            <label for="medSchool" class="col-md-2 control-label">\n                                                                <strong>If School not listed\n                                                                    <span class="text-danger" ng-show="app.inst.instId === 0">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <input name="schoolNotListed1" type="text" id="school" class="form-control" ng-model="app.inst.instName" ng-required="app.inst.instId === 0 " maxlength="100" ng-maxlength="100">\n                                                                <span class="text-danger" ng-show="formValidator.invalid && forms.createForm.schoolNotListed1.$error.required">This field is required</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group">\n                                                            <label for="degreeYear" class="col-md-2 control-label">\n                                                                <strong>Degree Year\n                                                                    <span class="text-danger">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <select name="year" class="form-control" ng-options="year for year in years" ng-model="app.degreeyear" required>\n                                                                </select>\n                                                                <span class="text-danger" ng-show="formValidator.invalid && forms.createForm.year.$error.required">This field is required</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group" ng-show="app.inst.countryCd == \'USA\' && app.inst.instId == \'835\'">\n                                                            <label for="degreemonth" class="col-md-2 control-label">\n                                                                <strong>Degree Month\n                                                                    <span class="text-danger">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <select name="month" class="form-control" ng-options="month.id as month.name for month in months" ng-model="app.degreemonth" ng-required="app.inst.countryCd==\'USA\' && app.inst.instId==\'835\'">\n                                                                </select>\n                                                                <span class="text-danger" ng-show="forms.createForm.month.$error.required">This field is required</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group">\n                                                            <label class="col-md-2 control-label">\n                                                                <strong>USMLE ID\n                                                                    <span class="text-danger" ng-show="app.residencyType == \'IMG\' || app.fellowshipType == \'IMG\' ">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <input name="usmleId" type="text" class="form-control" placeholder="Enter USMLE ID" ng-required="app.residencyType==\'IMG\' || app.fellowshipType == \'IMG\'" ng-model="app.usmleId" ng-minlength="8" ng-maxlength="8" ng-pattern="/^[0-9]+$/" maxlength="8" aamc-usmle-id-validation>\n                                                                <span class="text-danger" ng-show="forms.createForm.usmleId.$error.required">\n                                                                    This field is required</span>\n                                                                <span class="text-danger" ng-show="forms.createForm.usmleId.$error.minlength && formValidator.invalid">\n                                                                    This field must be eight characters</span>\n                                                                <span class="text-danger" ng-show="forms.createForm.usmleId.$error.pattern && formValidator.invalid">This field only accepts numbers</span>\n                                                                <span ng-if="(app.residencyType == \'IMG\' || app.fellowshipType == \'IMG\')">\n                                                                    <span class="text-danger" ng-show="forms.createForm.usmleId.$error.zeroRange">A USMLE/ECFMG ID cannot be 00000000.</span>\n                                                                <span class="text-danger" ng-show="forms.createForm.usmleId.$error.usmleIdValidation">USMLE/ECFMG ID entered is invalid</span>\n                                                                </span>\n                                                                <span ng-if="!(app.residencyType == \'IMG\' || app.fellowshipType == \'IMG\')">\n                                                                    <span class="text-danger" ng-show="forms.createForm.usmleId.$error.zeroRange">A USMLE ID cannot be 00000000.</span>\n                                                                    <span class="text-danger" ng-show="forms.createForm.usmleId.$error.usmleIdValidation">USMLE ID entered is invalid</span>\n                                                                </span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="form-group" ng-if="app.residencyType == \'DO\' || app.fellowshipType == \'DO\'">\n                                                            <label class="col-md-2 control-label">\n                                                                <strong>NBOME ID\n                                                                    <span class="text-danger">*</span>\n                                                                </strong>\n                                                            </label>\n                                                            <div class="col-md-6">\n                                                                <input name="nbomeId" type="text" class="form-control" placeholder="Enter NBOME ID" ng-model="app.nbomeId" ng-minlength="6" ng-maxlength="6" ng-pattern="/^[0-9]+$/" ng-required="app.residencyType==\'DO\' || app.fellowshipType == \'DO\' " maxlength="6">\n                                                                <span class="text-danger" ng-show="forms.createForm.nbomeId.$error.required">\n                                                                    This field is required</span>\n                                                                <!-- <span class="text-danger" ng-show="forms.createForm.nbomeId.$error.minlength||forms.createForm.nbomeId.$error.maxlength"> -->\n                                                                <span class="text-danger" ng-show="forms.createForm.nbomeId.$error.minlength && formValidator.invalid">\n                                                                    This field must be six characters</span>\n                                                                <span class="text-danger" ng-show="forms.createForm.nbomeId.$error.pattern&&formValidator.invalid">This field only accepts numbers</span>\n                                                            </div>\n                                                        </div>\n                                                        <div class="checkbox">\n                                                            <label>\n                                                                <input type="checkbox" name="confirmCheck" ng-model="app.checked" required />\n                                                            </label>\n                                                            <div class="checkbox-text">\n                                                                I understand and agree to the AAMC <a href="https://www.aamc.org/44866/privacy.html" target="_blank" style="text-decoration: none; border-bottom: 1px solid #999999">Privacy Notice</a> and the AAMC policies Regarding the Collection, Use and Dissemination of Resident, Intern, Fellow and Residency, Internship, and Fellowship Application Data (<a href="https://services.staging.aamc.org/eras/myeras2015/app/datapolicy.pdf" target="_blank" style="text-decoration: none; border-bottom: 1px solid #999999">attached policy</a>, PDF), and to the transfer of my personal data to those residency programs in the United States and Canada that I select through my application, and to other third parties as stated in the Privacy Policies.\n                                                            </div>\n                                                        </div>\n                                                        <span ng-show="formValidator.invalid && forms.createForm.confirmCheck.$error.required" class="text-danger">Selection is required.</span>\n                                                        <br />\n                                                        <div class="form-group">\n                                                            <div class="col-md-offset-10">\n                                                                <button class="btn btn-default btn-large" ng-click="cancelTokenEntry();">Cancel</button>\n                                                                <button class="btn btn-primary btn-large" ng-click="register(app);" ng-show="editMode">Update</button>\n                                                                <button class="btn btn-primary btn-large" ng-click="register();" ng-hide="editMode">Continue</button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                        <div ng-if="currentPage == 1">\n                                            <div ng-if="!continueScreen.isBusy">\n                                                <form name="forms.confirmForm" novalidate class="simple-form form-horizontal" role="form" aamc-validate-form-and-focus add-error-elems="true">\n                                                    <h2>Verify the Information:</h2>\n                                                    <br />\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>AAMC User Name:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{user.username}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>Name:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{user.commonName}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>Applying For:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.applicationType|appType}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>Country:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.inst.countryDesc}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>School:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static" ng-show="app.inst.instId === 0">Other Institution</p>\n                                                            <p class="form-control-static" ng-show="app.inst.instId !== 0">{{app.inst.instName}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group" ng-show="app.inst.instId === 0">\n                                                        <div class="col-md-4">\n                                                            <label for="medSchool" class=" text-align: left">\n                                                                <strong>If School not listed:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.inst.instName}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>Degree Year:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.degreeyear}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group" ng-show="app.inst.countryCd == \'USA\' && app.inst.instId == \'835\' && app.inst.instId !== undefined && app.inst.countryCd !== undefined">\n                                                        <div class="col-md-4">\n                                                            <label for="degreemonth" class="control-label">\n                                                                <strong>Degree Month:</strong>\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{months[app.degreemonth-1].name}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>USMLE ID:</strong>\n                                                                <!--  <span class="text-danger" ng-show="app.residencyType == \'IMG\' || app.fellowshipType == \'IMG\' ">*</span> -->\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.usmleId}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group" ng-if="app.residencyType == \'DO\' || app.fellowshipType == \'DO\'">\n                                                        <div class="col-md-4">\n                                                            <label class="control-label">\n                                                                <strong>NBOME ID:</strong>\n                                                                <!--  <span class="text-danger" ng-show="app.residencyType == \'DO\' || app.fellowshipType == \'DO\' ">*</span> -->\n                                                            </label>\n                                                        </div>\n                                                        <div class="col-md-8">\n                                                            <p class="form-control-static">{{app.nbomeId}}</p>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-md-offset-10">\n                                                        <button class="btn btn-primary btn-purple " ng-click="edit();">Edit</button>\n                                                        <button class="btn btn-primary btn-purple " ng-click="confirm()" ng-disabled="disableConfirm || forms.createForm.$invalid">Continue</button>\n                                                    </div>\n                                                </form>\n                                            </div>\n                                            <!--<div ng-if="continueScreen.isBusy">\n                                                <i class="fa fa-spinner fa-5x fa-spin"></i>\n                                            </div>-->\n                                        </div>\n                                        <div class="confirmation-final no-print" ng-if="currentPage == 4" aamc-browser-print print-content="printContent">\n                                            <div class="col-md-10">\n                                                <div class="text-center">\n                                                    <p>\n                                                        <strong>You have successfully registered with MyERAS</strong>\n                                                    </p>\n                                                    <p>\n                                                        <strong>Please note your user name. You will use it to access all AAMC applications. Click "Continue" to proceed to the MyERAS Dashboard.</strong>\n                                                    </p>\n                                                    <p>\n                                                        <strong>It is recommended that you print this page for your records.</strong>\n                                                    </p>\n                                                    <p>\n                                                        <label>\n                                                            <strong>AAMC ID:</strong>\n                                                        </label>\n                                                        <strong>{{user.aamcId}}</strong>\n                                                    </p>\n                                                    <p>\n                                                        <label>\n                                                            <strong>User Name:</strong>\n                                                        </label>\n                                                        <strong>{{user.username}}</strong>\n                                                    </p>\n                                                    <p>\n                                                        <label>\n                                                            <strong>Name:</strong>\n                                                        </label>\n                                                        <strong>{{user.givenName + \' \' + user.initials + \' \' + user.surname + \' \' + user.suffix}}</strong>\n                                                    </p>\n                                                    <div class="hidden-print">\n                                                        <button type="button" role="button" class="btn btn-primary" ng-click="printContent()">Print</button>\n                                                        <button class="btn btn-primary btn-purple" ng-click="complete();">Continue</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/experience/experience-modal.html",[]).run(["$templateCache",function(a){a.put("states/experience/experience-modal.html",'<div class="modal" tabindex="-1" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="forms.ExpForm" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button type="button" class="close" ng-click="hideExpModal();" aria-label="Close">&times;</button>\n                    <h4 class="modal-title" id="myModalLabel"><h1>Experience</h1></h4>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p style="text-align: left">\n                            <strong>\n                                <span class="text-danger">*</span> Indicates required field.</strong>\n                        </p>\n                        <hr>\n                        <div class="form-group">\n                            <label for="experienceType" class="col-md-4 control-label">\n                                <strong>\n                                    Experience Type <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select id="experienceType" name="experiencetype" class="carehomeselectbox form-control" ng-options="et.experienceTypeCd as et.experienceTypeDesc for et in experienceTypes" ng-model="experienceObject.expTypeCd" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="organization" class="col-md-4 control-label">\n                                <strong>\n                                   Organization <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" name="org" id="organization" class="form-control" ng-model="experienceObject.expOrgName" required maxlength="50">\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="position" class="col-md-4 control-label">\n                                <strong>\n                                   Position <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" name="pos" id="position" class="form-control" ng-model="experienceObject.expPosTitle" required maxlength="100">\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="supervisor" class="col-md-4 control-label">\n                                <strong>\n                                    Supervisor <span class="text-danger" ng-if="experienceObject.expTypeCd==2">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" name="super" id="supervisor" class="form-control" ng-model="experienceObject.expSupervisorName" ng-required="experienceObject.expTypeCd==2" required maxlength="50">\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="country" class="col-md-4 control-label">\n                                <strong>\n                                    Country <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select name="con" id="country" class="carehomeselectbox form-control" ng-options="o.countryCd as o.countryDesc for o in countries" ng-model="experienceObject.expCountryCd" ng-change="statesvaluesChange(experienceObject.expCountryCd)" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label id="stateProvince" class="col-md-4 control-label">\n                                <strong>\n                                    State/Province <span class="text-danger" ng-show=" experienceObject.expCountryCd===\'USA\' || experienceObject.expCountryCd===\'CAN\'">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6" ng-show=" experienceObject.expCountryCd===\'USA\' || experienceObject.expCountryCd===\'CAN\' ">\n                                <select name="state" aria-labelledby="stateProvince" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="experienceObject.expStateCd" ng-required="states.length">\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                            <div class="col-md-6" ng-show=" experienceObject.expCountryCd !=\'USA\' && experienceObject.expCountryCd !=\'CAN\' ">\n                                <select aria-labelledby="stateProvince" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="experienceObject.expStateCd">\n                                    <option value="">Not Applicable</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="city" class="col-md-4 control-label">\n                                <strong>\n                                    City <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input id="city" name="city" type="text" id="institution" class="form-control" ng-model="experienceObject.expCity" required maxlength="50">\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="averageHours" class="col-md-4 control-label">\n                                <strong>Average Hours/Week\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input name="avg" type="text" id="averageHours" class="form-control" ng-pattern="/^[0-9]+$/" ng-model="experienceObject.expHours" maxlength="3">\n                                <span class="text-danger" ng-show="forms.ExpForm.avg.$error.pattern">This field only accepts numbers!</span>\n                                <span class="text-danger" ng-show="experienceObject.expHours>168">Cannot exceed 168 hours</span>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="description" class="col-md-4 control-label">\n                                <strong>Description</strong>\n                            </label>\n                            <div class="col-md-6">\n                                <textarea name="jobDesc" id="description" class="form-control" ng-model="experienceObject.expJobDesc" maxlength="1020" ng-maxlength="1020"></textarea>\n                                <span ng-show="!ExpForm.jobDesc.$error.maxlength && !ExpForm.jobDesc.$error.charSet">{{1020 - experienceObject.expJobDesc.length}} characters left /1020</span>\n                                <span class="text-danger" ng-show="ExpForm.jobDesc.$error.maxlength">This field must be within 1020 Characters</span>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="reasonLeaving" class="col-md-4 control-label">\n                                <strong>Reason for Leaving</strong>\n                            </label>\n                            <div class="col-md-6">\n                                <textarea name="reason" id="reasonLeaving" class="form-control" ng-model="experienceObject.expReasonLeftDesc" maxlength="510" ng-maxlength="510"></textarea>\n                                <span ng-show="!ExpForm.reason.$error.maxlength && !ExpForm.reason.$error.charSet">{{510 - experienceObject.expReasonLeftDesc.length}} characters left /510</span>\n                                <span class="text-danger" ng-show="ExpForm.reason.$error.maxlength">This field must be within 510 Characters</span>\n                            </div>\n                        </div>\n                        <h4>Dates of Experience:</h4>\n                        <div class="form-group">\n                            <label for="fromMonth" class="col-md-4 control-label">\n                                <strong>\n                                    From\n                                    <span class="ml15">Month</span>\n                                    <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-2">\n                                <select name="fromMonth" id="fromMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="experienceObject.expStartMth" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="experienceObject.expStartMth > month">Invalid Range</span>\n                            </div>\n                            <label for="fromYear" class="col-md-1 control-label">\n                                <strong>\n                                    Year <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-2">\n                                <select name="fromYear" id="fromYear" class="form-control" ng-options="year for year in fromYears" ng-model="experienceObject.expStartYr" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="toMonth" class="col-md-4 control-label">\n                                <strong>\n                                    To\n                                    <span class="ml15">Month</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-2">\n                                <select name="toMonth" id="toMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="experienceObject.expEndMth" ng-required="experienceObject.expEndYr">\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show=" (experienceObject.expStartMth > experienceObject.expEndMth) && (experienceObject.expStartYr===experienceObject.expEndYr) ">Invalid Range\n                                </span>\n                            </div>\n                            <label for="toYear" class="col-md-1 control-label">\n                                <strong>\n                                    Year\n                                </strong>\n                            </label>\n                            <div class="col-md-2">\n                                <select name="toYear" id="toYear" class="form-control" ng-options="year for year in years" ng-model="experienceObject.expEndYr" ng-required="experienceObject.expEndMth">\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="ExpForm.toYear.$error.required">This field is required if month is set</span>\n                                <span class="text-danger" ng-show="experienceObject.expEndYr && experienceObject.expStartYr > experienceObject.expEndYr">Invalid Range\n                                </span>\n                                <span class="text-danger" ng-show="ExpForm.toYear.$error.pattern">This field only accepts numbers</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" ng-click="hideExpModal();">Cancel</button>\n                    <button role="button" type="button" class="btn btn-primary" ng-click="saveExperience(experienceObject);" ng-show="!displayModalUpdateButton" ng-disabled="!enableSaveExpModal">Save</button>\n                    <button role="button" type="button" class="btn btn-primary" ng-click="updateExperience(experienceObject)" ng-show="displayModalUpdateButton" ng-disabled="!enableSaveExpModal">Update</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/experience/experience.html",[]).run(["$templateCache",function(a){a.put("states/experience/experience.html",'<aamc-application-tabs aamc-validate-form-and-focus add-error-elems="true">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <!-- Tab panels -->\n            <a id="training"></a>\n            <div class="tab-pane  in active" id="Experience">\n                <aamc-help-modal contentKey="EXPERIENCE_HELPCONTENT"></aamc-help-modal>\n                <p><span class="text-danger">*</span> Indicates required fields.</p>\n                <div class="panel panel-default" ng-class="sectionErrorTraining">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Training <span class="text-danger">*</span></h2>\n                    </div>\n                    <div class="panel-body">\n                        <p>Please add an entry for any current or prior D.O. Internship, D.O. Residency, D.O. Fellowship, M.D. Residency or M.D. Fellowship in which you have trained, regardless of the length of time spent in the training. After completing the required fields, click Save. Additional entries may be added as needed.\n                        </p>\n                        <div class="pull-left">\n                            <button role="button" class="btn btn-prusia" type="submit" aria-label="Add Entry Training" data-target="#trainingModal" data-toggle="modal" ng-click="changeButton();showTrainingModal(false);">\n                                <i class="fa fa-plus"></i> Add Entry\n                            </button>\n                            <button role="button" class="btn btn-default" type="submit" ng-show="enableTrainingNoneButton" ng-click="SetNoneTrainee()">None</button>\n                        </div>\n                        <div class="col-md-12 col-sm-12 col-xs-12">\n                            <span class="text-danger" ng-show="validationTrainingMsg">{{validationTrainingMsg}}</span>\n                        </div>\n                        <br>\n                        <br>\n                        <br>\n                        <!--<div ng-repeat="trainee in allTrainings|orderBy:[\'-resStartYr\',\'-resStartMth\']" ng-show="allTrainings.length >=0 && !showTrainingNoneText"></div>-->\n                        <div class="table-responsive clearfix" ng-hide="trainee.resPgm===\'None\'">\n                            <table class="table table-bordered table-striped table-hover" ng-show="allTrainings && allTrainings.length !== 0 && !showTrainingNoneText">\n                                <thead>\n                                    <tr>\n                                        <th class=\'col-md-1\'>Training Type</th>\n                                        <th class=\'col-md-4\'>Specialty</th>\n                                        <th class=\'col-md-3\'>Program Name</th>\n                                        <th class=\'col-md-2\'>Dates</th>\n                                        <th class=\'col-md-2\'>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody class="no-border-y">\n                                    <tr ng-repeat="trainee in allTrainings|orderBy:[\'-resStartYr\',\'-resStartMth\']" ng-show="allTrainings.length >=0 && !showTrainingNoneText">\n                                        <td>{{trainee.trainingType.ptDesc}}</td>\n                                        <td>{{getSpecialty(trainee.resSpecCd)}}</td>\n                                        <td><span>{{trainee.resPgm}}</span>\n                                        </td>\n                                        <td>{{trainee.resStartMth}}/{{trainee.resStartYr}} - {{trainee.resEndMth}}/{{trainee.resEndYr}}</td>\n                                        <td>\n                                            <button role="button" class="btn btn-default fa fa-edit" tooltip="Edit" name="editTraining" aria-label="Edit Training" ng-click="dataTrainee(trainee)" type="submit"></button>\n                                            <button role="button" class="btn btn-danger fa fa-trash" tooltip="Delete" aria-label="Delete Training" type="submit" data-target="#DeletetrainingModal" data-toggle="modal" ng-click="deleteTraineeData(trainee)"></button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class="panel-heading" ng-show="showTrainingNoneText">\n                            <div class="panel-group" id="accordion">\n                                <div class="panel panel-default">\n                                    <div class="panel-heading">\n                                        <h4 class="panel-title">\n                                            None\n                                        </h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <a id="experience"></a>\n            <div class="panel panel-default" ng-class="sectionErrorExperience">\n                <div class="panel-heading">\n                    <h2 class="panel-title">Experience <span class="text-danger">*</span></h2>\n                </div>\n                <div class="panel-body">\n                    <p>Please add an entry for your additional experience. Clinical and Teaching experience should be treated as Work experiences. Include all unpaid extra-curricular activities and committees you have served on as Volunteer experiences. After completing the required fields, click Save. Additional entries may be added as needed.</p>\n                    <div class="pull-left">\n                        <button role="button" class="btn btn-prusia" type="submit" aria-label="Add Entry Experience" ng-click="changeButton(); showExpModal(false);">\n                            <i class="fa fa-plus"></i> Add Entry\n                        </button>\n                        <button role="button" class="btn btn-default" type="submit" ng-hide="AllExperiences && AllExperiences.length" ng-click="noneExperienceDetails()">None</button>\n                    </div>\n                    <div class="col-md-12 col-sm-12 col-xs-12">\n                        <span class="text-danger" ng-show="validationExperienceMsg">{{validationExperienceMsg}}</span>\n                    </div>\n                    <br>\n                    <br>\n                    <br>\n                    <div class="table-responsive clearfix" ng-hide="trainee.resPgm===\'None\'">\n                        <table class="table table-bordered table-striped table-hover" ng-show="AllExperiences && AllExperiences.length !== 0 && AllExperiences[0].id.expSeqNbr!==0">\n                            <thead>\n                                <tr>\n                                    <th class="col-md-1">Experience Type</th>\n                                    <th class="col-md-4">Organization Name</th>\n                                    <th class="col-md-3">Position</th>\n                                    <th class="col-md-2">Dates</th>\n                                    <th class="col-md-2">Action</th>\n                                </tr>\n                            </thead>\n                            <tbody class="no-border-y">\n                                <tr ng-repeat="experienceData in AllExperiences|orderBy:[\'-expStartYr\',\'-expStartMth\']" ng-show="AllExperiences[0].id.expSeqNbr!==0">\n                                    <td>{{experienceData.experienceType.experienceTypeDesc}}</td>\n                                    <td><span>{{experienceData.expOrgName}}</span>\n                                    </td>\n                                    <td><span>{{experienceData.expPosTitle}}</span>\n                                    </td>\n                                    <td>{{experienceData.expStartMth}}/{{experienceData.expStartYr}} -\n                                        <span ng-show="experienceData.expEndMth && experienceData.expEndYr">{{experienceData.expEndMth}}/{{experienceData.expEndYr}}</span>\n                                        <span ng-show="!experienceData.expEndMth || !experienceData.expEndYr">Present</span>\n                                    </td>\n                                    <td>\n                                        <button role="button" class="btn btn-default fa fa-edit" tooltip="Edit" name="editExperience" aria-label="Edit Experience" ng-click="dataExperience(experienceData)" type="submit"></button>\n                                        <button role="button" class="btn btn-danger fa fa-trash" tooltip="Delete" aria-label="Delete Experience" type="submit" data-target="#DeleteExperienceModal" data-toggle="modal" ng-click="deleteExperienceData(experienceData)"></button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div class="panel-heading" ng-show="AllExperiences[0].id.expSeqNbr===0">\n                        <div class="panel-group" id="accordion">\n                            <div class="panel panel-default">\n                                <div class="panel-heading">\n                                    <h4 class="panel-title">\n                                            None\n                                        </h4>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <a id="additional"></a>\n            <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'interruptForm\') }">\n                <div class="panel-heading">\n                    <h2 class="panel-title">Additional Questions</h2>\n                </div>\n                <form name="forms.interruptForm" class="form-horizontal" style="margin-top: 25px;">\n                    <div class="form-group">\n                        <label id="medEducation" class="col-md-4 control-label">\n                            <strong>Was your medical education/training extended or interrupted?</strong>\n                            <span class="text-danger">*</span>\n                        </label>\n                        <div class="col-md-3">\n                            <label class="radio-inline">\n                                <input type="radio" aria-labelledby="medEducation" name="experience" ng-model="caf.cafEducInterruptInd" value="Y" required>Yes\n                            </label>\n                            <label class="radio-inline">\n                                <input type="radio" aria-labelledby="medEducation" name="experience" value="N" ng-click="caf.cafEducInterruptDesc = \'\';" ng-model="caf.cafEducInterruptInd" required>No\n                            </label>\n                            <br>\n                            <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.interruptForm.experience.$error.required" aria-hidden="false">\n                                Selection is required.\n                            </span>\n                        </div>\n                        <div class="col-md-5">\n                            <textarea id="desc" name="desc" ng-model="caf.cafEducInterruptDesc" class="form-control" ng-show="caf.cafEducInterruptInd == \'Y\'" ng-required="caf.cafEducInterruptInd===\'Y\'" placeholder="Please provide details of why your medical education/training was extended or interrupted." maxlength="510" ng-maxlength="510"></textarea>\n                            <span ng-show="caf.cafEducInterruptInd == \'Y\' && !forms.interruptForm.desc.$error.maxlength && !forms.interruptForm.desc.$error.charSet">{{510 - caf.cafEducInterruptDesc.length}} characters left/510</span>\n                            <span class="text-danger" ng-show="forms.interruptForm.desc.$error.maxlength">This field must be within 510 Characters</span>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n<div class="modal fade" id="DeletetrainingModal" tabindex="-1" role="alertdialog" aria-labelledby="trainingModal" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.deleteTrainingForm">\n            <div class="modal-content">\n                <div class="modal-header modal-title">\n                    <h1>Delete Training Entry</h1>\n                </div>\n                <div class="modal-body">You have indicated that you would like to delete the Training entry for\n                    <span>\n                            <strong>{{deletetrainee.resPgm}}</strong>.\n                        </span> Are you sure you want to delete?</div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                    <button role="button" type="button" class="btn btn-danger" ng-click="deleteTrainee()" data-dismiss="modal">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="modal fade" id="DeleteExperienceModal" tabindex="-1" role="alertdialog" aria-labelledby="experienceModal" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.deleteExperienceForm">\n            <div class="modal-content">\n                <div class="modal-header modal-title">\n                    <h1>Delete Experience Entry</h1>\n                </div>\n                <div class="modal-body">You have indicated that you would like to delete the\n                    <span>\n                            <strong>{{deleteexperienceData.experienceType.experienceTypeDesc}}</strong>\n                        </span> entry for\n                    <span>\n                            <strong>{{deleteexperienceData.expOrgName}}</strong>.\n                        </span> Are you sure you want to delete?\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                    <button role="button" type="button" class="btn btn-danger" ng-click="deleteExperience()" data-dismiss="modal">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/experience/training-modal.html",[]).run(["$templateCache",function(a){a.put("states/experience/training-modal.html",'<div class="modal" tabindex="-1" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <form name="forms.TraineeForm" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button role="button" type="button" class="close" ng-click="hideTrainingModal();" aria-label="Close">&times;</button>\n                    <h4 class="modal-title" id="myModalLabel"><h1>Training</h1></h4>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p style="text-align: left">\n                            <strong>\n                                <span class="text-danger">*</span> Indicates required field.</strong>\n                        </p>\n                        <hr>\n                        <div class="form-group">\n                            <label for="training" class="col-md-4 control-label">\n                                <strong>\n                                    Type of Training <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select id="training" name="training" class="carehomeselectbox form-control" ng-options="ty.ptTypeCd as ty.ptDesc for ty in trainingTypes" ng-model="training.resTypeCd" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="specialty" class="col-md-4 control-label">\n                                <strong>\n                                    Specialty <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select id="specialty" name="specialty" class="carehomeselectbox form-control" ng-options="sp.specCd as sp.trainingSpecName for sp in specialties" ng-model="training.resSpecCd" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="institution" class="col-md-4 control-label">\n                                <strong>\n                                    Institution/Program <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input id="institution" type="text" name="institution" id="institution" class="form-control" ng-model="training.resPgm" maxlength="100" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="country" class="col-md-4 control-label">\n                                <strong>\n                                   Country <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <select id="country" name="country" class="carehomeselectbox form-control" ng-options="o.countryCd as o.countryDesc for o in countries" ng-model="training.resCountryCd" ng-change="statesvaluesChange(training.resCountryCd)" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="stateProvince" class="col-md-4 control-label">\n                                <strong>\n                                    State/Province <span class="text-danger" ng-show="training.resCountryCd===\'USA\' || training.resCountryCd===\'CAN\'">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6" ng-show="training.resCountryCd===\'USA\' || training.resCountryCd===\'CAN\'">\n                                <select name="state" id="stateProvince" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="training.resStateCd" ng-required="states.length">\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                            <div class="col-md-6" ng-show="training.resCountryCd !=\'USA\' && training.resCountryCd !=\'CAN\'">\n                                <select id="stateProvince" class="carehomeselectbox form-control" ng-options="s.stateCd as s.stateDesc for s in states" ng-model="training.resStateCd">\n                                    <option value="">Not Applicable</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="city" class="col-md-4 control-label">\n                                <strong>\n                                    City <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input id="city" name="city" type="text" id="institution" class="form-control" ng-model="training.resCity" maxlength="50" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="programDirector" class="col-md-4 control-label">\n                                <strong>\n                                    Program Director <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input id="programDirector" name="programdirector" type="text" id="institution" class="form-control" ng-model="training.resPgmDirector" maxlength="50" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="supervisor" class="col-md-4 control-label">\n                                <strong>\n                                    Supervisor <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" id="supervisor" name="supervisor" id="institution" class="form-control" ng-model="training.resSupervisor" maxlength="50" required>\n                            </div>\n                        </div>\n                        <div class="form-group" ng-if="applicationData.applicationType===\'F\'">\n                            <label for="chiefResident" class="col-md-4 control-label">\n                                <strong>\n                                    Chief Resident\n                                </strong>\n                            </label>\n                            <div class="col-md-6">\n                                <fieldset>\n                                    <label class="checkbox">\n                                        <input type="checkbox" id="chiefResident" name="chiefResident" ng-model="training.resChiefInd" ng-checked="training.resChiefInd===\'Y\'" ng-true-value="\'Y\'" ng-false-value="null">\n                                    </label>\n                                </fieldset>\n                            </div>\n                        </div>\n                        <h5>\n                            <strong>Dates of Residency/Fellowship:</strong>\n                        </h5>\n                        <div class="form-group">\n                            <label for="fromMonth" class="col-md-4 control-label">\n                                <strong>\n                                    From <span class="ml15">Month</span>\n                                    <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-4">\n                                <select name="fromMonth" id="fromMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="training.resStartMth" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="training.resStartMth > month">Invalid Range</span>\n                            </div>\n                            <label for="fromYear" class="col-md-1 control-label">\n                                <strong>\n                                    Year&nbsp;<span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-3">\n                                <select id="fromYear" name="fromYear" class="form-control" ng-options="year for year in fromYears" ng-model="training.resStartYr" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="toMonth" class="col-md-4 control-label">\n                                <strong>\n                                    To <span class="ml15">Month</span>\n                                    <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-4">\n                                <select id="toMonth" name="toMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="training.resEndMth" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="(training.resStartMth > training.resEndMth) && (training.resStartYr === training.resEndYr) ">Invalid Range</span>\n                            </div>\n                            <label for="toYear" class="col-md-1 control-label">\n                                <strong>\n                                    Year&nbsp;<span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-3">\n                                <select id="toYear" name="toYear" class="form-control" ng-options="year for year in years" ng-model="training.resEndYr" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="training.resEndYr && training.resStartYr > training.resEndYr">Invalid Range\n                                </span>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="reasonForLeaving" class="col-md-4 control-label">\n                                <strong>Reason for Leaving</strong>\n                            </label>\n                            <div class="col-md-6">\n                                <textarea id="reasonForLeaving" name="reason" class="form-control" maxlength="510" ng-maxlength="510" ng-model="training.resReasonLeftDesc"></textarea>\n                                <span ng-show="!forms.TraineeForm.reason.$error.maxlength && !forms.TraineeForm.reason.$error.charSet">{{510 - training.resReasonLeftDesc.length}} characters left /510</span>\n                                <span class="text-danger" ng-show="forms.TraineeForm.reason.$error.maxlength">This field must be within 510 Characters</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="button" ng-click="hideTrainingModal();">Cancel</button>\n                    <button role="button" type="button" class="btn btn-primary" ng-click="saveTrainee(training,true)" ng-if="!displayModalUpdateButton" data-dismiss="modal">Save</button>\n                    <button role="button" type="button" class="btn btn-primary" ng-click="updateTrainee(training)" ng-if="displayModalUpdateButton" data-dismiss="modal">Update</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/general/general.html",[]).run(["$templateCache",function(a){a.put("states/general/general.html",'<aamc-application-tabs aamc-validate-form-and-focus add-error-elems="true">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <!-- Tab panels -->\n            <div class="tab-pane in active" id="Education">\n                <aamc-help-modal contentKey="EDUCATION_HELPCONTENT"></aamc-help-modal>\n                <p><span class="text-danger">*</span> Indicates required fields.</p>\n                <a id="higherEd"></a>\n                <div class="panel panel-default" ng-class="sectionErrorHigher">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Higher Education <span class="text-danger">*</span></h2>\n                    </div>\n                    <div class="panel-body">\n                        <p>\n                            This section allows multiple entries for each Undergraduate and Graduate School you have attended. Click Add Entry and complete the required fields, then Save. If you have no Education records, click None.\n                            <br>\n                            <br>\n                        </p>\n                        <p ng-if="applicationData.fellowshipType===\'IMG\'||applicationData.residencyType===\'IMG\'">\n                            Since most non-U.S. educational systems do not follow the U.S. model, almost all students and graduates of international medical schools will indicate "None." In the rare case where this question applies, please click Add Entry and complete the required fields, then Save.\n                        </p>\n                        <div class="pull-left">\n                            <button class="btn btn-prusia" type="submit" aria-label="Add Entry Higher Education" ng-click="showHigherEducationModal()">\n                                <i class="fa fa-plus"></i> Add Entry\n                            </button>\n                            <button class="btn btn-default" type="submit" ng-hide="allHigherEducations.length" ng-click="noneHigherEducationDetails()">None\n                            </button>\n                        </div>\n                        <div class="col-md-12 col-sm-12 col-xs-12">\n                            <span class="text-danger" ng-show="validationHigherMsg">{{validationHigherMsg}}</span>\n                        </div>\n                        <div class="clearfix"></div>\n                        <div class="table-responsive" ng-show="allHigherEducations[0].eduSeqNbr!==0">\n                            <table class="table table-bordered table-striped table-hover" ng-show="allHigherEducations && allHigherEducations.length !== 0 && allHigherEducations[0].id.eduSeqNbr!==0">\n                                <thead>\n                                    <tr>\n                                        <th class=\'col-md-8\'>Institution Name</th>\n                                        <th class=\'col-md-2\'>Dates Attended</th>\n                                        <th class=\'col-md-2\'>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody class="no-border-y">\n                                    <tr ng-repeat="higherEducation in allHigherEducations| orderBy: \'educationStartYear\': \'reverse\' ">\n                                        <td>\n                                            <span> {{higherEducation.educationInstitution}} </span>\n                                        </td>\n                                        <td>\n                                            <span>{{higherEducation.educationStartMonth}}/{{higherEducation.educationStartYear}}</span> -\n                                            <span ng-if="higherEducation.educationEndMonth && higherEducation.educationEndYear">{{higherEducation.educationEndMonth}}/{{higherEducation.educationEndYear}}</span>\n                                            <span ng-if="!higherEducation.educationEndMonth || !higherEducation.educationEndYear">Present</span>\n                                        </td>\n                                        <td>\n                                            <button role="button" class="btn btn-default fa fa-edit" tooltip="Edit" aria-label="Edit Higher Education" name="editHigher" ng-click="dataHigherEducation(higherEducation)" type="submit"></button>\n                                            <button role="button" class="btn btn-danger fa fa-trash" tooltip="Delete" aria-label="Delete Higher Education" type="submit" data-target="#DeleteEducationModal" data-toggle="modal" ng-click="deleteHigherEducationData(higherEducation)"></button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class="panel-heading" ng-show="allHigherEducations[0].id.eduSeqNbr===0">\n                            <div class="panel-group" id="accordion">\n                                <div class="panel panel-default">\n                                    <div class="panel-heading">\n                                        <h4 class="panel-title">\n                                            None\n                                        </h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <a id="medEd"></a>\n                <div class="panel panel-default" ng-class="sectionErrorMedical">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Medical Education <span class="text-danger">*</span></h2>\n                    </div>\n                    <!--<div ng-if="isBusy">\n                        <i class="fa fa-spinner fa-5x fa-spin"></i>\n                    </div>-->\n                    <div ng-show="!isBusy">\n                        <div class="panel-body">\n                            <br>\n                            <p>This section allows entries for each Medical School you have attended. Complete the required fields and Save. The page will refresh and additional entries can be added by clicking Add Entry.</p>\n                            <div class="pull-left" ng-show="firstMedComplete">\n                                <button class="btn btn-prusia" type="submit" aria-label="Add Entry Medical Education" ng-click="showMedicalEducationModal()">\n                                    <i class="fa fa-plus"></i> Add Entry\n                                </button>\n                            </div>\n                            <div class="col-md-12 col-sm-12 col-xs-12">\n                                <span class="text-danger" ng-show="validationMedicalMsg">{{validationMedicalMsg}}</span>\n                            </div>\n                            <div class="clearfix"></div>\n                            <div class="clearfix"></div>\n                            <div class="table-responsive" ng-show="firstMedComplete">\n                                <table class="table table-bordered table-striped table-hover" ng-show="allMedicalEducations && allMedicalEducations.length !== 0">\n                                    <thead>\n                                        <tr>\n                                            <th class="col-md-8">Institution Name</th>\n                                            <th class="col-md-2">Dates Attended</th>\n                                            <th class="col-md-2">Action</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody class="no-border-y">\n                                        <tr ng-repeat="medicalEducation in allMedicalEducations| orderBy: \'medStartyr\': \'reverse\'">\n                                            <td>\n                                                <span>{{medicalEducation.medInstitutionName}}</span>\n                                                <span ng-show="medicalEducation.medCcId">\n                                                    <br />\n                                                    {{ getCampusDetails(medicalEducation.medCcId) }}\n                                                </span>\n                                            </td>\n                                            <td>\n                                                <span>{{medicalEducation.medStartMth}}/{{medicalEducation.medStartyr}}</span> -\n                                                <span ng-if="medicalEducation.medEndMth && medicalEducation.medEndYr">{{medicalEducation.medEndMth}}/{{medicalEducation.medEndYr}}</span>\n                                                <span ng-if="!medicalEducation.medEndMth || !medicalEducation.medEndYr">Present</span>\n                                            </td>\n                                            <td>\n                                                <button class="btn btn-default fa fa-edit" tooltip="Edit" name="editMedical" aria-label="Edit Medical Education" ng-click="dataMedicalEducation(medicalEducation)" type="submit" tooltip="Edit"></button>\n                                                <button class="btn btn-danger fa fa-trash" tooltip="Delete" type="submit" aria-label="Delete Medical Education" data-target="#DeleteMedicalEducationModal" data-toggle="modal" ng-hide="medicalEducation.id.medSeqNbr===0" ng-click="deleteMedicalEducationData(medicalEducation)" tooltip="Delete"></button>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                            <div ng-if="!firstMedComplete" class="form-horizontal">\n                                <form name="forms.medicalForm" class="css-form" aamc-validate-form-and-focus add-error-elems="true">\n                                    <div class="form-group">\n                                        <label for="country" class="col-md-4 control-label">\n                                            <strong>Country:</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <p class="form-control-static" ng-show="!isMedSchoolEditable(applicationData);">{{medCountryDesc}}</p>\n                                            <span ng-show="isMedSchoolEditable(applicationData);">\n                                                <select id="country" name="country" class="form-control" ng-options="o.countryCd as o.countryDesc for o in getCountries(applicationData, true);" ng-model="medicalGeneral.medCountryCd" required ng-change="valuedata(medicalGeneral.medCountryCd);">\n                                                </select>\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="institution" class="col-md-4 control-label">\n                                            <strong>Institution:</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <p class="form-control-static" ng-show="!isMedSchoolEditable(applicationData);">{{institution}}</p>\n                                            <span ng-show="isMedSchoolEditable(applicationData);">\n                                                <select id="institution" name="school" class="form-control" ng-options="o.instId as o.instName for o in school" ng-model="medicalGeneral.medInstitutionId" ng-change="medicalEducation1.schoolNotListed = null;schoolvalueChange(medicalGeneral.medInstitutionId);" ng-required="!medicalEducation1.schoolNotListed">\n                                                    <option></option>\n                                                </select>\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-show="MedicalEducation.medInstitutionId === \'000\'">\n                                        <label for="medSchool" class="col-md-4 control-label">\n                                            <strong>If Medical School Not Listed \n                                            <span class="text-danger" ng-show="MedicalEducation.medInstitutionId === \'000\'">*</span>\n                                        </strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <input id="medSchool" name="schoolNotListed1" type="text" id="school" class="form-control" ng-model="medicalGeneral.medInstitutionName" ng-required="MedicalEducation.medInstitutionId === \'000\' " maxlength="100" ng-maxlength="100">\n                                            <span class="text-danger" ng-show="forms.medicalForm.schoolNotListed1.$error.required">This field is required</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-if="clinicalCampuses.length>0&&!(medicalGeneral.medCountryCd===\'CAN\'&&applicationData.applicationType===\'F\')">\n                                        <label for="clinicalcampuses" class="col-md-4 control-label">\n                                            <strong>Have you spent six or more months at a regional clinical campus?</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <select id="clinicalcampuses" class="form-control" ng-options="c.campusInstId as c.campusName for c in clinicalCampuses" ng-model="medicalGeneral.medCcId">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="degreeEarned" class="col-md-4 control-label">\n                                            <strong>Degree expected or earned:</strong>\n                                            <span class="text-danger">*</span>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <p class="form-control-static">Yes</p>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="degree" class="col-md-4 control-label">\n                                            <strong>Degree:</strong>\n                                            <span class="text-danger">*</span>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <select id="degree" name="degree" class="carehomeselectbox form-control" ng-options="d.degreeCode as d.degreeDescription + \' (\' + d.displayText +\')\' for d in medDegrees | orderBy : \'degreeDescription\'" ng-model="medicalGeneral.medDegreeCd" required>\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="degreeMonth" class="col-md-4 control-label">\n                                            <strong>Degree Month:</strong>\n                                            <span class="text-danger">*</span>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="degreeMonth" name="degreeMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in dwsDegMonths" ng-model="medicalGeneral.medDegreeMth" required>\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                        <label for="degreeYear" class="col-md-1 control-label">\n                                            <strong>\n                                            Year: <span class="text-danger">*</span>\n                                        </strong>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="meddegreeYear" name="meddegreeYear" class="form-control" ng-options="year for year in dwsDegYears" ng-model="medicalGeneral.medDegreeYr" required>\n                                                <option value="">--Select--</option>\n                                            </select>\n                                            <span class="text-danger" ng-show="medicalGeneral.medDegreeYr>2009 && medicalGeneral.medDegreeCd===\'5PC\'">\n                                            You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                                            Contact Fifth Pathway for more information and instructions.\n                                        </span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="datesEducation" class="col-md-4 control-label">\n                                            <strong>Dates of Education</strong>\n                                        </label>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="fromMonth" class="col-md-4 control-label">\n                                            <strong>\n                                            From <span class="ml15">Month:</span>\n                                        </strong>\n                                            <span class="text-danger">*</span>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="fromMonth" name="fromMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in dwsFromMonths" ng-model="medicalGeneral.medStartMth" required>\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                        <label for="fromYear" class="col-md-1 control-label">\n                                            <strong>\n                                            Year: <span class="text-danger">*</span>\n                                        </strong>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="fromYear" name="fromYear" class="form-control" ng-options="year for year in dwsFromYears" ng-model="medicalGeneral.medStartyr" required>\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="toMonth" class="col-md-4 control-label">\n                                            <strong>\n                                            To <span class="ml15">Month:</span>\n                                        </strong>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="toMonth" name="toMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in dwsToMonths" ng-model="medicalGeneral.medEndMth">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                            <span class="text-danger" ng-if="(medicalGeneral.medEndMth===null&&medicalGeneral.medEndYr!==null)">This field is required if Year is set</span>\n                                            <span class="text-danger" ng-show=" (medicalGeneral.medStartMth > medicalGeneral.medEndMth) && (medicalGeneral.medStartyr === medicalGeneral.medEndYr)">Invalid Range\n                                        </span>\n                                        </div>\n                                        <label for="toYear" class="col-md-1 control-label">\n                                            <strong> \n                                            Year\n                                        </strong>\n                                        </label>\n                                        <div class="col-md-2">\n                                            <select id="toYear" name="toYear" class="form-control" ng-options="year for year in dwsToYears" ng-model="medicalGeneral.medEndYr">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                            <span class="text-danger" ng-show="medicalGeneral.medEndYr && medicalGeneral.medStartyr > medicalGeneral.medEndYr">Invalid Range</span>\n                                            <span class="text-danger" ng-if="(medicalGeneral.medEndMth!==null&&medicalGeneral.medEndYr===null)">This field is required if month is set</span>\n                                            <span class="text-danger" ng-show="medicalGeneral.medEndYr>2009 && medicalGeneral.medDegreeCd===\'5PC\'">\n                                            You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                                            Contact Fifth Pathway for more information and instructions.\n                                        </span>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <a id="additional"></a>\n                <div class="panel panel-default">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Additional Information</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.cafForm" class="form-horizontal" style="margin-top: 25px;" novalidate>\n                            <div class="form-group">\n                                <label for="membershipHonorary" class="col-md-4 control-label">\n                                    <strong>Membership in Honorary/Professional Societies</strong>\n                                </label>\n                                <div class="col-md-6">\n                                    <br>\n                                    <textarea id="membershipHonorary" name="medSchool" class="form-control" maxlength="255" ng-maxlength="255" ng-model="caf.cafMembershipsDesc"></textarea>\n                                    <span ng-show="!forms.cafForm.medSchool.$error.maxlength && !forms.cafForm.medSchool.$error.charSet">{{255 - caf.cafMembershipsDesc.length}} characters left/255</span>\n                                    <span class="text-danger" ng-show="forms.cafForm.medSchool.$error.maxlength">This field must be within 255 Characters</span>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="medSchoolAwards" class="col-md-4 control-label">\n                                    <strong>Medical School Awards</strong>\n                                </label>\n                                <div class="col-md-6">\n                                    <textarea id="medSchoolAwards" name="medSchoolAwards" class="form-control" ng-maxlength="510" ng-model="caf.cafAwardsDesc" maxlength="510"></textarea>\n                                    <span ng-show="!forms.cafForm.medSchoolAwards.$error.maxlength && !forms.cafForm.medSchoolAwards.$error.charSet">{{510 - caf.cafAwardsDesc.length}} characters left/510</span>\n                                    <span class="text-danger" ng-show="forms.cafForm.medSchoolAwards.$error.maxlength">This field must be within 510 Characters</span>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <label for="otherAwards" class="col-md-4 control-label">\n                                    <strong>Other Awards/Accomplishments</strong>\n                                </label>\n                                <div class="col-md-6">\n                                    <textarea id="otherAwards" name="otherAwards" class="form-control" ng-maxlength="510" ng-model="caf.cafOtherAccomplDesc" maxlength="510"></textarea>\n                                    <span ng-show="!forms.cafForm.otherAwards.$error.maxlength && !forms.cafForm.otherAwards.$error.charSet">{{510 - caf.cafOtherAccomplDesc.length}} characters left/510</span>\n                                    <span class="text-danger" ng-show="forms.cafForm.otherAwards.$error.maxlength">This field must be within 510 Characters</span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <!-- <ul class="pager">\n                <li>\n                    <button class="btn btn-primary btn-purple" type="submit" ng-click="saveCAF();" ng-disabled="forms.cafForm.$invalid" ng-model="cafSaveCAF">\n                        <i class="fa fa-plus"></i> Save\n                    </button>\n                </li>\n                <li>\n                    <button class="btn btn-primary pull-right" type="submit" ng-click="next();" ng-disabled="forms.cafForm.$invalid || !firstMedComplete || !allHigherEducations.length">\n                       Save & Continue\n                        <i class="fa fa-arrow-right"></i>\n                    </button>\n                </li>\n            </ul> -->\n            <div class="modal fade" id="DeleteEducationModal" tabindex="-1" role="alertdialog" aria-labelledby="educationModal" aria-hidden="true">\n                <div class="modal-dialog modal-lg">\n                    <form name="forms.EducationForm">\n                        <div class="modal-content">\n                            <div class="modal-header modal-title">\n                                <h1>Delete Higher Education Entry</h1>\n                            </div>\n                            <div class="modal-body">Are you sure that you want to delete the Higher Education entry for\n                                <strong>{{higherEducationData.educationInstitution}}</strong>?\n                            </div>\n                            <div class="modal-footer">\n                                <button role="button" class="btn btn-default" type="submit" data-dismiss="modal">Cancel\n                                </button>\n                                <button role="button" type="button" class="btn btn-danger" ng-click="deleteHigherEducation()" data-dismiss="modal">Delete\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <div class="modal fade" id="DeleteMedicalEducationModal" tabindex="-1" role="alertdialog" aria-labelledby="medicalModal" aria-hidden="true">\n                <div class="modal-dialog modal-lg">\n                    <form name="forms.confirmForm">\n                        <div class="modal-content">\n                            <div class="modal-header modal-title">\n                                <h1>Delete Medical Education Entry</h1>\n                            </div>\n                            <div class="modal-body">You have indicated that you would like to delete the Medical Education entry for\n                                <strong>{{medicalEducationData.medInstitutionName}}</strong>. Are you certain?\n                            </div>\n                            <div class="modal-footer">\n                                <button class="btn btn-default" type="submit" data-dismiss="modal">Cancel\n                                </button>\n                                <button type="button" class="btn btn-danger" ng-click="deleteMedicalEducation()" data-dismiss="modal">Delete\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n')}]),angular.module("states/general/higherEducation-modal.html",[]).run(["$templateCache",function(a){a.put("states/general/higherEducation-modal.html",'<div class="modal" tabindex="-1" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="forms.higherEducationForm" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button role="button" type="button" class="close" ng-click="hidehigherEducationModal();" aria-label="Close">&times;</button>\n                    <h4 class="modal-title" id="myModalLabel">\n                        <h1>Higher Education</h1>\n                    </h4>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p style="text-align: left">\n                            <strong>\n                                <span class="text-danger">*</span> Indicates required fields.</strong>\n                        </p>\n                        <hr>\n                        <div class="form-group">\n                            <label for="educationInstitution" class="col-md-4 control-label">\n                                <strong>Institution </strong><span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" id="educationInstitution" name="educationInstitution" class="form-control" ng-model="higherEduGeneral.educationInstitution" required maxlength="100" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="eduLocation" class="col-md-4 control-label">\n                                <strong>Location</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" id="eduLocation" name="eduLocation" class="form-control" ng-model="higherEduGeneral.location" required maxlength="128" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="educationType" class="col-md-4 control-label">\n                                <strong>Education Type</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <select name="educationType" id="educationType" class="carehomeselectbox form-control" ng-model="higherEduGeneral.educationTypeIndicator" required>\n                                    <option value="">--Select--</option>\n                                    <option value="U">Undergraduate</option>\n                                    <option value="G">Graduate</option>\n                                    <option value="O">Other</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="educationMajor" class="col-md-4 control-label">\n                                <strong>Field of Study</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <input type="text" id="educationMajor" name="educationMajor" class="form-control" ng-model="higherEduGeneral.educationMajor" required maxlength="128" required>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="degreeEarned" class="col-md-4 control-label">\n                                <strong>Degree expected or earned</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <select id="degreeEarned" name="degreeEarned" class="carehomeselectbox form-control" ng-model="higherEduGeneral.degreeIndicator" ng-change="degreeIndicatorChange(higherEduGeneral.degreeIndicator)" required>\n                                    <option value="">--Select--</option>\n                                    <option value="Y">Yes</option>\n                                    <option value="N">No</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group" ng-show="higherEduGeneral.degreeIndicator === \'Y\'">\n                            <label for="degree" class="col-md-4 control-label">\n                                <strong>Degree</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-6">\n                                <select name="degree" id="degree" class="carehomeselectbox form-control" ng-options="d.degreeCode as d.degreeDescription + \' (\' + d.displayText +\')\' for d in higherDegrees | orderBy : \'degreeDescription\'" ng-model="higherEduGeneral.degreeCode" ng-required="(indicatorMode && higherEduGeneral.degreeIndicator === \'Y\')">\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group" ng-show="higherEduGeneral.degreeIndicator === \'Y\'">\n                            <label for="degreeMonth" class="col-md-4 control-label">\n                                <strong>Degree Month</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-2">\n                                <select id="degreeMonth" name="degreeMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="higherEduGeneral.degreeMonth" ng-required="(indicatorMode && higherEduGeneral.degreeIndicator === \'Y\')">\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                            <label for="degreeToYear" class="col-md-1 control-label">\n                                <strong>Year</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-2">\n                                <select id="degreeYear" name="degreeYear" class="form-control" ng-options="year for year in degYears" ng-model="higherEduGeneral.degreeYear" ng-required="(indicatorMode && higherEduGeneral.degreeIndicator === \'Y\')" required="(indicatorMode && higherEduGeneral.degreeIndicator === \'Y\')">\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="higherEduGeneral.degreeYear>2009 && higherEduGeneral.degreeCode===\'5PC\'">\n                                    You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                                    Contact Fifth Pathway for more information and instructions.\n                                </span>\n                            </div>\n                        </div>\n                        <h4><strong>Dates of Attendance</strong></h4>\n                        <div class="form-group">\n                            <label for="fromMonth" class="col-md-4 control-label">\n                                <strong>From Month</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-3">\n                                <select aria-labelledby="fromDateAttendance" name="fromMonth" id="fromMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="higherEduGeneral.educationStartMonth" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="higherEduGeneral.educationStartMonth > month">Invalid Range</span>\n                            </div>\n\n                            <label for="fromYear" class="col-md-1 control-label">\n                                <strong>Year</strong>\n                                <span class="text-danger">*</span>\n                            </label>\n                            <div class="col-md-2">\n                                <select aria-labelledby="fromDateAttendance" name="fromYear" id="fromYear" class="form-control" ng-options="year for year in fromYears" ng-model="higherEduGeneral.educationStartYear" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="toMonth" class="col-md-4 control-label">\n                                <strong>\n                              <span class="ml15">To Month</span>\n                          </strong>\n                            </label>\n                            <div class="col-md-3">\n                                <select id="toMonth" name="toMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in months" ng-model="higherEduGeneral.educationEndMonth" ng-required="higherEduGeneral.educationEndYear" data-custom-error="true">\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="forms.higherEducationForm.toMonth.$error.required">This field is required if year is set</span>\n                                <span class="text-danger" ng-show=" (higherEduGeneral.educationStartMonth > higherEduGeneral.educationEndMonth) && (higherEduGeneral.educationStartYear===higherEduGeneral.educationEndYear) ">Invalid Range\n                                </span>\n                            </div>\n                            <label for="toYear" class="col-md-1 control-label">\n                                <strong><span>Year</span></strong>\n                            </label>\n                            <div class="col-md-2">\n                                <select id="toYear" name="toYear" class="form-control" ng-options="year for year in years" ng-model="higherEduGeneral.educationEndYear" ng-required="higherEduGeneral.educationEndMonth" data-custom-error="true">\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="forms.higherEducationForm.toYear.$error.required">This field is required if month is set</span>\n                                <span class="text-danger" ng-show="higherEduGeneral.educationEndYear && higherEduGeneral.educationStartYear > higherEduGeneral.educationEndYear">Invalid Range\n                                </span>\n                                <span class="text-danger" ng-show="forms.higherEducationForm.toYear.$error.pattern">This field only accepts numbers</span>\n                                <span class="text-danger" ng-show="higherEduGeneral.educationEndYear>2009 && higherEduGeneral.degreeCode===\'5PC\'">\n                                    You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                                    Contact Fifth Pathway for more information and instructions.\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" ng-click="hidehigherEducationModal();">Cancel</button>\n                    <button role="button" class="btn btn-primary btn-purple" ng-click="saveHidehigherEducation(higherEduGeneral)" type="submit" ng-show="editMode1">Save</button>\n                    <button class="btn btn-primary btn-purple" ng-click="updateHigherEducation(higherEduGeneral)" type="submit" ng-show="editMode">Update</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/general/medicalEducation-modal.html",[]).run(["$templateCache",function(a){a.put("states/general/medicalEducation-modal.html",'<div class="modal" tabindex="-1" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <form name="forms.medicalEducationForm" class="css-form" novalidate>\n        <div class="modal-header">\n          <button role="button" type="button" class="close" ng-click="hideMedicalEducationModal();" aria-label="Close">&times;</button>\n          <h4 class="modal-title" id="myModalLabel"><h1>Medical Education</h1></h4>\n        </div>\n        <div class="modal-body">\n          <div  class="form-horizontal">\n            <p style="text-align: left">\n              <strong>\n                <span class="text-danger">*</span> Indicates required field.</strong>\n            </p>\n            <hr>\n            <div class="form-group">\n              <label id="country" class="col-md-4 control-label">\n                <strong>Country</strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-6" ng-show="medicalEducation.id.medSeqNbr===0">\n                <p class="form-control-static" ng-show="!isMedSchoolEditable(applicationData);">{{medCountryDesc}}</p>\n                <span ng-show="isMedSchoolEditable(applicationData);">\n                    <select aria-labelledby="country" name="primaryCountry" class="form-control" ng-options="o.countryCd as o.countryDesc for o in getCountries(applicationData, medicalEducation.id.medSeqNbr===0);" ng-model="medicalEducation.medCountryCd" ng-change="valuedata(medicalEducation.medCountryCd,true);" ng-required="{{medicalEducation.id.medSeqNbr===0}}">\n                    </select>\n                </span>\n              </div>\n\n              <div class="col-md-6" ng-show="medicalEducation.id.medSeqNbr!==0">\n                <select name="countryModal" aria-labelledby="country" class="form-control" ng-options="o.countryCd as o.countryDesc for o in medAdditionCountries" ng-model="medicalEducation.medCountryCd" ng-change="valuedata(medicalEducation.medCountryCd,true)" ng-required="{{medicalEducation.id.medSeqNbr!==0}}">\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n            </div>\n            <div class="form-group" ng-disabled="medicalEducation.medCountryCd===null || medicalEducation.medCountryCd===undefined ||medicalEducation.medCountryCd===\'\' ">\n              <label id="institutionLabel" class="col-md-4 control-label">\n                <strong>Institution</strong>\n                <span class="text-danger">*</span>\n              </label>\n\n                <div class="col-md-6" ng-show="medicalEducation.id.medSeqNbr===0">\n                    <p class="form-control-static" ng-show="!isMedSchoolEditable(applicationData);">{{institution}}</p>\n                    <span ng-show="isMedSchoolEditable(applicationData);">\n                        <select name="primaryInstitution" aria-labelledby="institutionLabel" class="form-control" ng-options="o.instId as o.instName for o in school" ng-model="medicalEducation.medInstitutionId" ng-change="schoolvalueChange(medicalEducation.medInstitutionId, medicalEducation)" ng-required="{{medicalEducation.id.medSeqNbr===0}}">\n                            <option value="">--Select--</option>\n                        </select>\n                    </span>\n                </div>\n\n              <div class="col-md-6" ng-hide="medicalEducation.id.medSeqNbr===0">\n                <select name="institution" class="form-control" aria-labelledby="institutionLabel" ng-options="o.instId as o.instName for o in school" ng-model="medicalEducation.medInstitutionId" ng-change="schoolvalueChange(medicalEducation.medInstitutionId, medicalEducation)" ng-required="{{medicalEducation.id.medSeqNbr!==0}}">\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n            </div>\n\n            <div class="form-group" ng-show="medicalEducation.medCountryCd !=\'USA\' && medicalEducation.medCountryCd !=\'CAN\' && medicalEducation.medCountryCd !=undefined && medicalEducation.medInstitutionId===\'000\'" >\n                <label for="medSchool"  class="col-md-4 control-label"  >\n                  <strong>If School not listed:</strong>\n                  <span class="text-danger">*</span>\n                </label>\n              <div class="col-md-6">\n                <input type="text" id="medSchool" name="schoolNotListed" class="form-control" ng-model="medicalEducation1.schoolNotListed" maxlength= "100" ng-maxlength="100" ng-required="medicalEducation.medCountryCd !=\'USA\' && medicalEducation.medCountryCd !=\'CAN\' && medicalEducation.medCountryCd !=undefined && medicalEducation.medInstitutionId===\'000\'">  \n              </div>\n            </div>\n\n\n            <div class="form-group" ng-show="clinicalCampuses.length>0&&!(medicalEducation.medCountryCd===\'CAN\'&&applicationData.applicationType===\'F\')">\n              <label for="clinicalcampus" class="col-md-4 control-label"><strong>\n                Have you spent six or more months at a regional clinical campus? </strong></label>\n              <div class="col-md-6">\n                <select class="form-control" id="clinicalcampus" ng-options="c.campusInstId as c.campusName for c in clinicalCampuses" ng-model="medicalEducation.medCcId"  >\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n            </div>\n            <div class="form-group">\n              <label id="degreeEarned" class="col-md-4 control-label">\n                <strong>Degree expected or earned</strong>\n                <span class="text-danger">*</span>\n              </label>\n\n              <div class="col-md-8" aria-labelledby="degreeEarned" ng-show="medicalEducation.id.medSeqNbr===0">\n                <p class="form-control-static">Yes</p>\n              </div>\n              <div class="col-md-6" ng-hide="medicalEducation.id.medSeqNbr===0">\n                <select name="degreeEarned" aria-labelledby="degreeEarned" class="carehomeselectbox form-control" ng-model="medicalEducation.medDegreeInd"  ng-required="medicalEducation.id.medSeqNbr!=0">\n                  <option value="">--Select--</option>\n                  <option value="Y">Yes</option>\n                  <option value="N">No</option>\n                </select>\n              </div>\n            </div>\n            <div class="form-group" ng-show="medicalEducation.medDegreeInd == \'Y\'" >\n              <label for="degree" class="col-md-4 control-label">\n                <strong>Degree</strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-6">\n\n                <select id="degree" name="degree" class="carehomeselectbox form-control" ng-options="d.degreeCode as d.degreeDescription + \' (\' + d.displayText +\')\' for d in medDegrees | orderBy : \'degreeDescription\'" ng-model="medicalEducation.medDegreeCd" ng-required="(medicalEducation.medDegreeInd === \'Y\')">\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n            </div>\n\n            <div class="form-group" ng-show="medicalEducation.medDegreeInd === \'Y\'">\n              <label for="degreeMonth" class="col-md-4 control-label">\n                <strong>Degree Month</strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-2">\n\n                <select name="degreeMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in medDegMonths" ng-model="medicalEducation.medDegreeMth" ng-required="(medicalEducation.medDegreeInd === \'Y\')">\n                  <option value="">--Select--</option>\n                </select>\n\n              </div>\n              <label for="degreeYear" class="col-md-1 control-label">\n                <strong>Year</strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-2">\n                <select id="degreeYear" name="degreeYear" class="form-control" ng-options="year as year for year in medDegYears" ng-model="medicalEducation.medDegreeYr" ng-required="(medicalEducation.medDegreeInd === \'Y\')">\n                  <option value="">--Select--</option>\n                </select>\n                <span class="text-danger" ng-show="medicalEducation.medDegreeYr>2009 && medicalEducation.medDegreeCd===\'5PC\'">\n                  You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                  Contact Fifth Pathway for more information and instructions.\n                </span>\n\n              </div>\n            </div>\n\n            <h4>\n              <strong>Dates of Education</strong>\n            </h4>\n            <div class="form-group">\n              <label for="fromMonth" class="col-md-4 control-label">\n                <strong>\n                  From\n                  <span class="ml15">Month</span>\n                </strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-2">\n                <select id="fromMonth" name="fromMonth" class="carehomeselectbox form-control" ng-options="month.id as month.name for month in medFromMonths" ng-model="medicalEducation.medStartMth" required>\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n              <label for="fromYear" class="col-md-1 control-label">\n                <strong>Year</strong>\n                <span class="text-danger">*</span>\n              </label>\n              <div class="col-md-2">\n                <select id="fromYear" name="fromYear" class="form-control" ng-options="year for year in medFromYears" ng-model="medicalEducation.medStartyr" required>\n                  <option value="">--Select--</option>\n                </select>\n              </div>\n            </div>\n            \n            <div class="form-group">\n              <label for="toMonth" class="col-md-4 control-label">\n                <strong>\n                  To\n                  <span class="ml15">Month</span>\n                </strong>\n              </label>\n              <div class="col-md-2">\n                <select id="toMonth" name="toMonth" class="form-control" ng-options="month.id as month.name for month in medToMonths" ng-model="medicalEducation.medEndMth">\n                  <option value="">--Select--</option>\n                </select>\n                <span class="text-danger" ng-if="(!medicalEducation.medEndMth && medicalEducation.medEndYr)">This field is required if Year is set</span>\n                <span class="text-danger" ng-if=" (medicalEducation.medStartMth > medicalEducation.medEndMth) && (medicalEducation.medStartyr === medicalEducation.medEndYr)">\n                Invalid Range\n                </span>\n              </div>\n              <label for="toYear" class="col-md-1 control-label">\n                <strong>\n                  Year\n                </strong>\n              </label>\n              <div class="col-md-2">\n                <select id="toYear" name="toYear" class="form-control" ng-options="year for year in medToYears" ng-model="medicalEducation.medEndYr">\n                  <option value="">--Select--</option>\n                </select>\n                <span class="text-danger" ng-if="(!medicalEducation.medEndYr && medicalEducation.medEndMth)">This field is required if month is set</span>\n                <span class="text-danger" ng-if="medicalEducation.medEndYr && medicalEducation.medStartyr > medicalEducation.medEndYr">\n                  Invalid Range\n                </span>\n                <span class="text-danger" ng-show="forms.medicalEducationForm.toYear.$error.pattern">\n                  This field only accepts numbers\n                </span>\n                <span class="text-danger" ng-show="medicalEducation.medEndYr>2009 && medicalEducation.medDegreeCd===\'5PC\'">\n                  You cannot select Fifth Pathway as an option if you graduated after 2009.<br/>\n                  Contact Fifth Pathway for more information and instructions.\n                </span>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n        <div class="modal-footer">\n          <button role="button" class="btn btn-default" type="submit" ng-click="hideMedicalEducationModalForCancel();">Cancel</button>\n          <button role="button" ng-if="(!medicalEducation.id.medSeqNbr && !showUpdate)" class="btn btn-primary" type="submit" ng-click="saveMedicalEducation(medicalEducation)">Save</button>\n          <button role="button" ng-if="(medicalEducation.id.medSeqNbr || showUpdate)" class="btn btn-primary" type="submit" ng-click="updateMedicalEducation(medicalEducation)">Update</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("states/hosted-checkout-response/hosted-checkout-response.html",[]).run(["$templateCache",function(a){a.put("states/hosted-checkout-response/hosted-checkout-response.html",'<!-- TODO: This needs to be content service driven -->\n<div class="panel panel-default">\n    <div class="panel-body" ng-if="!errorMessage">\n        <span aamc-compiler="pendingPaymentSuccessText.displayText"></span>\n    </div>\n    <div class="panel-body" ng-if="errorMessage">\n        <span aamc-compiler="errorMessage.displayText"></span>\n    </div>\n    <div class="payment-total-buttons pull-right">\n        <span aamc-compiler="pendingPaymentSuccessFooterText.displayText"></span>\n    </div>\n</div>\n')}]),angular.module("states/index/index.html",[]).run(["$templateCache",function(a){a.put("states/index/index.html",'<div class="jumbotron">\n\n  <h1>AAMC UI Demo Application</h1>\n\n  <p class="lead">\n    Application that is used as the basis of a new AAMC User Interface Application\n  </p>\n</div>\n<div class="marketing">\n  <div class="row">\n    {{appConstants}}\n  </div>\n  <div class="row">\n    <div class="col-lg-4">\n      <h4><i class="fa fa-thumbs-up"></i> Good to Go!</h4>\n      <p>\n        Kickstarts your project quickly, with everything you need, so you can\n        focus on what matters: your app.\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-magic"></i> Complete Build System</h4>\n      <p>\n        A smart, <a href="http://gruntjs.com">Grunt</a>-based build system\n        designed to save you time and energy.\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-retweet"></i> Modularization</h4>\n      <p>\n        Supports a structure that maintains separation of concerns while\n        ensuring maximum code reuse.\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-4">\n      <h4><i class="fa fa-star"></i> AngularJS</h4>\n      <p>\n        JavaScript framework that augments browser-based, single-page\n        applications with MVC functionality.\n        <a href="http://angularjs.org">More &raquo;</a>\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-compress"></i> LESS CSS</h4>\n      <p>\n        The dynamic stylesheet language that extends CSS with efficiency.\n        <a href="http://lesscss.org">More &raquo;</a>\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-twitter"></i> Twitter Bootstrap</h4>\n      <p>\n        Sleek, intuitive, and powerful front-end framework for faster and easier\n        web development.\n        <a href="http://getbootstrap.com">More &raquo;</a>\n      </p>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-4">\n      <h4><i class="fa fa-circle"></i> Angular UI Bootstrap</h4>\n      <p>\n        Pure AngularJS components for Bootstrap written by the\n        <a href="https://github.com/angular-ui?tab=members">AngularUI Team</a>.\n        <a href="http://angular-ui.github.com/bootstrap">More &raquo;</a>\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-flag"></i> Font Awesome</h4>\n      <p>\n        The iconic font designed for use with Twitter Bootstrap.\n        <a href="http://fortawesome.github.com/Font-Awesome">\n          More &raquo;\n        </a>\n      </p>\n    </div>\n    <div class="col-lg-4">\n      <h4><i class="fa fa-asterisk"></i> Placeholders</h4>\n      <p>\n        Client-side image and text placeholder directives written in pure\n        AngularJS to make designing mock-ups wicked-fast.\n        <a href="http://joshdmiller.github.com/angular-placeholders">\n          More &raquo;\n        </a>\n      </p>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("states/invoiceHistory/invoiceHistory.html",[]).run(["$templateCache",function(a){a.put("states/invoiceHistory/invoiceHistory.html",'<aamc-programs-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading">{{vm.pageTitle}}</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="INVOICEHISTORY_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <div class="row">\n                <div class="col-md-12">\n                    <div>\n                        <p><strong>{{vm.content.paymentInvoiceHistory}}</strong>\n                            <a type="button" ng-click="printInvoiceHistory()" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-print"></span> Print</a>\n                        </p>\n                        <strong ng-if="vm.data.applicantReApplied && vm.data.soapOpen"><p ng-bind-html="vm.content.reappliedPaymentHistoryNote"></p></strong>\n                    </div>\n                    <div class="panel-body">\n                        <!-- Personal Details -->\n                        <div class="table-responsive">\n                            <table class="table table-striped table-bordered layout-fixed">\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <div>\n                                                <strong>Personal Details</strong>\n                                            </div>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>Name:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.application.data.lastName}}, {{vm.application.data.firstName}} {{vm.application.data.middleName}} {{vm.application.data.suffix}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>AAMC ID:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.application.data.aamcId}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>Today:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.data.currentServerDate | amDateFormat:\'dddd, MMMM D, YYYY\'}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>Season:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.application.season}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>Address:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static" ng-show="vm.application.data.contactAddress1">{{vm.application.data.contactAddress1}}</span>\n                                                    <br>\n                                                    <span class="form-control-static" ng-show="vm.application.data.contactAddress2">{{vm.application.data.contactAddress2}}\n                                                                <br>\n                                                                </span>\n                                                    <span class="form-control-static" ng-show="vm.application.data.contactCity">{{vm.application.data.contactCity}}</span>\n                                                    <span ng-show="vm.application.data.contactStateCode && vm.application.data.contactStateCode != \'FR\'">, {{vm.application.data.contactStateCode}} </span>\n                                                    <span ng-show="vm.application.data.contactPostalCode">- {{vm.application.data.contactPostalCode}}</span>\n                                                    <span ng-show="vm.application.data.contactCountryCode"> , {{vm.application.data.contactCountryCode}}</span>\n                                                    <br>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>Phone:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.application.data.contactPhone1}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-2">\n                                                    <label>School:</label>\n                                                </div>\n                                                <div class="col-md-10">\n                                                    <span class="form-control-static">{{vm.application.schoolName}}</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <!-- Totals -->\n                        <div class="table-responsive">\n                            <table class="table table-striped table-bordered layout-fixed">\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <div>\n                                                <strong>Totals</strong>\n                                            </div>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-3">\n                                                    <label>Total ERAS Processing Fee:</label>\n                                                </div>\n                                                <div class="col-md-9">\n                                                    <span class="form-control-static">{{vm.data.total.invoice.processing | currency}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-3">\n                                                    <label>USMLE Transcript Fee:</label>\n                                                </div>\n                                                <div class="col-md-9">\n                                                    <span class="form-control-static">{{vm.data.total.invoice.usmle | currency}}</span>\n                                                </div>\n                                            </div>\n                                            <div class="col-md-12" ng-show="vm.application.isDO">\n                                                <div class="form-control-label col-md-3">\n                                                    <label>COMLEX-USA Transcript Fee:</label>\n                                                </div>\n                                                <div class="col-md-9">\n                                                    <span class="form-control-static">{{vm.data.total.invoice.comlex | currency}}</span>\n                                                </div>\n                                            </div>\n                                            <hr/>\n                                            <div class="col-md-12">\n                                                <div class="form-control-label col-md-3">\n                                                    <label>Total Amount:</label>\n                                                </div>\n                                                <div class="col-md-9">\n                                                    <span class="form-control-static">{{vm.data.total.invoice.total | currency}}</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <!-- Programs -->\n                        <div class="table-responsive" ng-show="vm.data.invoiceItems.length">\n                            <table class="table table-bordered layout-fixed">\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <div>\n                                                <strong>Programs</strong>\n                                            </div>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <table class="table table-bordered table-hover layout-fixed invoice-history">\n                                                <thead>\n                                                    <tr>\n                                                        <th>Specialty</th>\n                                                        <th class="text-right">Number of Programs</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    <tr ng-repeat="program in vm.data.invoiceItems | orderBy:\'billingGroupName\'">\n                                                        <td>{{program.billingGroupName}}</td>\n                                                        <td class="text-right">{{program.selected}}</td>\n                                                    </tr>\n                                                    <tr>\n                                                        <td><strong>Total</strong>\n                                                        </td>\n                                                        <td class="text-right">{{vm.data.total.program.count}}</td>\n                                                    </tr>\n                                                </tbody>\n                                            </table>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <!-- Invoices -->\n                        <div class="table-responsive" ng-show="vm.data.invoiceLineItems.length">\n                            <table class="table table-bordered layout-fixed">\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <div>\n                                                <strong>Invoices</strong>\n                                            </div>\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <table class="table table-bordered table-hover layout-fixed invoice-history">\n                                                <thead>\n                                                    <tr>\n                                                        <th>Invoice ID</th>\n                                                        <th class="text-right">Amount</th>\n                                                        <th class="text-right">Date</th>\n                                                        <th class="text-right">Payment Method</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody ng-repeat="lineItem in vm.data.invoiceLineItems | orderBy:[\'-invoiceDt\',\'-id.invoiceSeqNbr\']">\n                                                    <tr>\n                                                        <td><span class="fa fa-plus" ng-if="!lineItem.showInvoicePrograms" href ng-click="lineItem.showInvoicePrograms = !lineItem.showInvoicePrograms"></span><span class="fa fa-minus" ng-if="lineItem.showInvoicePrograms" href ng-click="lineItem.showInvoicePrograms = !lineItem.showInvoicePrograms"></span> {{lineItem.id.invoiceSeqNbr}}</td>\n                                                        <td class="text-right">{{lineItem.invoiceTotal | currency}}</td>\n                                                        <td class="text-right">{{lineItem.invoiceDt | amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET</td>\n                                                        <td class="text-right">{{lineItem.invoicePaymentMethodDispText}}</td>\n                                                    </tr>\n                                                    <tr ng-if="lineItem.showInvoicePrograms">\n                                                        <td colspan="4">\n                                                            <table>\n                                                                <thead>\n                                                                    <tr>\n                                                                        <th>Program</th>\n                                                                        <th>Specialty</th>\n                                                                        <th>Accreditation ID</th>\n                                                                    </tr>\n                                                                </thead>\n                                                                <tbody>\n                                                                    <tr ng-repeat="program in lineItem.invoicePrograms| orderBy:[\'unit.specialty.specName\', \'unit.unitName\']">\n                                                                        <td>{{program.unit.unitName}}</td>\n                                                                        <td>{{program.unit.specialty.specName}}</td>\n                                                                        <td>{{program.unit.accreditationId}}</td>\n                                                                    </tr>\n                                                                </tbody>\n                                                            </table>\n                                                        </td>\n                                                    </tr>\n                                                </tbody>\n                                            </table>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <div class="col-md-12" ng-if="!showPaymentButton">\n                        <div ng-if="applicant.statusId!==6">\n                            <div ng-bind-html="uncertifiedMsg"></div>\n                            <!--<span aamc-html-content="MSG_APPLICATION_NOT_CERTIFIED"></span>-->\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-programs-tabs>\n');
}]),angular.module("states/landing/landing.html",[]).run(["$templateCache",function(a){a.put("states/landing/landing.html",'<div class="container" ng-show="showView">\n    <div class="row">\n        <div class="col-md-6 col-md-offset-1">\n            <h5>Welcome to the Electronic Residency Application Service (ERAS)</h5>\n            <div>\n                <button type="button" class="btn btn-primary btn-lg" ng-click="login();">Log in or Register for MyERAS</button>\n            </div>\n        </div>\n        <div class="col-md-5">\n             <!--<aamc-links></aamc-links>-->\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/letter-recommendation/assign-letter-recommendation-modal.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/assign-letter-recommendation-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAssignLorModal(); resetSelections();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">\n                    <span ng-if="showAssign">Assign a </span>{{docCodes.LOR.docType}}: {{letter.lorWriterName}} - {{letter.lorWriterDept}}\n                    <br/>\n                    Specialty: {{ specialtyTobeAssigned }}\n                </h4>\n            </div>\n            <div class="modal-body">\n                <div class="panel-body table-responsive" ng-if="modalCurrentPage===1">\n                    <div class="text-danger pull-left" ng-if="showSoapIneligibleMessage()">{{ ineligibleSelectionMessage }}</div>\n                    <table class="table-responsive table-bordered transcript-request" border="0" ng-if="!applicantSoapEligible">\n                        <thead>\n                            <tr>\n                                <th class="col-md-1"><strong>Assign</strong>\n                                </th>\n                                <th class="col-md-3">\n                                    <strong>Program Name</strong>\n                                </th>\n                                <th class="col-md-2">\n                                    <strong>Specialty</strong>\n                                </th>\n                                <th class="col-md-3">\n                                    <strong>Training(s) Selected</strong>\n                                </th>\n                                <th width="col-md-2">\n                                    <strong>Status</strong>\n                                </th>\n                                <th class="col-md-2">\n                                    <strong>LoRs Assigned</strong>\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr ng-repeat="program in selectedPrograms|orderBy:\'unit.unitName\'" bs-tooltip data-title="{{program.tooltip.title}}">\n                                <td>\n                                    <input type="checkbox" ng-model="program.selected" ng-change="enableAssign(); updateSelectedPrograms(letter.seqNbr,program.selected,program); populateAssignments(letter,program,program.selected);" ng-disabled="isDisabled(program)">\n                                    <span></span>\n                                </td>\n                                <td>{{program.unit.unitName}}</td>\n                                <td>{{program.unit.specialty.specName}}</td>\n                                <td>\n                                    <div class="col-md-12" ng-repeat="selectedTracks in program.selectedProgramTracks">\n                                        {{selectedTracks.track.trackName}}\n                                        <span ng-show="selectedTracks.track.trackType.trackTypeDescription">({{selectedTracks.track.trackType.trackTypeDescription}})</span>\n                                        <br ng-if="program.selectedProgramTracks.length>1">\n                                    </div>\n                                </td>\n                                <td>\n                                    {{ convertStatus(program) }}\n                                </td>\n                                <td><a ng-click="showLorModal(program)" href>{{program.numAssignedDocs}}</a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <soap-eligible-letter-assignments ng-if="applicantSoapEligible"></soap-eligible-letter-assignments>\n                </div>\n                <div ng-if="modalCurrentPage===2 && currentDocObj.docCd===docCodes.LOR.docCd">\n                    <div ng-if="newAssignedDocs.length>0|| newRemovedAssignedDocs.length>0">\n                        <div ng-if="(newAssignedDocs && newAssignedDocs.length) || (newRemovedAssignedDocs && newRemovedAssignedDocs.length)">Are you sure you want to proceed with your selections?</div>\n                        <br>\n                        <div ng-if="(newAssignedDocs && newAssignedDocs.length)">Assign this letter of recommendation to the following programs:\n                            <ul>\n                                <li ng-repeat="assignedDoc in newAssignedDocs">{{assignedDoc.unitName}} - {{assignedDoc.specialty}}</li>\n                            </ul>\n                            <span ng-if="(newAssignedDocs && newAssignedDocs.length)"><img class="icon" src="images/circle-info.png" >&nbsp;&nbsp;LoR selections will be locked upon applying to a program or when assigning a LoR to a program you previously applied to. Once a LoR selection is locked you will not be able to change it. You may only change your selection prior to applying to a program. Keep in mind that you may only assign up to 4 LoRs to any given program.</span>\n                        </div>\n                        <br ng-if="(newAssignedDocs && newAssignedDocs.length)">\n                        <div ng-if="(newRemovedAssignedDocs && newRemovedAssignedDocs.length)">Unassign this letter of recommendation from the following programs:\n                            <ul>\n                                <li ng-repeat="assignedDoc in newRemovedAssignedDocs">{{assignedDoc.unitName}} - {{assignedDoc.specialty}}</li>\n                            </ul>\n                            <br>\n                        </div>\n                        <div>Click <em>Confirm</em> to proceed with your selections or click <em>Cancel</em> to go back.</div>\n                    </div>\n                </div>\n                <div ng-if="showNoSelectionError" class="text-danger pull-right">There are no assignment selections/changes to save</div>\n                <div class="text-danger pull-right" ng-if="showIneligibleSelectionMessage">{{ ineligibleSelectionMessage }}</div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideAssignLorModal();resetSelections();" ng-if="modalCurrentPage===1">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="checkForSelections();confirmAssignLor(letter);" ng-if="modalCurrentPage===1">Save</button>\n                <button class="btn btn-default btn-small" ng-click="backAssignLor();" ng-if="modalCurrentPage===2">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="assignToPrograms(letter);" ng-if="modalCurrentPage===2">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/letter-recommendation/letter-recommendation.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/letter-recommendation.html",'<aamc-documents-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading" style="padding-left: 0px;">Letters of Recommendation</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="LOR_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <div class="pull-left">\n                In order for an LoR Author to upload a letter on your behalf, you MUST complete the following steps for <strong>each</strong> LoR that you intend to use during the application season.\n                <ol>\n                    &nbsp;\n                    <li>\n                        <span>Click <i>Add New</i> to enter and save LoR information.</span>\n                    </li>\n                    <li>\n                        <span>Confirm the LoR entry by marking the associated checkbox and selecting <i>Only checked</i> in the Confirm drop down list.</span>\n                    </li>\n                    <span>\n                    <span class= "text-danger"><i>Note:</i></span> You may only edit and/or delete a LoR entry prior to confirming.</span>\n                    <li>\n                        <span>Select <i>Print Letter Request Form</i> in the associated Action column and provide the form to your LoR Author.</span>\n                    </li>\n                </ol>\n            </div>\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="pull-left">\n                        <button class="btn btn-prusia btn-shadow" type="submit" ng-click="addLorAuthor()">\n                            <i class="fa fa-plus" aria-hidden="true"></i> Add New\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-4">\n                    <div class="form-group" style="margin-top:10px;">\n                        <div class="input-group input-group-sm">\n                            <input type="search" ng-disabled="applicantLorData.length<=0 && !isBusy" placeholder="Search by Name, Title/Dept., or Specialty" ng-model="search.searchLorAuthors" class="form-control" />\n                            <span class="input-group-btn">\n                                <button class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                            </button>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-8">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <div class="h3 text-right">\n                            <strong>{{confirmedLoRSize}}</strong> LoRs Selected\n                            <button class="btn btn-success" href="#" data-target="#confirmAuthorModal" data-toggle="modal">Confirm &nbsp;<span><i class="fa fa-arrow-circle-right"></i></span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-9">\n                    <br/>\n                    <p ng-show="applicantLorData.length===0"><strong>You have not added any LoR Authors. Click Add New to add an LoR Author.</strong>\n                    </p>\n                </div>\n            </div>\n<!--            <div class="spinner-container" ng-show="isBusy">\n                <div class="spinner">\n                    <i class="fa fa-refresh fa-spin fa-3x"></i>\n                </div>\n            </div>-->\n            <div class="table-responsive" ng-show="applicantLorData.length>0 && !isBusy">\n                <table class="table table-bordered table-striped">\n                    <thead>\n                        <tr>\n                            <th class="text-center col-md-1">\n                                <div>\n                                    <input type="checkbox" ng-change="confirmLoRs(letters.confirmAllLoRs)" name="applyAll"\n                                    ng-model="letters.confirmAllLoRs" ng-show="applicantLorData.length>0" />\n                                </div>\n                            </th>\n                            <th><strong>LoR Information</strong>\n                            </th>\n                            <th><strong>Specialty</strong>\n                            </th>\n                            <th><strong>Letter ID</strong>\n                            </th>\n                            <th><strong>Status</strong>\n                            </th>\n                            <th><strong>Actions</strong>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class="" ng-repeat="letter in lorAuthors = (applicantLorData | orderBy:letter.lorProcessedDt | filter:filteredAuthors)">\n                            <td class="text-center">\n                                <input name="confirmCheck" type="checkbox" ng-model="letter.confirmed" ng-change="updateLoRSize(letter)" ng-hide="letter.lorSubmitDt!==null">\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                {{letter.lorWriterName}} - {{letter.lorWriterDept}}\n                                <span ng-if="letter.lorDeptChairInd===\'Y\'">\n                                <small><span data-placement="top" data-title="You indicated that this LoR Author is a Department Chair where you completed your clerkship training." class="label label-warning pointer" style="color: #555;" bs-tooltip>DC</span>\n                                </small>\n                                </span>\n                                <span ng-if="letter.lorPgmDirectorInd===\'Y\'">\n                                <small><span data-placement="top" data-title="You indicated that this LoR Author is a Program Director in a current/previous residency or fellowship where you trained." class="label label-info pointer"  bs-tooltip>PD</span>\n                                </small>\n                                </span>\n                                <span ng-if="letter.lorWaiver===\'Y\'">\n                                <a data-placement="top" class="pointer" data-title="You waived your right to view this LoR."  bs-tooltip><i class="fa fa-eye-slash "></i></a>\n                                </span>\n                                <span ng-if="letter.lorWaiver===\'N\'">\n                                <a data-placement="top" class="pointer" data-title="You did not waive your right to view this LoR."  bs-tooltip><i class="fa fa-eye"></i></a>\n                                </span>\n                            </td>\n                            <td> <span ng-if="letter.lorInstructions"> {{letter.lorInstructions}}</span>\n                            </td>\n                            <td class="cell-overflow">\n                                <div>{{letter.lorLetterId}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div>\n                                    <span ng-show="letter.lorSubmitDt===null && letter.lorLetterId===null" class="label label-warning" style="color: #555;"><span class="fa fa-warning"></span>&nbsp;Not Confirmed for Upload</span>\n                                    <span ng-show="letter.lorSubmitDt!==null && letter.lorLetterId!==null && !letter.lorUploaded"> <span class="label label-info"><span class="fa fa-cloud-upload"></span>&nbsp;Confirmed for Upload - {{letter.lorSubmitDt |amDateFormat:\'MM/DD/YYYY\'}}\n                                    </span>&nbsp;\n                                    <label><img class="icon" data-placement="top" src="images/circle-info.png" data-title="This LoR was confirmed for upload on {{letter.lorSubmitDt|amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET" bs-tooltip>\n                                    </label>\n                                    </span>\n                                    <span ng-show="letter.lorSubmitDt!=null && letter.lorLetterId!=null && letter.lorUploaded"><span class="label alert-success"><span class="fa fa-check"></span>&nbsp;Uploaded - {{letter.lorUploadDt |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                    <label><img class="icon" data-placement="top" src="images/circle-info.png" data-title="This LoR was uploaded on {{letter.lorUploadDt |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET" bs-tooltip>\n                                    </label>\n                                    </span>\n                                </div>\n                            </td>\n                            <td class="col-md-2 col-sm-2">\n                                <aamc-actions item-context="letter" menu-type="LetterRecommendation"></aamc-actions>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</aamc-documents-tabs>\n<div class="modal fade" id="deleteAuthorModal" tabindex="-1" role="dialog" aria-labelledby="lorAuthorDelModal" aria-hidden="true" data-backdrop="static" data-keyboard="false">\n    <div class="modal-dialog modal-lg">\n        <form name="deleteModal">\n            <div class="modal-content">\n                <div class="modal-body">Are you certain that you want to delete the LoR author entry for <strong>{{deleteAuthor.lorWriterName | characters:50:true}}?</strong>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="button" data-dismiss="modal">Cancel</button>\n                    <button type="button" class="btn btn-danger" ng-click="deleteAuthorModal()" data-dismiss="modal">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n<div class="modal fade" id="confirmAuthorModal" tabindex="-1" role="dialog" aria-labelledby="lorAuthorConModal" aria-hidden="true" data-backdrop="static" data-keyboard="false">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.confirmModal" aamc-validate-form-and-focus add-error-elems="true">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h2>Confirm Letters of Recommendation</h2>\n                </div>\n                <div ng-show="confirmedLoRSize>0">\n                    <div class="modal-body">\n                        <p>Are you certain that you want to confirm the selected LoR Author(s) for upload? Once confirmed, an LoR Author entry cannot be deleted or otherwise modified.</p>\n                        <div class="row">\n                            <div class="form-group">\n                                <label for="confirmPassword" class="col-md-3 control-label">\n                                    <strong>MyERAS Password: <span class="text-danger">*</span>\n                                    </strong>\n                                </label>\n                                <div class="col-md-4">\n                                    <input type="password" name="confirmPassword" class="form-control" ng-model="confirm.confirmPassword" required ng-minlength="6" minlength="6" ng-maxlength="20" maxlength="20">\n                                    <span class="text-danger" ng-show="forms.confirmModal.confirmPassword.$error.minlength && formValidator.invalid">This field must be six characters.</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn btn-default" type="button" data-dismiss="modal" ng-click="confirm.confirmPassword=null;">Cancel</button>\n                        <button type="button" class="btn btn-primary" ng-click="validatePassword($event)">Confirm</button>\n                    </div>\n                </div>\n                <div ng-show="confirmedLoRSize<=0">\n                    <div class="modal-body">\n                        You need to select at least one <strong>Letter of Recommendation</strong> to Confirm\n                    </div>\n                    <div class="modal-footer">\n                        <button class="btn btn-default" type="button" data-dismiss="modal" data-dismiss="modal">Ok</button>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/letter-recommendation/lor-author-modal.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/lor-author-modal.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="forms.LorAuthor" class="css-form" aamc-validate-form-and-focus add-error-elems="true">\n                <div class="modal-header">\n                    <button type="button" class="close" ng-click="hideAuthorModal();">&times;</button>\n                    <h4 class="modal-title" id="myModalLabel">\n                        <span ng-show="modaltitle===\'Add\'"><h1>Add Letter of Recommendation</h1></span>\n                        <span ng-show="modaltitle===\'Edit\'"><h1>Edit Letter of Recommendation</h1></span>\n                    </h4>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p class="text-left">\n                            <strong><span class="text-danger">*</span> Indicates required field.</strong>\n                        </p>\n                        <hr>\n                        <div class="row">\n                            <div class="col-md-8">\n                                <div class="form-group">\n                                    <label for="lorWriterName" class="col-md-5 control-label">\n                                        <strong>LoR Author Name: <span class="text-danger">*</span>\n                                        </strong>\n                                    </label>\n                                    <div class="col-md-7">\n                                        <input type="text" name="lorWriterName" class="form-control" ng-model="applicant.lorWriterName" required ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/">\n                                        <span class="text-danger" ng-show="forms.LorAuthor.lorWriterName.$error.pattern">You must enter at least one letter.</span>\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label for="lorWriterDept" class="col-md-5 control-label">\n                                        <strong>LoR Author Title/Department: <span class="text-danger">*</span>\n                                        </strong>\n                                    </label>\n                                    <div class="col-md-7">\n                                        <input type="text" name="lorWriterDept" class="form-control" ng-model="applicant.lorWriterDept" required ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/">\n                                        <span class="text-danger" ng-show="forms.LorAuthor.lorWriterDept.$error.pattern">You must enter at least one letter.</span>\n                                    </div>\n                                </div>\n                                <div class="form-group">\n                                    <label for="specialty" class="col-md-5 control-label">\n                                        <strong>Specialty to which this letter will be assigned:\n                                        </strong>\n                                    </label>\n                                    <div class="col-md-7">\n                                        <input type="text" name="specialty" class="form-control" ng-model="applicant.lorInstructions" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/">\n                                        <span class="text-danger" ng-show="forms.LorAuthor.specialty.$error.pattern">You must enter at least one letter.</span>\n                                    </div>\n                                    <span class="col-md-offset-5 col-md-12">\n                                       <span class="text-danger"><strong><i>Note: </i></strong></span>Specialty field will only be viewable to applicants, their Designated Dean’s Office and the LoR Author - not programs.\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="panel panel-default">\n                            <div class="panel-heading">\n                                <strong>Additional LoR Information <span class="text-danger">*</span></strong>\n                                <div ng-show="formValidator.invalid && forms.LorAuthor.lorInfo.$error.required">\n                                    <span class="text-danger">Selection is required.</span>\n                                </div>\n                            </div>\n                            <div class="form-group">\n                                <div class="col-md-12">\n                                    <div class="radio col-md-11">\n                                        <label>\n                                            <input type="radio" name="lorInfo" ng-model="applicant.lorInd" value="1" ng-change="assignAdditionLor()" ng-required="!applicant.lorInd"> This LoR Author is a Program Director in a current/previous residency or fellowship where I trained. (Applies to Residents/Fellows only)\n                                        </label>\n                                    </div>\n                                    <div class="radio col-md-11">\n                                        <label>\n                                            <input type="radio" name="lorInfo" ng-model="applicant.lorInd" value="2" ng-change="assignAdditionLor()" ng-required="!applicant.lorInd"> This LoR Author is a Department Chair where I completed my clerkship training. Group departmental letters must be signed by the team composing the letter.\n                                        </label>\n                                    </div>\n                                    <div class="radio col-md-11">\n                                        <label>\n                                            <input type="radio" name="lorInfo" ng-model="applicant.lorInd" value="3" ng-change="assignAdditionLor()" ng-required="!applicant.lorInd"> None of the above.\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="lorWaiver" class="col-md-6 control-label">\n                                <strong>I waive my right to view my Letter of Recommendation:\n                                    <span class="text-danger">*</span>\n                                </strong>\n                            </label>\n                            <div class="col-md-4">\n                                <label class="radio-inline">\n                                    <input type="radio" name="lorWaiver" ng-model="applicant.lorWaiver" value="Y" ng-required="!applicant.lorWaiver">Yes\n                                </label>\n                                <label class="radio-inline">\n                                    <input type="radio" name="lorWaiver" ng-model="applicant.lorWaiver" value="N" ng-required="!applicant.lorWaiver">No\n                                </label>\n                                <div ng-show="formValidator.invalid && forms.LorAuthor.lorWaiver.$error.required">\n                                    <span class="text-danger">Selection is required.</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="button" ng-click="hideAuthorModal()">Cancel</button>\n                    <button type="button" class="btn btn-primary" ng-click="saveAuthorModal(formValidator)" ng-show="!applicant.seqNbr">Save</button>\n                    <button type="button" class="btn btn-primary" ng-click="updateAuthorModal(formValidator)" ng-show="applicant.seqNbr">Update</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/letter-recommendation/lor-finalized-author-modal.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/lor-finalized-author-modal.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="LorFinalizedAuthor" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button type="button" class="close" ng-click="hideFinalizedAuthorModal()">&times;</button>\n                    <h3 class="modal-title text-center" id="myModalLabel">View LoR Authors</h3>\n                </div>\n                <div class="modal-body">\n                    <div class="table-responsive">\n                        <table class="table table-striped table-bordered table-hover">\n                            <thead>\n                                <tr>\n                                    <th>Name & Specialty to which this LoR is assigned</th>\n                                    <th>Letter ID</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr class="success" ng-repeat="letter in letters = (letterData | limitTo:itemsPerPage)">\n                                    <td>{{letter.lorWriterName}}, {{letter.lorWriterDept}}</td>\n                                    <td>{{letter.lorLetterId}}</td>\n                                    <td class="">\n                                        <a ng-href="" ng-click="showPrintRequestAuthorModal()">Print Letter Request Form Assignments</a>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="button" ng-click="hideFinalizedAuthorModal()">\n                        <span class="glyphicon glyphicon-remove"></span> Close\n                    </button>\n                    <button type="button" class="btn btn-primary" ng-click="printFinalizedAuthors()">\n                        <span class="glyphicon glyphicon-print"></span> Print\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n\n\n')}]),angular.module("states/letter-recommendation/lor-modal.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/lor-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideLorModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Assigned Letters of Recommendation</h4>\n            </div>\n\n            <div class="modal-body">\n                <table class="table table-bordered table-striped layout-fixed">\n                    <thead>\n                        <tr>\n                            <th>\n                                <strong>LoR Name</strong>\n                            </th>\n                            <th><strong>Specialty</strong>\n                            </th>\n                            <th><strong>Letter ID</strong>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr bgcolor="#dddddd" ng-repeat="letter in assignedLoRs">\n                            <td>\n                                <div>\n                                    {{letter.lorWriterName}} - {{letter.lorWriterDept}}\n                                    <span ng-if="letter.lorDeptChairInd===\'Y\'">\n                                <small><span data-placement="top" data-title="You indicated that this LoR Author is a Department Chair where you completed your clerkship training." class="label label-warning pointer" style="color: #555;" bs-tooltip>DC</span>\n                                    </small>\n                                    </span>\n                                    <span ng-if="letter.lorPgmDirectorInd===\'Y\'">\n                                <small><span data-placement="top" data-title="You indicated that this LoR Author is a Program Director in a current/previous residency or fellowship where you trained." class="label label-info pointer"  bs-tooltip>PD</span>\n                                    </small>\n                                    </span>\n                                    <span ng-if="letter.lorWaiver===\'Y\'">\n                                <a data-placement="top" class="pointer" data-title="You waived your right to view this LoR."  bs-tooltip><i class="fa fa-eye-slash "></i></a>\n                                </span>\n                                    <span ng-if="letter.lorWaiver===\'N\'">\n                                <a data-placement="top" class="pointer" data-title="You did not waive your right to view this LoR."  bs-tooltip><i class="fa fa-eye"></i></a>\n                                </span>\n                                </div>\n                            </td>\n                            <td> <span ng-if="letter.lorInstructions"> {{letter.lorInstructions}}</span>\n                            </td>\n                            <td>\n                                <div>{{letter.lorLetterId}}</div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="modal-footer">\n                <a type="button" class="btn btn-primary" ng-click="hideLorModal()">Close</a>\n            </div>\n\n\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/letter-recommendation/lor-print-request-form-modal.html",[]).run(["$templateCache",function(a){a.put("states/letter-recommendation/lor-print-request-form-modal.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form id="request-html" name="LorPrintAuthor" class="css-form" novalidate>\n                <div class="modal-header">\n                    <button type="button" class="close" ng-click="hidePrintRequestAuthorModal()">&times;</button>\n                    <h2 class="modal-title text-center" id="myModalLabel">Letter Request Form</h2>\n                </div>\n                <div class="modal-body">\n                    <span ng-show="applicationData.applicationType===\'F\'" class="pull-right">\n                        <img ng-src="images/erassm_fap.gif" />\n                    </span>\n                    <span ng-show="applicationData.applicationType!==\'F\'" class="pull-right">\n                        <img ng-src="images/erassm.gif" />\n                    </span>\n                    <div class="page-header">\n                        <h3>ERAS Application Season : 2016</h3>\n                        <p>&nbsp;</p>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-12" ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                            <fieldset class="fieldset-border">\n                                <br />\n                                <p><strong>Applicants:</strong> If you have NOT waived your right to view this Letter of Recommendation (LoR) and you are uploading this letter yourself, proceed to page 2 for instructions on using the Letter of Recommendation Portal (LoRP).</p>\n                                <p><strong>Letter Authors:</strong> If you are uploading this letter on behalf of the applicant, you should review the information below before proceeding to the instructions on page 2.\n                                </p>\n                            </fieldset>\n                            <p>&nbsp;</p>\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <strong>Request From:</strong><br>\n                                <address>\n                                    <span> {{displayName(applicationData.firstName, applicationData.middleName, applicationData.lastName, applicationData.preferredName, applicationData.suffix)}} </span><br>\n                                    <span ng-show="applicationData.email" ng-bind="applicationData.email"></span><br>\n                                    <span ng-show="applicationData.contactPhone1" ng-bind="applicationData.contactPhone1"></span><br>\n                                </address>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <strong>To:</strong><br>\n                                <address>\n                                    <span ng-bind="printLetter.lorWriterName"></span><br>\n                                    <span ng-bind="printLetter.lorWriterDept"></span><br>\n                                </address>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-12">\n                            <p>&nbsp;</p>\n                            <p>With this form, I am requesting that you submit my Letter of Recommendation (LoR) to the Electronic Residency Application Service (ERAS), which transmits my LoR(s) to the residency programs to which I am applying.</p>\n                            <p>If <strong>"I waive"</strong> is selected, I waive my right to view this letter now and in the future under the <dfn>Family Educational Rights and Privacy Act (FERPA)</dfn>. I acknowledge that this letter is for the specific purpose of supporting my application for residency. </p>\n\n                            <ul class="list-unstyled col-md-offset-1">\n                                <li><strong>_<u><span ng-if="printLetter.lorWaiver===\'Y\'">X</span></u>_ (I waive) my right to see this letter.</strong></li>\n                                <li><strong>_<u><span ng-if="printLetter.lorWaiver===\'N\'">X</span></u>_ (I do not waive) my right to see this letter.</strong></li>\n                            </ul>\n\n                            <div ng-show="applicationData.sourceOrganization===\'DWS\'">\n                                <dfn class="text-danger">Note:</dfn>\n                                <ul class="col-md-offset-1">\n                                    <li>It is recommended that all letters be written and submitted on professional letterhead</li>\n                                    <li>Letter should include a date</li>\n                                    <li>Letter should be signed by the LoR Author</li>\n                                    <li>Review your letter for accuracy and grammatical errors before submitting</li>\n                                </ul>\n                            </div>\n                            <div ng-show="applicationData.sourceOrganization===\'EFDO\'">\n                                <dfn class="text-danger">Note:</dfn>\n                                <ul>\n                                    <li>It is recommended that all letters be written and submitted on professional letterhead</li>\n                                    <li>Letter should include a date</li>\n                                    <li>Letter should be signed by the LoR Author</li>\n                                    <li>Carefully review your letter for accuracy and grammatical errors before submitting</li>\n                                    <li><strong>Do not submit LoR(s) by mail. Documents submitted to the EFDO by mail will not be processed to the ERAS application</strong></li>\n                                    <li>LoR(s) submitted through the ERAS LoR Portal are expected to take five business days.</li>\n                                </ul>\n                            </div>\n                            <div ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                                <dfn class="text-danger">Note:</dfn>\n                                <ul>\n                                    <li>It is recommended that all letters be written and submitted on professional letterhead</li>\n                                    <li>Letter should include a date</li>\n                                    <li>Letter should be signed by the LoR Author</li>\n                                    <li>Carefully review your letter for accuracy and grammatical errors before submitting</li>\n                                    <li><strong>Do not submit LoR(s) by mail. Documents submitted to the ECFMG by mail will not be processed to the ERAS application</strong></li>\n                                    <li>LoR(s) submitted through the ERAS LoR Portal are expected to take two weeks to process.</li>\n                                </ul>\n                            </div>\n\n                            <p>&nbsp;</p>\n                            <p>Please see <strong>Page 2 for instructions</strong> on how to submit letters to ERAS. </p>\n                        </div>\n                    </div>\n                    <hr>\n                    <div class="row">\n                    <div class="col-md-12">\n                    <h5><strong>Instructions for submitting LoR(s) to ERAS</strong></h5>\n                    <p>&nbsp;</p>\n                    <p>You can submit your letter to ERAS using <strong><u>one</u></strong> of the following options:  </p>\n                        <p><strong>ERAS LoR Portal:</strong> This application enables LoR Authors to upload letters securely to ERAS. If you are interested in using this ption, please go to <a href="https://www.aamc.org/services/eras/282520/lor_portal.html" target="_blank">https://www.aamc.org/eras/lorp</a> and click <dfn>Sign in to LoRP</dfn> on the upper right-hand side of the page. </p>\n                        <p>Register for an AAMC Account and follow the directions on the site. If you already have an AAMC account, but forgot your user name or password, please use the ‘Forgot your user name’ and/or ‘Forgot your password’ links on the LoR Portal sign in page. </p>\n\n                        <p>To submit your LoR using the LoR Portal, your letter must meet the following system requirements:</p>\n                        <ul class="">\n                            <li>File must be in a PDF format</li>\n                            <li>File size cannot exceed 500 KB.</li>\n                            <li>File cannot be password protected, encrypted and/or contain an electronic signature.</li>\n                            <li>Page size must be 8.5 x 11 inches.</li>\n                            <li>File name cannot contain spaces or special characters (i.e. hyphens, slashes, periods, etc.).</li>\n                        </ul>\n                        <p>&nbsp;</p>\n                        <p>Standard Letter of Evaluation (SLOE): <br /> If you were asked to submit a Standard Letter of Evaluation (SLOE) as well and would like to submit the form through the LoR Portal, the LoR and SLOE must be uploaded together in one single PDF file. </p>\n                        <p>When uploading a letter to the LoR Portal, please have the information directly below available. </p>\n\n                        <div class="form-horizontal">\n                            <div class="row">\n                                <div class="col-md-8">\n                                    <ul class="list-unstyled col-md-offset-1">\n                                        <li><strong>Applicant AAMC ID: <span class="form-control-static">{{applicationData.aamcId}}</span></strong></li>\n                                        <li><strong>Preferred Name: <span class="form-control-static">{{applicationData.preferredName}}</span></strong></li>\n                                        <li><strong>Applicant Name: <span class="form-control-static">{{displayName(applicationData.firstName, applicationData.middleName, applicationData.lastName, null)}}</span></strong></li>\n                                        <li><strong>ERAS Letter ID: <span class="form-control-static">{{printLetter.lorLetterId}}</span></strong></li>\n                                        <li ng-show="printLetter.lorInstructions"><strong>Specialty to which this letter will be assigned: <span class="form-control-static">{{printLetter.lorInstructions}}</span></strong></li>\n                                    </ul>\n                                    <div class="form-group" ng-show="printLetter.specialty">\n                                        <label for="specialty" class="col-md-5 control-label">\n                                            <strong>Specialty to which this letter will be assigned:</strong>\n                                        </label>\n                                        <div class="col-md-7">\n                                            <p class="form-control-static">{{printLetter.specialty}}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <p>&nbsp;</p>\n                        </div>\n\n                        <div ng-show="applicationData.sourceOrganization===\'EFDO\'">\n                            <p>*LoR(s) submitted through the ERAS LoR Portal are expected to take five business days.</p>\n                        </div>\n                        <div ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                            <p>*LoR(s) submitted through the ERAS LoR Portal are expected to take two weeks to process.</p>\n                        </div>\n\n                        <p>Once submitted through the LoR Portal, the LoR will display a watermark containing a date/time stamp of when it was received by ERAS, source of upload and name of the LoR Portal account holder. </p>\n                        <p><strong>Example:</strong>Received by ERAS: 12 JUN 2014 02:02 PM Source: LoR Portal Uploaded by: John Doe</p>\n\n                        <div ng-show="applicationData.sourceOrganization===\'DWS\' || applicationData.sourceOrganization===\'EFDO\'">\n                            <strong><dfn>Contact ERAS for LoR Portal Help: 202-862-6249 <a href="mailto:eraslorportal@aamc.org" target="_top"> eraslorportal@aamc.org</a></dfn>\n                            </strong>\n                        </div>\n                        <div ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                            <strong><u><dfn>Contact ERAS for LoR Portal Help</dfn></u></strong>\n                        </div>\n                        <div ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                            <strong><dfn>Letter Authors: 202-862-6249 or <a href="mailto:eraslorportal@aamc.org" target="_top"> eraslorportal@aamc.org</a></dfn></strong>\n                        </div>\n                        <div ng-show="applicationData.sourceOrganization===\'ECFMG\'">\n                            <strong><dfn>Applicants: 202-862-6264 or <a href="mailto:eraslorportal@aamc.org" target="_top"> eraslorportal@aamc.org</a></dfn></strong>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </form>\n            <div class="modal-footer">\n                <button class="btn btn-default" type="button" ng-click="hidePrintRequestAuthorModal()">\n                    <span class="glyphicon glyphicon-remove"></span> Close\n                </button>\n                <span id="export-p-pdf">\n                    <button type="button" class="btn btn-primary" ng-click="printLOR(applicationData, printLetter, true)">\n                        <span class="glyphicon glyphicon-print"></span> Print\n                    </button>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n')}]),angular.module("states/licensure/licensure-modal.html",[]).run(["$templateCache",function(a){a.put("states/licensure/licensure-modal.html",'<div class="modal" role="dialog" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <!--<div class="spinner-container" ng-show="isSaveMedLicenseBusy">\n                <div class="spinner">\n                    <i class="fa fa-refresh fa-spin fa-3x"></i>\n                </div>\n            </div>-->\n            <form class="simple-form form-horizontal" novalidate name="forms.licensureFormModal" ng-show="!isSaveMedLicenseBusy">\n                <div class="modal-header" ng-if="license.id">\n                    <button role="button" aria-label="close" type="button" class="close" ng-click="hideLicensureModal();">&times;</button>\n                    <h2 class="modal-title" id="myModalLabel">Edit State Medical License</h2>\n                </div>\n                <div class="modal-header" ng-if="!license.id">\n                    <button role="button" aria-label="close" type="button" class="close" ng-click="hideLicensureModal();">&times;</button>\n                    <h2 class="modal-title" id="myModalLabel">Add State Medical License</h2>\n                </div>\n                <div class="modal-body">\n                    <p style="text-align: left">\n                        <strong>\n                        <span class="text-danger">*</span> Indicates required field.</strong>\n                    </p>\n                    <hr>\n                    <div class="form-group">\n                        <div class="row form-group">\n                            <label class="col-sm-4 control-label" for="state">State <span class="text-danger">*</span></label>\n                            <div class="col-sm-5">\n                                <select class="form-control" id="state" name="state" ng-model="license.licenseState" ng-options="state.stateDesc for state in states" ng-required="true" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="licensureFormModal.state.$dirty && licensureFormModal.state.$error.required">Please select a state.</span>\n                            </div>\n                        </div>\n                        <div class="row form-group">\n                            <label class="col-sm-4 control-label" for="licenseType">License Type <span class="text-danger">*</span></label>\n                            <div class="col-sm-5">\n                                <select class="form-control" id="licenseType" name="licenseType" ng-model="license.licenseType" ng-options="licenseType for licenseType in licenseTypes" ng-required="true" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="licensureFormModal.licenseType.$dirty && licensureFormModal.licenseType.$error.required">Please select a License type.</span>\n                            </div>\n                        </div>\n                        <div class="row form-group">\n                            <label class="col-sm-4 control-label" for="licenseNumber">License Number <span class="text-danger">*</span></label>\n                            <div class="col-sm-5">\n                                <input type="text" class="form-control" id="licenseNumber" name="licenseNumber" ng-model="license.licenseNumber" placeholder="Enter License #" ng-maxlength="30" maxlength="30" ng-required="true" required>\n                                <span class="text-danger" ng-show="licensureFormModal.licenseNumber.$dirty && licensureFormModal.licenseNumber.$error.required">Please enter the License Number.</span>\n                                <span class="text-danger" ng-show="licensureFormModal.licenseNumber.$dirty && licensureFormModal.licenseNumber.$error.maxlength">License Number can be no more than 30 characters</span>\n                            </div>\n                        </div>\n                        <div class="row form-group">\n                            <label class="col-sm-4 control-label" for="licenseExpirationMonth">Expiration Month <span class="text-danger">*</span></label>\n                            <div class="col-sm-5">\n                                <select class="form-control" id="licenseExpirationMonth" name="licenseExpirationMonth" ng-model="license.licenseMonth" ng-options="month.name for month in months" ng-required="true" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="licensureFormModal.licenseExpirationMonth.$dirty && licensureFormModal.licenseExpirationMonth.$error.required">Enter the expiration month.</span>\n                            </div>\n                        </div>\n                        <div class="row form-group">\n                            <label class="col-sm-4 control-label" for="licenseExpirationYear">Expiration Year <span class="text-danger">*</span></label>\n                            <div class="col-sm-5">\n                                <select id="licenseExpirationYear" name="licenseExpirationYear" ng-model="license.licenseYear" class="form-control" ng-options="year for year in licenseYears" ng-required="true" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                                <span class="text-danger" ng-show="licensureFormModal.licenseExpirationYear.$dirty && licensureFormModal.licenseExpirationYear.$error.required">Enter the expiration year.</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="modal-footer">\n                        <button role="button" class="btn btn-default" type="submit" ng-click="cancelLicensureModal();">Cancel</button>\n                        <button role="button" type="button" class="btn btn-primary" ng-click="saveMedLicense(license)" ng-show="!license.id.licenseSeqNbr">\n                            Save</button>\n                        <button role="button" type="button" class="btn btn-primary" ng-click="saveMedLicense(license)" ng-show="license.id.licenseSeqNbr">\n                            Update</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/licensure/licensure.html",[]).run(["$templateCache",function(a){a.put("states/licensure/licensure.html",'<aamc-application-tabs ng-show="applicationObject" aamc-validate-form-and-focus add-error-elems="true">\n    <!-- Tab panels -->\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <aamc-help-modal contentKey="LICENSURE_HELPCONTENT"></aamc-help-modal>\n            <p><span class="text-danger">*</span> Indicates required fields.</p>\n            <div class="tab-pane with-bg active" id="licensure">\n                <a id="licensure"></a>\n                <div class="panel panel-default" ng-class="sectionErrorLicenses">\n                    <div class="panel-heading">\n                        <strong>State Medical Licenses <span class="text-danger">*</span></strong>\n                    </div>\n                    <div class="panel-body">\n                        <p>Please add an entry for any of your state medical licenses. After completing the required fields, click Save. Additional entries may be added as needed.\n                        </p>\n                        <form class="simple-form form-horizontal" novalidate name="forms.licensureForm" role="form">\n                            <div class="form-group">\n                                <div class="pull-left">\n                                    &nbsp;&nbsp;&nbsp;\n                                    <button role="button" class="btn btn-prusia" type="submit" data-target="#licensureModal" data-toggle="modal" ng-click="showLicensureModal();">\n                                        <i class="fa fa-plus"></i> Add Entry\n                                    </button>\n                                    <button class="btn btn-default" type="submit" ng-show="enableNoneButton" ng-click="updateNoneLicenseDetails()">None</button>\n                                </div>\n                                <div class="col-md-12 col-sm-12 col-xs-12">\n                                    <span class="text-danger" ng-show="validationLicensesMsg">{{validationLicensesMsg}}</span>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="form-group" ng-show="(licenseData.length >0) && !showNoneText">\n                                        <div class="col-md-4">\n                                            <h5 class="h5">\n                                                <strong>Your Medical Licenses:</strong>\n                                            </h5>\n                                        </div>\n                                    </div>\n                                    <div class="table-responsive" ng-show="(licenseData.length>0) && !showNoneText">\n                                        <table class="table table-bordered table-striped table-hover">\n                                            <thead>\n                                                <tr>\n                                                    <th class="cell-overflow col-md-1">\n                                                        <div>State</div>\n                                                    </th>\n                                                    <th class="cell-overflow col-md-4">\n                                                        <div>License Number</div>\n                                                    </th>\n                                                    <th class="cell-overflow col-md-3">\n                                                        <div>License Type</div>\n                                                    </th>\n                                                    <th class="cell-overflow col-md-2">\n                                                        <div>Expiration Month/Year</div>\n                                                    </th>\n                                                    <th class="cell-overflow col-md-2">\n                                                        <div>Actions</div>\n                                                    </th>\n                                                </tr>\n                                            </thead>\n                                            <tbody class="no-border-y">\n                                                <tr ng-repeat="licensure in licenseData|orderBy:licenseSeqNbr">\n                                                    <td class="cell-overflow">{{licensure.licenseStateDesciption}}</td>\n                                                    <td class="cell-overflow" ng-show="licensure.licenseNumber.length>10">\n                                                        <span>{{licensure.licenseNumber}}</span>\n                                                    </td>\n                                                    <td class="cell-overflow" ng-show="licensure.licenseNumber.length<=10">{{licensure.licenseNumber}}</td>\n                                                    <td class="cell-overflow">{{licensure.licenseType}}</td>\n                                                    <td class="cell-overflow">{{licensure.licenseExpirationMonth | formatmonth}}/{{licensure.licenseExpirationYear}}</td>\n                                                    <td class="cell-overflow">\n                                                        <button class="btn btn-default fa fa-edit" aria-label="Edit" tooltip="Edit" name="edit" ng-click="editLicense(licensure)" type="submit"></button>\n                                                        <button class="btn btn-danger fa fa-trash" aria-label="Delete" tooltip="Delete" type="submit" data-target="#DeleteLicenseModal" data-toggle="modal" ng-click="deleteLicenseData(licensure)">\n                                                        </button>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="panel-heading">\n                                <div class="panel-group" id="accordion" ng-show="showNoneText">\n                                    <div class="panel panel-default">\n                                        <div class="panel-heading">\n                                            <h4 class="panel-title">\n                                                None\n                                            </h4>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="additional"></a>\n                <div class="panel panel-default" ng-class="sectionErrorAdditional">\n                    <div class="panel-heading">\n                        <strong>Additional Questions</strong>\n                    </div>\n                    <div class="panel-body">\n                        <form class="simple-form form-horizontal" novalidate name="forms.additionalLicenseForm" role="form">\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" id="radio_label_license">\n                                    <p>\n                                        Has your medical license ever been suspended/revoked/voluntarily terminated?\n                                        <strong><span class="text-danger">*</span></strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input aria-labelledby="radio_label_license" type="radio" name="license" value="Y" ng-model="caf.cafLicensureProblemInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input aria-labelledby="radio_label_license" type="radio" ng-click="caf.cafLicensureProblemDesc=null" name="license" value="N" ng-model="caf.cafLicensureProblemInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.license.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                </div>\n                            </div>\n                            <div class="row form-group">\n                                <div class="col-md-6">\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafLicensureProblemInd.$error.required">Please indicate if your license has been suspended/revoked/voluntarily terminated</span>\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="cafLicensureProblemDesc"  ng-show="(caf.cafLicensureProblemInd===\'Y\')">\n                                    <p>\n                                        If yes, please explain:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafLicensureProblemInd===\'Y\')">\n                                    <textarea id="cafLicensureProblemDesc" name="cafLicensureProblemDesc" placeholder="Please enter the details of your suspended/revoked/voluntarily terminated license" ng-model="caf.cafLicensureProblemDesc" cols="55" rows="3" ng-maxlength="510" maxlength="510" ng-required="(caf.cafLicensureProblemInd===\'Y\')" class="form-control" required></textarea>\n                                    <span ng-hide="(caf.cafLicensureProblemDesc===null || caf.cafLicensureProblemDesc===undefined)">\n                                        <small>\n                                            <strong>{{510-(caf.cafLicensureProblemDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafLicensureProblemDesc.$error.maxlength">Text area of licensure problems explanation cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" id="radio_label_malpractice">\n                                    <p>\n                                        Have you been named in a malpractice case?\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_malpractice" name="malpractice" value="Y" ng-model="caf.cafMalpracticeInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_malpractice" name="malpractice" ng-click="caf.cafMalpracticeDesc=null" value="N" ng-model="caf.cafMalpracticeInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.malpractice.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                </div>\n                            </div>\n                            <div class="row form-group">\n                                <span class="text-danger" ng-show="forms.additionalLicenseForm.malpractice.$dirty && forms.additionalLicenseForm.malpractice.$error.required">Please indicate if you have been named in a malpractice case.</span>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="cafMalpracticeDesc" ng-show="(caf.cafMalpracticeInd===\'Y\')">\n                                    <p>\n                                        If yes, please explain:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafMalpracticeInd===\'Y\')">\n                                    <textarea id="cafMalpracticeDesc" name="cafMalpracticeDesc" placeholder="Please enter the details about the malpractice case" ng-model="caf.cafMalpracticeDesc" cols="55" rows="3" required ng-maxlength="510" maxlength="510" ng-required="(caf.cafMalpracticeInd===\'Y\')" class="form-control"></textarea>\n                                    <span ng-hide="(caf.cafMalpracticeDesc===null || caf.cafMalpracticeDesc===undefined)">\n                                        <small>\n                                            <strong>{{510-(caf.cafMalpracticeDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafMalpracticeDesc.$dirty && forms.additionalLicenseForm.cafMalpracticeDesc.$error.maxlength">Text area of malpractice case explanation cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <!--end form-group-->\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" id="radio_label_history">\n                                    <p>\n                                        Is there anything in your past history that would limit your ability to be licensed or would limit your ability to receive hospital privileges?\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_history" name="history" value="Y" ng-model="caf.cafPastHistoryInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_history" name="history" ng-click="caf.cafPastHistoryDesc=null" value="N" ng-model="caf.cafPastHistoryInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.history.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                </div>\n                            </div>\n                            <div class="row form-group">\n                                <span class="text-danger" ng-show="forms.additionalLicenseForm.history.$dirty && forms.additionalLicenseForm.history.$error.required">Please indicate if you have anything in your past history that would limit your ability to be licensed or to receive hospital privileges.</span>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="cafPastHistoryDesc" ng-show="(caf.cafPastHistoryInd===\'Y\')">\n                                    <p>\n                                        If yes, please explain:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafPastHistoryInd===\'Y\')">\n                                    <textarea id="cafPastHistoryDesc" name="cafPastHistoryDesc" placeholder="Please enter an explanation for why your past history may limit your ability to be licensed or to receive hospital privileges" ng-model="caf.cafPastHistoryDesc" cols="55" rows="3" required ng-maxlength="510" maxlength="510" ng-required="(caf.cafPastHistoryInd===\'Y\')" class="form-control"></textarea>\n                                    <span ng-hide="(caf.cafPastHistoryDesc===null || caf.cafPastHistoryDesc===undefined)">\n                                        <small>\n                                            <strong>{{510-(caf.cafPastHistoryDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafPastHistoryDesc.$dirty && forms.additionalLicenseForm.cafPastHistoryDesc.$error.maxlength">Text area of past history explanation cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <!--end form-group-->\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" id="radio_label_misdemeanor">\n                                    <p>\n                                        Have you ever been convicted of a misdemeanor in the United States?\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_misdemeanor" name="misdemeanor" value="Y" ng-model="caf.cafMisdemeanorInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_misdemeanor" name="misdemeanor" ng-click="caf.cafMisdemeanorDesc=null" value="N" ng-model="caf.cafMisdemeanorInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.misdemeanor.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <span class="text-danger" ng-show="forms.additionalLicenseForm.misdemeanor.$dirty && forms.additionalLicenseForm.misdemeanor.$error.required">Please indicate if you have been convicted of a misdemeanor.</span>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="misdemeanorDesc" ng-show="(caf.cafMisdemeanorInd===\'Y\')">\n                                    <p>\n                                        If yes, please explain:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafMisdemeanorInd===\'Y\')">\n                                    <textarea id="misdemeanorDesc" name="misdemeanorDesc" placeholder="Please enter the details of your misdemeanor conviction" ng-model="caf.cafMisdemeanorDesc" cols="55" rows="3" required ng-maxlength="510" maxlength="510" ng-required="(caf.cafMisdemeanorInd===\'Y\')" class="form-control"></textarea>\n                                    <span ng-hide="(caf.cafMisdemeanorDesc===null || caf.cafMisdemeanorDesc===undefined)">\n                                        <small>\n                                            <strong>{{510-(caf.cafMisdemeanorDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.misdemeanorDesc.$dirty && forms.additionalLicenseForm.misdemeanorDesc.$error.maxlength">Text area of misdemeanor conviction cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <!--end form-group-->\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" id="radio_label_felony">\n                                    <p>\n                                        Have you ever been convicted of a felony in the United States?\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_felony" name="felony" value="Y" ng-model="caf.cafFelonyInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_felony" name="felony" ng-click="caf.cafFelonyDesc=null" value="N" ng-model="caf.cafFelonyInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.felony.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                    <div class="form-group row">\n                                        <span class="text-danger" ng-show="forms.additionalLicenseForm.felony.$dirty && forms.additionalLicenseForm.felony.$error.required">Please indicate if you have been convicted of a felony.</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="cafFelonyDesc" ng-show="(caf.cafFelonyInd===\'Y\')">\n                                    <p>\n                                        If yes, please explain:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafFelonyInd===\'Y\')">\n                                    <textarea id="cafFelonyDesc" name="cafFelonyDesc" placeholder="Please enter the details of your felony conviction" ng-model="caf.cafFelonyDesc" cols="55" rows="3" required ng-maxlength="510" maxlength="510" ng-required="(caf.cafFelonyInd===\'Y\')" class="form-control"></textarea>\n                                    <span ng-hide="caf.cafFelonyDesc===null || caf.cafFelonyDesc===undefined">\n                                        <small>\n                                            <strong>{{510-(caf.cafFelonyDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafFelonyDesc.$dirty && forms.additionalLicenseForm.cafFelonyDesc.$error.maxlength">Text area of felony explanation cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <!--end form-group-->\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" id="radio_label_cafNoLimitationsInd">\n                                    <p>\n                                        Are you able to carry out the responsibilities of a resident<span ng-if="application.fellowshipType ===\'DO\'||application.residencyType===\'DO\'">, intern,</span> or fellow in the specialties and at the specific training programs to which you are applying, including the functional requirements, cognitive requirements, interpersonal and communication requirements, and attendance requirements with or without reasonable accommodations?\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_cafNoLimitationsInd" name="cafNoLimitationsInd" value="Y" ng-model="caf.cafNoLimitationsInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_cafNoLimitationsInd" name="cafNoLimitationsInd" ng-click="caf.cafLimitationsDesc=null" value="N" ng-model="caf.cafNoLimitationsInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    <span class="col-sm-4">\n                                        <input type="radio" aria-labelledby="radio_label_cafNoLimitationsInd" name="cafNoLimitationsInd" value="R" ng-click="caf.cafLimitationsDesc=null" ng-model="caf.cafNoLimitationsInd" ng-required="true" required class="ng-pristine ng-valid">\n                                        <label>No Response</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.cafNoLimitationsInd.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                    <div class="form-group row">\n                                        <span class="text-danger" ng-show="forms.additionalLicenseForm.cafNoLimitationsInd.$dirty && forms.additionalLicenseForm.cafNoLimitationsInd.$error.required">Please indicate if you have any limiting aspects.</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <div class="col-md-6 text-right" for="cafLimitationsDesc" ng-show="(caf.cafNoLimitationsInd===\'N\')">\n                                    <p>\n                                        Limiting Aspects:\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-5" ng-show="(caf.cafNoLimitationsInd===\'N\')">\n                                    <textarea id="cafLimitationsDesc" name="cafLimitationsDesc" placeholder="Please list your limiting aspect(s)" ng-model="caf.cafLimitationsDesc" cols="55" rows="3" required ng-maxlength=510 maxlength=510 ng-required="(caf.cafNoLimitationsInd===\'N\')" class="form-control"></textarea>\n                                    <span ng-hide="(caf.cafLimitationsDesc===null || caf.cafLimitationsDesc===undefined)">\n                                        <small>\n                                            <strong>{{510-(caf.cafLimitationsDesc.length)}} characters left/510</strong>\n                                        </small>\n                                    </span>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.cafLimitationsDesc.$error.maxlength">The explanation of your limiting aspects cannot be over 510 characters.</span>\n                                </div>\n                            </div>\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" id="radio_label_certified">\n                                    <p>\n                                        Are you Board Certified? <span ng-if="application.residencyType===\'IMG\'||application.fellowshipType===\'IMG\'"><a data-placement="bottom" bs-popover="popover" href style="cursor:pointer;"> What does this mean?</a></span>\n                                        <strong>\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                    </p>\n                                </div>\n                                <div class="col-md-6">\n                                    <fieldset>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_certified" name="certified" value="Y" ng-model="caf.cafBoardCertifiedInd" ng-required="true" required class="ng-pristine ng-valid ng-valid-required">\n                                        <label>Yes</label>\n                                    </span>\n                                    <span class="col-sm-2">\n                                        <input type="radio" aria-labelledby="radio_label_certified" name="certified" value="N" ng-click="caf.cafBoardCertifiedName=null" ng-model="caf.cafBoardCertifiedInd" required ng-required="true" class="ng-pristine ng-valid">\n                                        <label>No</label>\n                                    </span>\n                                    </fieldset>\n                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.additionalLicenseForm.certified.$error.required" aria-hidden="false">\n                                    Selection is required.\n                                </span>\n                                    <div class="row form-group">\n                                        <span class="text-danger" ng-show="forms.additionalLicenseForm.certified.$dirty && forms.additionalLicenseForm.certified.$error.required">Please indicate if you are Board Certified</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row form-group" ng-show="(caf.cafBoardCertifiedInd===\'Y\')">\n                                <div class="col-md-6 text-right" for="cafBoardCertifiedName">\n                                    Board Name:\n                                    <strong>\n                                        <span class="text-danger">*</span>\n                                    </strong>\n                                </div>\n                                <div class="col-md-3">\n                                    <input type="text" class="form-control" ng-model="caf.cafBoardCertifiedName" id="cafBoardCertifiedName" name="cafBoardCertifiedName" ng-required="(caf.cafBoardCertifiedInd===\'Y\')" required ng-maxlength="100" maxlength="100">\n                                </div>\n                            </div>\n                            <!--end form-group-->\n                            <div class="row form-group">\n                                <div class="col-md-6 text-right" for="deaReg">\n                                    DEA Registration Number:\n                                </div>\n                                <fieldset>\n                                    <span class="col-md-6">\n                                        <input type="text" id="deaReg" name="deaReg" ng-model="caf.cafDeaRegNbr" class="form-control" maxlength="20" ng-maxlength="20">\n                                    </span>\n                                </fieldset>\n                            </div>\n                            <div class="form-group" ng-show="caf.cafDeaRegNbr">\n                                <div class="col-md-6 text-right" for="regExpMonth">\n                                    Expiration Month:\n                                    <strong>\n                                        <span class="text-danger">*</span>\n                                    </strong>\n                                </div>\n                                <div class="col-md-3">\n                                    <select class="form-control" id="regExpMonth" name="regExpMonth" ng-model="caf.regExpMonth" ng-options="month.name for month in months" ng-required="caf.cafDeaRegNbr" required>\n                                        <option value="">--Select--</option>\n                                    </select>\n                                    <span class="text-danger" ng-show="forms.additionalLicenseForm.regExpMonth.$error.required || caf.regExpMonth.name===undefined">Enter in the DEA Expiration Month.</span>\n                                </div>\n                            </div>\n                            <div class="row form-group" ng-show="caf.cafDeaRegNbr">\n                                <div class="col-md-6 text-right" for="cafDeaRegExpYr">\n                                    Expiration Year:\n                                    <strong>\n                                        <span class="text-danger">*</span>\n                                    </strong>\n                                </div>\n                                <fieldset>\n                                    <span class="col-md-6">\n                                        <select ng-model="caf.cafDeaRegExpYr" id="cafDeaRegExpYr" name="cafDeaRegExpYr" class="form-control" ng-options="year for year in years" ng-required="caf.cafDeaRegNbr" required>\n                                            <option value="">--Select--</option>\n                                        </select>\n                                        <span class="text-danger" ng-show="forms.additionalLicenseForm.cafDeaRegExpYr.$error.required">Enter in the DEA Expiration Year.</span>\n                                    </span>\n                                </fieldset>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n<div class="modal fade" id="DeleteLicenseModal" role="alertdialog" aria-labelledby="licenseModal" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.deleteLicenseForm">\n            <div class="modal-content">             \n                <div class="panel-heading">\n                    <h1>Delete Medical License Entry</h1>\n                </div>\n                <div class="modal-body">You have indicated that you would like to delete the License entry. Are you sure you want to delete?</div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                    <button type="button" class="btn btn-danger" ng-click="deleteLicenseModal()" data-dismiss="modal">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n');
}]),angular.module("states/mail/mail.html",[]).run(["$templateCache",function(a){a.put("states/mail/mail.html",'<div class="wrapper">\n    <div class="mail-content">\n        <div class="col-lg-12">\n            <div id="email-box" class="clearfix">\n                <div class="row">\n                    <div class="col-lg-12">\n                        <header id="email-header">\n                            <div class="col-lg-2">\n                                <div id="email-header-title">\n                                    <i class="fa fa-inbox"></i> {{ vm.title }}\n                                </div>\n                            </div>\n                            <div class="col-lg-10">\n                                <div id="email-header-tools" class="col-lg-6 col-xs-8 pull-left">\n                                    <div class="btn-group pull-left">\n                                        <button class="btn btn-primary" type="button" title="" data-toggle="tooltip" data-placement="bottom" data-original-title="Refresh" ng-click="vm.refresh()" ng-disabled="vm.currentContentState != vm.contentState.mailList">\n                                            <i class="fa fa-refresh"></i>\n                                        </button>\n                                    </div>\n                                    <!--  <div class="form-wizard col-md-6 col-sm-4 col-xs-6 pull-left">\n                                        <ul class="tabs col-md-6" role="tablist">\n                                            <li ng-class="{ active : vm.currentInboxType == vm.inboxTypes.New }" ng-click="vm.setInboxType(vm.inboxTypes.New)"><a href role="tab" style="padding-top: 2px; padding-bottom: 2px;">{{\n                                                vm.inboxTypes.New }}</a>\n                                            </li>\n                                            <li ng-class="{ active : vm.currentInboxType == vm.inboxTypes.Legacy }" ng-click="vm.setInboxType(vm.inboxTypes.Legacy)"><a href role="tab" style="padding-top: 2px; padding-bottom: 2px;">{{\n                                                vm.inboxTypes.Legacy }}</a>\n                                            </li> \n                                        </ul>\n                                    </div> -->\n                                </div>\n                                <div id="email-header-pagination" class="col-lg-4 col-xs-4 pull-right" ng-if="vm.currentInboxType == vm.inboxTypes.New && vm.currentContentState == vm.contentState.mailList">\n                                    <div class="btn-group pagination pull-right">\n                                        <button class="btn btn-primary" type="button" title="" data-toggle="tooltip" data-placement="bottom" data-original-title="Previous" ng-click="vm.goToPrevious()" ng-disabled="vm.pageInfo[\'currentPage\'] == 1">\n                                            <i class="fa fa-chevron-left"></i>\n                                        </button>\n                                        <button class="btn btn-primary" type="button" title="" data-toggle="tooltip" data-placement="bottom" data-original-title="Next" ng-click="vm.goToNext()" ng-disabled="(vm.pageInfo[\'currentPage\'] == vm.pageInfo[\'totalPages\']) || vm.pageInfo[\'totalPages\']==0">\n                                            <i class="fa fa-chevron-right"></i>\n                                        </button>\n                                    </div>\n                                    <!--TODO: Fix the logic for Trash-->\n                                    <div class="num-items pull-right">\n                                        {{ vm.getPageCounter() }}\n                                    </div>\n                                </div>\n                            </div>\n                        </header>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-lg-12">\n                        <!--email-navigation-->\n                        <div class="col-lg-2">\n                            <div id="email-navigation">\n                                <ul id="email-nav-items" class="clearfix">\n                                    <li ng-class="{ active: vm.currentFolder == vm.folderTypes.Inbox }">\n                                        <a href="" ng-click="vm.setFolderType(vm.folderTypes.Inbox)">\n                                            <i class="fa fa-inbox"></i> {{ vm.folderTypes.Inbox }} <spna ng-if="vm.unreadMessages > 0">({{ vm.unreadMessages }})</spna>\n                                            <!--TODO: if there is a business requirement-->\n                                            <!--<span class="label label-primary pull-right">83</span>-->\n                                        </a>\n                                    </li>\n                                    <li ng-class="{ active : vm.currentFolder == vm.folderTypes.Sent }" ng-if="vm.currentInboxType == vm.inboxTypes.New" ng-click="vm.setFolderType(vm.folderTypes.Sent)">\n                                        <a href="">\n                                            <i class="fa fa-envelope"></i> {{ vm.folderTypes.Sent }}\n                                        </a>\n                                    </li>\n                                    <li ng-class="{ active : vm.currentFolder == vm.folderTypes.Trash }">\n                                        <a href="" ng-click="vm.setFolderType(vm.folderTypes.Trash)">\n                                            <i class="fa fa-trash-o"></i> {{ vm.folderTypes.Trash }}\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class="col-lg-10">\n                            <!--Progressbar-->\n                            <!--<div class="spinner-container" ng-if="vm.isBusy">\n                                <div class="spinner">\n                                    <i class="fa fa-refresh fa-spin fa-3x"></i>\n                                </div>\n                            </div>-->\n                            <!--No-mail-message-->\n                            <div class="row" ng-if="vm.messages.length === 0">\n                                <div class="col-md-2 col-md-offset-5 no-content">No Messages</div>\n                            </div>\n                            <!--email-list-->\n                            <div id="email-content" class="fade" ng-class="{in:vm.messages.length > 0}" ng-show="(vm.currentContentState == vm.contentState.mailList) && !vm.isBusy">\n                                <ul id="email-list">\n                                    <li class="clickable-row" style="font-weight: bold; background-color: #D0E4F2">\n                                        <!--background-color: #62269e-->\n                                        <div class="name active">\n                                            <a href="" class="full-width active" ng-click="vm.sortColumn(\'FromOrTo\')">\n                                                <span ng-if="vm.currentFolder != vm.folderTypes.Sent">From</span>\n                                                <span ng-if="vm.currentFolder == vm.folderTypes.Sent">To</span>\n                                                <i class="fa " ng-class="vm.getSortCSS(\'FromOrTo\')"></i>\n                                            </a>\n                                        </div>\n                                        <div class="message">\n                                            <a href="" class="" ng-click="vm.sortColumn(\'Subject\')">Subject\n                                                <i class="fa " ng-class="vm.getSortCSS(\'Subject\')"></i></a>\n                                        </div>\n                                        <div class="meta-info" style="font-weight: bold; background-color: #D0E4F2">\n                                            <a href="" class="date" ng-click="vm.sortColumn(\'Date\')" style="font-weight: bold; background-color: #D0E4F2"> Date <i\n                                                    class="fa " ng-class="vm.getSortCSS(\'Date\')"> </i></a>\n                                        </div>\n                                    </li>\n                                    <li class="clickable-row" ng-class="{unread: !message.isRead}" ng-click="vm.details(message)" ng-repeat="message in vm.messages">\n                                        <div class="name">\n                                            <span class="casText" data-title="{{vm.getFromText(message) > 45 ? vm.getFromText(message) : \'\'}}" bs-tooltip>{{ vm.getFromText(message) | characters:45:true }}</span>\n                                            <!-- <span>{{ ((vm.currentFolder != vm.folderTypes.Sent) ? vm.getSenderInfo(message) : vm.getRecipients(message)) | characters:10:true}}</span> -->\n                                        </div>\n                                        <div class="message">\n                                            <span class="subject" data-title="{{message.subject > 80 ? message.subject : \'\'}}" bs-tooltip ng-bind-html="message.subject | trustedHtml | limitTo: 80"></span>\n                                        </div>\n                                        <div class="meta-info">\n                                            <i ng-class="{\'fa fa-paperclip\' : message.attachmentGuids.length > 0}"></i>\n                                            <i ng-class="{\'fa fa-reply\' : message.isReplied === true}"></i>\n                                            <span class="date">{{ message.createDate | amDateFormat:\'ddd MM/DD/YYYY h:mm A\'}} ET</span>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                            <!--email-details-->\n                            <div id="email-detail" ng-show="(vm.currentContentState == vm.contentState.viewDetails) && !vm.isBusy">\n                                <div id="email-detail-inner">\n                                    <div id="email-detail-subject" class="clearfix">\n                                        <span class="subject" ng-bind-html="vm.messageDetail.subject | trustedHtml"></span>\n                                    </div>\n                                    <div id="email-detail-sender" class="clearfix">\n                                        <div class="users">\n                                            <div class="from">\n                                                <div class="name col-sm-6">\n                                                    <span ng-if="vm.currentFolder != vm.folderTypes.Sent">From : {{ vm.getSenderInfo(vm.messageDetail) }}</span>\n                                                    <span ng-if="vm.currentFolder == vm.folderTypes.Sent">To : {{ vm.getRecipients(vm.messageDetail) }}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="tools">\n                                            <div class="date">\n                                                {{ vm.messageDetail.createDate | amDateFormat:\'ddd MM/DD/YYYY h:mm A\'}} ET\n                                            </div>\n                                            <div class="btns">\n                                                <div class="btn-group">\n                                                    <button class="btn btn-success" type="button" ng-if="vm.currentInboxType == vm.inboxTypes.New && vm.currentFolder == vm.folderTypes.Inbox && (vm.messageDetail.source === \'ERAS-ECFMG\' || vm.messageDetail.source === \'ERAS-PDWS\')" ng-click="vm.replyTo(vm.messageDetail)">\n                                                        <i class="fa fa-mail-reply"></i>\n                                                    </button>\n                                                    <button data-toggle="dropdown" class="btn btn-success dropdown-toggle" type="button" ng-hide="vm.currentFolder == vm.folderTypes.Sent">\n                                                        <span class="caret"></span>\n                                                    </button>\n                                                    <ul class="dropdown-menu">\n                                                        <li ng-hide="vm.currentFolder == vm.folderTypes.Trash">\n                                                            <a href="" data-target="#DeleteMessageModal" data-toggle="modal">\n                                                                <i class="fa fa-trash"></i> Delete\n                                                            </a>\n                                                        </li>\n                                                        <li ng-if="vm.currentFolder == vm.folderTypes.Trash">\n                                                            <a href="" data-toggle="modal" ng-click="vm.restore(vm.messageDetail)">\n                                                                <i class="fa fa-undo"></i> Restore\n                                                            </a>\n                                                        </li>\n                                                        <!--TODO: Future sprint-->\n                                                        <!--<li>\n                                                                <a href="#">\n                                                                    <i class="fa fa-print"></i> Print\n                                                                </a>\n                                                            </li>-->\n                                                    </ul>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div id="email-body">\n                                        <span ng-bind-html="vm.messageDetail.msgBody"></span>\n                                    </div>\n                                    <div id="email-detail-attachments" ng-if="vm.currentInboxType == vm.inboxTypes.New && vm.attachmentInfo.length > 0">\n                                        <div id="email-attachments-header" class="clearfix">\n                                            <div class="headline">\n                                                <i class="fa fa-paperclip"></i> <span>Attachments:</span> <b>({{\n                                                vm.messageDetail.attachmentGuids.length }})</b>\n                                            </div>\n                                        </div>\n                                        <div id="email-attachments-content">\n                                            <ul class="clearfix">\n                                                <li ng-repeat="attachment in vm.attachmentInfo">\n                                                    <span class="name"></span>\n                                                    <a href="{{ vm.getFilePath() }}/{{ attachment.fileId }}" target="_blank">{{\n                                                        attachment.fileName }}</a>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <!-- email-reply -->\n                            <div id="email-reply" ng-show="vm.currentContentState == vm.contentState.reply && !vm.isBusy">\n                                <div id="email-reply-inner">\n                                    <div id="email-reply-subject" class="clearfix">\n                                        <span class="subject" ng-bind-html="vm.messageDetail.replySubject"></span>\n                                    </div>\n                                    <div id="email-reply-sender" class="clearfix">\n                                        <div class="users">\n                                            <div class="from clearfix">\n                                                <div class="name">\n                                                    <span>To: {{ vm.messageDetail.replySendTo}}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="tools">\n                                           <!--  <div class="date">\n                                                {{ vm.messageDetail.createDate | amDateFormat:\'dddd MM/DD/YYYY h:mm A\'}} ET\n                                            </div> -->\n                                        </div>\n                                    </div>\n                                    <div id="email-body">\n                                        <p>\n                                            <div text-angular aria-labelledby="Enter you message" title="Enter your message" name="replyToMessage" focus="true" ta-toolbar="[\n                                            [\'h1\', \'h2\', \'h3\', \'h4\', \'h5\', \'h6\', \'p\', \'pre\', \'quote\'],\n                                            [\'bold\', \'italics\', \'underline\', \'strikeThrough\', \'ul\', \'ol\'], \n                                            [\'redo\', \'undo\', \'clear\'],\n                                            [\'justifyLeft\',\'justifyCenter\',\'justifyRight\',\'indent\',\'outdent\'],\n                                            [\'html\', \'insertImage\', \'insertLink\']\n                                            ]" ng-model="vm.messageDetail.replyMessage"></div>\n                                        </p>\n                                        <div class="btn btn-primary pull-left" ng-file-select multiple="true" ng-accept="\'.pdf,.jpg\'" ng-model="vm.selectedFiles" ng-change="vm.modifyFileSelection()">Attach Files <i class="fa fa-paperclip fa-2x"></i></div>\n                                        <div id="email-detail-attachments" style="margin-left: 30px;" class="col-md-8" ng-if="vm.currentInboxType == vm.inboxTypes.New && vm.filesTobeUploaded.length > 0">\n                                            <div id="email-attachments-header" class="clearfix">\n                                                <div class="headline">\n                                                    <i class="fa fa-paperclip"></i> <span>Attachments:</span> <b> ({{\n                                                    vm.filesTobeUploaded.length }}) </b>\n                                                </div>\n                                            </div>\n                                            <div id="email-attachments-content">\n                                                <ul class="clearfix">\n                                                    <li ng-repeat="file in vm.filesTobeUploaded" style="display: block">\n                                                        <span class="name"><a href="" ng-click="vm.buildDownloadLink(file)">{{\n                                                        file.name }}</a>  <a href=""\n                                                                             ng-click="vm.removeFile(file)"><i\n                                                            class="fa fa-remove"></i></a></span>\n                                                    </li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                        <button class="btn btn-primary btn-purple pull-right" ng-click="vm.sendReply(vm.messageDetail)">Send\n                                        </button>\n                                        <button class="btn btn-default pull-right" ng-click="vm.details(vm.messageDetail);vm.filesTobeUploaded = [];">\n                                            Discard\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- Delete Modal -->\n<div class="modal fade" id="DeleteMessageModal" tabindex="-1" role="dialog" aria-labelledby="messageModal" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <form name="MessageForm">\n            <div class="modal-content">\n                <div class="modal-body">Delete Message\n                    <strong>{{vm.messageDetail.subject}} ?</strong>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="submit" data-dismiss="modal">Cancel\n                    </button>\n                    <button type="button" class="btn btn-danger" ng-click="vm.deleteMessage(vm.messageDetail)" data-dismiss="modal">Confirm\n                    </button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/main/main.html",[]).run(["$templateCache",function(a){a.put("states/main/main.html",'<div class="row">\n    <div class="col-md-12">\n        <ui-view></ui-view>\n    </div>\n</div>\n')}]),angular.module("states/maintenance/maintenance.html",[]).run(["$templateCache",function(a){a.put("states/maintenance/maintenance.html",'<div class="row">\n    <div class="col-xs-12 col-md-12">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <span class="h2"><span class="fa fa-exclamation-triangle"></span> Maintenance</span>\n            </div>\n            <div class="panel-body">\n                <div class="form-group">\n                    <p ng-bind-html="maintMsg"></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/newdashboard/email-difference-modal.html",[]).run(["$templateCache",function(a){a.put("states/newdashboard/email-difference-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideEmailModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Confirm Email Change</h4>\n            </div>\n            <div class="modal-body">\n                <p>\n                    Change your MyERAS email address from <strong>{{erasEmail}}</strong> to <strong>{{context.emailAddress}}</strong>?\n                </p>\n            </div>\n\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="updateEmail()">Yes</button>\n                <button class="btn btn-primary btn-small" ng-click="hideEmailModal();" >No</button>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/newdashboard/newdashboard.html",[]).run(["$templateCache",function(a){a.put("states/newdashboard/newdashboard.html",'<div class="newdashboard-content">\n    <!--Dashboard Content-->\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">\n        <div class="col-xs-12 col-sm-12 col-md-12">\n            <aamc-dashboard-email-alert-section\n                    ng-if="((showEmailDifferenceFellowshipAlert || showEmailDifferenceResidencyAlert) && showEmailUpdateAlert)"></aamc-dashboard-email-alert-section>\n            <aamc-dashboard-soap-message></aamc-dashboard-soap-message>\n        </div>\n\n        <div class="col-xs-12 col-sm-12 col-md-12">\n            <aamc-dashboard-application-section></aamc-dashboard-application-section>\n            <aamc-dashboard-documents-section></aamc-dashboard-documents-section>\n            <aamc-dashboard-programs-section></aamc-dashboard-programs-section>\n        </div>\n    </div>\n\n    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-3">\n        <aamc-dashboard-help-section></aamc-dashboard-help-section>\n    </div>\n</div>\n')}]),angular.module("states/otherdocuments/assign-programs-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/assign-programs-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAssignProgramModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel"><span ng-if="showAssignTitle">Assign </span>{{currentDocObj.docType}} <span ng-if="currentDocObj.docType===\'MSPE\'">(Dean\'s Letter)</span></h4>\n            </div>\n            <div class="modal-body">\n                <aamc-assign-program></aamc-assign-program>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideAssignProgramModal();" ng-if="modalCurrentPage===1">\n                    Cancel\n                </button>\n                <button class="btn btn-primary btn-small" ng-click="confirmAssignProgram();" ng-if="modalCurrentPage===1">\n                    Save\n                </button>\n                <button class="btn btn-default btn-small" ng-click="backAssignProgram();" ng-if="modalCurrentPage===2">\n                    <span ng-if="(listPrograms.length!=0 || removedPrograms.length > 0)">Cancel</span><span ng-if="(listPrograms.length===0 && removedPrograms.length === 0)">Ok</span>\n                </button>\n                <button class="btn btn-primary btn-small" ng-click="assignToPrograms(selectedPrograms);" ng-if="modalCurrentPage===2 && (listPrograms.length!=0 || removedPrograms.length > 0)" >\n                    Confirm\n                </button>\n                <div ng-if="modalCurrentPage===3">\n                    <div ng-if="paymentEnabled.varValue == \'Y\'">\n                        <button class="btn btn-default btn-small" ng-click="hideAssignProgramModal();" ng-if="modalCurrentPage===3">\n                            Cancel\n                        </button>\n                        <button class="btn btn-primary btn-small" ng-click="payNowUsmleOrComlex(selectedPrograms)">Pay Now</button>\n                    </div>\n                    <div class="text-danger" ng-if="paymentEnabled.varValue != \'Y\'">\n                        {{paymentDisabled}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/otherdocuments/comlex-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/comlex-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideComlexModal(); comlexObj.comlexTransmissionInd = null">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">COMLEX-USA Release Permission</h4>\n            </div>\n            <div class="modal-body">\n                <form class="simple-form form-horizontal" name="forms.comlexAuthForm" aamc-validate-form-and-focus add-error-elems="true">\n                    <div>\n                        <span class="pull-left">\n                            <span class="text-danger">*</span> Indicates required fields</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="form-group">\n                        <label for="nbomeId" class="control-label col-md-4">\n                            NBOME ID <span class="text-danger">*</span></label>\n                        <div class="col-md-6">\n                            <input ng-model="comlexObj.nbomeId" class="form-control col-md-6" name="nbomeId" ng-pattern="/^\\d{1,6}$/" ng-minlength="6" maxlength="6" required>\n                            <span class="text-danger" ng-show="forms.comlexAuthForm.nbomeId.$error.minlength && forms.comlexAuthForm.nbomeId.$dirty">This field must be six characters</span>\n                            <span class="text-danger" ng-show="forms.comlexAuthForm.nbomeId.$error.pattern">This field takes numbers only.</span>\n                        </div>\n                    </div>\n                    <br/>\n                    <hr/>\n                    <div>\n                        The COMLEX-USA is an examination series administered by the National Board of Osteopathic Medical Examiners (NBOME) to students and graduates of U.S. osteopathic medical schools. Students with the M.D. degree do not take the COMLEX-USA examination. If you are uncertain of your status, do not request a COMLEX-USA transcript.\n                    </div>\n                    <br>\n                    <div>\n                        To ensure Programs receive your COMLEX-USA transcripts, please complete the following steps:\n                        <br>1. Enter your NBOME ID in the Profile in order to authorize the release of the COMLEX-USA transcript.\n                        <br>2. Authorize the Release of the COMLEX-USA transcript in order to assign it to programs.\n                        <br>3. Proceed to the Programs tab and assign your transcript to programs.\n                        <br>For more detailed information, please see the MyERAS User Guide on the ERAS website.\n                        <br>\n                    </div>\n                    <br>\n                    <div>\n                        Do you authorize the transmission of your COMLEX-USA transcript, by the NBOME, which includes a complete history of your scores at the time your request is processed? Select\n                        <strong>yes</strong> to automatically transmit your licensing examination scores, as stated above, to the residency programs you designate in Programs. Later you will need to assign the COMLEX-USA transcript document to each program that you want to receive your scores. If you do not assign the transcript to a program, the program will not receive your scores. (See Programs.) Your transcript will include the scores available ON THE DATE YOUR REQUEST IS PROCESSED BY THE NBOME.\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="comlexAuth" ng-model="comlexObj.comlexTransmissionInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="comlexAuth" ng-model="comlexObj.comlexTransmissionInd" value="N" required>No\n                        </label>\n                    </div>\n                    <div ng-show="formValidator.invalid && forms.comlexAuthForm.comlexAuth.$error.required">\n                        <span class="text-danger">Selection is required.</span>\n                    </div>\n                    <br>\n                </form>\n            </div>\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <strong>Important</strong>\n                </div>\n                <div class="panel-body">\n                    <div>\n                        To process your COMLEX-USA transcript, the following elements in your MyERAS Profile must match what the NBOME has on record for you: first name, last name, date of birth, last four digits of your SSN and NBOME ID. Please log into the <a href="https://www.nbome.org/online.html" target="_blank">NBOME Client Registration System</a> to verify the accuracy of your information before requesting a COMLEX-USA transcript.\n                    </div>\n                    <br />\n                    <div>\n                        Inadvertent delays caused by operational or technical issues may delay the processing of your transcript. While these potential delays are unlikely, it is best to plan ahead to ensure your transcript reaches programs by the established deadlines.\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideComlexModal(); ">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="updateNbomeId(formValidator);saveComlexAuth(comlexObj,formValidator);" ng-if="!comlexData.comlexTransmissionInd">Save</button>\n                <button class="btn btn-primary btn-small" ng-click="updateNbomeId(formValidator);updateComlexAuth(comlexObj,formValidator);" ng-if="comlexData.comlexTransmissionInd==\'N\'">Update</button>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/otherdocuments/mspe-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/mspe-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideMspeModal();mspeDataObj.cafTranscriptInd=null;">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">MSPE (Dean\'s Letter)/MS Transcript</h4>\n            </div>\n            <div class="modal-body">\n                <span class="pull-left">\n                    <span class="text-danger">*</span> Indicates required fields</span>\n                <hr>\n                <form class="simple-form form-horizontal" name="forms.mspeForm" aamc-validate-form-and-focus add-error-elems="true">\n                    <div>Will you or your medical school provide a MSPE and/or Transcript to the ERAS Documents Office at the ECFMG this season?</div>\n                    <br>\n                    <div>Select "Yes" if you meet one of the following criteria:<br>\n                        • You or your medical school will be providing the specified document to the ERAS Documents office at the ECFMG.\n                        Instructions for submission can be found here:\n                        <a href="http://www.ecfmg.org/eras/applicants-documents-index.html" target="_blank">http://www.ecfmg.org/eras/applicants-documents-index.html</a>.\n                        <br>\n                        • The ECFMG retained the specified documents and you plan to reuse them this season or you plan to request updated versions of the\n                        specified documents from your medical school.\n                    </div>\n                    <br>\n                    <div>\n                        Select "No" if you or your medical school do not plan to submit the specified documents for this season.\n                    </div>\n                    <br>\n\n                    <div>\n                        <span class="pull-left">\n                            <strong>Medical Student Performance Evaluation</strong>\n                            <span class="text-danger">*</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalRelInd" ng-model="mspeDataObj.cafMspeInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalRelInd" ng-model="mspeDataObj.cafMspeInd" value="N" required>No\n                        </label>\n                    </div>\n                    <div ng-show="formValidator.invalid && forms.mspeForm.ptalRelInd.$error.required">\n                        <span class="text-danger">Selection is required.</span>\n                    </div>\n                    <div>\n                        <span class="pull-left">\n                            <strong>Medical School Transcript</strong>\n                            <span class="text-danger">*</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalTranscriptInd" ng-model="mspeDataObj.cafTranscriptInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="ptalTranscriptInd" ng-model="mspeDataObj.cafTranscriptInd" value="N" required>No\n                        </label>\n                    </div>\n                    <div ng-show="formValidator.invalid && forms.mspeForm.ptalTranscriptInd.$error.required">\n                        <span class="text-danger">Selection is required.</span>\n                    </div>\n                </form>\n                <br>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideMspeModal();">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="addMspe(mspeDataObj,formValidator);">Save</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/otherdocuments/otherdocuments.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/otherdocuments.html",'<aamc-documents-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="row">\n                <div class="col-md-11">\n                    <h1 class="panel-heading" style="padding-left: 0px;">Additional Documents</h1>\n                </div>\n                <div class="col-md-1">\n                    <aamc-help-modal contentKey="ADDITIONALDOCUMENTS_HELPCONTENT"></aamc-help-modal>\n                </div>\n            </div>\n            <div class="table-responsive table-striped" style="margin-top:30px;">\n                <table class="table table-bordered">\n                    <thead>\n                    <tr>\n                        <th class="col-md-4">\n                            <strong>Document</strong>\n                        </th>\n                        <th class="col-md-4">\n                            <strong>Status</strong>\n                        </th>\n                        <th class="col-md-2 text-center">\n                            <strong>Actions</strong>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr class="odd gradeX">\n                        <td>USMLE Transcript</td>\n                        <td>\n                            <span ng-if="applicantData.usmleTransmissionInd==\'N\'||!applicantData.usmleTransmissionInd"\n                                  class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Authorized</span>\n                                <span ng-if="applicantData.usmleTransmissionInd==\'Y\'"><span class="label label-info"><i\n                                        class="fa fa-check"></i> Authorized - {{applicantData.authorizeDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The USMLE transcript has been authorized for release on {{applicantData.authorizeDt |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                            </br>\n                            </br>\n                            <a href="" ng-click="programsAppliedModalAction(\'USMLE\')" data-toggle="modal"\n                               ng-if="showUsmleDocStatusLink">\n                                <u>View USMLE Requests Status Report</u>\n                            </a>\n                        </td>\n                        <td style="text-align: center;">\n                            <aamc-actions item-context=\'itemContext.usmle\'\n                                          menu-type=\'OtherDocuments.USMLE\'></aamc-actions>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX"\n                        ng-if="applicationData.fellowshipType ==\'DO\'||applicationData.residencyType==\'DO\'">\n                        <td>COMLEX-USA Transcript</td>\n                        <td>\n                            <span ng-if="comlexData.comlexTransmissionInd===\'N\'||!comlexData.comlexTransmissionInd"\n                                  class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Authorized</span>\n                                <span ng-if="comlexData.comlexTransmissionInd===\'Y\'"><span class="label label-info"><i\n                                        class="fa fa-check"></i> Authorized - {{comlexData.authorizeDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The COMLEX-USA transcript has been authorized for release on {{comlexData.authorizeDt |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                            </br>\n                            </br>\n                            <a href="" ng-click="programsAppliedModalAction(\'COMLEX\')" ng-if="showComlexDocStatusLink"\n                               data-toggle="modal">\n                                <u>View COMLEX-USA Requests Status Report</u>\n                            </a>\n                        </td>\n                        <td style="text-align: center;">\n                            <aamc-actions  item-context=\'itemContext.comlex\'\n                                          menu-type=\'OtherDocuments.COMLEX\'></aamc-actions>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX"\n                        ng-if="applicationData.fellowshipType ==\'IMG\'||applicationData.residencyType==\'IMG\'">\n                        <td>Postgraduate Training Authorization Letter (PTAL)</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.ptalUploadDate" class="label label-warning"\n                                  style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.ptalUploadDate"><span class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.ptalUploadDate |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The PTAL was uploaded on {{documentUploadStatusData.ptalUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <div class="btn-group" ng-if="ptalData.lorCaLorInd==null||!ptalData">\n                                <p><a class="pointer" href ng-click="showPtalModal();">Will you use\n                                    a PTAL this season?</a>\n                                </p>\n                            </div>\n                            <aamc-actions ng-if="ptalData.lorCaLorInd!=null" item-context=\'{ docCode: docCodes.PTAL }\'\n                                          menu-type=\'OtherDocuments.PTAL\'></aamc-actions>\n                        </td>\n                    </tr>\n\n                    <!-- Medical School Performance Evaluation & Medical School Transcript -->\n                    <tr class="odd gradeX"\n                        ng-if="(applicationData.residencyType==\'MD\' || applicationData.residencyType==\'DO\') && applicationData.usCanGradInd==\'Y\'">\n                        <td>Medical Student Performance Evaluation (MSPE)</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.mspeLatestUploadDate" class="label label-warning"\n                                  style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.mspeLatestUploadDate"><span\n                                        class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.mspeLatestUploadDate | amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The MSPE was uploaded on {{documentUploadStatusData.mspeLatestUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <div class="btn-group">\n                                <p>No Available Action</p>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX"\n                        ng-if="(applicationData.residencyType==\'MD\' || applicationData.residencyType==\'DO\') && applicationData.usCanGradInd==\'Y\'">\n                        <td>Medical School Transcript</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.msTranscriptLatestUploadDate"\n                                  class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.msTranscriptLatestUploadDate"><span\n                                        class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.msTranscriptLatestUploadDate | amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The MS Transcript was uploaded on {{documentUploadStatusData.msTranscriptLatestUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <div class="btn-group">\n                                <p>No Available Action\n                                </p>\n                            </div>\n                        </td>\n                    </tr>\n\n                    <!-- Medical School Performance Evaluation & Medical School Transcript -->\n                    <tr class="odd gradeX"\n                        ng-if="applicationData.fellowshipType!=null || applicationData.residencyType===\'IMG\'">\n                        <td>Medical School Performance Evaluation (MSPE)</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.mspeLatestUploadDate" class="label label-warning"\n                                  style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.mspeLatestUploadDate"><span\n                                        class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.mspeLatestUploadDate | amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The MSPE was uploaded on {{documentUploadStatusData.mspeLatestUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center" rowspan=2\n                            ng-if="applicationData.residencyType===\'IMG\' && !cafData.cafSubmitDt">\n                            <p ng-if="!cafData.cafSubmitDt">\n                                <a class="pointer" href ng-click="showMspeModal();">Will you use an MSPE and/or MS\n                                    Transcript this season?</a>\n                            </p>\n                        </td>\n                        <td style="text-align: center"\n                            ng-if="applicationData.residencyType===\'IMG\' && cafData.cafSubmitDt">\n                            <p class="text-center">No Available Action</p>\n                        </td>\n                        <td style="text-align: center"\n                            ng-if="((cafData.cafMspeInd===\'Y\' && cafData.cafTranscriptInd===\'Y\') && applicationData.residencyType!=\'IMG\') || applicationData.fellowshipType!=null">\n                            <aamc-actions item-context=\'{ docCode: docCodes.MSPE }\'\n                                          menu-type=\'OtherDocuments.MSPE\'\n                                          ng-if="cafData.cafMspeInd==\'Y\' && cafData.cafTranscriptInd==\'Y\' || applicationData.fellowshipType!=null"></aamc-actions>\n                            <div class="btn-group"\n                                 ng-if="applicationData.residencyType === \'IMG\' && cafData.cafSubmitDt">\n                                No Available Action\n                            </div>\n                        </td>\n                    </tr>\n\n                    <!-- Medical School Transcript -->\n                    <tr class="odd gradeX"\n                        ng-if="applicationData.fellowshipType!=null||applicationData.residencyType===\'IMG\'">\n                        <td>Medical School Transcript</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.msTranscriptLatestUploadDate"\n                                  class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.msTranscriptLatestUploadDate"><span\n                                        class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.msTranscriptLatestUploadDate | amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The MS Transcript was uploaded on {{documentUploadStatusData.msTranscriptLatestUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;"\n                            ng-if="(applicationData.residencyType===\'IMG\'&&cafData.cafSubmitDt)||applicationData.fellowshipType!=null">\n                            <aamc-actions item-context=\'{ docCode: docCodes.MSTRANSCRIPT }\'\n                                          menu-type=\'OtherDocuments.MSTRANSCRIPT\'\n                                          ng-if="((cafData.cafMspeInd==\'Y\' && cafData.cafTranscriptInd==\'Y\')&&applicationData.residencyType!=\'IMG\')||applicationData.fellowshipType!=null"></aamc-actions>\n                            <div class="btn-group" ng-if="applicationData.residencyType===\'IMG\'">\n                                No Available Action\n                            </div>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX">\n                        <td>Photo</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.photoLatestUploadDate " class="label label-warning"\n                                  style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.photoLatestUploadDate"> <span\n                                        class="label label-success"><i class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.photoLatestUploadDate |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The Photo was uploaded on {{documentUploadStatusData.photoLatestUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <aamc-actions item-context=\'{ applicationData: applicationData, docCode: docCodes.PHOTO }\'\n                                          menu-type=\'OtherDocuments.PHOTO\'></aamc-actions>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX" ng-if="applicationData.fellowshipType!=null">\n                        <td>ABSITE</td>\n                        <td>\n                            <span ng-if="!documentUploadStatusData.absiteUploadDate" class="label label-warning"\n                                  style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.absiteUploadDate"><span\n                                        class="label label-success"><i\n                                        class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.absiteUploadDate |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The ABSITE was uploaded on {{documentUploadStatusData.absiteUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <aamc-actions item-context=\'{ docCode: docCodes.ABSITE }\'\n                                          menu-type=\'OtherDocuments.ABSITE\'></aamc-actions>\n                        </td>\n                    </tr>\n                    <tr class="odd gradeX"\n                        ng-if="applicationData.fellowshipType===\'IMG\'||applicationData.residencyType===\'IMG\'">\n                        <td>ECFMG Status Report</td>\n                        <td>\n                            <!-- <span ng-if="ptalData.lorCaLorInd==\'Y\'||ptalData">Uploaded</span> -->\n                            <span ng-if="!documentUploadStatusData.ecfmgStatusReportUploadDate"\n                                  class="label label-warning" style="color: #555;"><i class="fa fa-warning"></i> Not Uploaded</span>\n                                <span ng-if="documentUploadStatusData.ecfmgStatusReportUploadDate"><span\n                                        class="label label-success"><i class="fa fa-check"></i> Uploaded - {{documentUploadStatusData.ecfmgStatusReportUploadDate |amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png"\n                                            data-title="The ECFMG Status Report was uploaded on {{documentUploadStatusData.ecfmgStatusReportUploadDate |amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET"\n                                            bs-tooltip></label>\n                                </span>\n                        </td>\n                        <td style="text-align: center;">\n                            <div class="btn-group">\n                                <p>No Available Action\n                                </p>\n                            </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div ng-show="(applicationData.applicationType===\'R\' && applicationData.residencyType===\'IMG\')"\n                 class="panel panel-default">\n                <div class="panel-heading">\n                    <strong>OASIS</strong>\n                </div>\n                <div class="panel-body">\n                    Upload your Documents: <a class="pointer" href="https://oasis2.ecfmg.org/" target="_blank">Go to\n                    OASIS</a>.\n                </div>\n            </div>\n            <div ng-show="applicationData.applicationType==\'F\'" class="panel panel-default">\n                <div class="panel-heading">\n                    <strong>EFDO</strong>\n                </div>\n                <div class="panel-body">\n                    Upload your Documents - <a class="pointer"\n                                               href="https://www.erasfellowshipdocuments.org/efdoonline/main.aspx?strMyERASAuth={{efdoLink}}"\n                                               target="_blank">EFDO Online Services</a>.\n                    <br/>If you experience any technical difficulties with EFDO Online Services, contact the EFDO at\n                    (215) 966-3940 or\n                    <a class="pointer" href="mailto:support@erasfellowshipdocuments.org" target="_top">support@erasfellowshipdocuments.org</a>.\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-documents-tabs>\n')}]),angular.module("states/otherdocuments/programs-applied-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/programs-applied-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideprogramsAppliedModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">{{documentStatusModelTitle}} Request Report</h4>\n            </div>\n            <div class="modal-body">\n                <aamc-programs-applied></aamc-programs-applied>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideprogramsAppliedModal();" >\n                    Cancel\n                </button>\n                \n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/otherdocuments/ptal-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/ptal-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hidePtalModal();ptalDataObj.lorCaLorInd=null;">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">PTAL</h4>\n            </div>\n            <div class="modal-body">\n\n                <form class="simple-form form-horizontal" name="ptalForm" novalidate>\n\n                    <div>\n                        <span class="pull-left">\n                            <strong>If you apply to programs in California, you must submit a Postgraduate Training Authorization Letter (PTAL) issued by the Medical Board of California with your applications.</strong>\n                        </span>\n                    </div>\n                    <br>\n                    <br>\n                    <div class="from-group">\n                        <input type="checkbox" name="ptalRelInd" ng-model="ptalDataObj.lorCaLorInd" ng-true-value="\'Y\'" ng-false-value="\'\'"> Check here if you require a Postgraduate Training Authorization Letter (PTAL)/ California Letter for this season.<span class="text-danger">*</span>\n                    </div>\n                    <!-- <span ng-show="formValidator.invalid && forms.ptalForm.ptalRelInd.$error.required" class="text-danger">Selection is required.</span> -->\n                    <span class="text-danger" ng-show="invalidLorCaLorInd">Selection is required.</span>\n                </form>\n                <br>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hidePtalModal();ptalDataObj.lorCaLorInd=null;">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="addPtals(ptalDataObj);" ng-if="!ptalData">Save</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/otherdocuments/resend-comlex-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/resend-comlex-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideResendComlexModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Resend Scores</h4>\n            </div>\n            <div class="modal-body" ng-class="{\'spinner-container\': comlexModalCurrentPage===1}">\n                <div ng-if="comlexModalCurrentPage===1" aamc-compiler="contentObj.resendComlexText"></div>\n                <div ng-if="comlexModalCurrentPage===2">{{contentObj.resendComlexConfirmationText}}</div>\n                <!--<div class="spinner assignment-report-spinner" ng-show="displaySpinner">\n                    <i class="fa fa-spinner fa-5x fa-spin"></i>\n                </div>-->\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-if="comlexModalCurrentPage===1" ng-click="hideResendComlexModal();">\n                    Cancel\n                </button>\n                <button class="btn btn-primary btn-small" ng-click="resendComlexScores();" ng-disabled="disableComlexResendButton" ng-if="comlexModalCurrentPage===1">Resend My Scores\n                </button>\n                <button class="btn btn-primary btn-small" ng-if="comlexModalCurrentPage===2" ng-click="hideResendComlexModal();">Ok\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/otherdocuments/resend-usmle-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/resend-usmle-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideResendUsmleModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Resend Scores</h4>\n            </div>\n            <div class="modal-body" ng-class="{\'spinner-container\': usmleModalCurrentPage===1}">\n                <div ng-if="usmleModalCurrentPage===1" aamc-compiler="contentObj.resendUsmleText"></div>\n                <div ng-if="usmleModalCurrentPage===2">{{contentObj.resendUsmleConfirmationText}}</div>\n                <!--<div class="spinner assignment-report-spinner" ng-show="displaySpinner">\n                    <i class="fa fa-spinner fa-5x fa-spin"></i>\n                </div>-->\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideResendUsmleModal();" ng-if="usmleModalCurrentPage === 1">\n                    Cancel\n                </button>\n                <button class="btn btn-primary btn-small" ng-click="resendUsmleScores();" ng-disabled="disableUsmleResendButton" ng-if="usmleModalCurrentPage===1">Resend My Scores\n                </button>\n                <button class="btn btn-primary btn-small" ng-click="hideResendUsmleModal();" ng-if="usmleModalCurrentPage===2">Ok\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/otherdocuments/usmle-modal.html",[]).run(["$templateCache",function(a){a.put("states/otherdocuments/usmle-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideUsmleModal();applicant.usmleTransmissionInd=null;">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">USMLE Release Permission</h4>\n            </div>\n            <div class="modal-body">\n                <span class="pull-left">\n                    <span class="text-danger">*</span> Indicates required fields</span>\n                <hr>\n                <form class="simple-form form-horizontal" name="forms.usmleAuthForm" aamc-validate-form-and-focus add-error-elems="true">\n                    <div class="form-group">\n                        <label for="usmleId" class="control-label col-md-3">\n                            USMLE<span ng-if="isIMGApplicant()">/ECFMG ID <span class="text-danger">*</span></span></label>\n                        <div class="col-md-6">\n                            <input ng-model="applicant.usmleId" class="form-control col-md-6" name="usmleId" ng-pattern="/^\\d{1,8}$/" ng-minlength="8" maxlength="8" ng-required="isIMGApplicant() || applicant.usmleTransmissionInd === \'Y\'" aamc-usmle-id-validation>\n                            <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.minlength && forms.usmleAuthForm.usmleId.$dirty">This field must be eight characters</span>\n                            <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.pattern">This field takes numbers only.</span>\n                            <span ng-if="isIMGApplicant()">\n                                <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.zeroRange">A USMLE/ECFMG  ID cannot be 00000000.</span>\n                                <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.usmleIdValidation">USMLE/ECFMG ID entered is invalid</span>\n                            </span>\n                            <span ng-if="!isIMGApplicant()">\n                                <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.zeroRange">A USMLE ID cannot be 00000000.</span>\n                                <span class="text-danger" ng-show="forms.usmleAuthForm.usmleId.$error.usmleIdValidation">USMLE ID entered is invalid</span>\n                            </span>\n                        </div>\n                    </div>\n                    <div>\n                        <span class="pull-left">\n                            <strong><span ng-if="applicationData.residencyType!==\'IMG\'">Do you authorize the NBME to transmit your USMLE transcript to designated programs?</span></strong>\n                        <strong><span ng-if="applicationData.residencyType===\'IMG\'">Do you authorize the ECFMG to transmit your USMLE transcript to designated programs?</span></strong>\n                        <span class="text-danger">*</span>\n                        </span>\n                    </div>\n                    <br>\n                    <div class="from-group">\n                        <label class="radio-inline">\n                            <input type="radio" name="usmleAuth" ng-model="applicant.usmleTransmissionInd" value="Y" required>Yes\n                        </label>\n                        <label class="radio-inline">\n                            <input type="radio" name="usmleAuth" ng-model="applicant.usmleTransmissionInd" value="N" required>No\n                        </label>\n                    </div>\n                    <div ng-show="formValidator.invalid && forms.usmleAuthForm.usmleAuth.$error.required">\n                        <span class="text-danger">Selection is required.</span>\n                    </div>\n                </form>\n                <br>\n                <div class="panel panel-info">\n                    <div class="panel-body">\n                        <div>\n                            <ul>\n                                <li>Select\n                                    <strong>Yes</strong> if you want your examination results sent to the programs as you designated in the Programs section.</li>\n                                <li>\n                                    Select\n                                    <strong>No</strong> if you do not want your examination results sent to the programs you designated.\n                                </li>\n                            </ul>\n                        </div>\n                        <div ng-if="applicationData.residencyType!==\'IMG\'">\n                            <strong>Notes:</strong>\n                            <ul>\n                                <li>If applicable, passing NBME Part scores will be mailed to the programs you designated.</li>\n                                <li>FLEX scores are not available through ERAS. For FLEX scores, please contact the Federation of State Medical Boards at\n                                    <strong><a href="https://www.fsmb.org" target="_blank">www.fsmb.org</a>\n                                    </strong>.\n                                </li>\n                            </ul>\n                            Proceed to the Programs tab to assign your transcript to programs. For more information, go to the MyERAS User Guide.\n                        </div>\n                        <div ng-if="applicationData.residencyType===\'IMG\'">\n                            <ul>\n                                <li>If you took an NBME Part examination, your USMLE transcript will indicate that you have Part history, but will not provide your results or other details of this examination. For students/graduates of international medical schools, passing NBME Part results will be included in your ECFMG status report, provided you were certified by ECFMG based on these examinations; ECFMG will send your ECFMG status report automatically to all of the programs you designated. If you were not certified by ECFMG based on NBME Part examinations and want to report your Part results, you must request and pay for an ECFMG Examination History Chart. The history chart provides a complete history of all non-USMLE examinations taken with ECFMG, including failing attempts. For complete information, refer to the Request for an Official ECFMG&reg; Examination History Chart (Form 184), available on the ECFMG website (<a href="http://www.ecfmg.org" target="_blank">www.ecfmg.org</a>).</li>\n                                <li>If you took the Federation Licensing Examination (FLEX), your USMLE transcript will indicate that you have FLEX history, but will not provide your results or other details of this examination. For students/graduates of international medical schools, your passing FLEX result (FLEX weighted average) will be included in your ECFMG status report, provided you were certified by ECFMG based on FLEX; ECFMG will send your ECFMG status report automatically to all of the programs you designated. If you were not certified by ECFMG based on a FLEX examination and want to report your FLEX results, you must contact the Federation of State Medical Boards (<a href="http://www.fsmb.org/transcripts.html" target="_blank">www.fsmb.org/transcripts.html</a>).\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideUsmleModal();">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="updateUsmleId(formValidator);saveUsmleAuth(applicant,formValidator);" ng-if="!applicantData.usmleTransmissionInd">Save</button>\n                <button class="btn btn-primary btn-small" ng-click="updateUsmleId(formValidator);updateUsmleAuth(applicant,formValidator);" ng-if="applicantData.usmleTransmissionInd==\'N\'">Update</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment-error/payment-error.html",[]).run(["$templateCache",function(a){a.put("states/payment-error/payment-error.html",'<div class="panel panel-default">\n    <div class="panel-body">\n        <h1 class="panel-heading">{{pageTitle}}</h1>\n        <div class="panel-body">\n            <div><span ng-bind-html="errorMessage"></span>&nbsp;<strong>{{invoiceSeqNbr}}</strong>\n            </div>\n            <div class="payment-total-buttons pull-right">\n                <a type="button" class="btn btn-primary pull-right" ui-sref="main.programHome">Return to Saved Programs</a>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment-info/custom-payment-confirmation.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/custom-payment-confirmation.html",'<div ng-if="PaymentModule.paymentDetails.RESULT === \'0\'">\n    <div>\n        <!--Show message all the time except for transcript payments-->\n        <strong ng-if="vm.previewedInvoiceData.invoiceItemPrograms.length !== 0">\n            <span ng-bind-html="vm.content.paymentApplicationSubmittedMessage"></span>\n        </strong>\n        <strong ng-if="vm.isPayingForTest.only">\n            <span ng-bind-html="vm.content.paymentTranscriptRequestSentMessage"></span>\n        </strong>\n    </div>\n    <h4 class="text-success">\n        <span ng-bind-html="vm.content.paymentSubmittedMessage"></span>\n    </h4>\n    <aamc-payment-invoice></aamc-payment-invoice>\n</div>\n\n<div ng-if="PaymentModule.paymentDetails.RESULT !== \'0\'">\n    <aamc-custom-messages result="PaymentModule.paymentDetails.RESULT"></aamc-custom-messages>\n    <div class="text-center no-print">\n        <button type="button" class="btn btn-primary btn-sm  btn-shadow" ng-click="PaymentModule.backToCollect()">\n            Re-enter Payment Details\n        </button>\n        <button class="btn btn-primary btn-sm  btn-shadow" ui-sref="main.programHome" type="button">OK</button>\n    </div>\n</div>\n\n\n')}]),angular.module("states/payment-info/custom-payment-error.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/custom-payment-error.html",'<aamc-custom-messages result="99"></aamc-custom-messages>\n<div class="text-center">\n    <button class="btn btn-primary btn-sm  btn-shadow" ui-sref="main.programHome" type="button">OK</button>\n</div>\n')}]),angular.module("states/payment-info/custom-payment-form.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/custom-payment-form.html",'<div aamc-validate-form-and-focus ng-if="!PaymentModule.hosted" add-error-elems="true">\n	<form name="forms.paymentform" class="form-horizontal" role="form" novalidate ng-submit="isFormValid()">\n		<div>\n			<h4>Credit Card Information</h4>\n			<hr/>\n			<div class="row clearfix">\n				<div class="col-md-3 col-md-offset-3 ">\n					<img class="pull-left" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAgCAYAAAC4oZ4KAAAIOElEQVRoge2YfVBU1xnGf5ddDOyyrAtIFPlWWeRDQU0TFURtEm2JNmmsnTZW7Yy240zTsWps4jSpqek0nXFa27HNtGlS7Rg7tY0zqDFRO1GwBo0oOAqCnysEhJWPxQVWYO85/ePSKxdlWVMb05Zn5s7ec857znne577ve+5eGMYwhjGMYfzfQBnY0dTYJD9rEkIIxsSNuYNLf3wueTXfaJYPCm63e1BBPk+8zP0bIaaQf/upfFqYzeZBxwbj1Vt6ku5de1Ara1CragAwZTgxZToZMW8OI+bPNdjL5jJk3V5kew3cvKB1Rqah2J0oCQtQYqYNycsQbq2trdLhcAzt3X8AbW1tREVF3TX8B/JS6+rpXPMK/tKygGuaMpxYf/kTTPEK4txmaDkVmET0VEKy1qHYnYPy+q8TzF9ZjfdrK5A3vUGvbXvdTkhkR3DG5ghCZr6pizaQ14PLwU8Bta7+nsUiHLreaketC/LM8Hcgjq3U0vYuMCSo7KzDf3Yt9N7U+5TY6Ziy1+rt5W/8A9cN7WltXJTDxr9VaP0F41leMB5PZw9b3q/iSFWjPid5VATbVuXp7dXbP6biWqu+xuyM0UH50rnmlXsSyzwJTAlacKifSP1+SPg7EOc2Y5r55p1r9m8o1gTMs95GXNlFy4mfMRI30l1KSMpilIgEKlytbC++DEBBxsN4OnsormoC4OlpibhudJDzwz20d/UaNvEk9ej324ov8av3z+vtI1WNQQnmr6wesmYNhGgF6bsdWYpFEjo5SNFaTiGby8A0ztB916MpJHUxPz2aTHbjJpYmnkZ6KlEiEthWfEm3Wf2lDD1KAHKSo9iyv0oXa1nBOJYXjKfC1Yqn67ZgW/ZXGfbqH4mB0L1rD0qkDVOmE7WyBlOmE9nu1U/HO3yI5w5xlPC+m+ip2m+gQyB6KrJuLySvNnQbU1JIhCoAWDg1ni++tgiAZa3nYMyTumBJMVYWToln25HbAk5KGMmW926L4ensITHawixnLABCFRw538iZa236GteaOymuakKoAikGrzFSSNTKak4uWcaTG1Zy4rU3ePRHq/BXVtO9aw8AvQcOEzpvDgC3vv4sYR+V0nPgMKHTp3HrD+9oAtfHMWLlEr2gi/IfgyUOefkdsDtRLHEAnLmZRu7M51APFSITjbwMggkpUIUmWH6foyvKFzFr4lFKmi/q0fP8/HRUIfRaZreEYgsz8715TopO1QFQVFZHUVkd35+fzubntCf6r1S0W0J5+avZrPj9cQBOu1pItg+eKkIK/MdPYVqoPcDYRV8GYN8NPyMXPktOWhwjX12Px+ujvKyGORnjaLPbcKxYgquhFZGXT+oXsvT1rhR9m6JzYeTOX0eyzYH9sWdwRGn+erw+UgDZ1QC+6wgpDFwMp6QQAiFU/VowZawm2ocT+VPJFd3ZJTOTEELlTK0WLZMTHQihku+M4cBLc8lPH6Wv+esPqtlecomr7pvsOfUJAN/KSyE7wa7bHKm8jhBGYgN5AZgynZpD6UkAPDXKzOyp4xhpC8fV0MpIWzjZfWl36VApAMlxUURN1OrQ7h0Hkc1lJClnWJZvo2BSLMlxUSihNmSvlyOnLhPp3k35ycPQ1WDYe1DBVPX2le/UHC9pjKGk2g3Agtyx2B4yU361RZ+XnWDX5+RNiOGD9XPY8JUMffyqu4NNu8/q7a0HL/Doywf09plrbUMKVpk9hZy0OCouNFBRUw+AOTOd8pPVAPSWllFRU0/MYzmauAlxtNW7+fvWv+Dx+ugtPUnL8QqUmGkomWtRstbh8frweH3aJn2vEUrMNHIfmYNsr0HaJtzBy5iSQiKEqrcLc8aw/s8VhgkvLZyIEKqejgAJ0Ra2HqxhxzEXC3K1qNxbXq+PSynYe7qewVBS7UaItACCSZT0CVz447s01dQSZjXzcXwcey+3kZKeSMuJM5w127B/WIb73f2ETn8E9+5DuKZPw5HppGz7HnwtDaSX7mfLW0nkZGbiOrobLHEk2X14Om5RMKqSq+W9uC7PIcleweTRt4hw5CJEgBomhTAoGu8IIzHaQm1LFwB5aTHEO8IQQujpCJA1NpL3Kho4W9fO2bp2wwbZ8XaklLT7tPr34lPp5DljANj5US07S2upbenC09k9qGBSCLJmTUY8v4Hx/fp/0O9+Sv8JvwXCwZryV2gEQoHRMOEFmGH5ObghP6rPtrtv3ANLUwCKtb5r0J3+IjJQhKlSS6v+WF/o1AUrzBmjj2eOjWR9obPv3oYQo7GFmTl2oVkTMcFOdrydb05PZGdprW773bmp2MNDAYh3hBMfpRWdtgCCqVIgZ88E53iouTSonQE+6NzSz5dwiNwU/B8babLS45iBesuoh+FocrlcMiIiIuhF7yc6OjpITk6+61Gp86q5hLL4O8EvGg6WpSEo4WBOC/KFtQ9dKavojZqJ12818BpQ9CWqEA/kGlgr7sprQirqqy8E77UPun4n8F+8t2+PHePW4hv9NP4RowLXMCGE/uL6WWOoU1LnVfgEYnQs5o2bUa43BVxTRlhR166CvAhGXPkFIWpnYA4mK97UNfQ4ZkDffgFPSdn3HvYgMLC4Dhwz8MrNQt3xG0z7DmHad4iQi1cM9mJMLGrhE6jfeAZsVvxAd/bbWJqKeMhTSqjvqsG+NzwFX8zj3Ip+HGm2Qr+9BvIyJPb589XSGmG9V1/vC7xeL5kZGXctNMHwUi5cQfF2IqZmB7WfuUsT2W9JvSdehgi72d6OECohIaagNr1fEEKlwzv4B76geMU9rP12BE672xjafihewxjGMIYxjP9x/BMNEhIm3K84UQAAAABJRU5ErkJggjxzY3JpcHQ+CihmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXsKKGlbcl0ucT1pW3JdLnF8fFtdKS5wdXNoKGFyZ3VtZW50cyl9LGlbcl0ubD0xKm5ldyBEYXRlKCk7YT1zLmNyZWF0ZUVsZW1lbnQobyksCm09cy5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXTthLmFzeW5jPTE7YS5zcmM9ZzttLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsbSkKfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCcvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanMnLCdnYScpOwpnYSgnY3JlYXRlJywgJ1VBLTQ4MTA2NS0xJywgJ2F1dG8nKTsKZ2EoJ3NlbmQnLCAncGFnZXZpZXcnKTsKPC9zY3JpcHQ+"/>\n					<p style="padding-top:5px;padding-left:5px;color:silver;">Accepted cards</p>\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="creditCardNumber" class="col-md-3">Credit Card Number <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="creditCardNumber" class="form-control" name="creditCardNumber" type="text" ng-model="PaymentModule.card.creditCardNumber" required payments-validate="card" payments-type-model="PaymentModule.card.cardType" payments-format="card" allowed-card-types="visa,mastercard" ng-model-options="{ updateOn: \'blur\' }"/>\n					<span class="text-danger" ng-show="forms.paymentform.creditCardNumber.$error.card">Invalid Credit Card Number!!!!</span>\n					<span class="text-danger" ng-show="forms.paymentform.creditCardNumber.$error.allowed">Only Visa or Mastercard is accepted</span>\n				</div>\n			</div>\n			<div class="form-group "  >\n				<label for="cvv2"  class="col-md-3">CVV<span class="danger required" >*</span></label>\n				<div class="col-md-2 "   >\n					<div class="input-group "  >\n						<span id="popover-container"></span>\n						<input id="cvv2" name="cvv2" class="form-control" ng-model="PaymentModule.card.cvv2" required payments-validate="cvc" maxlength="4" ng-model-options="{ updateOn: \'blur\' }">\n						<span id="popover-trigger" class="input-group-btn" bs-popover title="Why is the CVV required?" html="true" data-template="/payment/src/tpl/cvv-explanation.tpl.html" data-trigger="click" data-placement="bottom" data-container="span#popover-container" data-autoClose="true">\n							<button class="btn" type="button">\n								<span class="glyphicon glyphicon-question-sign"></span>\n							</button>\n						</span>\n					</div>\n					<span class="text-danger" ng-show="forms.paymentform.cvv2.$error.cvc">Invalid CVV</span>\n				</div>\n\n			</div>\n\n			<div class="form-group">\n				<label class="col-md-3" >Expiration  <span class="danger required">*</span></label>\n				<div class="col-md-2">\n					<label for="expirationMonth" class="sr-only" >Expiration Month <span class="danger required">*</span></label>\n					<select id="expirationMonth" class="form-control" name="expirationMonth" ng-model="PaymentModule.card.expirationMonth" ng-options="month.cardMonth as month.cardMonthDesc for month in PaymentModule.expiryMonths" required future-month="{{PaymentModule.card.expirationYear}}">\n						<option value>--Month--</option>\n					</select>\n					<span class="text-danger" ng-show="forms.paymentform.expirationMonth.$error.future">Invalid Month</span>\n				</div>\n				<div class="col-md-2">\n					<label for="expirationYear" class="sr-only" >Expiration Year <span class="danger required">*</span></label>\n					<select id="expirationYear" name="expirationYear" class="form-control" ng-options="year.value as year.desc for year in PaymentModule.expiryYears " ng-model="PaymentModule.card.expirationYear" required>\n						<option value>--Year--</option>\n					</select>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="cardName"  class="col-md-3">Name on Credit Card <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="cardName" class="form-control " name="cardName" type="text" ng-model="PaymentModule.card.cardName" required maxlength="60">\n				</div>\n			</div>\n\n			<h4>Credit Card Billing Address</h4>\n			<hr/>\n\n			<div class="form-group">\n				<label for="addr1"  class="col-md-3"></label>\n				<div class="col-md-4">\n					<input type="checkbox" custom-handler ng-model="PaymentModule.card.sameAsCurrentAddr" class="ng-pristine ng-valid ng-valid-char-set">&nbsp;My Billing Address is the same as my Current Mailing Address.\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="addr1"  class="col-md-3">Street Address <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="addr1" class="form-control " name="addr1" type="text" ng-model="PaymentModule.card.addr1" required maxlength="50">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="addr2"  class="col-md-3">Street Address 2</label>\n				<div class="col-md-4">\n					<input id="addr2" class="form-control " name="addr2" type="text" ng-model="PaymentModule.card.addr2" maxlength="50">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="cardCity"  class="col-md-3">City <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="cardCity" name="cardCity" class="form-control " type="text" ng-model="PaymentModule.card.city" required maxlength="50">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="cardCountry" class="col-md-3" >Country <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<select id="cardCountry" class="form-control" name="country" ng-change="PaymentModule.card.state = \'\'" ng-model="PaymentModule.card.country" ng-options="country.countryCd as country.countryDesc for country in PaymentModule.countries | orderBy:\'countryDesc\'" required>\n						<option value>-- Select--</option>\n					</select>\n				</div>\n			</div>\n\n			<div ng-if="PaymentModule.card.country === \'USA\' || PaymentModule.card.country === \'CAN\'" class="form-group">\n				<label for="cardState" class="col-md-3" >State<span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<select id="cardState" name="cardState" class="form-control" ng-options="state.stateCd as state.stateDesc for state in PaymentModule.states | filter: {countryCd: PaymentModule.card.country}" ng-model="PaymentModule.card.state" required ng-required="PaymentModule.card.country === \'USA\' || PaymentModule.card.country === \'CAN\'">\n						<option value>--Select--</option>\n					</select>\n				</div>\n			</div>\n\n			<div ng-if="PaymentModule.card.country !== \'USA\' && PaymentModule.card.country !== \'CAN\'" class="form-group">\n				<label for="cardState" class="col-md-3">State</label>\n				<div class="col-md-4">\n					<select id="cardStateOther" name="cardStateOther" class="form-control">\n						<option value>Not Applicable</option>\n					</select>\n				</div>\n			</div>\n\n			<div class="form-group">\n				<label for="cardPostal" class="col-md-3" >Postal Code <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<!-- A more inclusive pattern -->\n					<!-- /^(\\d{5}(-\\d{3,4})?|[A-Z]\\d[A-Z] *\\d[A-Z]\\d?|\\d{2,5}-[A-Z]{1,5}\\d{1,5}?|[A-Z]\\d[A-Z]?|\\d+?|([A-Z]{1,2}[0-9][0-9A-Z]?\\s?[0-9][A-Z]{2}))$/ -->\n                    <input id="cardPostal" name="postal" class="form-control " ng-model="PaymentModule.card.postal" maxlength="10" ng-pattern="/^[a-zA-Z0-9- ]{1,10}$/" required>\n                    <div>Please enter \'00000\' if your country does not use a Postal Code.</div>\n					<span class="text-danger" ng-show="forms.paymentform.postal.$error.pattern">Invalid Postal Code</span>\n				</div>\n			</div>\n			<div class="text-center">\n				<button type="submit" class="btn btn-primary btn-sm btn-shadow"> Verify Payment Details</button>\n			</div>\n		</div>\n	</form>\n</div>\n')}]),angular.module("states/payment-info/custom-payment-review-programs.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/custom-payment-review-programs.html",'<div ng-hide="vm.isPayingForTest.only || vm.invoiceItemPrograms.length === 0">\n    <span><strong>Program Details</strong></span> \n    <table class="table table-bordered">\n        <colgroup>\n            <col style="width:70%">\n                <col style="width:30%">\n        </colgroup>\n        <thead>\n            <tr>\n                <th>Program Name</th>\n                <th>Specialty</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="program in vm.invoiceItemPrograms | orderBy:[\'unit.specialty.specName\',\'unit.unitName\']">\n                <td>{{program.unit.unitName}}</td>\n                <td>{{program.unit.specialty.specName}}</td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n')}]),angular.module("states/payment-info/custom-payment-review.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/custom-payment-review.html",'<h4>Review Card and Billing Information</h4>\n\n<div class="table-responsive table-striped" style="margin-top:30px;">\n	<span><strong>Payment Details</strong></span>\n    <table class="table table-bordered">\n        <thead>\n            <tr>\n                <th width="25%">\n                    <strong>Payment Method</strong>\n                </th>\n                <th width="25%">\n                    <strong>Credit Card Number</strong>\n                </th>\n                <th width="10%">\n                	<strong>Expiration Date</strong>\n                </th>\n                <th width="25%">\n                	<strong>Name on Credit Card</strong>\n                </th>\n                <th width="10%">\n                	<strong>Total Amount</strong>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <!-- NOTE: May use {{cardType}} in a future implementation -->\n                <td>{{PaymentModule.card.cardType | cardType}}</td>\n                <td>\n                    <span>{{PaymentModule.card.creditCardNumber | formatcreditcard}}</span>\n                </td>\n                <td>\n                	<span>{{PaymentModule.card.expirationMonth}}/{{PaymentModule.card.expirationYear}}</span>\n                </td>\n                <td>\n                	<span>{{PaymentModule.card.cardName}}</span>\n                </td>\n                <td>\n                	<span>${{amount}}</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <span><strong>Billing Address</strong></span>\n    <table class="table table-bordered">\n        <tbody>\n            <tr>\n                <td>\n                	<p>{{PaymentModule.card.addr1}}</p>\n                    <p ng-show="PaymentModule.card.addr2">{{PaymentModule.card.addr2}}</p>\n                	<p>\n                        <span>{{PaymentModule.card.city}}, </span>\n                        <span ng-if="PaymentModule.card.state != \'FR\'">{{PaymentModule.card.state}} </span>\n                        <span>{{PaymentModule.card.postal}}, {{PaymentModule.card.country}}</span>\n                    </p>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <custom-payment-review-programs></custom-payment-review-programs>\n</div>\n\n<div class="panel-body">\n    <custom-payment-review-disclaimer></custom-payment-review-disclaimer>\n</div>\n\n<div class="text-center">\n	<button type="button" class="btn btn-default btn-sm" ng-click="PaymentModule.backToCollect()">Cancel</button>\n	<submit-button></submit-button>\n</div>\n')}]),angular.module("states/payment-info/payment-confirmation-msg_tpl.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/payment-confirmation-msg_tpl.html",'<div>\n    <div>\n        <h4 ng-class="className()">{{customPaymentMsg}}</h4>\n    </div>\n\n    <aamc-payment-invoice></aamc-payment-invoice>\n</div>')}]),angular.module("states/payment-info/payment-details_tpl.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/payment-details_tpl.html",'<div>\n    <span><strong>Program Details</strong></span>\n    <table class="table table-bordered">\n    	 <thead>\n            <tr>\n                <th width="75%">\n                    <strong>Program Name</strong>\n                </th>\n                <th width="25%">\n                    <strong>Specialty</strong>\n                </th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="progGrp in programGroups">\n                <td ng-if="progGrp.groupEligible">\n                	<span>{{progGrp.programName}}</span>\n                </td>\n                <td ng-if="progGrp.groupEligible">\n                	{{progGrp.billingGroup}}\n                    <span ng-if="progGrp.julyCycle"> (July)</span>\n                    <span ng-if="progGrp.decCycle"> (December)</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>')}]),angular.module("states/payment-info/payment-info-validate-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/payment-info-validate-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <p><strong ng-bind-html="programDet.message"></strong></p>\n                <div ng-repeat="program  in programDet.notAllowedPrograms">\n                    {{program.unit.unitName}} - {{program.unit.specialty.specName}}\n                </div>\n                </br>\n                <div ng-repeat="program  in programDet.notAllowedTracks">\n                    <div ng-if="!programDet.notAllowedPrograms || !programDet.notAllowedPrograms.length">{{program.unitName}} - {{program.specName}}</div>\n                    <div>{{program.trackName}} -{{program.nrmpPgmCd}}({{program.trackType.trackTypeDescription}})</div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideValidateProgramModal();">Cancel</button>\n                <button ng-show="programDet.allowToProceed" class="btn btn-default btn-small" ng-click="newInvoice();">Proceed</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment-info/payment-info.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/payment-info.html",'<div class="panel panel-default">\n    <div class="panel-heading">\n        <h1>{{vm.pageTitle}}</h1>\n    </div>\n    <div class="panel-body">\n        <div>\n            <strong ng-if="vm.application.isMilitary || vm.data.amountToCharge.totalAmt === 0 || vm.data.amountToCharge.total === 0"><span ng-bind-html="vm.content.paymentApplicationSubmittedMessage"></span></strong>\n            <strong ng-if="vm.application.isMilitary"><span ng-bind-html="vm.content.paymentFeesPaidByUsuhsMessage"></span></strong>\n        </div>\n        <div ng-show="!vm.dataIsLoading">\n            <div ng-show="!vm.application.isMilitary && (vm.data.amountToCharge.totalAmt > 0 || vm.data.amountToCharge.total > 0)" aamc-payment securetoken="{{secureToken}}" secureTokenId="{{secureTokenId}}" amount="{{vm.data.amountToCharge.total}}" confirmationcallback="vm.postPaymentProcess" tokenstatuscheck="vm.errorCallback"></div>\n            <div ng-show="vm.application.isMilitary ||( vm.data.amountToCharge.totalAmt === 0 || vm.data.amountToCharge.total === 0)" application="vm.application" invoice="vm.data" aamc-custom-messages result=\'0\'></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment-info/payment-invoice_tpl.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/payment-invoice_tpl.html",'<div class="panel panel-default no-print" aamc-browser-print print-content="printContent">\n    <div class="panel-heading">\n        <strong>Invoice</strong>\n    </div>\n    <div class="panel-body">\n        <div class="table-responsive" ng-hide="vm.isPayingForTest.only">\n            <aamc-soap-payment-invoice-header programs="vm.previewedInvoiceData.soapBillingItemDtos" ng-if="soapApplicantConfirmation"></aamc-soap-payment-invoice-header>\n            <div ng-if="!soapApplicantConfirmation">\n                <table class="table table-bordered table-hover">\n                    <colgroup>\n                        <col style="width:50%">\n                            <col style="width:25%">\n                                <col style="width:25%">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th>Billing Group</th>\n                            <th class="text-right payment-total">Currently Selected</th>\n                            <th class="text-right">Subtotal</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr ng-repeat="item in vm.previewedInvoiceData.billingItemDtos" ng-show="item.eligibleForTimeLine">\n                            <td class="payment-total">\n                                <div>\n                                    {{item.billingGroup}} - {{item.timeline.timelineStartDate | amDateFormat:\'MMMM\'}} Cycle\n                                </div>\n                            </td>\n                            <td class="text-right">\n                                {{item.appliedProgramCount}}\n                            </td>\n                            <td class="text-right">\n                                ${{item.fee}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <form class="form-horizontal" name="process" role="form" novalidate>\n            <div ng-hide="vm.isPayingForTest.only">\n                <div class="form-group">\n                    <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                        <strong>\n                            Total:\n                        </strong>\n                    </label>\n                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                        <p id="total" class="form-control-static pull-right payment-total">\n                            ${{vm.previewedInvoiceData.previewedInvoice.erasAmtMdDo}}\n                        </p>\n                    </div>\n                </div>\n                <hr/>\n            </div>\n            <div class="form-group">\n                <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                    <strong>\n                        ERAS Processing Fee:\n                    </strong>\n                </label>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                    <p id="total" class="form-control-static pull-right payment-total">\n                        ${{vm.previewedInvoiceData.previewedInvoice.erasAmtMdDo}}\n                    </p>\n                </div>\n            </div>\n            <div class="form-group" ng-show="vm.previewedInvoiceData.previewedInvoice.usmleAmt>0">\n                <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                    <strong>\n                        USMLE Transcript Fee:\n                    </strong>\n                </label>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                    <p id="total" class="form-control-static pull-right payment-total">\n                        ${{vm.previewedInvoiceData.previewedInvoice.usmleAmt}}\n                    </p>\n                </div>\n            </div>\n            <div class="form-group" ng-show="vm.previewedInvoiceData.previewedInvoice.comlexAmt>0">\n                <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                    <strong>\n                        COMLEX-USA Transcript Fee:\n                    </strong>\n                </label>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                    <p id="total" class="form-control-static pull-right payment-total">\n                        ${{vm.previewedInvoiceData.previewedInvoice.comlexAmt}}\n                    </p>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                    <strong>\n                        Total:\n                    </strong>\n                </label>\n                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                    <p id="total" class="form-control-static pull-right payment-total">\n                        ${{vm.previewedInvoiceData.previewedInvoice.totalAmt}}\n                    </p>\n                </div>\n            </div>\n            <div>\n                <button type="button" class="btn btn-primary pull-right no-print" ng-click="printContent()">\n                    <span class="glyphicon glyphicon-print"></span> Print\n                </button>\n            </div>\n        </form>\n    </div>\n</div>\n');
}]),angular.module("states/payment-info/soap-payment-invoice_tpl.html",[]).run(["$templateCache",function(a){a.put("states/payment-info/soap-payment-invoice_tpl.html",'<div class="table-responsive">\n    <table class="table table-bordered table-hover">\n        <colgroup>\n            <col style="width:60%">\n                <col style="width:40%">\n        </colgroup>\n        <thead>\n            <tr>\n                <th>Program Name</th>\n                <th>Specialty</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="item in programs">\n                <td>\n                    <div>\n                        {{item.programName}}\n                    </div>\n                </td>\n                <td>\n                    <div>\n                        {{item.specialty}}\n                    </div>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n')}]),angular.module("states/payment/app-history-breakdown-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment/app-history-breakdown-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="vm.modal.previouslyAppliedTo.hide()">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Application History Breakdown</h4>\n            </div>\n			<table class="table table-bordered table-striped layout-fixed">\n				<thead>\n				    <tr>\n				        <th class="text-center">Billing Group</th>\n						<th class="text-center" ng-repeat="group in vm.data.invoiceItemHistory.applicationFee.groups">\n							{{group.label}}\n						</th>\n					</tr>\n				</thead>\n				<tbody>\n					<tr>\n				        <td class="text-center">\n			                {{vm.data.invoiceItemHistory.billingGroupName}}\n				        </td>\n						<td class="text-center" ng-repeat="group in vm.data.invoiceItemHistory.applicationFee.groups">\n							{{group.appliedTo}}\n						</td>\n				    </tr>\n				</tbody>\n			</table>\n            <div class="modal-footer">\n                <a type="button" class="btn btn-primary" ng-click="vm.modal.previouslyAppliedTo.hide()">Close</a>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment/initiated-warning-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment/initiated-warning-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="vm.modal.initiatedWarning.hide()">&times;</button>\n                <h4 class="modal-title">Initiated Invoice Warning</h4>\n            </div>\n            <div class="modal-body">\n                <div ng-bind-html="vm.content.initiatedWarning"></div>\n\n                <div class="modal-footer">\n                    <button class="btn btn-default btn-small" ng-click="vm.modal.initiatedWarning.hide()">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment/payment-policy-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment/payment-policy-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="vm.modal.paymentPolicy.hide()">&times;</button>\n                <h4 class="modal-title">ERAS Payment Policy</h4>\n            </div>\n            <div class="modal-body">\n                <div ng-bind-html="vm.content.paymentPolicy"></div>\n\n                <div class="modal-footer">\n                    <button class="btn btn-default btn-small" ng-click="vm.modal.paymentPolicy.hide()">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment/payment.html",[]).run(["$templateCache",function(a){a.put("states/payment/payment.html",'<div ng-if="!(vm.soapOpen && vm.soapObject.applicantSoapEligible)">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div ng-show="!vm.dataIsLoading">\n                <h1 class="panel-heading payment-invoice-heading">{{vm.pageTitle}}</h1>\n                <div class="panel-body">\n                    <div class="row">\n                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                            <div class="panel panel-default">\n                                <div class="panel-heading">\n                                    <strong>Invoice</strong>\n                                    <span class="pull-right">\n                                    <a ng-hide="vm.application.isRegistered" ui-sref="main.invoiceHistory" href="">View past invoice</a>\n                                </span>\n                                </div>\n                                <div class="panel-body">\n                                    <div class="table-responsive" ng-hide="vm.isPayingForTest.only">\n                                        <table class="table table-bordered table-hover">\n                                            <colgroup>\n                                                <col style="width:50%">\n                                                    <col style="width:25%">\n                                                        <col style="width:25%">\n                                            </colgroup>\n                                            <thead>\n                                                <tr>\n                                                    <th>Specialty</th>\n                                                    <th class="text-right payment-total">Currently Selected</th>\n                                                    <th class="text-right">Subtotal</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <tr ng-repeat="item in vm.data.invoiceItems | orderBy:\'billingGroupName\'">\n                                                    <td class="payment-total" ng-class="item.eligibleForTimeLine? \'\':\'text-danger\'">\n                                                        <div>\n                                                            {{item.billingGroup}} - {{item.timeline.timelineStartDate | amDateFormat:\'MMMM\'}} Cycle\n                                                            <div ng-show="item.prevAppliedProgramCount > 0">\n                                                                <a ng-click="vm.modal.previouslyAppliedTo.show(item)" href="">Previous Applied: {{item.prevAppliedProgramCount}}</a>\n                                                            </div>\n                                                        </div>\n                                                        <span ng-if="item.eligibleForTimeLine && !item.eligibleForTimeLine">\n                                                        <br />This Program is not yet available for application.\n                                                    </span>\n                                                    </td>\n                                                    <td class="text-right" ng-class="item.eligibleForTimeLine? \'\':\'text-danger\'">\n                                                        {{item.appliedProgramCount}}\n                                                    </td>\n                                                    <td class="text-right" ng-class="item.eligibleForTimeLine? \'\':\'text-danger\'">\n                                                        ${{item.fee}}\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    <form class="form-horizontal" name="process" role="form" novalidate>\n                                        <div ng-hide="vm.isPayingForTest.only">\n                                            <div class="form-group">\n                                                <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                    <strong>\n                                                    Total:\n                                                </strong>\n                                                </label>\n                                                <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                    <p id="total" class="form-control-static pull-right payment-total">\n                                                        ${{vm.data.amountToCharge.erasAmtMdDo}}\n                                                    </p>\n                                                </div>\n                                            </div>\n                                            <hr/>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                ERAS Processing Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.amountToCharge.erasAmtMdDo}}\n                                                </p>\n                                            </div>\n                                        </div>\n\n                                        <div class="form-group" ng-show="vm.data.amountToCharge.usmleAmt>0">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                USMLE Transcript Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.amountToCharge.usmleAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div class="form-group" ng-show="vm.data.amountToCharge.comlexAmt>0">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                COMLEX-{{vm.application.countryCode}} Transcript Fee:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.amountToCharge.comlexAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="total" class="control-label payment-total col-lg-10 col-md-10 col-sm-10 col-xs-9">\n                                                <strong>\n                                                Total:\n                                            </strong>\n                                            </label>\n                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-3">\n                                                <p id="total" class="form-control-static pull-right payment-total">\n                                                    ${{vm.data.amountToCharge.totalAmt}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div>\n                                            <a ng-click="vm.modal.processingFees.show()" href="">View ERAS Processing Fees</a>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="!vm.application.isCertifiedSubmitted || !vm.hasEligibleItems(vm.data.invoiceItems)">\n                                <div ng-show="!vm.application.isCertifiedSubmitted">\n                                    <div aamc-compiler="vm.content.applicationNotCertified"></div>\n                                </div>\n                                <div class="payment-total-buttons">\n                                    <a type="button" class="btn btn-primary pull-right" ui-sref="main.programHome">Return to Saved Programs</a>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="vm.application.isCertifiedSubmitted &&  vm.hasEligibleItems(vm.data.invoiceItems)">\n                                <div>\n                                    {{vm.content.paymentDisclaimer}}\n                                </div>\n                                <form class="form-inline">\n                                    <div class="checkbox">\n                                        <label>\n                                            <input type="checkbox" ng-model="vm.paymentPolicyIsAccepted" />\n                                            <strong><span aamc-compiler="vm.content.paymentAcknowledgement"></span></strong>\n                                        </label>\n                                    </div>\n                                    <div ng-show="vm.acceptedError" class="text-danger">Selection is required.</div>\n                                </form>\n                                <div class="payment-total-buttons">\n                                    <div>\n                                        <button class="btn btn-primary pull-right" ng-click="goToPaymentInfo()">Continue</button>\n                                    </div>\n                                    <div class="pull-right">&nbsp;</div>\n                                    <div ng-hide="vm.application.isMilitary">\n                                        <button class="btn btn-default pull-right" ng-click="goBack()">Cancel</button><!-- ui-sref="main.programHome" href="" -->\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<soap-eligible-previewed-invoice ng-if="(vm.soapOpen && vm.soapObject.applicantSoapEligible)"></soap-eligible-previewed-invoice>\n')}]),angular.module("states/payment/validate-payment-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment/validate-payment-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <p><strong ng-bind-html="programDet.message"></strong></p>\n                <div ng-repeat="program  in programDet.notAllowedPrograms">\n                    {{program.unit.unitName}}\n                </div>\n                <div ng-repeat="program  in programDet.notAllowedTracks">\n                    {{program.track.trackName}}\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideValidatePaymentModal();">Cancel</button>\n                <button ng-show="programDet.allowToProceed" class="btn btn-default btn-small" ng-click="newInvoice()">Proceed</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/payment/view-processing-fee-modal.html",[]).run(["$templateCache",function(a){a.put("states/payment/view-processing-fee-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="vm.modal.processingFees.hide()">&times;</button>\n                <h4 class="modal-title">ERAS Processing Fees</h4>\n            </div>\n            <div class="modal-body">\n                <div class="pull-left" ng-show="vm.application.isFellowship">\n                    <p><strong>ERAS Fellowships application fees are based on the number of programs applied to. MyERAS automatically calculates your fees and you can pay online using Visa or MasterCard.</strong></p>\n                    <p><strong>Note: AOA-accredited program application fees are assessed separately, see example 4 below.</strong></p>\n                </div>\n                <div class="pull-left" ng-hide="vm.application.isFellowship">\n                    <p><strong>ERAS application fees are based on the number of programs applied to per specialty. MyERAS automatically calculates your fees and you can pay online using Visa or MasterCard.</strong></p>\n                    <p><strong>Note: AOA-accredited program application fees are assessed separately, see example 5 below.</strong></p>\n                </div>\n                <table class="table table-bordered table-hover processing-fees">\n                    <thead>\n                        <th>Programs</th>\n                        <th>Application Fees</th>\n                    </thead>\n                    <tbody>\n                        <tr ng-repeat="feeGroup in vm.exampleFee.groups">\n                            <td>{{feeGroup.label}}</td>\n                            <td>{{feeGroup.amount | currency}} {{feeGroup.amountType}}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class="pull-left" ng-show="vm.application.isFellowship">\n                    <div>\n                        <p><strong>Example 1:</strong> 30 Vascular Surgery programs [ {{vm.exampleFee.amount(1) | currency}} + (10 x {{vm.exampleFee.amount(2) | currency}}) + (10 x {{vm.exampleFee.amount(3) | currency}})] = {{vm.exampleFee.total(0, 30) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 2:</strong> 30 Medical Genetics programs [{{vm.exampleFee.amount(1) | currency}} + (10 x {{vm.exampleFee.amount(2) | currency}}) + (10 x {{vm.exampleFee.amount(3) | currency}})] + 10 Maternal-Fetal Medicine programs [(10 x {{vm.exampleFee.amount(4) | currency}})] = {{vm.exampleFee.total(0, 40) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 3:</strong> 23 Colon and Rectal Surgery programs [{{vm.exampleFee.amount(1) | currency}} + (10 x {{vm.exampleFee.amount(2) | currency}}) + (3 x {{vm.exampleFee.amount(3) | currency}})] = {{vm.exampleFee.total(0, 23) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 4:</strong> 3 ACGME-accredited Oncology (Internal Medicine) [{{vm.exampleFee.amount(1) | currency}}] + 3 AOA-accredited Oncology programs [{{vm.exampleFee.amount(1) | currency}}] = {{vm.exampleFee.total(0, 3) + vm.exampleFee.total(0, 3) | currency}}</p>\n                    </div>\n                </div>\n                <div class="pull-left" ng-hide="vm.application.isFellowship">\n                    <div>\n                        <p><strong>Example 1:</strong> 30 Emergency Medicine programs [{{vm.exampleFee.amount(1) | currency}} + (10 x {{vm.exampleFee.amount(2) | currency}}) + (10 x {{vm.exampleFee.amount(3) | currency}})] = {{vm.exampleFee.total(0, 30) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 2:</strong> 20 OB/GYN programs [{{vm.exampleFee.amount(1) | currency}} + (10 X {{vm.exampleFee.amount(2) | currency}})] + 10 Family Practice programs [{{vm.exampleFee.amount(1) | currency}}] = {{vm.exampleFee.total(0, 20) + vm.exampleFee.total(0, 10) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 3:</strong> 23 Internal Medicine programs [{{vm.exampleFee.amount(1) | currency}} + (10 X {{vm.exampleFee.amount(2) | currency}}) + (3 X {{vm.exampleFee.amount(3) | currency}})] + 7 Radiology programs [{{vm.exampleFee.amount(1) | currency}}] = {{vm.exampleFee.total(0, 23) + vm.exampleFee.total(0, 7) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 4:</strong> 12 Internal Medicine programs [{{vm.exampleFee.amount(1) | currency}} + (2 X {{vm.exampleFee.amount(2) | currency}})] + 10 Emergency Medicine [{{vm.exampleFee.amount(1) | currency}}] + 8 Family Practice programs [{{vm.exampleFee.amount(1) | currency}}] = {{vm.exampleFee.total(0, 12) + vm.exampleFee.total(0, 10) + vm.exampleFee.total(0, 8) | currency}}</p>\n                    </div>\n                    <div>\n                        <p><strong>Example 5:</strong> 3 ACGME-accredited Family Medicine programs [{{vm.exampleFee.amount(1) | currency}}] + 3 AOA-accredited Family Medicine programs [{{vm.exampleFee.amount(1) | currency}}] = {{vm.exampleFee.total(0, 3) + vm.exampleFee.total(0, 3) | currency}}</p>\n                    </div>\n                </div>\n                <div><strong><u>Additional Fees</u></strong>\n                    <p>\n                        USMLE Transcript Fee - {{vm.data.usmle.fee | currency}} (assessed once per season)\n                        <br>\n                        COMLEX-USA Transcript Fee - {{vm.data.comlex.fee | currency }} (assessed once per season)\n                    </p>\n                </div>\n                <div><strong><u>Payment Method</u></strong>\n                    <p>\n                        Credit Card (Visa or MasterCard only)*\n                        <br>\n                        <strong>Note:</strong> Applicants who pay their ERAS fees using a credit card will see those charges reflected as "AAMC Fees" on their credit card statement.\n                    </p>\n                </div>\n                <div ng-bind-html="vm.content.paymentPolicy"></div>\n                <div class="modal-footer">\n                    <button class="btn btn-default btn-small" ng-click="vm.modal.processingFees.hide()">Close</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/pending-payment/pending-payment-info.html",[]).run(["$templateCache",function(a){a.put("states/pending-payment/pending-payment-info.html",'<!-- TODO: This needs to be content service driven -->\n<div class="panel panel-default" ng-show="!vm.dataIsLoading">\n    <br>\n    <br>\n    <br><strong>&nbsp;&nbsp;&nbsp;&nbsp;Redirecting to Paypal......</strong><br>\n    <div class="spinner">\n        <div class="bounce1"></div>\n        <div class="bounce2"></div>\n        <div class="bounce3"></div>\n    </div>\n    <div class="panel-body">\n        <div aamc-payment hosted="true" securetoken="{{pendingPayment.paypalSecureToken}}" secureTokenId="{{pendingPayment.paypalSecureTokenId}}" amount="{{pendingPayment.totalAmt}}"></div>\n    </div>\n</div>\n')}]),angular.module("states/personal-info/change-email-modal.html",[]).run(["$templateCache",function(a){a.put("states/personal-info/change-email-modal.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.updateEmail" ng-show="true" class="form-horizontal" role="form" novalidate>\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h2>Update Email Address</h2>\n                </div>\n                <div class="modal-body">\n                    <div>Please enter the new email address for your AAMC Account below.</div>\n                    <div class="form-group">\n                        <label for="email" class="col-md-2 control-label">\n                            <strong>\n                                Current Email <span class="text-danger">*</span>\n                            </strong>\n                        </label>\n                        <div class="col-md-8">\n                            <p class="form-control-static">{{applicant.email}}</p>\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label for="email" class="col-md-2 control-label">\n                            <strong>\n                                New Email <span class="text-danger">*</span>\n                            </strong>\n                        </label>\n                        <div class="col-md-8">\n                            <input type="email" class="form-control" id="email" name="email" ng-model="updateEmail.email" ng-maxlength="100" maxlength="100" required>\n                            <span class="text-danger" ng-show="forms.updateEmail.email.$error.maxlength">Exceeded max of 100 characters.</span>\n                            <span class="text-danger" ng-show="forms.updateEmail.email.$error.email">Please enter a valid Email.</span>\n                        </div>\n                    </div>\n                    <div class="form-group">\n                        <label for="confirmEmail" class="col-md-2 control-label">\n                            <strong>\n                                Confirm Email <span class="text-danger">*</span>\n                            </strong>\n                        </label>\n                        <div class="col-md-8">\n                            <input type="email" class="form-control" id="confirmEmail" name="confirmEmail" ng-model="updateEmail.confirmEmail" ng-maxlength="100" maxlength="100" required>\n                            <span class="text-danger" ng-show="forms.updateEmail.confirmEmail.$error.maxlength">Exceeded max of 100 characters.</span>\n                            <span class="text-danger" ng-show="forms.updateEmail.confirmEmail.$error.email">You must enter a valid email address.</span>\n                            <span class="text-danger" ng-show="updateEmail.confirmEmail && updateEmail.email !== updateEmail.confirmEmail">Your email entries did not match.</span>\n                        </div>\n                    </div>\n                    <div>Please enter your current password.</div>\n                    <div class="form-group">\n                        <label for="password" class="col-md-2 control-label">\n                            <strong>\n                                Password <span class="text-danger">*</span>\n                            </strong>\n                        </label>\n                        <div class="col-md-8">\n                            <input type="password" class="form-control" id="password" name="password" ng-model="updateEmail.password" ng-minlength="7" minlength="7" ng-maxlength="20" maxlength="20" required>\n                            <span class="text-danger" ng-show="forms.updateEmail.password.$error.maxlength">Exceeded max of 20 characters.</span>\n                            <span class="text-danger" ng-show="forms.updateEmail.password.$error.minlength">You must enter at least 7 characters.</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" type="button" ng-click="$hide();">Cancel</button>\n                    <button role="button" class="btn btn-primary btn-purple" ng-click="saveEmail(this);" type="submit">Update</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/personal-info/personal-info.html",[]).run(["$templateCache",function(a){a.put("states/personal-info/personal-info.html",'<aamc-application-tabs ng-show="applicant" aamc-validate-form-and-focus add-error-elems="true">\n    <!-- Tab panels -->\n    <div class="tab-pane with-bg active panel panel-default" id="Personal">\n        <div class="row panel-body">\n            <div class="col-md-12">\n                <aamc-help-modal contentKey="PERSONALINFO_HELPCONTENT"></aamc-help-modal>\n                <span ng-show="applicationCheckList.personalInfoSavedDt" class="pull-right">Last Updated - {{applicationCheckList.personalInfoSavedDt | date:"MM/dd/yyyy\' \'h:mm a"}} ET&nbsp;</span>\n                <p><span class="text-danger">*</span>Indicates required fields.</p>\n                <a id="contact"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'contactInfo\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Contact Information</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.contactInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n                            <div class="row">\n                                <div class="col-md-6">\n                                    <div class="form-group">\n                                        <label for="firstName" class="col-md-4 control-label">\n                                            <strong>\n                                                First Name <span class="text-danger">*</span>\n                                            </strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="firstName" name="firstName" ng-model="applicant.firstName" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/" required>\n                                            <span class="text-danger" ng-show="forms.contactInfo.firstName.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.firstName.$error.pattern">You must enter at least one letter.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="middleName" class="col-md-4 control-label">\n                                            <strong>Middle Name</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="middleName" name="middleName" ng-model="applicant.middleName" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.middleName.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.middleName.$error.pattern">You must enter at least one letter.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="lastName" class="col-md-4 control-label">\n                                            <strong>\n                                                Last Name <span class="text-danger">*</span>\n                                            </strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="lastName" name="lastName" ng-model="applicant.lastName" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/" required>\n                                            <span class="text-danger" ng-show="forms.contactInfo.lastName.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.lastName.$error.pattern">You must enter at least one letter.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="previousLastName" class="col-md-4 control-label">\n                                            <strong>Previous Last Name</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="previousLastName" name="previousLastName" ng-model="applicant.previousLastName" ng-maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/" maxlength="50">\n                                            <span class="text-danger" ng-show="forms.contactInfo.previousLastName.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.previousLastName.$error.pattern">You must enter at least one letter.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="suffix" class="col-md-4 control-label">\n                                            <strong>Suffix</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <select class="form-control" id="suffix" ng-model="_suffix" ng-options="suffix.displayText for suffix in suffixes" ng-change="applicant.suffix = _suffix.suffixCode">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="preferredName" class="col-md-4 control-label">\n                                            <strong>Preferred Name</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="preferredName" name="preferredName" ng-model="applicant.preferredName" ng-maxlength="20" maxlength="20" ng-pattern="/^.*[a-zA-Z].*$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.preferredName.$error.maxlength">Exceeded max of 20 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.preferredName.$error.pattern">You must enter at least one letter.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="ssnLastFourDigit" class="col-md-4 control-label">\n                                            <strong>Last 4 digits of SSN</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="ssnLastFourDigit" name="ssnLastFourDigit" aamc-show-invalid-model-value ng-model="applicant.ssnLastFourDigit" ng-pattern="/^\\d{4}$/" maxlength="4">\n                                            <span class="text-danger" ng-show="forms.contactInfo.ssnLastFourDigit.$error.pattern">Invalid pattern! 4-digit numbers only.</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="col-md-6">\n                                    <div class="form-group">\n                                        <label for="contactPhone1" class="col-md-4 control-label">\n                                            <strong>\n                                        Preferred Phone\n                                        <span class="text-danger">*</span>\n                                    </strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="contactPhone1" name="contactPhone1" ng-model="applicant.contactPhone1" required ng-maxlength="20" maxlength="20" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactPhone1.$error.maxlength">Exceeded max of 20 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactPhone1.$error.pattern">Please enter a valid phone number.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="contactCellNumber" class="col-md-4 control-label">\n                                            <strong>Mobile Phone</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="contactCellNumber" name="contactCellNumber" ng-model="applicant.contactCellNumber" ng-maxlength="20" maxlength="20" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactCellNumber.$error.maxlength">Exceeded max of 20 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactCellNumber.$error.pattern">Please enter a valid mobile phone number.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="contactPhone2" class="col-md-4 control-label">\n                                            <strong>Alternate Phone</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="contactPhone2" name="contactPhone2" ng-model="applicant.contactPhone2" ng-maxlength="20" maxlength="20" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactPhone2.$error.maxlength">Exceeded max of 20 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactPhone2.$error.pattern">Please enter a valid phone number.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="faxNumber" class="col-md-4 control-label">\n                                            <strong>Fax</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="faxNumber" name="faxNumber" ng-model="applicant.faxNumber" ng-maxlength="20" maxlength="20" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.faxNumber.$error.maxlength">Exceeded max of 20 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.faxNumber.$error.pattern">Please enter a valid fax number.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="contactBeeperNumber" class="col-md-4 control-label">\n                                            <strong>Pager</strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <input type="text" class="form-control" id="contactBeeperNumber" name="contactBeeperNumber" ng-model="applicant.contactBeeperNumber" ng-maxlength="50" maxlength="50" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactBeeperNumber.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            <span class="text-danger" ng-show="forms.contactInfo.contactBeeperNumber.$error.pattern">Please enter a valid pager number.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="email" class="col-md-4 control-label">\n                                            <strong>\n                                                Email\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                        </label>\n                                        <div class="col-md-8">\n                                            <p class="form-control-static">{{applicant.email}}\n                                                <button type="button" class="btn-link pull-right" data-template="states/personal-info/change-email-modal.html" bs-modal="modal">\n                                                    <small>Update email</small>\n                                                </button>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="address"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'addressInfo\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Address</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.addressInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <fieldset class="fieldset-border">\n                                        <legend class="legend-border">\n                                            <span class="legend-font">Current Mailing Address</span>\n                                        </legend>\n                                        <!-- <div> -->\n                                        <div class="form-group">\n                                            <label for="contactAddress1" class="col-md-3 control-label">\n                                                <strong>\n                                            Address 1\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" class="form-control" id="contactAddress1" name="contactAddress1" ng-model="applicant.contactAddress1" placeholder="Street number and name" ng-maxlength="50" maxlength="50" required>\n                                                <span class="text-danger" ng-show="forms.addressInfo.contactAddress1.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="contactAddress2" class="col-md-3 control-label">\n                                                <strong>Address 2</strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" class="form-control" id="contactAddress2" name="contactAddress2" ng-model="applicant.contactAddress2" placeholder="Apt No., Suite No., Building No. etc" ng-maxlength="50" maxlength="50">\n                                                <span class="text-danger" ng-show="forms.addressInfo.contactAddress2.$error.maxlength">Exceeded max of 50 characters.</span>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="contactCountryCode" class="col-md-3 control-label">\n                                                <strong>\n                                            Country\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                            </label>\n                                            <div class="col-md-4">\n                                                <select class="form-control" id="contactCountryCode" name="contactCountryCode" ng-model="applicant.contactCountryCode" ng-options="item.countryCd as item.countryDesc for item in countries" required ng-change="applicant.contactStateCode=null">\n                                                    <option value="">--Select--</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="contactStateCode" class="col-md-3 control-label" ng-show="applicant.contactCountryCode!==\'CAN\'">\n                                                <strong>State <span class="text-danger" ng-show="currentstates.length>1">*</span></strong>\n                                            </label>\n                                            <label for="contactStateCode" class="col-md-3 control-label" ng-show="applicant.contactCountryCode===\'CAN\'">\n                                                <strong>State/Province <span class="text-danger" ng-show="currentstates.length>1">*</span></strong>\n                                            </label>\n                                            <div class="col-md-4" ng-show="applicant.contactCountryCode===\'USA\' || applicant.contactCountryCode===\'CAN\'">\n                                                <select class="form-control" id="contactStateCode" name="contactStateCode" ng-model="applicant.contactStateCode" ng-options="item.stateCd as item.stateDesc for item in currentstates" ng-required="currentstates.length>1">\n                                                    <option value="">--Select--</option>\n                                                </select>\n                                            </div>\n                                            <div class="col-md-4" ng-show="applicant.contactCountryCode!==\'USA\' && applicant.contactCountryCode!==\'CAN\'">\n                                                <select class="form-control" id="noContactState" name="noContactState" ng-model="applicant.contactStateCode" ng-options="item.stateCd as item.stateDesc for item in currentstates">\n                                                    <option value="">Not Applicable</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="contactCity" class="col-md-3 control-label">\n                                                <strong>\n                                            City\n                                            <span class="text-danger">*</span>\n                                        </strong>\n                                            </label>\n                                            <div class="col-md-4">\n                                                <input type="text" class="form-control" id="contactCity" name="contactCity" ng-model="applicant.contactCity" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/" required>\n                                                <span class="text-danger" ng-show="forms.addressInfo.contactCity.$error.maxlength">Exceeded max of 50 characters.</span>\n                                                <span class="text-danger" ng-show="forms.addressInfo.contactCity.$error.pattern">You must enter at least one letter.</span>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <label for="contactPostalCode" class="col-md-3 control-label">\n                                                <strong>Postal code</strong>\n                                            </label>\n                                            <div class="col-md-4">\n                                                <input type="text" class="form-control" id="contactPostalCode" name="contactPostalCode" ng-model="applicant.contactPostalCode" ng-pattern="/^[a-zA-Z0-9- ]{1,10}$/" maxlength="10">\n                                                <span class="text-danger" ng-show="forms.addressInfo.contactPostalCode.$error.pattern">Invalid pattern! Up to 10 digits allowed.</span>\n                                            </div>\n                                        </div>\n                                        <!-- </div> -->\n                                </div>\n                                </fieldset>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="form-group" ng-hide="_applicant.ApplicationIsSubmitted()">\n                                        <label id="addressState" class="col-md-7 control-label">\n                                            <strong>\n                                        Is your permanent address the same as your current mailing address?\n                                        <span class="text-danger">*</span>\n                                    </strong>\n                                        </label>\n                                        <div class="col-md-5">\n                                            <fieldset>\n                                                <label class="radio-inline">\n                                                    <input type="radio" aria-labelledby="addressState" id="permanentAddressSameAsCurrent" name="permanentAddressSameAsCurrent" ng-model="address.permanentSameAsCurrent" value="Y" ng-required="address.permanentSameAsCurrent === null" ng-change="address.resetPermanentAddress()">Yes\n                                                </label>\n                                                <label class="radio-inline">\n                                                    <input type="radio" aria-labelledby="addressState" id="permanentAddressSameAsCurrent" name="permanentAddressSameAsCurrent" ng-model="address.permanentSameAsCurrent" value="N" ng-required="address.permanentSameAsCurrent === null" ng-change="address.resetPermanentAddress()">No\n                                                </label>\n                                            </fieldset>\n                                            <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.addressInfo.permanentAddressSameAsCurrent.$error.required && (address.permanentSameAsCurrent === null)" aria-hidden="false">Selection is required.</span>\n                                        </div>\n                                    </div>\n                                    <fieldset class="fieldset-border" ng-show="_applicant.ApplicationIsSubmitted() || _applicant.PermanentAddressNotSameAsCurrent()">\n                                        <legend class="legend-border">\n                                            <span class="legend-font">Permanent Address</span>\n                                        </legend>\n                                        <div>\n                                            <div class="form-group">\n                                                <label for="cafHomeAddr1" class="col-md-3 control-label">\n                                                    <strong>\n                                                Address 1\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                                </label>\n                                                <div class="col-md-6" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <input type="text" class="form-control" id="cafHomeAddr1" name="cafHomeAddr1" ng-model="applicantAddy.cafHomeAddr1" placeholder="Street number and name" ng-maxlength="50" maxlength="50" ng-required="_applicant.PermanentAddressIsRequired()">\n                                                    <span class="text-danger" ng-show="forms.addressInfo.cafHomeAddr1.$error.maxlength">Exceeded max of 50 characters.</span>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomeAddr1}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label for="cafHomeAddr2" class="col-md-3 control-label">\n                                                    <strong>\n                                                Address 2</strong>\n                                                </label>\n                                                <div class="col-md-6" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <input type="text" class="form-control" id="cafHomeAddr2" name="cafHomeAddr2" ng-model="applicantAddy.cafHomeAddr2" placeholder="Apt No., Suite No., Building No. etc" ng-maxlength="50" maxlength="50">\n                                                    <span class="text-danger" ng-show="forms.addressInfo.cafHomeAddr2.$error.maxlength">Exceeded max of 50 characters.</span>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomeAddr2}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label for="cafHomeCountryCd" class="col-md-3 control-label">\n                                                    <strong>\n                                                Country\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                                </label>\n                                                <div class="col-md-4" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <select class="form-control" id="cafHomeCountryCd" name="cafHomeCountryCd" ng-model="applicantAddy.cafHomeCountryCd" ng-options="item.countryCd as item.countryDesc for item in countries" ng-change="applicantAddy.cafHomeStateCd=null" ng-required="_applicant.PermanentAddressIsRequired()">\n                                                        <option value="">--Select--</option>\n                                                    </select>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomeCountryCd}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label id="permanentState" class="col-md-3 control-label" ng-show="applicantAddy.cafHomeCountryCd!==\'CAN\'">\n                                                    <strong>State <span class="text-danger" ng-show="states.length>1">*</span></strong>\n                                                </label>\n                                                <label id="permanentState" class="col-md-3 control-label" ng-show="applicantAddy.cafHomeCountryCd===\'CAN\'">\n                                                    <strong>State/Province <span class="text-danger" ng-show="states.length>1">*</span></strong>\n                                                </label>\n                                                <div class="col-md-4" ng-show="(applicantAddy.cafHomeCountryCd===\'USA\' || applicantAddy.cafHomeCountryCd===\'CAN\') && _applicant.PermanentAddressIsEditable()">\n                                                    <select class="form-control" aria-labelledby="permanentState" name="cafHomeStateCd" ng-model="applicantAddy.cafHomeStateCd" ng-options="item.stateCd as item.stateDesc for item in states" ng-required="states.length > 1 && _applicant.PermanentAddressIsRequired()">\n                                                        <option value="">--Select--</option>\n                                                    </select>\n                                                </div>\n                                                <div class="col-md-4" ng-show="applicantAddy.cafHomeCountryCd!==\'USA\' && applicantAddy.cafHomeCountryCd!==\'CAN\' && _applicant.PermanentAddressIsEditable()">\n                                                    <select class="form-control" aria-labelledby="permanentState" name="noHomeState" ng-model="applicantAddy.cafHomeStateCd" ng-options="item.stateCd as item.stateDesc for item in states">\n                                                        <option value="">Not Applicable</option>\n                                                    </select>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly() && applicantAddy.cafHomeStateCd != \'FR\'">\n                                                    {{applicantAddy.cafHomeStateCd}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label for="cafHomeCity" class="col-md-3 control-label">\n                                                    <strong>\n                                                City\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                                </label>\n                                                <div class="col-md-4" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <input type="text" class="form-control" id="cafHomeCity" name="cafHomeCity" ng-model="applicantAddy.cafHomeCity" ng-maxlength="50" maxlength="50" ng-pattern="/^.*[a-zA-Z].*$/" ng-required="_applicant.PermanentAddressIsRequired()">\n                                                    <span class="text-danger" ng-show="forms.addressInfo.cafHomeCity.$error.maxlength">Exceeded max of 50 characters.</span>\n                                                    <span class="text-danger" ng-show="forms.addressInfo.cafHomeCity.$error.pattern">You must enter at least one letter.</span>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomeCity}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label for="cafHomePostCd" class="col-md-3 control-label">\n                                                    <strong>\n                                                Postal Code</strong>\n                                                </label>\n                                                <div class="col-md-4" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <input type="text" class="form-control" id="cafHomePostCd" name="cafHomePostCd" ng-model="applicantAddy.cafHomePostCd" ng-pattern="/^[a-zA-Z0-9- ]{1,10}$/" maxlength="10">\n                                                    <span class="text-danger" ng-show="forms.addressInfo.cafHomePostCd.$error.pattern">Invalid code! No special characters allowed</span>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomePostCd}}\n                                                </p>\n                                            </div>\n                                            <div class="form-group">\n                                                <label for="contactPhone1" class="col-md-3 control-label">\n                                                    <strong>\n                                                Phone\n                                            </strong>\n                                                </label>\n                                                <div class="col-md-4" ng-show="_applicant.PermanentAddressIsEditable()">\n                                                    <input type="text" class="form-control" id="homePhone1" name="homePhone1" ng-model="applicantAddy.cafHomePhone1" ng-maxlength="20" maxlength="20" ng-pattern="/^(?=.*[0-9])[- +()0-9]+$/">\n                                                    <span class="text-danger" ng-show="forms.addressInfo.homePhone1.$error.maxlength">Exceeded max of 20 characters.</span>\n                                                    <span class="text-danger" ng-show="forms.addressInfo.homePhone1.$error.pattern">Please enter a valid phone number.</span>\n                                                </div>\n                                                <p class="col-md-6 form-control-static" ng-show="_applicant.PermanentAddressIsReadOnly()">\n                                                    {{applicantAddy.cafHomePhone1}}\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </fieldset>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="citizenship"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : (!formValidator.forms.citizenInfo.valid && submitted) }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Citizenship Information</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.citizenInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="form-group">\n                                        <label id="uscitizenship" class="col-md-3 control-label">\n                                            <strong>\n                                                Are you a U.S. citizen?\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <fieldset>\n                                                <label class="radio-inline">\n                                                    <input type="radio" aria-labelledby="uscitizenship" name="uscitizenship" ng-model="citizenship.isUsCitizen" ng-change="citizenship.initScope(citizenship.field.usCitizen)" value="Y" ng-required="!citizenship.isUsCitizen">Yes\n                                                </label>\n                                                <label class="radio-inline">\n                                                    <input type="radio" aria-labelledby="uscitizenship" name="uscitizenship" ng-model="citizenship.isUsCitizen" ng-change="citizenship.initScope(citizenship.field.usCitizen)" value="N" ng-required="!citizenship.isUsCitizen">No\n                                                </label>\n                                            </fieldset>\n                                            <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.citizenInfo.uscitizenship.$error.required && (!citizenship.isUsCitizen)" aria-hidden="false">\n                                                Selection is required.\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div ng-show="citizenship.isUsCitizen && !_applicant.IsUsCitizen()">\n                                        <div class="form-group">\n                                            <label for="citizenshipCode" class="col-md-3 control-label">\n                                                <strong>\n                                            Citizenship status:\n                                               <span class="text-danger">*</span>\n                                              </strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <select class="form-control" id="citizenshipCode" name="citizenshipCode" ng-model="applicant.citizenshipCode" ng-options="item.citizenshipCode as item.citizenshipDescription for item in citizenshipStatuses" ng-required="!_applicant.IsUsCitizen()" ng-change="citizenship.initScope(citizenship.field.citizenshipStatus)">\n                                                    <option value="">--Select--</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div class="" ng-show="_applicant.IsForeignNationalInUs()">\n                                            <div class="form-group">\n                                                <label for="visaCode" class="col-md-3 control-label">\n                                                    <strong>\n                                                        Current Visa/Employment Authorization Status:\n                                                        <span class="text-danger">*</span>\n                                                    </strong>\n                                                </label>\n                                                <div class="col-md-6">\n                                                    <select class="form-control" id="visaCode" name="visaCode" ng-model="applicant.visaCode" ng-options="item.visaCode as item.visaDescription for item in employmentvisaStatus" ng-required="_applicant.IsForeignNationalInUs()" ng-change="citizenship.initScope(citizenship.field.visaEmploymentStatus)">\n                                                        <option value="">--Select--</option>\n                                                    </select>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="" ng-show="_applicant.IsForeignNational()">\n                                            <div class="form-group">\n                                                <label class="col-md-12" id="visaSponsorship">\n                                                    <strong>\n                                                        If you are a Foreign national, outside the U.S. or currently in the U.S. with a valid visa status, please respond: Will you need visa sponsorship through ECFMG (J-1) or the teaching hospital (H-1B) in order to participate in U.S. residency and/or fellowship training?\n                                                        <span class="text-danger">*</span>\n                                                    </strong>\n                                                </label>\n                                                <div class="col-md-6 col-md-offset-3">\n                                                    <fieldset>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="visaSponsorship" name="visaSponsorship" ng-model="applicant.visaSponsorship" value="Y" ng-required="!applicant.visaSponsorship && _applicant.IsForeignNational()" ng-change="citizenship.initScope(citizenship.field.visaSponsorship)">Yes\n                                                        </label>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="visaSponsorship" name="visaSponsorship" ng-model="applicant.visaSponsorship" value="N" ng-required="!applicant.visaSponsorship && _applicant.IsForeignNational()" ng-change="citizenship.initScope(citizenship.field.visaSponsorship)">No\n                                                        </label>\n                                                    </fieldset>\n                                                    <span class="text-danger ng-scope" ng-show="formValidator.invalid && !applicant.visaSponsorship && _applicant.IsForeignNational()" aria-hidden="false">\n                                                        Selection is required.\n                                                    </span>\n                                                </div>\n                                            </div>\n                                            <div ng-show="_applicant.VisaSponsorshipNeeded()">\n                                                <div class="form-group">\n                                                    <label class="col-md-12" for="employmentAuthorization">\n                                                        <p>\n                                                            <strong>\n                                                                Please select the visa(s) you would like to apply for. Select all that apply. The system will list your Expected Visa/Employment Authorization based on your selections:\n                                                                <span class="text-danger">*</span>\n                                                            </strong>\n                                                        </p>\n                                                    </label>\n                                                    <div class="col-md-6" ng-if="_applicant.VisaSponsorshipNeeded()">\n                                                        <div class="checkbox" id="employmentAuthorization" name="employmentAuthorization">\n                                                            <span class="text-danger ng-scope" ng-if="(!expectedVisas.evH1b && !expectedVisas.evJ1) && applicant.visaSponsorship == \'Y\' && submitted" aria-hidden="false">\n                                                                You must select one or more.\n                                                            </span>\n                                                            <fieldset>\n                                                                <label class="">\n                                                                    <input type="checkbox" ng-model="expectedVisas.evH1b" ng-true-value="\'Y\'" ng-false-value="\'{{null}}\'" ng-required="!expectedVisas.evH1b && !expectedVisas.evJ1">H-1B\n                                                                </label>\n                                                                <label class="checkbox">\n                                                                    <input type="checkbox" ng-model="expectedVisas.evJ1" ng-true-value="\'Y\'" ng-false-value="\'{{null}}\'" ng-required="!expectedVisas.evH1b && !expectedVisas.evJ1">J-1\n                                                                </label>\n                                                            </fieldset>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div ng-show="_applicant.VisaSponsorshipNotNeeded()">\n                                                <div class="form-group">\n                                                    <label class="col-md-12" for="employmentvisaStatus">\n                                                        <p>\n                                                            <strong>\n                                                                Expected Visa/Employment Authorization Status (the visa status you expect to secure with Employment Authorization to participate in a program):\n                                                                <span class="text-danger">*</span>\n                                                            </strong>\n                                                        </p>\n                                                        <small>\n                                                            <strong>Select all that may apply</strong>\n                                                        </small>\n                                                    </label>\n                                                    <span class="text-danger ng-scope col-md-12" ng-if="!visaStatusSelected(expectedVisas) && submitted" aria-hidden="false">\n                                                        You must select one or more.\n                                                    </span>\n                                                    <div class="col-md-12" ng-if="_applicant.VisaSponsorshipNotNeeded()">\n                                                        <div class="checkbox" id="employmentvisaStatus">\n                                                            <div class="row">\n                                                                <div class="col-md-6" ng-repeat="visaStatus in employmentvisaStatus">\n                                                                    <fieldset>\n                                                                        <label class="checkbox">\n                                                                            <input type="checkbox" name="visaStatusSelection" ng-model="expectedVisas[visaStatus.colCode]" ng-true-value="\'Y\'" ng-false-value="\'{{null}}\'" ng-required="!visaStatusSelected(expectedVisas)" required>{{visaStatus.visaDescription}}\n                                                                        </label>\n                                                                    </fieldset>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div ng-show="citizenship.isUsCitizen && _applicant.IsUsCitizen()">\n                                        <div class="form-group">\n                                            <div class="col-md-12">\n                                                <label id="dualCitizenship">\n                                                    <strong>\n                                                        Are you a citizen of a country in addition to the United States?\n                                                    </strong>\n                                                </label>\n                                            </div>\n                                            <div class="col-md-6 col-md-offset-3">\n                                                <fieldset>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="dualCitizenship" name="dualCitizenship" ng-model="applicant.dualCitizenshipIndicator" value="Y" ng-change="citizenship.initScope(citizenship.field.dualCitizen)">Yes\n                                                    </label>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="dualCitizenship" name="dualCitizenship" ng-model="applicant.dualCitizenshipIndicator" value="N" ng-change="citizenship.initScope(citizenship.field.dualCitizen)">No\n                                                    </label>\n                                                </fieldset>\n                                            </div>\n                                        </div>\n                                        <div class="form-group" ng-show="_applicant.IsDualCitizen()">\n                                            <div class="col-md-12">\n                                                <label for="dualCitizenshipCountryCode">\n                                                    <strong>\n                                                Please select your country of dual citizenship (other than the United States):\n                                                <span class="text-danger">*</span>\n                                            </strong>\n                                                </label>\n                                            </div>\n                                            <div class="col-md-6 col-md-offset-3">\n                                                <select class="form-control" id="dualCitizenshipCountryCode" name="dualCitizenshipCountryCode" ng-model="applicant.dualCitizenshipCountryCode" ng-options="item.countryCd as item.countryDesc for item in dualCitizenCountries" ng-change="citizenship.initScope(citizenship.field.dualCitizenCountry)" ng-required="_applicant.IsDualCitizen()">\n                                                    <option value="">--Select--</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-show="residenceStateIsDisplayed()">\n                                        <div class="col-md-12">\n                                            <label for="residenceStateCode">\n                                                <strong>\n                                                            If applicable, please indicate your state or province of residence in the United States or Canada:\n                                                        </strong>\n                                            </label>\n                                        </div>\n                                        <div class="col-md-6 col-md-offset-3">\n                                            <select class="form-control" id="residenceStateCode" name="residenceStateCode" ng-model="applicant.residenceStateCode" ng-options="item.stateCd as item.stateDesc for item in residenceStatesProvinces">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <a id="match"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'matchInfo\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Match Information</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.matchInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n                            <fieldset class="fieldset-border">\n                                <legend class="legend-border">\n                                    <span class="legend-font">NRMP Match</span>\n                                </legend>\n                                <div class="row">\n                                    <div class="col-md-8">\n                                        <div class="form-group">\n                                            <label id="nrmpMatch" class="col-md-6 control-label">\n                                                <strong>I plan to participate in the NRMP match <span class="text-danger">*</span></strong>\n                                            </label>\n                                            <div class="col-md-4">\n                                                <fieldset>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="nrmpMatch" name="nrmpMatch" ng-model="applicant.nrmpIndicator" value="Y" ng-required="!applicant.nrmpIndicator">Yes\n                                                    </label>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="nrmpMatch" name="nrmpMatch" ng-model="applicant.nrmpIndicator" value="N" ng-required="!applicant.nrmpIndicator">No\n                                                    </label>\n                                                </fieldset>\n                                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.matchInfo.nrmpMatch.$error.required && (!applicant.nrmpIndicator)" aria-hidden="false">\n                                                    Selection is required.\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div ng-show="applicant.nrmpIndicator===\'Y\'">\n                                    <div class="row">\n                                        <div class="col-md-6">\n                                            <div class="form-group">\n                                                <label for="nrmpId" class="col-md-6 control-label">\n                                                    <strong>NRMP ID:</strong>\n                                                </label>\n                                                <div class="col-md-6">\n                                                    <input type="text" class="form-control" id="nrmpId" name="nrmpId" ng-model="applicant.nrmpId" ng-pattern="/^N\\d{1,7}$/" maxlength="8" minlength="8">\n                                                    <span class="text-danger" ng-show="forms.matchInfo.nrmpId.$error.pattern || forms.matchInfo.nrmpId.$error.minlength">Invalid pattern! Enter \'N\' followed by 7 digits.</span>\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label id="nrmpCouple" class="col-md-6 control-label">\n                                                    <strong>Participating as a couple in NRMP:</strong>\n                                                </label>\n                                                <div class="col-md-6">\n                                                    <fieldset>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="nrmpCouple" name="nrmpCouple" ng-model="applicant.nrmpPartnerIndicator" value="Y">Yes\n                                                            <!--ng-required="applicant.nrmpIndicator===\'Y\'&&!applicant.nrmpPartnerIndicator"-->\n                                                        </label>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="nrmpCouple" name="nrmpCouple" ng-model="applicant.nrmpPartnerIndicator" value="N">No &nbsp;\n                                                            <!--ng-required="applicant.nrmpIndicator===\'Y\'&&!applicant.nrmpPartnerIndicator"-->\n                                                        </label>\n                                                    </fieldset>\n                                                </div>\n                                            </div>\n                                            <div ng-show="applicant.nrmpPartnerIndicator===\'Y\'">\n                                                <div class="form-group">\n                                                    <label for="partnerName" class="col-md-6 control-label">\n                                                        <strong>Partner\'s Name:</strong>\n                                                    </label>\n                                                    <div class="col-md-6">\n                                                        <input type="text" class="form-control" id="partnerName" name="partnerName" ng-model="applicant.nrmpPartnerName" ng-maxlength="62" ng-pattern="/^\\D*$/" maxlength="62">\n                                                        <span class="text-danger" ng-show="forms.matchInfo.partnerName.$error.maxlength">Exceeded max of 62 characters.</span>\n                                                        <span class="text-danger" ng-show="forms.matchInfo.partnerName.$error.pattern">No digits allowed. Letters only</span>\n                                                    </div>\n                                                </div>\n                                                <div class="form-group">\n                                                    <label for="specialties" class="col-md-6 control-label">\n                                                        <strong>Specialties Partner is applying to:</strong>\n                                                    </label>\n                                                    <div class="col-md-6">\n                                                        <input type="text" id="specialties" name="specialties" class="form-control" ng-model="applicant.nrmpPartnerSpec" ng-maxlength="128" maxlength="128">\n                                                        <span class="text-danger" ng-show="forms.matchInfo.specialties.$error.maxlength">Exceeded max of 128 characters.</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="form-group">\n                                                <div class="col-md-10 col-md-offset-4">\n                                                    <div class="text-justified">\n                                                        <button type="button" class="btn btn-info" role="button" title="Information about the NRMP Match" data-content="<p>If you have registered for the NRMP Match, please be sure to enter your NRMP ID. </p><p> If you do not yet have an NRMP ID, be sure to register with the NRMP and update your MyERAS Personal Information once you have recieved your NRMP ID.</p><p> <font color=\'red\'>Note: </font> Registering or participating with MyERAS does not automatically register you for the Match. You will need to register with the NRMP separately at <a href=\'http://www.nrmp.org\' target=\'_blank\'>http://www.nrmp.org/</a>.</p>" data-html="true" bs-popover>Information about the NRMP Match</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </fieldset>\n                            <fieldset class="fieldset-border" ng-if="_applicant.IsResidencyDO()">\n                                <legend class="legend-border">\n                                    <span class="legend-font">NMS Match</span>\n                                </legend>\n                                <div class="row">\n                                    <div class="col-md-8">\n                                        <div class="form-group">\n                                            <label id="nmsMatch" class="col-md-6 control-label">\n                                                <strong>I plan to participate in the NMS match <span class="text-danger">*</span></strong>\n                                            </label>\n                                            <div class="col-md-4">\n                                                <fieldset>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="nmsMatch" name="nmsMatch" ng-model="applicant.nmsIndicator" value="Y" ng-required="!applicant.nmsIndicator && _applicant.IsDO()">Yes\n                                                    </label>\n                                                    <label class="radio-inline">\n                                                        <input type="radio" aria-labelledby="nmsMatch" name="nmsMatch" ng-model="applicant.nmsIndicator" value="N" ng-required="!applicant.nmsIndicator && _applicant.IsDO()">No\n                                                    </label>\n                                                </fieldset>\n                                                <span class="text-danger ng-scope" ng-show="formValidator.invalid && forms.matchInfo.nmsMatch.$error.required && (!applicant.nmsIndicator && _applicant.IsDO())" aria-hidden="false">\n                                                    Selection is required.\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div ng-show="applicant.nmsIndicator===\'Y\'">\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="form-group">\n                                                <label for="nmsId" class="col-md-4 control-label">\n                                                    <strong>AOA Match Number (NMS Number):</strong>\n                                                </label>\n                                                <div class="col-md-4">\n                                                    <input type="text" id="nmsId" name="nmsId" class="form-control" placeholder="Required for NMS Match" ng-model="applicant.nmsId" ng-pattern="/^\\d{1,6}$/" minlength="6" maxlength="6">\n                                                    <span class="text-danger" ng-show="forms.matchInfo.nmsId.$error.pattern || forms.matchInfo.nmsId.$error.minlength">Invalid pattern! 6-digit numbers only.</span>\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <label id="nmsCouple" class="col-md-4 control-label">\n                                                    <strong>Participating as a couple in NMS:</strong>\n                                                </label>\n                                                <div class="col-md-4">\n                                                    <fieldset>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="nmsCouple" name="nmsCouple" ng-model="applicant.nmsPartnerIndicator" value="Y">Yes\n                                                            <!--ng-required="applicant.nrmpIndicator===\'Y\'&&!applicant.nrmpPartnerIndicator"-->\n                                                        </label>\n                                                        <label class="radio-inline">\n                                                            <input type="radio" aria-labelledby="nmsCouple" name="nmsCouple" ng-model="applicant.nmsPartnerIndicator" value="N">No\n                                                            <!--ng-required="applicant.nrmpIndicator===\'Y\'&&!applicant.nrmpPartnerIndicator"-->\n                                                        </label>\n                                                    </fieldset>\n                                                </div>\n                                            </div>\n                                            <div ng-show="applicant.nmsPartnerIndicator===\'Y\'">\n                                                <div class="form-group">\n                                                    <label for="nmspartnerName" class="col-md-4 control-label">\n                                                        <strong>Partner\'s Name:</strong>\n                                                    </label>\n                                                    <div class="col-md-4">\n                                                        <input type="text" id="nmspartnerName" name="nmspartnerName" class="form-control" ng-model="applicant.nmsPartnerName" ng-maxlength="62" ng-pattern="/^\\D*$/" maxlength="62">\n                                                        <span class="text-danger" ng-show="forms.matchInfo.nmspartnerName.$error.maxlength">Exceeded max of 62 characters.</span>\n                                                        <span class="text-danger" ng-show="forms.matchInfo.nmspartnerName.$error.pattern">No digits allowed. Letters only</span>\n                                                    </div>\n                                                </div>\n                                                <div class="form-group">\n                                                    <label for="nmsspecialties" class="col-md-4 control-label">\n                                                        <strong>Specialties Partner is applying to:</strong>\n                                                    </label>\n                                                    <div class="col-md-6">\n                                                        <input type="text" id="nmsspecialties" name="nmsspecialties" class="form-control" ng-model="applicant.nmsPartnerSpec" ng-maxlength="128" maxlength="128">\n                                                        <span class="text-danger" ng-show="forms.matchInfo.nmsspecialties.$error.maxlength">Exceeded max of 128 characters.</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="form-group">\n                                                <div class="col-md-10 col-md-offset-4">\n                                                    <div class="text-justified">\n                                                        <button type="button" role="button" class="btn btn-info" title="Information about the NMS Match" data-content="<p>If you have registered for the NMS Match, please be sure to enter your AOA Match Number (NMS Number). </p><p> If you do not yet have an AOA Match Number (NMS Number), be sure to register with the NMS and update your MyERAS Personal Information once you have recieved your AOA Match Number (NMS Number).</p> <p><font color=\'red\'>Note: </font> Registering or participating with MyERAS does not automatically register you for the Match. You will need to register with the NMS separately at <a href=\'https://natmatch.com\' target=\'_blank\'>https://natmatch.com/</a>.</p>" data-html="true" bs-popover>Information about the NMS Match</button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </fieldset>\n                            <fieldset class="fieldset-border">\n                                <legend class="legend-border">\n                                    <span class="legend-font">Urology Match</span>\n                                </legend>\n                                <div class="row">\n                                    <div class="col-md-8">\n                                        <div class="form-group">\n                                            <label for="auaMember" class="col-md-6 control-label">\n                                                <strong>AUA Member Number:</strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" id="auaMember" name="auaMember" class="form-control" placeholder="Required for Urology Match" ng-model="applicant.auaNumber" ng-pattern="/^\\d{1,8}$/" ng-minlength="8" maxlength="8">\n                                                <span class="text-danger" ng-show="forms.matchInfo.auaMember.$error.minlength && forms.matchInfo.auaMember.$dirty">This field must be eight characters</span>\n                                                <span class="text-danger" ng-show="forms.matchInfo.auaMember.$error.pattern">Invalid pattern! 8-digit numbers only.</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </fieldset>\n                        </form>\n                    </div>\n                </div>\n                <a id="additional"></a>\n                <div class="panel panel-default" ng-class="{ \'panel-danger\' : !isFormValid(\'additionalInfo\') }">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Additional Information</h2>\n                    </div>\n                    <div class="panel-body">\n                        <form name="forms.additionalInfo" ng-show="true" class="form-horizontal" role="form" novalidate>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="form-group">\n                                        <label for="usmleId" class="col-md-3 control-label">\n                                            <strong>{{_applicant.IsIMG() ? \'USMLE/ECFMG ID:\' : \'USMLE ID:\'}}\n                                                            <span class="text-danger" ng-if="_applicant.IsIMG() || usmlesData.usmleTransmissionInd==\'Y\'">*</span>\n                                                        </strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <input type="text" class="form-control" id="usmleId" name="usmleId" placeholder="Required for USMLE Transcript transmission" ng-model="applicant.usmleId" ng-pattern="/^\\d{1,8}$/" ng-minlength="8" maxlength="8" ng-required="_applicant.IsIMG() || usmlesData.usmleTransmissionInd==\'Y\'" aamc-usmle-id-validation>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.minlength && forms.additionalInfo.usmleId.$dirty">This field must be eight characters</span>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.pattern">Invalid pattern! 8-digit numbers only.</span>\n                                            <span ng-if="_applicant.IsIMG()">\n                                                <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.zeroRange">A USMLE/ECFMG  ID cannot be 00000000.</span>\n                                                <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.usmleIdValidation">USMLE/ECFMG ID entered is invalid</span>\n                                            </span>\n                                            <span ng-if="!_applicant.IsIMG()">\n                                                <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.zeroRange">A USMLE ID cannot be 00000000.</span>\n                                                <span class="text-danger" ng-show="forms.additionalInfo.usmleId.$error.usmleIdValidation">USMLE ID entered is invalid</span>\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-if="_applicant.IsDO()">\n                                        <label for="nbomeId" class="col-md-3 control-label">\n                                            <strong>\n                                                            NBOME ID:\n                                                            <span class="text-danger" ng-if="_applicant.IsDO() || comlexData.comlexTransmissionInd==\'Y\'">*</span>\n                                                        </strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <input type="text" class="form-control" id="nbomeId" name="nbomeId" placeholder="Required for COMLEX-USA Transcript transmission" ng-model="applicant.nbomeId" ng-pattern="/^\\d{1,6}$/" ng-required="_applicant.IsDO()" ng-minlength="6" maxlength="6" required>\n                                            <span class="text-danger ng-scope ng-hide" ng-show="formValidator.invalid && forms.additionalInfo.nbomeId.$error.required && (_applicant.IsDO())" aria-hidden="true">This field is required.</span>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.nbomeId.$error.minlength && forms.additionalInfo.nbomeId.$dirty">This field must be six characters</span>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.nbomeId.$error.pattern">Invalid pattern! 6-digit numbers only.</span>\n                                            <span class="text-info" ng-if="_applicant.IsIMG()">If you have not taken the COMLEX-USA examination to be certified in Osteopathic Medicine, leave this blank.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-if="_applicant.IsDO()">\n                                        <label for="aoaMember" class="col-md-3 control-label">\n                                            <strong>\n                                                            AOA Member Number:\n                                                            <span class="text-danger" ng-if="_applicant.IsResidencyDO()">*</span>\n                                                        </strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <input type="text" class="form-control" id="aoaMember" name="aoaMember" ng-model="applicant.aoaId" ng-pattern="/^\\d{1,6}$/" ng-required="_applicant.IsResidencyDO()" maxlength="6" ng-minlength="6" required>\n                                            <span class="text-danger ng-scope ng-hide" ng-show="formValidator.invalid && forms.additionalInfo.aoaMember.$error.required && (_applicant.IsResidencyDO())" aria-hidden="true">This field is required.</span>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.aoaMember.$error.minlength && forms.additionalInfo.aoaMember.$dirty">This field must be six characters</span>\n                                            <span class="text-danger" ng-show="forms.additionalInfo.aoaMember.$error.pattern">Invalid pattern! 6-digit numbers only.</span>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="aclsIndicator" class="col-md-5 control-label">\n                                            <strong>I am ACLS (Advanced Cardiovascular Life Support) certified in the U.S.A.:</strong>\n                                        </label>\n                                        <div class="col-md-7">\n                                            <fieldset>\n                                                <label class="radio-inline">\n                                                    <input type="checkbox" tabindex="0" id="aclsIndicator" name="aclsIndicator" ng-model="applicant.aclsIndicator" ng-true-value="\'Y\'" ng-false-value="null">\n                                                </label>\n                                            </fieldset>\n                                        </div>\n                                    </div>\n                                    <div ng-show="applicant.aclsIndicator===\'Y\'">\n                                        <div class="form-group">\n                                            <label for="aclsExpireDt" class="col-md-3 control-label">\n                                                <strong>\n                                                                ACLS Expiration Date:\n                                                                <span class="text-danger" ng-show="applicant.aclsIndicator===\'Y\'">*</span>\n                                                            </strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" class="form-control" id="aclsExpireDt" name="aclsExpireDt" data-ng-model="applicant.aclsExpireDt" ng-attr-placeholder="{{ \'MM/DD/YYYY\' }}" bs-datepicker data-date-format="MM/dd/yyyy" data-min-date="today" data-autoclose="1" ng-required="applicant.aclsIndicator===\'Y\'" />\n                                                <span class="text-danger" ng-show="forms.additionalInfo.aclsExpireDt.$dirty && forms.additionalInfo.aclsExpireDt.$invalid">This field only accepts valid future MM/DD/YYYY formatted date values.</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="palsIndicator" class="col-md-5 control-label">\n                                            <strong>I am PALS (Pediatric Advanced Life Support) certified in the U.S.A.:</strong>\n                                        </label>\n                                        <div class="col-md-7 radioToCheckBox">\n                                            <fieldset>\n                                                <label class="radio-inline">\n                                                    <input type="checkbox" tabindex="0" id="palsIndicator" name="palsIndicator" ng-model="applicant.palsIndicator" ng-true-value="\'Y\'" ng-false-value="null">\n                                                </label>\n                                            </fieldset>\n                                        </div>\n                                    </div>\n                                    <div ng-show="applicant.palsIndicator===\'Y\'">\n                                        <div class="form-group">\n                                            <label for="palsExpireDt" class="col-md-3 control-label">\n                                                <strong>\n                                                                PALS Expiration Date:\n                                                                <span class="text-danger" ng-show="applicant.palsIndicator===\'Y\'">*</span>\n                                                            </strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" class="form-control" id="palsExpireDt" name="palsExpireDt" data-ng-model="applicant.palsExpireDt" ng-attr-placeholder="{{ \'MM/DD/YYYY\' }}" bs-datepicker data-date-format="MM/dd/yyyy" data-min-date="today" data-autoclose="1" ng-required="applicant.palsIndicator===\'Y\'" />\n                                                <span class="text-danger" ng-show="forms.additionalInfo.palsExpireDt.$dirty && forms.additionalInfo.palsExpireDt.$invalid">This field only accepts valid future MM/DD/YYYY formatted date values.</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="blsIndicator" class="col-md-5 control-label">\n                                            <strong>I am BLS (Basic Life Support) certified in the U.S.A.:</strong>\n                                        </label>\n                                        <div class="col-md-7">\n                                            <fieldset>\n                                                <label class="radio-inline">\n                                                    <input type="checkbox" tabindex="0" id="blsIndicator" name="blsIndicator" ng-model="applicant.blsIndicator" ng-true-value="\'Y\'" ng-false-value="null">\n                                                </label>\n                                            </fieldset>\n                                        </div>\n                                    </div>\n                                    <div ng-show="applicant.blsIndicator===\'Y\'">\n                                        <div class="form-group">\n                                            <label for="blsExpireDt" class="col-md-3 control-label">\n                                                <strong>\n                                                                BLS Expiration Date:\n                                                                <span class="text-danger" ng-show="applicant.blsIndicator===\'Y\'">*</span>\n                                                            </strong>\n                                            </label>\n                                            <div class="col-md-6">\n                                                <input type="text" class="form-control" id="blsExpireDt" name="blsExpireDt" data-ng-model="applicant.blsExpireDt" ng-attr-placeholder="{{ \'MM/DD/YYYY\' }}" bs-datepicker data-date-format="MM/dd/yyyy" data-min-date="today" data-autoclose="1" ng-required="applicant.blsIndicator===\'Y\'" />\n                                                <span class="text-danger" ng-show="forms.additionalInfo.blsExpireDt.$dirty && forms.additionalInfo.blsExpireDt.$invalid">This field only accepts valid future MM/DD/YYYY formatted date values.</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="form-group" ng-if="_applicant.IsDO()">\n                                        <label for="sspCode" class="col-md-3 control-label">\n                                            <strong>Sigma Sigma Phi Status:</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <select class="form-control" id="sspCode" name="sspCode" ng-model="applicant.sspCode" ng-options="status.sspCode as status.sspDescription for status in sigmaStatusItems">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="aoaCode" class="col-md-3 control-label">\n                                            <strong>Alpha Omega Alpha Status:</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <select class="form-control" id="aoaCode" name="aoaCode" ng-model="applicant.aoaCode" ng-options="status.aoaCode as status.aoaDescription for status in alphaStatusItems">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div class="form-group">\n                                        <label for="ghhsCode" class="col-md-3 control-label">\n                                            <strong>Gold Humanism Honor Society Status:</strong>\n                                        </label>\n                                        <div class="col-md-6">\n                                            <select class="form-control" id="ghhsCode" name="ghhsCode" ng-model="applicant.ghhsCode" ng-options="status.ghhsCode as status.ghhsDescription for status in goldStatusItems">\n                                                <option value="">--Select--</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <!-- debugging info, do not remove -->\n                <div ng-show="false">\n                    forms.contactInfo: {{ forms.contactInfo.$invalid }}\n                    <br>forms.addressInfo: {{ forms.addressInfo.$invalid }}\n                    <br>forms.citizenInfo: {{ forms.citizenInfo.$invalid }}\n                    <br>citizenInfoIsRequired(): {{ citizenInfoIsRequired() }}\n                    <br>forms.matchInfo: {{ forms.matchInfo.$invalid }}\n                    <br>forms.additionalInfo: {{ forms.additionalInfo.$invalid }}\n                    <br>\n                </div>\n                <a id="done"></a>\n                <!-- <ul class="pager">\n                    <li class="save">\n                        <button type="button" class="btn btn-primary" ng-click="savePersonalInfo(false)"><i class="fa fa-plus"></i>Save Your Work</button>\n                    </li>\n                    <li class="submit" ng-hide="_applicant.ApplicationIsSubmitted()">\n                        <button type="button" class="btn btn-primary pull-right">Done with Personal Information<i class="fa fa-arrow-right"></i>\n                        </button>\n                    </li>\n                </ul> -->\n                <!--  ng-click="savePersonalInfo(true)" ng-disabled="forms.contactInfo.$invalid || forms.addressInfo.$invalid || (forms.citizenInfo.$invalid || citizenInfoIsRequired()) || forms.matchInfo.$invalid || forms.additionalInfo.$invalid" -->\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n<!--</aamc-application-tabs>-->\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n');
}]),angular.module("states/personal-statements/assign-personal-statements-modal.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/assign-personal-statements-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAssignnPersonalStatementsModal();" aria-label="Close">&times;</button>\n                <h4 class="modal-title" id="myModalLabel"><h1><span ng-if="showAssignTitle">Assign </span> {{docCodes.PERSONAL_STMT.docType}} \' {{pStatement.psTitle}} \'</h1></h4>\n            </div>\n            <div class="modal-body">\n                <aamc-assign-program></aamc-assign-program>\n            </div>\n            <div class="modal-footer">\n                <button role="button" class="btn btn-default btn-small" ng-click="hideAssignnPersonalStatementsModal();" ng-if="modalCurrentPage===1">Cancel</button>\n                <button role="button" class="btn btn-primary btn-small" ng-click="confirmAssignPersonalStatements();" ng-if="modalCurrentPage===1">Save</button>\n                <button role="button" class="btn btn-default btn-small" ng-click="backAssignPersonalStatements();" ng-if="modalCurrentPage===2">Cancel</button>\n                <button role="button" class="btn btn-primary btn-small" ng-click="assignToDocuments(listPrograms, pStatement);" ng-if="modalCurrentPage===2">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/personal-statements/personal-statements-delete-modal.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/personal-statements-delete-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <form name="confirmForm">\n            <div class="modal-content">\n                <div class="modal-header modal-title">\n                    <h1>Delete Personal Statement</h1>\n                </div>\n                <div class="modal-body">Are you sure that you want to delete this Personal Statement with the title\n                    <strong>{{personalStatementData.psTitle}}</strong>?\n                </div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" ng-click="hideDeletePersonalStatementsModal();" aria-label="Close">Cancel</button>\n                    <button role="button" class="btn btn-danger" ng-click="deletePersonalStatement();" type="submit">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/personal-statements/personal-statements-modal.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/personal-statements-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <form name="forms.personalStatementForm" class="css-form" aamc-validate-form-and-focus add-error-elems="true">\n                <div class="modal-header">\n                    <button type="button" class="close" ng-click="hidePersonalStatementsModal();" aria-label="Close">&times;</button>\n                    <h3 class="modal-title" id="myModalLabel">\n                        <h1>{{actionSelect}} Personal Statement</h1>\n                    </h3>\n                </div>\n                <div class="modal-body">\n                    <div class="form-horizontal">\n                        <p><strong>\n                            <span class="text-danger">*</span> Indicates required field.\n                        </strong></p>\n                        <p style="text-align: left">\n                            <span> <h4>Personal Statement Title: <span class="text-danger">*</span> </h4>\n                            Enter a title that will enable you to easily identify your personal statement(s) when assigning it to programs. The title you enter is only visible to you.</span>\n                        </p>\n                        <div class="form-group">\n                            <div class="col-md-6">\n                                <input type="text" aria-label="Personal Title" id="PersonalTitle" name="PersonalTitle" class="form-control" ng-model="personalStatement.psTitle" required maxlength="50" ng-maxlength="50">\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-horizontal">\n                        <p style="text-align: left">\n                            <span><h4>Personal Statement Content: <span class="text-danger">*</span></h4>\n                            </span>\n                            If you choose to cut and paste your text, please do so from a TEXT file.\n                            <button type="button" role="button" class="btn btn-info" data-content="{{formattingInfo}}" data-html="true" data-placement="top" bs-popover>More About Formatting</button>\n                        </p>\n                        <div class="form-group">\n                            <div class="col-md-12">\n                                <text-angular aria-labelledby="Statement Body" name="personalStatementBody" ta-max-text="28000" ta-toolbar="[\n                                            [\'bold\', \'italics\', \'underline\', \'strikeThrough\', \'ul\', \'ol\'], \n                                            [\'redo\', \'undo\', \'clear\'],\n                                            [\'justifyLeft\',\'justifyCenter\',\'justifyRight\',\'indent\',\'outdent\'],\n                                            [\'insertLink\']\n                                            ]" ng-model="personalStatement.psBody" max="28000" ng-maxlength="28000" required aamc-text-formatter></text-angular>\n                                <span ng-hide="(personalStatement.psBody===null || personalStatement.psBody===undefined)">{{textAreaLength}} characters left /28000</span>\n                                <span class="text-danger" ng-show="forms.personalStatementForm.personalStatementBody.$invalid && forms.personalStatementForm.personalStatementBody.$error.taMaxText">This field must be within 28000 characters</span>\n                                <span class="text-danger" ng-show="forms.personalStatementForm.personalStatementBody.$error.required && showMessage">Personal Statement is required</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default" role="button" type="submit" ng-click="hidePersonalStatementsModal()">Cancel</button>\n                    <button class="btn btn-primary" role="button" type="button" ng-click="previewStatement(formValidator)" ng-class="{\'disabled\':showIsDisabled}">Preview</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/personal-statements/personal-statements-view-modal.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/personal-statements-view-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideviewPersonalStatementsModal()" aria-label="Close">&times;</button>\n                <h4 class="modal-title">{{actionSelect}} Personal Statement</h4>\n            </div>\n            <div class="modal-body modal-body-pdf">\n                <div class="modal-pdf">\n                    <div class="row">\n                        <div class="col-sm-12">\n                            <ng-pdf template-url="states/personal-statements/perview-statement.html"></ng-pdf>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <div ng-if="!isPrint">\n                    <button role="button" class="btn btn-default" type="button" ng-click="goBack()">Back</button>\n                    <button role="button" class="btn btn-primary" type="button" ng-click="savePersonalStatements()" ng-if="actionSelect===\'Create\'">Save</button>\n                    <button role="button" class="btn btn-primary" type="button" ng-click="updatePersonalStatement()" ng-if="actionSelect===\'Edit\'">Update</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/personal-statements/personal-statements.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/personal-statements.html",'<aamc-documents-tabs>\n    <div class="panel panel-default no-print">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading" style="padding-left: 0px;">Personal Statements</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="PERSONALSTATEMENTS_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <div class="row">\n                <div class="col-md-12">\n                    <p>You may create as many personal statements as needed, but only one may be assigned to each program.</p>\n                    <div class="pull-left">\n                        <button role="button" aria-label="Create New Personal Statements" class="btn btn-prusia btn-shadow" type="submit" ng-click="showPersonalStatementsModal()">\n                            <i class="fa fa-plus" aria-hidden="true"></i> Create New\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-3">\n                    <div class="form-group" style="margin-top:10px;">\n                        <div class="input-group input-group-sm">\n                            <input aria-label="Search" id="search" type="search" placeholder="Search..." ng-model="search.psTitle" class="form-control" />\n                            <span class="input-group-btn">\n                                <button role="button" aria-label="search" class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                            </button>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-responsive" ng-show="allPersonalStatements.length>0">\n                <table class="table table-bordered table-striped">\n                    <thead>\n                        <tr>\n                            <th><strong>Title</strong></th>\n                            <th><strong>Status</strong></th>\n                            <th width="15%"><strong>Actions</strong></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <!-- | startFrom:(pagination.currentPage-1)*pagination.itemsPerPage | limitTo:pagination.itemsPerPage) -->\n                        <tr ng-repeat="pStatement in filteredPersonalStatements = (allPersonalStatements | filter:{psTitle:search.psTitle}) | startFrom:(pagination.currentPage-1)*pagination.itemsPerPage | limitTo:pagination.itemsPerPage">\n                            <td>{{pStatement.psTitle}}</td>\n                            <td>\n                                <span ng-if="(pStatement.createdDt>=pStatement.textUpdateDate) || !pStatement.textUpdateDate"><span class="label label-success"><i class="fa fa-check"></i> Saved - {{pStatement.createdDt|amDateFormat:\'MM/DD/YYYY\'}}</span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png" data-title="This Personal Statement was saved on {{pStatement.createdDt|amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET " bs-tooltip></label>\n                                </span>\n                                <span ng-if="pStatement.textUpdateDate>pStatement.createdDt"><span class="label label-info">\n                                <span><i class="fa fa-check"></i> Updated - {{pStatement.textUpdateDate|amDateFormat:\'MM/DD/YYYY\'}}</span></span>\n                                <label><img class="icon" data-placement="right" src="images/circle-info.png" data-title="This Personal Statement was updated on {{pStatement.textUpdateDate|amDateFormat:\'MM/DD/YYYY h:mm A\'}} ET" bs-tooltip></label>\n                                </span>\n                            </td>\n                            <td>\n                                <aamc-actions item-context="pStatement" menu-type="PersonalStatements"></aamc-actions>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div class="pull-right" ng-show="filteredPersonalStatements.length>10">\n                    <ul class="pagination">\n                        <li ng-class="{disabled: pagination.currentPage == 1}"><a href aria-label="Previous" ng-click="prevPage()">&laquo; Prev</a>\n                        </li>\n                        <li ng-repeat="n in range" ng-class="{active: n == pagination.currentPage}" ng-click="pagination.currentPage=n;">\n                            <a href ng-bind="n"></a>\n                        </li>\n                        <li ng-class="{disabled: pagination.currentPage >= filteredPersonalStatements.length/pagination.itemsPerPage}"><a href="" aria-label="Next" ng-click="nextPage()">Next &raquo;</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div ng-show="!allPersonalStatements || allPersonalStatements.length === 0">\n                You have not added any Personal Statements. Click \'Create New\' to add a Personal Statement\n            </div>\n        </div>\n    </div>\n</aamc-documents-tabs>\n')}]),angular.module("states/personal-statements/perview-statement.html",[]).run(["$templateCache",function(a){a.put("states/personal-statements/perview-statement.html",'<div>\n    <div class="btn-grp">\n        <button class="btn-primary" ng-click="goPrevious()" data-title="Previous Page" bs-tooltip>\n            <i class="fa fa-chevron-left"></i>\n        </button>\n        <button class="btn-primary" ng-click="goNext()" data-title="Next Page" bs-tooltip><i class="fa fa-chevron-right"></i>\n        </button>\n        <button class="btn-primary" ng-click="zoomIn()" data-title="Zoom In" bs-tooltip><span class="glyphicon glyphicon-zoom-in"></span>\n        </button>\n        <button class="btn-primary" ng-click="zoomOut()" data-title="Zoom Out" bs-tooltip><span class="glyphicon glyphicon-zoom-out"></span>\n        </button>\n    </div>\n    <hr>\n    <div class="col-md-12 col-sm-12 col-lg-12 over-flow text-center">\n        <canvas id="pdf-canvas"></canvas>\n    </div>\n</div>\n')}]),angular.module("states/programs-reapply/programs-reapply.html",[]).run(["$templateCache",function(a){a.put("states/programs-reapply/programs-reapply.html",'<aamc-programs-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading" style="padding-left: 0px;">Reapply To Programs</h1>\n            </div>\n            <div class="pull-left">\n                <span aamc-compiler="SOAP_REAPPLY_TO_PROGRAMS_INSTRUCTIONS"></span>\n            </div>\n        </div>\n        <div class="col-md-6">\n            <div class="form-group" style="margin-top: 10px;">\n                <div class="input-group input-group-sm">\n                    <input ng-disabled="!myPrograms || myPrograms.length===0" placeholder="Search by Program Name, Specialty, City, State, ID, or Training" ng-model="vm.searchForText" class="form-control ng-pristine ng-valid ng-valid-char-set" name="search" type="search">\n                    <span class="input-group-btn">\n                                <button ng-disabled="!myPrograms || myPrograms.length===0" name="searchButton" class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                    </button>\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="col-md-12">\n            <aamc-program-table-optional-message class="text-danger" condition-check="soapDto.soapOpen && soapDto.soapDataUpdatesInProgress && soapDto.applicantSoapEligible" program-message="SOAP_DATA_UPDATES_IN_PROGRESS_MSG"></aamc-program-table-optional-message>\n        </div>\n        <div class="col-md-12">\n            <div class="programSearch" aamc-sticky-header>\n                <aamc-sticky-message show-no-selected-program="showNoSelectedPrograms" applicant-eligibility="vm.applicantSoapEligible && vm.showSoap" selected-program="selectedProgramsSize" executable-func="setSelectedProgram(myPrograms)" btn-label="{{\'Reapply to Programs\'}}" is-success="true" is-validate="true" applied-message="appliedMessage" hover-message="hoverMessage" soap-program-applied="vm.programsCount.soapPgmsAppliedCount" max-soap-pgms-allowed-to-apply="vm.programsCount.maxSoapPgmsAllowedToApply"></aamc-sticky-message>\n            </div>\n        </div>\n        <div class="row" ng-if="(showResults && programList && programList.length===0 && !isSoapApplicable)">\n            <div class="col-md-11">\n                <div class="alert alert-info alert-white-alt rounded" role="alert">\n                    <div class="icon">\n                        <i class="fa fa-info-circle"></i>\n                    </div>\n                    <aamc-program-table-optional-message condition-check="(showResults && programList && programList.length===0 && !isSoapApplicable)" program-message="\'No program matches your search criteria. Please try another search.\'"></aamc-program-table-optional-message>\n                </div>\n            </div>\n        </div>\n        <div class="panel-body" ng-show="!isBusy">\n            <div>\n                <div class="panel-body table-responsive no-padding">\n                    <table class="table table-hover table-striped table-bordered">\n                        <thead>\n                            <tr>\n                                <th class="text-center cell-overflow">\n                                    <input class="ng-pristine ng-valid ng-valid-char-set" ng-change="checkData(myPrograms);" ng-model="vm.applyAll" type="checkbox">\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\')">\n                                    <div class="pointer">\n                                        <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        Program Name\n                                        <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                                    <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        Specialty\n                                        <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\')">\n                                    <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        City\n                                        <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                                    <div class="pointer">\n                                        <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        State\n                                        <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow">\n                                    <div>Accreditation ID</div>\n                                </th>\n                                <th>\n                                    <div>Action</div>\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody ng-repeat="programDet in vm.selectedPrograms = (myPrograms | orderBy:[\'unit.unitStatusCode\',orderByCol]:reverseSort | filter:filteredColumns)">\n                            <tr ng-show="eligibleTracks(programDet.unit.tracks, applicationData.soapEligibilityPositionType) && programDet.unit.unitStatusCode === \'O\'">\n                                <td class="text-center">\n                                    <div>\n                                        <input type="checkbox" ng-change="isSelectedProgram(vm.selectedPrograms)" ng-model="programDet.applyInd" ng-if="(!programDet.inEligible && !programDet.warning)&&programDet.unit.unitStatusCode===\'O\' && programDet.showReApplyCheckbox" ng-disabled="shouldDisableSelection(programDet)">\n                                    </div>\n                                </td>\n                                <td>\n                                    <span> <a href ng-click="showProgramDetailsModal(programDet); ">{{programDet.unit.unitName}}</a>\n                                    </span>\n                                    <a ng-show="(programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')||programDet.unit.unitPgmInformation" data-title="Additional Program Information is available. Click the program name to view." bs-tooltip><i class="fa fa-info-circle"></i> </a>\n                                    <div ng-if="!programDet.showReApplyCheckbox">\n                                        <span class="text-danger">Please select one or more SOAP-eligible training(s) to Reapply for this program</span>\n                                    </div>\n                                </td>\n                                <td class="text-wrap cell-overflow">\n                                    <div>{{programDet.unit.specialty.specName}}</div>\n                                </td>\n                                <td class="cell-overflow">\n                                    {{programDet.unit.unitCity}}\n                                </td>\n                                <td class="cell-overflow">\n                                    {{ programDet.unit.unitStateDesc }}\n                                </td>\n                                <td class="cell-overflow">\n                                    <span>{{programDet.accreditationId}}</span>\n                                </td>\n                                <td>\n                                    <div class="btn-group btn-block">\n                                        <button type="button" class="btn btn-default btn-sm">Select</button>\n                                        <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                            <span class="caret"></span>\n                                            <span class="sr-only">Toggle Dropdown</span>\n                                        </button>\n                                        <ul class="dropdown-menu btn-block" role="menu">\n                                            <li>\n                                                <a href="" ng-click="showAssignDocumentsModal(programDet);"><i class="fa fa-share"></i> Assign Documents</a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr ng-show="isShowTracks && programDet.unit.unitStatusCode === \'O\'">\n                                <td colspan="7">\n                                    <div class="col-md-offset-1">\n                                       <aamc-tracks-details class="col-md-offset-1">\n                                        <div ng-repeat="track in programTracks = (programDet.unit.tracks | soapReApplyFilter:applicationData.soapEligibilityPositionType)">\n                                            <div class="row">\n                                                <div class="col-sm-3"><input type="checkbox" ng-change="selectTrack(programDet, track)" ng-disabled="isTrackDisabled(track)" ng-model="track.selected"><span class="text-info">\n                                              </span>{{track.trackName}}</div>\n                                                <div class="col-sm-2">{{track.nrmpPgmCd}}</div>\n                                                <div class="col-sm-2">{{track.trackType.trackTypeDescription}}</div>\n                                                <div class="col-sm-5">\n                                                    <aamc-applied-reapplied-date track="track" programs="programDet"></aamc-applied-reapplied-date>\n                                                </div>\n                                            </div>\n                                            <div>\n                                                <span class="text-danger" ng-if="track.trackMyerasDisplayInd===\'N\'">The "{{track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{track.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                            </span>\n                                            </div>\n                                        </div>\n                                    </aamc-tracks-details>\n                                    </div>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <aamc-program-table-optional-message condition-check="myPrograms.length===0" program-message="\'You have no programs eligible for reapply.\'"></aamc-program-table-optional-message>\n                </div>\n            </div>\n        </div>\n        <!-- END SEARCH RESULTS PANEL HERE -->\n</aamc-programs-tabs>\n')}]),angular.module("states/programs-reapply/validate-modal.html",[]).run(["$templateCache",function(a){a.put("states/programs-reapply/validate-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <p><strong ng-bind-html="programDet.message"></strong></p>\n                <div ng-repeat="program  in programDet.notAllowedPrograms">\n                    {{program.unit.unitName}} - {{program.unit.specialty.specName}}\n                </div>\n                </br>\n                <div ng-repeat="program  in programDet.notAllowedTracks">\n                    <div ng-if="!programDet.notAllowedPrograms || !programDet.notAllowedPrograms.length">{{program.unitName}} - {{program.specName}}</div>\n                    <div>{{program.trackName}} - {{program.trackType.trackTypeDescription}}</div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideValidateModal();">Cancel</button>\n                <button ng-show="programDet.allowToProceed" class="btn btn-default btn-small" ng-click="newPaymentInvoice();">Proceed</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programs-withdrawn/programs-reinstate-modal.html",[]).run(["$templateCache",function(a){a.put("states/programs-withdrawn/programs-reinstate-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramReinstateModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel"><strong>Reinstate Program(s)</strong></h4>\n            </div>\n            <div class="modal-body">\n                <div ng-if="withdrawnProgramList.length > 0">\n                    <div>\n                        Are you sure you want to reinstate <em><strong>your</strong></em> application <em><strong>with</strong></em> the following program(s)?\n                        <ul>\n                            <li ng-repeat="program in withdrawnProgramList">{{program.unit.unitName}} &#8212 {{program.unit.specialty.specName}}</li>\n                        </ul>\n                    </div>\n                    <div>\n                        <span>Reinstating your application will remove the <i>Withdrawn by Applicant</i> indicator in the Program Director\'s Workstation(PDWS), which was put there  when you withdrew from these program(s).</span>\n                        </br>\n                        </br>\n                        <span>In addition to reinstating your application in MyERAS, you should contact the program(s) directly and communicate your decision. </span>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default btn-sm" ng-click="hideProgramReinstateModal();">Close</button>\n                <button type="button" class="btn btn-primary btn-sm" ng-disabled="withdrawnProgramList.length===0" ng-click="reapplyProgram();">Reinstate</button>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/programs-withdrawn/programs-withdrawn.html",[]).run(["$templateCache",function(a){a.put("states/programs-withdrawn/programs-withdrawn.html",'<aamc-programs-tabs>\n    <div class="panel panel-default ng-scope">\n        <div class="panel-body" ng-if="!isBusy">\n            <div class="col-md-11">\n                <h1 class="inline-block panel-heading" style="padding-left: 0px;">Programs Withdrawn From</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="PROGRAMWITHDRAWN_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <div class="row">\n                <div class="col-md-12">\n                    <span>To reinstate your application with a program, mark the checkbox for the program you would like to select, click <i>Reinstate</i> and then confirm that you wish to reinstate.</span>\n                    </br>\n                    </br>\n                    <span><i class="text-danger">Note:</i> You cannot manage training selections or document assignments for programs you have withdrawn from.</span>\n                    </br>\n                    </br>\n                </div>\n            </div>\n            </br>\n            </br>\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group" style="margin-top: 10px;">\n                        <div class="input-group input-group-sm">\n                            <input ng-disabled="!allWithdrawnPrograms || allWithdrawnPrograms.length===0" placeholder="Search by Program Name, Specialty, City, State, ID, or Training" ng-model="vm.searchForText" class="form-control ng-pristine ng-valid ng-valid-char-set" name="search" type="search">\n                            <span class="input-group-btn">\n                                <button ng-disabled="!allWithdrawnPrograms || allWithdrawnPrograms.length===0" name="searchButton" class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                            </button>\n                            </span>\n                        </div>\n                        <span class="text-danger ng-hide" ng-show="withdrawnPrograms.length===0 && (allWithdrawnPrograms && allWithdrawnPrograms.length !== 0)">No programs match your search</span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <div ng-show="showNoAssignSelections" class="text-danger showNoAssignSelections">You have not selected any programs.</div>\n                        <div class="h3 text-right">\n                            <strong>{{reapplyProgramList.length?reapplyProgramList.length:\'0\'}}</strong> Programs Selected\n                            <button class="btn btn-success" ng-click="reinstatePrograms()">Reinstate <span><i class="fa fa-arrow-circle-right"></i></span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <aamc-program-table-optional-message class="text-danger" condition-check="applicantSoapIneligible && soapOpen" program-message="programWithoutCheckboxMsg"></aamc-program-table-optional-message>\n            <div class="text-danger ng-hide" ng-show="isInEligibleToWithdrawText">One or more of the programs you have applied to includes a training which is no longer being offered.</div>\n            <div class="table-responsive table-striped">\n                <table class="table table-bordered">\n                    <colgroup>\n                        <col style="width: 5%;">\n                            <col style="width: 30%;">\n                                <col style="width: 20%;">\n                                    <col style="width: 10%;">\n                                        <col style="width: 5%;">\n                                            <col style="width: 10%;">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th class="text-center cell-overflow">\n                                <input class="ng-pristine ng-valid ng-valid-char-set" ng-change="checkAllWithdrawPrograms(withdrawnPrograms);" ng-model="vm.withdrawAll" type="checkbox">\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\')">\n                                <div class="pointer">\n                                    <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Program Name\n                                    <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Specialty\n                                    <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    City\n                                    <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    State\n                                    <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow">\n                                <div>Accreditation ID</div>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody class="ng-scope" ng-repeat="programDet in withdrawnPrograms = (allWithdrawnPrograms | orderBy:[\'-inEligible\',\'-warning\', orderByCol]:reverseSort | filter:filteredPrograms)">\n                        <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible || programDet.showExclamation}">\n                            <td class="text-center cell-overflow">\n                                <!-- adding an ng-hide if the program is a soap program and the applicant is in-eligible -->\n                                <div ng-hide="isInEligibleToWithdraw(programDet) || programDet.showExclamation">\n                                    <input class="ng-pristine ng-valid ng-valid-char-set" ng-change="withdrawProgramAction(programDet);" ng-model="programDet.withdrawId" type="checkbox">\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div>\n                                    <span ng-if="programDet.inEligible || programDet.showExclamation"><i class="fa fa-exclamation"></i>\n                                    </span>\n                                    <a class="ng-binding" ng-hide="programDet.unit.unfilledPositionsIndicator  && soapOpen" data-toggle="modal" ng-click="showWithdrawnProgramDetailsModal(programDet);" href="">{{programDet.unit.unitName}}</a>\n                                    <span ng-if="programDet.unit.unfilledPositionsIndicator && soapOpen">{{programDet.unit.unitName}}</span>\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.specialty.specName}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitCity}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitStateDesc}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.accreditationId}}</div>\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible || programDet.showExclamation}">\n                            <td class="" colspan="7">\n                              <aamc-tracks-details class="col-sm-offset-1">\n                                <div ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                   <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                    <span class="text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                    <hr>\n                                </div>\n                            </aamc-tracks-details>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</aamc-programs-tabs>\n')}]),angular.module("states/programsapplied/assign-documents-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsapplied/assign-documents-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAssignDocumentsModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel"><span ng-if="!(currentPage===2)">Assign Documents For </span>{{programDet.unit.unitName}} ({{programDet.unit.specialty.specName}})</h4>\n            </div>\n            <div class="modal-body">\n                <div class="panel panel-default" ng-if="currentPage===1">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Letters of Recommendation - <span ng-show="lorsConfirmedOrUploaded(myLors)">Select up to 4 (four)</span></h3>\n                        <a class="pull-right" href ng-click="showLorAccordion=!showLorAccordion"><i class="fa fa-plus" ng-if="!showLorAccordion"></i><i class="fa fa-minus" ng-if="showLorAccordion"></i></a>\n                    </div>\n                    <!-- <a href><i class="fa fa-plus"></i><i class="fa fa-minus"></i> asdadad</a> -->\n                    <div class="panel-body" ng-if="showLorAccordion">\n                        <div class="alert alert-success alert-white-alt rounded" ng-show="errorMsg">\n                            <button class="close" aria-hidden="true" type="button" ng-click="errorMsg = null;">\n                                <span>&times;</span>\n                                <span class="sr-only">Close</span>\n                            </button>\n                            <div class="icon">\n                                <i class="fa fa-info-circle"></i>\n                            </div>\n                            <!--<strong>Info!</strong>-->\n                            {{errorMsg}}\n                        </div>\n                        <div ng-hide="lorsConfirmedOrUploaded(myLors)">\n                            You currently have no LoRs to assign. To create an LoR, go to <a ui-sref="main.letterRecommendation" ng-click="hideAssignDocumentsModal();">Letters of Recommendation.</a>\n                        </div>\n                        <div ng-show="lorsConfirmedOrUploaded(myLors)">\n                            <p>\n                                <span class="text-danger">\n                                    <strong>Note:</strong>\n                                </span>LoR Authors must be confirmed on the Documents|Letters of Recommendation page AND the LoR must be uploaded to the ERAS PostOffice by the LoR Author via the ERAS LoR Portal (LoRP) in order to assign it to a program. The LoR checkbox will remain disabled until both of these requirements are met. To confirm an LoR Author, return to the Documents|Letters of Recommendation tab. The table on that page will display the status of the letter. For questions regarding the status of your documents, please contact the letter author.\n                            </p>\n                        </div>\n\n                        <div class="table-responsive">\n                            <table class="table table-bordered table-striped">\n                                <thead>\n                                    <tr>\n                                        <th class="text-center col-md-1"></th>\n                                        <th><strong>LoR Name</strong></th>\n                                        <th><strong>Specialty</strong></th>\n                                        <th><strong>Letter ID</strong></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr class="" ng-repeat="lor in confirmedLors = (myLors | filter:filteredLors )">\n                                        <td class="text-wrap cell-overflow">\n                                            <input type="checkbox" ng-disabled="lor.lorUploaded===false||(lor.preSelected)" ng-model="lor.selected" ng-change="assignedDocListObj.updateLorList(lor);">\n                                        </td>\n                                        <td class="text-wrap cell-overflow">\n                                            {{lor.lorWriterName}} - {{lor.lorWriterDept}}\n                                            <span ng-if="lor.lorDeptChairInd===\'Y\'">\n                                            <small><span data-placement="top" data-title="You indicated that this LoR Author is a Department Chair where you completed your clerkship training." class="label label-warning pointer" style="color: #555;" bs-tooltip>DC</span>\n                                            </small>\n                                            </span>\n                                            <span ng-if="lor.lorPgmDirectorInd===\'Y\'">\n                                            <small><span data-placement="top" data-title="You indicated that this LoR Author is a Program Director in a current/previous residency or fellowship where you trained." class="label label-info pointer"  bs-tooltip>PD</span>\n                                            </small>\n                                            </span>\n                                            <span ng-if="lor.lorWaiver===\'Y\'">\n                                            <a data-placement="top" class="pointer" data-title="You waived your right to view this LoR."  bs-tooltip><i class="fa fa-eye-slash "></i></a>\n                                            </span>\n                                            <span ng-if="lor.lorWaiver===\'N\'">\n                                            <a data-placement="top" class="pointer" data-title="You did not waive your right to view this LoR."  bs-tooltip><i class="fa fa-eye"></i></a>\n                                            </span>\n                                        </td>\n                                        <td>\n                                            <span ng-if="lor.lorInstructions"> {{lor.lorInstructions}}</span>\n                                        </td>\n                                        <td class="cell-overflow">\n                                            <div>{{lor.lorLetterId}}</div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n\n                    </div>\n                </div>\n                <div class="panel panel-default" ng-if="currentPage===1 ">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Personal Statements - Select One(1)</h3>\n                        <a class="pull-right" href ng-click="showPersonalStatAccordion=!showPersonalStatAccordion"><i class="fa fa-plus" ng-if="!showPersonalStatAccordion"></i><i class="fa fa-minus" ng-if="showPersonalStatAccordion"></i></a>\n                    </div>\n                    <div class="panel-body" ng-if="showPersonalStatAccordion">\n                        <div ng-if="myPersonalStatments.length===0">\n                            You currently have no Personal Statements to assign. To create a Personal Statement, go to <a ui-sref="main.personalStatements" ng-click="hideAssignDocumentsModal();">Personal Statements.</a>\n                        </div>\n                        <div ng-if="myPersonalStatments.length>0">\n                            <div class="form-group" ng-repeat="statement in myPersonalStatments">\n                                <input type="checkbox" name="statementAssignInd" ng-model="statement.selected" ng-change="assignedDocListObj.updatePersonalStatementAssignment(statement); selectStatement(statement)">\n                                <span>{{statement.psTitle}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="panel panel-default" ng-if="currentPage===1">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Additional Documents - Select all that apply</h3>\n                        <a class="pull-right" href ng-click="showAppliedAdditionalDocAccordion=!showAppliedAdditionalDocAccordion"><i class="fa fa-plus" ng-if="!showAppliedAdditionalDocAccordion"></i><i class="fa fa-minus" ng-if="showAppliedAdditionalDocAccordion"></i></a>\n                    </div>\n                    <div class="panel-body" ng-if="showAppliedAdditionalDocAccordion">\n                        <div ng-if="((currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'R\'))">\n                            <div class="form-group">\n                                <div ng-if="usmleAuth.usmleTransmissionInd===\'N\'|| !usmleAuth" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="usmleAuth" ng-disabled="usmleAuth.usmleTransmissionInd===\'N\'|| !usmleAuth"> You have not Authorized Release of USMLE yet. Please\n                                        <a href ng-click="goToOtherDocuments();">Authorize Release of USMLE</a>\n                                    </label>\n                                </div>\n                                <div ng-if="usmleAuth.usmleTransmissionInd===\'Y\'">\n                                    <input type="checkbox" name="usmleAssignInd" ng-model="usmle.selected" ng-change="assignedDocListObj.updateUsmle(usmle)" ng-disabled="usmle.preSelected">\n                                    <span>USMLE Transcript</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="(currentPage===1)&&(applicationData.residencyType===\'DO\'||applicationData.fellowshipType===\'DO\') ">\n                            <div class="form-group">\n                                <div ng-if="comlexAuth.comlexTransmissionInd===\'N\'|| !comlexAuth" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="comlexAuth" ng-disabled="comlexAuth.comlexTransmissionInd===\'N\'|| !comlexAuth"> You have not Authorized Release of COMLEX-USA Trascript yet. Please\n                                        <a href ng-click="goToOtherDocuments();">Authorize Release of COMLEX-USA</a>\n                                    </label>\n                                </div>\n                                <div ng-if="comlexAuth.comlexTransmissionInd===\'Y\'">\n                                    <input type="checkbox" name="comlexAssignInd" ng-model="comlex.selected" ng-change="assignedDocListObj.updateComlex(comlex)" ng-disabled="comlex.preSelected">\n                                    <span>COMLEX-USA</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1 && programDet.unit.unitStateCode===\'CA\')&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'R\'))&&(applicationData.residencyType===\'IMG\'||applicationData.fellowshipType===\'IMG\') ">\n                            <div class="form-group">\n                                <div ng-if="!ptalData" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="ptalQues" ng-disabled="!ptalData"> You have not answered question on Uploading a Postgraduate Training Authorization Letter (PTAL). Please answer the <a href ng-click="goToOtherDocuments();">Question to Assign a PTAL</a>\n                                    </label>\n                                </div>\n                                <div ng-if="ptalData">\n                                    <input type="checkbox" name="ptalAssignInd" ng-model="ptal.selected" ng-change="assignedDocListObj.updatePtal(ptal)" ng-disabled="ptal.preSelected">\n                                    <span>Postgraduate Training Authorization Letter (California Letter)</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'O\'))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="mspeAssignInd" ng-model="mspe.selected" ng-change="assignedDocListObj.updateMspe(mspe)" ng-disabled="mspe.preSelected">\n                                    <span>Medical Student Performance Evaluation (Dean\'s Letter)</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'O\'))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="msTranscriptAssignInd" ng-model="msTranscript.selected" ng-change="assignedDocListObj.updateMsTranscript(msTranscript)" ng-disabled="msTranscript.preSelected">\n                                    <span>Medical School Transcript</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(showAbsite(programDet)))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="absiteAssignInd" ng-model="absite.selected" ng-change="assignedDocListObj.updateAbsite(absite)" ng-disabled="absite.preSelected">\n                                    <span>ABSITE</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="(currentPage===1) ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="photoAssignInd" ng-model="photo.selected" ng-disabled="photo.preSelected" ng-change="assignedDocListObj.updatePhoto(photo)">\n                                    <span>Photo</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>                \n                <div ng-if="currentPage===2 && changedLors">\n                    <p>Are you sure you want to assign the selected LoR(s) to this program?</p>\n\n                    <p>LoR selections will be locked upon applying to a program or when assigning a LoR to a program you previously applied to. Once a LoR selection is locked you will not be able to change it. You may only change your selection prior to applying to a program. Keep in mind that you may only assign up to 4 LoRs to any given program. Click <i>Confirm</i> to proceed with your selections or click <i>Cancel</i> to go back</p>\n                </div>\n                <div ng-if="currentPage===3">\n                    <div ng-show="payUsmleFeeText != \'\'" ng-bind-html="payUsmleFeeText"></div>\n                </div>\n                <div ng-show="showNoAssignSelections" class="text-danger pull-right">There are no assignment selections/changes to save.</div>\n                <div class="text-danger pull-right" ng-if="showIneligibleSelectionMessage">{{ ineligibleSelectionMessage }}</div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideAssignDocumentsModal();" ng-if="currentPage===1">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="confirmationPage(myLors, myPersonalStatments);" ng-if="currentPage===1" ng-disabled="$scope.assignedDocListObj.docList.lor.length >4">Save</button>\n                <button class="btn btn-default btn-small" ng-click="backToAssignPage();" ng-if="currentPage===2">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="assignedDocListObj.saveDocList()" ng-if="currentPage===2">Confirm</button>\n                <button class="btn btn-default btn-small" ng-click="cancelPayNowUsmleOrComlex();" ng-if="currentPage===3">Cancel</button>\n                <button ng-if="currentPage===3" class="btn btn-primary btn-small" ui-sref="main.payment" href="#/payment" ng-click="payNowUsmleOrComlex()">Pay Now</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsapplied/program-details-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsapplied/program-details-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramDetailsModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Training Selection</h4>\n            </div>\n            <aamc-program-details-modal></aamc-program-details-modal>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsapplied/programsapplied.html",[]).run(["$templateCache",function(a){a.put("states/programsapplied/programsapplied.html",'<aamc-programs-tabs>\n    <div class="panel panel-default ng-scope" ng-if="!applicantSoapEligible && !applicantSoapIneligible">\n        <div class="panel-body">\n            <div class="panel-heading">\n                <aamc-help-modal contentKey="PROGRAMSAPPLIED_HELPCONTENT"></aamc-help-modal>\n                <h1 class=" inline-block" style="padding-left: 0px;">Programs Applied To</h1>\n                <span class="pull-right" ng-show="showPastInvoiceLink()"><a href ui-sref="main.invoiceHistory">View Payment History</a>&nbsp;&nbsp;&nbsp;&nbsp;</span>\n            </div>\n            <div class="row">\n                <ul>\n                    <li>\n                        <span>Click a program name to view their program information and to manage your training selections for that program</span>\n                    </li>\n                    <li>\n                        <span>Select <i>Assign Documents</i> in the Action column for a program to assigning documents to that program</span>\n                    </li>\n                    <li>\n                        <span>To withdraw from a program, mark the checkbox for the program you would like to select, click <i>Withdraw</i> and then confirm that you wish to withdraw.</span>\n                    </li>\n                </ul>\n            </div>\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group" style="xxmargin-top: 10px;">\n                        <div class="input-group input-group-sm">\n                            <input ng-disabled="disableSearch" placeholder="Search by Program Name, Specialty, City, State, ID, or Training" ng-model="vm.searchForText" class="form-control ng-pristine ng-valid ng-valid-char-set" name="search" type="search">\n                            <span class="input-group-btn">\n                                <button ng-disabled="disableSearch" name="searchButton" class="btn btn-primary" type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                            </button>\n                            </span>\n                        </div>\n                        <span class="text-danger ng-hide" ng-show="vm.selectedPrograms.length===0 && (myPrograms && myPrograms.length !== 0)">No programs match your search</span>\n                        <span class="text-danger ng-hide" ng-show="showInEligibleText">One or more of the programs you have applied to includes a training which is no longer being offered.</span>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <div ng-show="showNoProgramSelections" class="text-danger showNoProgramSelections">You have not selected any programs.</div>\n                        <div class="h3">\n                            <span class="text-left" ng-if="vm.showSoap && vm.applicantSoapEligible">You have applied to {{vm.programsCount.soapPgmsAppliedCount}} of your {{vm.programsCount.maxSoapPgmsAllowedToApply}} SOAP Program maximum.</span>\n                            <span class="pull-right">                                                         \n                            <strong>{{withdrawnProgramList.length?withdrawnProgramList.length:\'0\'}}</strong> Programs Selected                            \n                            <button class="btn btn-danger" ng-click="withdrawFromPrograms()">Withdraw<span><i class="fa fa-arrow-circle-right"></i></span>\n                            </button>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-responsive table-striped">\n                <table class="table table-bordered layout-fixed">\n                    <colgroup>\n                        <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <col class="col-md-3 col-lg-3 col-sm-3 col-xs-6">\n                        <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                        <col class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                        <col class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                    </colgroup>\n                    <thead>\n                        <tr>\n                            <th class="text-center cell-overflow">\n                                <input class="ng-pristine ng-valid ng-valid-char-set" ng-change="checkAllPrograms(myPrograms);" ng-model="vm.withdrawAll" type="checkbox">\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\')">\n                                <div class="pointer">\n                                    <span class="" ng-show="orderByCol===\'unit.unitName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Program Name\n                                    <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort ng-hide"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.specialty.specName\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.specialty.specName\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    Specialty\n                                    <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitCity\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    City\n                                    <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                                <div class="pointer">\n                                    <span class="ng-hide" ng-show="orderByCol===\'unit.unitStateCode\'">\n                                        <span class="" ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span class="ng-hide" ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    State\n                                    <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                </div>\n                            </th>\n                            <th class="cell-overflow">\n                                <div>Accreditation ID</div>\n                            </th>\n                            <th>\n                                <div>Action</div>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody class="ng-scope" ng-repeat="programDet in vm.selectedPrograms = (myPrograms | orderBy:[\'-inEligible\',\'-warning\', orderByCol]:reverseSort | filter:filteredPrograms)">\n                        <tr bgcolor="#dddddd" ng-class="{danger: programDet.inEligible || programDet.warning}">\n                            <td class="text-center cell-overflow">\n                                <div ng-hide="programDet.withdrawnIndicator === \'Y\'">\n                                    <input class="ng-pristine ng-valid ng-valid-char-set" ng-change="withdrawProgramAction(programDet);" ng-model="programDet.withdrawId" type="checkbox">\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div>\n                                    <span ng-if="programDet.inEligible || programDet.warning"><i class="fa fa-exclamation"></i>\n                                    </span>\n                                    <a class="ng-binding" data-toggle="modal" ng-click="showProgramDetailsModal(programDet);" href="">{{programDet.unit.unitName}}</a>\n                                </div>\n                            </td>\n                            <td class="text-wrap cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.specialty.specName}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitCity}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.unit.unitStateDesc}}</div>\n                            </td>\n                            <td class="cell-overflow">\n                                <div class="ng-binding">{{programDet.accreditationId}}</div>\n                            </td>\n                            <td>\n                                <div class="btn-group btn-block" ng-if="programDet.withdrawnIndicator !== \'Y\' && (programDet.unit.unitStatusCode === \'O\' || programDet.unit.unitStatusCode === \'D\') ">\n                                    <button type="button" class="btn btn-default btn-sm">Select</button>\n                                    <button type="button" class="btn btn-warning btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                        <span class="caret"></span>\n                                        <span class="sr-only">Toggle Dropdown</span>\n                                    </button>\n                                    <ul class="dropdown-menu btn-block" role="menu">\n                                        <li>\n                                            <a href="" ng-click="showAssignDocumentsModal(programDet);" ><i class="fa fa-share"></i> Assign Documents</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.withdrawnIndicator === \'Y\'">\n                            <td colspan="7"><span class="text-danger">You have withdrawn from this program. To reinstate your application with this program, navigate to the <em> Programs Withdrawn From </em> page.</span>\n                            </td>\n                        </tr>\n                        <tr ng-if="programDet.unit.unitStatusCode === \'N\' || programDet.unit.unitStatusCode === \'C\' || programDet.unit.unitStatusCode === \'D\'">\n                            <td colspan="7">\n                                <aamc-program-status-code class="text-danger" display-program="programDet" content-text="displayText"></aamc-program-status-code>\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff" ng-class="{danger: programDet.inEligible || programDet.warning}">\n                            <td colspan="7">\n                                <div class="col-sm-offset-1">\n                                    <aamc-tracks-details>\n                                        <div class="clearfix" ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                                            <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                            <span class="col-sm-12 text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                          </span>\n                                            <span class="col-sm-12" ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                            <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            training(s) offered by this program.</a>\n                                        </span>\n                                            <hr>\n                                        </div>\n                                    </aamc-tracks-details>\n                                </div>\n                                <div class="col-sm-offset-1 form-group" ng-show="preliminaryConditions(programDet)">\n                                    PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                                </div>\n                                <div class="col-sm-offset-1">\n                                    <aamc-documenttracking></aamc-documenttracking>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody ng-show="myPrograms.length === 0 && !vm.searchForText">\n                        <tr>\n                            <td class="cell-overflow" colspan="7"><strong>{{programNoAppliedToText}}</strong>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <soap-ineligible-programs-applied ng-if="applicantSoapIneligible"></soap-ineligible-programs-applied>\n    <soap-eligible-programs-applied ng-if="applicantSoapEligible"></soap-eligible-programs-applied>\n</aamc-programs-tabs>\n');
}]),angular.module("states/programsapplied/reapply-programs-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsapplied/reapply-programs-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramReapplyModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Reinstate To A Program</h4>\n            </div>\n            <div class="modal-body" ng-bind-html="programReapplyText"></div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default btn-sm" ng-click="hideProgramReapplyModal();">Close</button>\n                <button type="button" class="btn btn-primary btn-sm" ng-click="reapplyProgram();">Reinstate</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsapplied/withdraw-programs-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsapplied/withdraw-programs-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramWithdrawnModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Withdraw From Program(s)</h4>\n            </div>\n            <div class="modal-body">\n                <div>\n                    <div class="overflowDiv">\n                        Are you sure you want to withdraw from the following programs?\n                        <ul>\n                            <li ng-repeat="program in withdrawnProgramList">{{program.unit.unitName}} &#8212 {{program.unit.specialty.specName}}</li>\n                        </ul>\n                    </div>\n                    <div ng-bind-html="programWithdrawText"></div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default btn-sm" ng-click="hideProgramWithdrawnModal();">Close</button>\n                <button type="button" class="btn btn-danger btn-sm" ng-disabled="withdrawnProgramList.length===0" ng-click="withdrawProgram();">Withdraw</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsearch/added-programs-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsearch/added-programs-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAddedProgramsModal(true);">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Programs Selected</h4>\n            </div>\n            <div class="modal-body">\n                <table class="table table-bordered transcript-request table-hover" border="0" ng-show="addedProgramsSize>0">\n                    <thead>\n                        <colgroup>\n                            <col style="width:30%">\n                                <col style="width:10%">\n                                    <col style="width:20%">\n                                        <col style="width:20%">\n                                            <col style="width:20%">\n                        </colgroup>\n                        <tr>\n                            <th class="cell-overflow">\n                                <strong>Program Name</strong>\n                            </th>\n                            <th class="cell-overflow">\n                                <strong>Specialty</strong>\n                            </th>\n                            <th class="cell-overflow">\n                                <strong>Location</strong>\n                            </th>\n                            <th class="cell-overflow">\n                                <strong>Accreditation ID</strong>\n                            </th>\n                            <th class="cell-overflow">\n                                <strong>Status</strong>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody ng-repeat="programDet in programList = (addedPrograms | filter:programSearch | startFrom:(pagination.currentPage-1)*pagination.itemsPerPage | limitTo:pagination.itemsPerPage)">\n                        <tr bgcolor="#dddddd">\n                            <td class="cell-overflow">\n                                <span>{{programDet.unit.unitName}}</span>\n                            </td>\n                            <td class="cell-overflow">{{programDet.unit.specialty.specName}}</td>\n                            <td class="cell-overflow">{{programDet.unit.unitCity}}, {{programDet.unit.unitStateCode}}</td>\n                            <td class="cell-overflow">{{programDet.accreditationId}}</td>\n                            <td class="cell-overflow">{{programStatus[programDet.unit.unitStatusCode]}}\n                            </td>\n                        </tr>\n                        <tr bgcolor="#ffffff">\n                            <td colspan="5">\n                                <div class="col-md-6" ng-repeat="track in programDet.unit.tracks">\n                                    <span ng-show="track.selected">\n                                        <input type="checkbox" ng-model="track.selected" ng-disabled="programDet.unit.unitStatusCode!==\'O\'||track.preselected||(programDet.invoiceSeqNumber && track.trackMyerasDisplayInd === \'N\')||(!track.selected && track.trackMyerasDisplayInd === \'N\') || programDet.withdrawnIndicator === \'Y\'"\n                                               ng-change="updateProgramSelections(programDet, track)" ng-if="!track.preselected">\n                                               <span class="text-info">\n                            <i class="fa fa-check" ng-if="track.preselected" data-title="You have already selected this program track." bs-tooltip> </i>\n                        </span> {{track.trackName}} | {{track.unitId}}\n                                    <span ng-show="track.trackType.trackTypeDescription"> ({{track.trackType.trackTypeDescription}})</span>\n                                    <aamc-applied-reapplied-date track="track" programs="programDet"></aamc-applied-reapplied-date>\n                                    </span>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div ng-show="addedProgramsSize===0">\n                    You do not have any programs in your selection.\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideAddedProgramsModal(true);">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="saveToMySelections()" ng-disabled="addedProgramsSize===0">Confirm</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsearch/program-additional-info-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsearch/program-additional-info-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAdditionalInfoModal();">&times;</button>\n                <h4 class="modal-title">Additional Program Information - {{cimSurveyUnitName}}</h4>\n            </div>\n            <div class="modal-body">\n                <div>ERAS asked programs questions about their training sites during the ERAS registration process. Programs were not required to provide responses to these questions. Below are the responses to the question(s) this program chose to answer. We hope this information will be helpful to you during your program selection process.</div>\n                <div><strong>Note:</strong> If you do not see an <em>Additional Programs Information</em> button for a specific program on the Program Search page, it is because the program opted out of responding to the questions.</div>\n                <ul>\n                    <li ng-if="(cimSurvey.cimTrainingLocation&&(cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1))">\n                        <h5>Are your training sites located (check all that apply):</h5>\n                        <div>\n                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1"></i>\n                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'1\')===-1"></i> At affiliate hospitals throughout the city\n                        </div>\n                        <div>\n                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1"></i>\n                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'2\')===-1"></i> At affiliate hospitals throughout the state\n                        </div>\n                        <div>\n                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1"></i>\n                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'3\')===-1"></i> At VA hospital(s)\n                        </div>\n                        <div>\n                            <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1"></i>\n                            <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'4\')===-1"></i> At Ambulatory (non-hospital) settings\n                        </div>\n                    </li>\n                    <li ng-if="cimSurvey.cimTrainingTime1||cimSurvey.cimTrainingTime2||cimSurvey.cimTrainingTime3||cimSurvey.cimTrainingTime4||cimSurvey.cimTrainingTimeOther">\n                        <h5>Over the course of the training, please estimate the percentage of time spent by the resident in the following setting(s):</h5>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingTime1||0}}%</strong> Academic teaching hospital\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingTime2||0}}%</strong> Community-based hospital\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingTime3||0}}%</strong> Ambulatory (non-hospital) setting\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingTime4||0}}%</strong> Medically underserved/HSPA setting\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingTimeOther||0}}%</strong> Other (Please Specify:)\n                        </div>\n                        <div ng-show="cimSurvey.timeOtherReason">\n                            {{cimSurvey.timeOtherReason}}\n                        </div>\n                    </li>\n                    <li ng-if="cimSurvey.cimTrainingArea1||cimSurvey.cimTrainingArea2||cimSurvey.cimTrainingArea3||cimSurvey.cimTrainingAreaOther">\n                        <h5>Please estimate the percentage of your training sites that reside in:</h5>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingArea1||0}}%</strong> An urban area\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingArea2||0}}%</strong> A suburban area\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingArea3||0}}%</strong> An rural area\n                        </div>\n                        <div>\n                            <strong>{{cimSurvey.cimTrainingAreaOther||0}}%</strong> Other (Please Specify:)\n                        </div>\n                        <div ng-show="cimSurvey.areaOtherReason">\n                            {{cimSurvey.areaOtherReason}}\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" ng-click="hideAdditionalInfoModal();">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programsearch/program-details-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsearch/program-details-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramDetailsModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Training Selection</h4>\n            </div>\n\n            <aamc-program-details-modal></aamc-program-details-modal>\n\n        </div>\n    </div>\n</div>')}]),angular.module("states/programsearch/program-reapplied-modal.html",[]).run(["$templateCache",function(a){a.put("states/programsearch/program-reapplied-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="$hide()">&times;</button>\n                <h4 class="modal-title">Training Selection</h4>\n            </div>\n            <div class="aamc-program-details-modal-content program-search">\n                <div class="modal-body">\n                    <div class="panel panel-info">\n                        <div class="panel-body">\n                            <div class="col-md-12">\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Program Name:</label>\n                                    </div>\n                                    <div class="col-md-9">\n                                        <span class="form-control-static">{{programDet.unit.unitName}}</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Specialty:</label>\n                                    </div>\n                                    <div class="col-md-9">\n                                        <span class="form-control-static">{{programDet.unit.specialty.specName}}</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Address:</label>\n                                    </div>\n                                    <div class="col-md-9">\n                                        <span class="form-control-static" ng-if="programDet.unit.unitAddress1!=null">{{programDet.unit.unitAddress1}}</span>,\n                                        <br>\n                                        <span class="form-control-static" ng-if="programDet.unit.unitAddress2!=null">{{programDet.unit.unitAddress2}},\n                                <br>\n                            </span>\n                                        <span class="form-control-static" ng-if="programDet.unit.unitAddress3!=null">{{programDet.unit.unitAddress3}},\n                                <br>\n                            </span>\n                                        <span class="form-control-static" ng-if="programDet.unit.unitCity!=null">{{programDet.unit.unitCity}}</span>\n                                        <span ng-if="programDet.unit.unitStateCode!=null">,\n                            {{programDet.unit.unitStateCode}}</span>\n                                        <span ng-if="programDet.unit.unitPostalCode!=null">- {{programDet.unit.unitPostalCode}}</span>\n                                        <br>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Web Page:</label>\n                                    </div>\n                                    <div class="col-md-9">\n                                        <span class="form-control-static"><a href="{{programDet.unit.unitUrl}}" target="_blank">{{programDet.unit.unitUrl}}</a>\n                            </span>\n                                        <br>\n                                        <span class="text-danger" ng-if="programDet.unit.unitUrl">*</span>\n                                        <small ng-if="programDet.unit.unitUrl">If the URL does not work, please contact the Program,\n                                and not MyERAS\n                            </small>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Email:</label>\n                                    </div>\n                                    <div class="col-md-3">\n                                        <span class="form-control-static"><a href="mailto:{{programDet.unit.unitEmail}}"\n                                                                 target="_blank">{{programDet.unit.unitEmail}}</a>\n                            </span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Phone:</label>\n                                    </div>\n                                    <div class="col-md-3">\n                                        <span class="form-control-static">{{programDet.unit.unitPhone}}</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Program Director:</label>\n                                    </div>\n                                    <div class="col-md-3">\n                                        <span class="form-control-static">{{programDet.unit.unitPgmDirector}}</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="form-control-label col-md-3">\n                                        <label>Accreditation ID:</label>\n                                    </div>\n                                    <div class="col-md-3">\n                                        <span class="form-control-static">{{programDet.accreditationId}}</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div ng-show="programDet.unit.unitMilitaryCode &&  programDet.unit.unitMilitaryCode !== \'\' && programDet.unit.unitMsgNumber === \'1\'">\n                                <p>\n                                    <strong class="text-danger">Note</strong>: {{programNoteMilitaryText}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="panel panel-default" ng-if="(programDet.unit.unitPgmInformation || (programDet.unit.cimSurvey.length > 0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\'))">\n                        <div class="panel-heading">\n                            <h3 class="panel-title">Additional Program Information</h3> <a ng-show="(programDet.unit.cimSurvey.length> 0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\') || programDet.unit.unitPgmInformation"><i\n                    class="fa fa-info-circle"></i> </a>\n                        </div>\n                        <div class="panel-body">\n                            <div class="col-md-12" ng-if="programDet.unit.unitPgmInformation&&programDet.unit.cimSurvey.length===0">\n                                <div class="col-md-12">\n                                    <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length > 300 && !showMore">{{programDet.unit.unitPgmInformation | characters:300:true}}</span>\n                                    <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length < 300 && showMore">{{programDet.unit.unitPgmInformation}}</span>\n                                    <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length > 300 && showMore">{{programDet.unit.unitPgmInformation}}</span>\n                                    <span ng-show="!showMore && programDet.unit.unitPgmInformation.length > 300"><a href ng-click="showMore = !showMore">Show More</a>\n                        </span>\n                                    <span ng-show="showMore && programDet.unit.unitPgmInformation.length > 300"><a href ng-click="showMore = !showMore">Show Less</a>\n                        </span>\n                                    <span class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length <= 300 && !showMore">{{programDet.unit.unitPgmInformation}}</span>\n                                </div>\n                            </div>\n                            <div class="col-md-12" ng-if="!programDet.unit.unitPgmInformation && (programDet.unit.cimSurvey.length > 0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')">\n                                <div>\n                                    <div>ERAS asked programs questions about their training sites during the ERAS registration process. Programs were not required to provide responses to these questions. Below are the responses to the question(s) this program chose to answer. We hope this information will be helpful to you during your program selection process.\n                                    </div>\n                                    <p ng-if="!vm.showMoreCimInfo"><a href ng-click="showMoreCim()">Show More</a>\n                                    </p>\n                                    <ul ng-if="vm.showMoreCimInfo">\n                                        <li ng-if="(cimSurvey.cimTrainingLocation&&(cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1))">\n                                            <h5>Are your training sites located (check all that apply):</h5>\n                                            <div>\n                                                <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1"></i>\n                                                <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'1\')===-1"></i> At affiliate hospitals throughout the city\n                                            </div>\n                                            <div>\n                                                <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1"></i>\n                                                <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'2\')===-1"></i> At affiliate hospitals throughout the state\n                                            </div>\n                                            <div>\n                                                <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1"></i>\n                                                <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'3\')===-1"></i> At VA hospital(s)\n                                            </div>\n                                            <div>\n                                                <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1"></i>\n                                                <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'4\')===-1"></i> At Ambulatory (non-hospital) settings\n                                            </div>\n                                        </li>\n                                        <li ng-if="cimSurvey.cimTrainingTime1 || cimSurvey.cimTrainingTime2 || cimSurvey.cimTrainingTime3 || cimSurvey.cimTrainingTime4 || cimSurvey.cimTrainingTimeOther">\n                                            <h5>Over the course of the training, please estimate the percentage of time spent by the\n                                    resident in the following setting(s):</h5>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingTime1||0}}%</strong> Academic teaching hospital\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingTime2||0}}%</strong> Community-based hospital\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingTime3||0}}%</strong> Ambulatory (non-hospital) setting\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingTime4||0}}%</strong> Medically underserved/HSPA setting\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingTimeOther||0}}%</strong> Other (Please Specify:)\n                                            </div>\n                                            <div ng-show="cimSurvey.timeOtherReason">\n                                                {{cimSurvey.timeOtherReason}}\n                                            </div>\n                                        </li>\n                                        <li ng-if="cimSurvey.cimTrainingArea1 || cimSurvey.cimTrainingArea2 || cimSurvey.cimTrainingArea3 || cimSurvey.cimTrainingAreaOther">\n                                            <h5>Please estimate the percentage of your training sites that reside in:</h5>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingArea1||0}}%</strong> An urban area\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingArea2||0}}%</strong> A suburban area\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingArea3||0}}%</strong> An rural area\n                                            </div>\n                                            <div>\n                                                <strong>{{cimSurvey.cimTrainingAreaOther||0}}%</strong> Other (Please Specify:)\n                                            </div>\n                                            <div ng-show="cimSurvey.areaOtherReason">\n                                                {{cimSurvey.areaOtherReason}}\n                                            </div>\n                                        </li>\n                                    </ul>\n                                    <p ng-if="vm.showMoreCimInfo"><a href ng-click="showMoreCim()">Show Less</a>\n                                    </p>\n                                </div>\n                            </div>\n                            <div ng-if="programDet.unit.unitPgmInformation && (programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')">\n                                <div class="col-md-12">\n                                    <div class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length>300 && !vm.showFullInfo">\n                                        {{programDet.unit.unitPgmInformation|characters:300:true}}\n                                    </div>\n                                    <div class="form-control-static" ng-if="programDet.unit.unitPgmInformation.length<=300 && !vm.showFullInfo">\n                                        {{programDet.unit.unitPgmInformation}}\n                                    </div>\n                                    <div class="form-control-static" ng-if="vm.showFullInfo">\n                                        {{programDet.unit.unitPgmInformation}}\n                                    </div>\n                                    <div ng-if="!vm.showFullInfo && ((programDet.unit.unitPgmInformation.length>300||programDet.unit.unitPgmInformation.length<=300) && (programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\'))">\n                                        <a href ng-click="showFullInfoFunction()">Show More</a>\n                                    </div>\n                                    <div ng-if="vm.showFullInfo">\n                                        <hr class="col-md-11 casHr" style="width:775px">\n                                        <div class="col-md-12">\n                                            <div>\n                                                <div>ERAS asked programs questions about their training sites during the ERAS registration process. Programs were not required to provide responses to these questions. Below are the responses to the question(s) this program chose to answer. We hope this information will be helpful to you during your program selection process.\n                                                </div>\n                                            </div>\n                                            <ul>\n                                                <li ng-if="(cimSurvey.cimTrainingLocation&&(cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1||cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1))">\n                                                    <h5>Are your training sites located (check all that apply):</h5>\n                                                    <div>\n                                                        <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'1\')!==-1"></i>\n                                                        <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'1\')===-1"></i> At affiliate hospitals throughout the city\n                                                    </div>\n                                                    <div>\n                                                        <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'2\')!==-1"></i>\n                                                        <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'2\')===-1"></i> At affiliate hospitals throughout the state\n                                                    </div>\n                                                    <div>\n                                                        <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'3\')!==-1"></i>\n                                                        <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'3\')===-1"></i> At VA hospital(s)\n                                                    </div>\n                                                    <div>\n                                                        <i class="fa fa-check-square" ng-show="cimSurvey.cimTrainingLocation && cimSurvey.cimTrainingLocation.indexOf(\'4\')!==-1"></i>\n                                                        <i class="fa fa-square-o" ng-show="!cimSurvey.cimTrainingLocation || cimSurvey.cimTrainingLocation.indexOf(\'4\')===-1"></i> At Ambulatory (non-hospital) settings\n                                                    </div>\n                                                </li>\n                                                <li ng-if="cimSurvey.cimTrainingTime1||cimSurvey.cimTrainingTime2||cimSurvey.cimTrainingTime3||cimSurvey.cimTrainingTime4||cimSurvey.cimTrainingTimeOther">\n                                                    <h5>Over the course of the training, please estimate the percentage of time\n                                            spent by the resident in the following setting(s):</h5>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingTime1||0}}%</strong> Academic teaching hospital\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingTime2||0}}%</strong> Community-based hospital\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingTime3||0}}%</strong> Ambulatory (non-hospital) setting\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingTime4||0}}%</strong> Medically underserved/HSPA setting\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingTimeOther||0}}%</strong> Other (Please Specify:)\n                                                    </div>\n                                                    <div ng-show="cimSurvey.timeOtherReason">\n                                                        {{cimSurvey.timeOtherReason}}\n                                                    </div>\n                                                </li>\n                                                <li ng-if="cimSurvey.cimTrainingArea1||cimSurvey.cimTrainingArea2||cimSurvey.cimTrainingArea3||cimSurvey.cimTrainingAreaOther">\n                                                    <h5>Please estimate the percentage of your training sites that reside in:</h5>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingArea1||0}}%</strong> An urban area\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingArea2||0}}%</strong> A suburban area\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingArea3||0}}%</strong> An rural area\n                                                    </div>\n                                                    <div>\n                                                        <strong>{{cimSurvey.cimTrainingAreaOther||0}}%</strong> Other (Please Specify:)\n                                                    </div>\n                                                    <div ng-show="cimSurvey.areaOtherReason">\n                                                        {{cimSurvey.areaOtherReason}}\n                                                    </div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                        <div ng-if="vm.showFullInfo"><a href ng-click="showFullInfoFunction()">Show Less</a>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="panel panel-default">\n                        <div class="panel-heading">\n                            <h3 class="panel-title">Training Offered</h3>\n                        </div>\n                        <div class="panel-body">\n                            <div>\n                                <p>\n                                    <strong class="text-danger">Note</strong>: After you have applied and paid for a program, you will not be able to deselect your training offered selection(s). However, you may select and apply to additional training offered options if they are available. If you wish to not be considered for a type of training you previously selected after you have applied and paid for a program, please contact the program directly.\n                                </p>\n                            </div>\n                            <div>\n                                <a data-title="{{DWS_PGMS_TAB_ELIGIBLE_FOR_REAPPY}}" bs-tooltip><span class="icon"><small><span class="label label-warning label-dark" data-toggle="tooltip" data-placement="left"><strong>R</strong></span></small></span></a> -\n                                <span ng-bind-html="SOAP_SEARCH_REAPPLY_PGM">\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-default btn-small" ng-click="$hide()">Close\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/programsearch/programsearch.html",[]).run(["$templateCache",function(a){a.put("states/programsearch/programsearch.html",'<aamc-programs-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-11">\n                <h1 class="panel-heading" style="padding-left: 0px;">Search Programs</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="PROGRAMSEARCH_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <!-- <aamc-program-search-soap ng-if="isSoapApplicable"></aamc-program-search-soap> -->\n            <aamc-program-search-soap ng-if="soapOpen && applicationData.applicationType === \'R\'"></aamc-program-search-soap>\n            <div ng-if="!soapOpen || applicationData.applicationType === \'F\'">\n                <div class="row">\n                    <form class="simple-form form-horizontal" name="programSelectForm" novalidate role="form" ng-if="applicationData.fellowshipType===\'DO\'||applicationData.residencyType===\'DO\'">\n                        <div class="col-md-4">\n                            <p>\n                                <span class="text-danger">*</span>\n                                <strong>Are you searching for D.O. or M.D. programs?</strong>\n                            </p>\n                        </div>\n                        <div class="col-md-4" ng-click="checkSoapEligibility(program.programInd)">\n                            <label class="radio-inline" style="padding-top: 0px;">\n                                <input type="radio" name="programInd" ng-model="program.programInd" value="DO" required>\n                                <strong>\n                                <span>DO</span>\n                            </strong>\n                            </label>\n                            <label class="radio-inline" style="padding-top: 0px;">\n                                <input type="radio" name="programInd" ng-model="program.programInd" value="MD" required>\n                                <strong>\n                                <span>MD</span>\n                            </strong>\n                            </label>\n                        </div>\n                    </form>\n                </div>\n                <div class="row" ng-if="showSearchControls" style="margin-top: 25px;">\n                    <div class="col-md-5">\n                        <div class="block block-color success">\n                            <div class="header">\n                                <h3>Search by Accreditation ID:</h3>\n                            </div>\n                            <div class="content">\n                                <form class="simple-form form-horizontal" name="programSearchForm" novalidate role="form" ng-submit="searchByAccreditationId()">\n                                    <div class="form-group">\n                                        <span class="col-md-10">\n                                        <div class="input-group">\n                                            <input id="accreditation-search" ng-model="program.prgAccreditationId" placeholder="Enter Accreditation ID" class="input-xlarge search-query form-control search-query" />\n                                            <span class="input-group-btn">\n                                                <button class="btn btn-primary" type="button" ng-click="searchByAccreditationId()" ng-disabled="program.prgAccreditationId.length===0||!program.prgAccreditationId">\n                                                    <span class="glyphicon glyphicon-search"></span>\n                                        </button>\n                                        </span>\n                                    </div>\n                                    </span>\n                            </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-1 text-center">\n                    <span style="font-size: 22px; font-style: italic;">- OR -</span>\n                </div>\n                <div class="col-md-5">\n                    <div class="block block-color success">\n                        <div class="header">\n                            <h3>Search by Specialty</h3>\n                        </div>\n                        <div class="content">\n                            <form class="simple-form form-horizontal">\n                                <div class="form-group">\n                                    <span class="col-md-10">\n                                        <select class="carehomeselectbox form-control" name="specialityType" ng-options="s.specCd as s.specName for s in specialities | orderBy : \'specName\'" type="select" ng-model="program.specCd">\n                                            <option value="">Select a Specialty</option>\n                                        </select>\n                                    </span>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row" ng-if="showSearchControls">\n            <div class="col-md-6">\n                <div ng-if="(showResults && allPrograms)">\n                    <p>To add programs to your Saved Programs list:</p>\n                    <ol>\n                        <li>\n                            <span>Mark the checkbox of the desired training type(s) for each program. At least one (1) training type must be selected for each program. Repeat for all desired programs.</span>\n                        </li>\n                        <li>\n                            <span>Click <i>Save All Selected</i> at the top of the page.</span>\n                        </li>\n                        <li>\n                            <span>Review the list of programs and training types you have selected and click <i>Confirm</i> to add to your Saved Programs list.</span>\n                        </li>\n                    </ol>\n                </div>\n            </div>\n            <div class="col-md-12">\n                <div class="programSearch" aamc-sticky-header ng-if="(showResults && allPrograms)">\n                    <aamc-sticky-message show-no-selected-program="showNoAssignSelections" applicant-eligibility="soapOpen && applicantSoapEligible" selected-program="programsInMySelection" executable-func="showAddedProgramsModal()" btn-label="{{\'Save All Selected\'}}" is-success="true" is-validate="false" applied-message="appliedMessage" hover-message="hoverMessage" soap-program-applied="vm.programsCount.soapPgmsAppliedCount" max-soap-pgms-allowed-to-apply="vm.programsCount.maxSoapPgmsAllowedToApply"></aamc-sticky-message>\n                </div>\n            </div>\n        </div>\n        <div class="alert alert-warning alert-white-alt rounded" role="alert" ng-show="showSOAPAlert()">\n            <div class="icon"><i class="fa fa-info-circle"></i>\n            </div>\n            <span aamc-compiler="soapIneligibleMsg"></span>\n        </div>\n        <div ng-if="showResults && allPrograms && isSoapApplicable &&  applicantSoapEligible">\n            <div class="alert alert-warning alert-white-alt rounded" role="alert">\n                <div class="icon"><i class="fa fa-info-circle"></i>\n                </div>\n                You are SOAP eligible and can only apply to MD programs participating in SOAP. The search results have been limited to SOAP programs as of the latest NRMP offer round. You may resume normal activity within MyERAS at {{closedDtSoap | amDateFormat:\'hh:mm A\'}} on {{closedDtSoap | amDateFormat:\'dddd, MMMM DD, YYYY\'}}\n                <div><strong>SOAP Programs as of:</strong> {{lastNrmpExchangeDate | amDateFormat:\'MM/DD/YYYY hh:mm A\'}} ET</div>\n            </div>\n        </div>\n        <div ng-if="(showResults && programList.length===0 && isSoapApplicable)">\n            <div class="alert alert-warning alert-white-alt rounded" role="alert" ng-if="accreditationSearchMode">\n                <div class="icon">\n                    <i class="fa fa-info-circle"></i>\n                </div>\n                <div>\n                    <p>You are not eligible for the program with the Accreditation ID:{{program.prgAccreditationId}}.\n                    </p>\n                </div>\n            </div>\n            <div class="alert alert-warning alert-white-alt rounded" role="alert" ng-if="nrmpSearchMode">\n                <div class="icon">\n                    <i class="fa fa-info-circle"></i>\n                </div>\n                <div ng-if="isSoapApplicable && nrmpSearchMode">\n                    <p>You are not eligible for the training matching the NRMP Program Code:{{program.prgAccreditationId}}.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row" ng-show="program.specMsg">\n        <div class="col-md-11">\n            <div class="alert alert-info alert-white-alt rounded" role="alert">\n                <div class="icon">\n                    <i class="fa fa-info-circle"></i>\n                </div>\n                <div ng-bind-html="program.specMsg"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" ng-if="(showResults && programList.length===0 && !isSoapApplicable)">\n        <div class="col-md-11">\n            <div class="alert alert-info alert-white-alt rounded" role="alert">\n                <div class="icon">\n                    <i class="fa fa-info-circle"></i>\n                </div>\n                <div>\n                    <p>No program matches your search criteria. Please try another search.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n    </div>\n    </div>\n    <!-- DISPLAY SEARCH RESULTS PANEL HERE -->\n    <div class="panel panel-default program-search" ng-show="showResults && allPrograms">\n        <div class="panel-body" ng-show="!isBusy">\n            <p class="h3">Specialty: {{programs.specialty.specName}}</p>\n            <p class="h3" >\n                Application Cycle: <span bs-tooltip data-title="You can start applying to {{programs.timeline.timelineStartDate | amDateFormat:\'MMMM\'}} cycle specialties / program(s) on {{programs.timeline.timelineStartDate | amDateFormat:\'MMMM Do [at] h:mm a\'}} ET">{{programs.timeline.timelineStartDate | amDateFormat:\'MMMM\'}}</span>\n            </p>\n            <div class="clearfix reapply-alert-top-spacing" ng-show="soapDto.soapOpen && soapDto.applicantSoapEligible && programList.length > 0">\n                <div class="col-md-12">\n                    <div class="alert alert-info alert-white-alt2 rounded" role="alert">\n                        <div class="icon"><small><span class="label label-warning label-dark" data-toggle="tooltip" data-placement="left" title="Previously Applied Program"><strong>R</strong></span></small></div>\n                        <div ng-bind-html="SOAP_REAPPLY_ICON"></div>\n                    </div>\n                </div>\n            </div>\n            <hr>\n            <div class="bs-docs-section">\n                <div class="row">\n                    <!-- Enter keywords to filter programs -->\n                    <div class="col-md-3">\n                        <div class="form-group">\n                            <div class="input-group input-group-sm">\n                                <input type="search" placeholder="Filter by Name, City or State" ng-model="vm.searchForText" class="form-control" />\n                                <span class="input-group-btn">\n                                    <button class="btn btn-primary" type="button">\n                                        <span class="glyphicon glyphicon-search"></span>\n                                </button>\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <!-- Checkbox -->\n                    <div class="col-md-3" ng-if="(!applicantSoapEligible || !soapOpen)">\n                        <div class="input-group input-group-sm">\n                            <input type="checkbox" ng-model="program.searchByEras" ng-change="filterByStatus(\'O\')" />Show only Programs accepting applications\n                        </div>\n                    </div>\n                    <!-- Filter by Training -->\n                    <div id="filter-training" class="col-md-3" ng-hide="(+program.prgAccreditationId > 0)">\n                        <div class="input-group input-group-sm">\n                            <label><strong>Filter By Training Type:</strong>\n                            </label>\n                            <select name="trainingType" ng-options="tt.descr for tt in filteredTrainingTypes track by tt.code" type="select" ng-model="vm.filterByTrainingType" ng-change="addTrainingFilter(vm.filterByTrainingType);" ng-disabled="allProgramsSize < 1">\n                                <option value="">View All</option>\n                            </select>\n                            <div ng-repeat="selected in addedTrainingFilters" class="div-filter">\n                                <div class="am-fade-and-scale label label-info">\n                                    {{selected.descr}}&nbsp;&nbsp;<span ng-click="removeTrainingTypeFilter(selected)" class="small glyphicon glyphicon-remove"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <!-- Records to display -->\n                    <div class="col-md-3 pull-right">\n                        <div class="btn-group pull-right">\n                            <label class="pull-left" style="margin-top: 5px;">Displaying:\n                            </label>\n                            <button type="button" class="btn btn-default">{{pagination.itemsPerPage}}</button>\n                            <button type="button" class="btn btn-warning dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\n                                <span class="caret"></span>\n                                <span class="sr-only">Toggle Dropdown\n                                </span>\n                            </button>\n                            <ul class="dropdown-menu" role="menu">\n                                <li ng-repeat="rec in recordsToDisplay">\n                                    <a href ng-click="setItemsPerPage(rec)">\n                                        <span>&nbsp;{{rec.txt}}</span>\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div class="panel-body table-responsive no-padding">\n                    <table class="table table-hover table-striped table-bordered">\n                        <colgroup>\n                            <col style="width: 36%;">\n                            <col style="width: 15%;">\n                            <col style="width: 14%;">\n                            <col style="width: 10%;">\n                            <col style="width: 20%;">\n                        </colgroup>\n                        <thead>\n                            <tr>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitName\')">\n                                    <strong>Program Name</strong>\n                                    <span ng-show="orderByCol==\'unit.unitName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                    <span ng-hide="orderByCol==\'unit.unitName\'" class="fa fa-sort"></span>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitCity\')">\n                                    <div>\n                                        <strong>City</strong>\n                                        <span ng-show="orderByCol==\'unit.unitCity\'" class="fa">\n                                            <span ng-show="!reverseSort">\n                                                <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span ng-show="reverseSort">\n                                                <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        <span ng-hide="orderByCol==\'unit.unitCity\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                                    <div>\n                                        <strong>State</strong>\n                                        <span ng-show="orderByCol==\'unit.unitStateCode\'" class="fa">\n                                            <span ng-show="!reverseSort">\n                                                <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span ng-show="reverseSort">\n                                                <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        <span ng-hide="orderByCol==\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow">\n                                    <div>\n                                        <strong>Accreditation ID</strong>\n                                    </div>\n                                </th>\n                                <th class="cell-overflow" ng-click="changeSortCol(\'unit.unitStatusCode\')">\n                                    <div>\n                                        <strong>Status</strong>\n                                        <span ng-show="orderByCol==\'unit.unitStatusCode\'" class="fa">\n                                            <span ng-show="!reverseSort">\n                                                <span class="fa fa-sort-asc"></span>\n                                        </span>\n                                        <span ng-show="reverseSort">\n                                                <span class="fa fa-sort-desc"></span>\n                                        </span>\n                                        </span>\n                                        <span ng-hide="orderByCol==\'unit.unitStatusCode\'" class="fa fa-sort"></span>\n                                    </div>\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody id="program-track-data" ng-repeat="programDet in programList = (allPrograms | filter:filteredPrograms | orderBy:orderByCol:reverseSort | startFrom:(pagination.currentPage-1)*pagination.itemsPerPage | limitTo:pagination.itemsPerPage)">\n                            <tr>\n                                <td>\n                                    <span ng-show="enableProgram(programDet)"> <a href ng-click="showProgramDetails(programDet);">{{programDet.unit.unitName}}</a>\n                                    </span>\n                                    <span ng-hide="enableProgram(programDet)">{{programDet.unit.unitName}}</span><a ng-if="programDet.eligibleForReapply && soapDto.soapOpen && soapDto.applicantSoapEligible" data-title="{{DWS_PGMS_TAB_ELIGIBLE_FOR_REAPPY}}" bs-tooltip><span class="icon"><small><span class="label label-warning label-dark" data-toggle="tooltip" data-placement="left"><strong>R</strong></span></small></span></a>\n                                    <a ng-show="(programDet.unit.cimSurvey.length>0 && programDet.unit.cimSurvey[0].myerasDisplayId===\'Y\')||programDet.unit.unitPgmInformation" data-title="Additional Program Information is available. Click the program name to view." bs-tooltip><i\n                                        class="fa fa-info-circle"></i> </a>\n                                </td>\n                                <td>\n                                    {{programDet.unit.unitCity}}\n                                </td>\n                                <td>\n                                    {{ programDet.unit.unitStateDesc }}\n                                </td>\n                                <td>\n                                    <span ng-show="showAccreditationId(programDet)">{{programDet.accreditationId}}</span>\n                                    <span ng-show="!showAccreditationId(programDet)">-</span>\n                                </td>\n                                <td>\n                                    <span data-title="{{programStatusDesc[programDet.unit.unitStatusCode]}}" bs-tooltip>{{programStatus[programDet.unit.unitStatusCode]}}</span>\n                                </td>\n                            </tr>\n                            <tr ng-show="programDet.unit.unitMilitaryCode &&  programDet.unit.unitMilitaryCode !== \'\' && programDet.unit.unitMsgNumber === \'1\'">\n                                <td colspan="5">\n                                    <strong class="text-danger">Note</strong>: {{programNoteMilitaryText}}\n                                </td>\n                            </tr>\n                            <tr ng-show="showTrack(programDet) && !programDet.eligibleForReapply">\n                                <td colspan="7">\n                                    <aamc-tracks-details class="col-md-offset-1">\n                                        <div ng-show="enableProgram(programDet)" ng-repeat="track in programDet.unit.tracks">\n                                            <div class="row" ng-show="showTrack(programDet)">\n                                                <div ng-class="applicantType ? \'col-sm-3\' : \'col-sm-4\'">\n                                                    <input type="checkbox" ng-model="track.selected" ng-disabled="enableTrack(programDet, track)" ng-change="updateProgramSelections(programDet, track, true)" ng-if="!track.preselected"><span class="text-info"><i class="fa fa-check" ng-if="track.selected&&track.preselected" data-title="You have already selected this program track." bs-tooltip></i></span> {{track.trackName}}</div>\n                                                <div class="col-sm-2" ng-if="applicantType">{{track.nrmpPgmCd}}</div>\n                                                <div ng-class="applicantType ? \'col-sm-2\' : \'col-sm-3\'">{{track.trackType.trackTypeDescription}}</div>\n                                                <div class="col-sm-5">\n                                                    <aamc-applied-reapplied-date track="track" programs="programDet"></aamc-applied-reapplied-date>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </aamc-tracks-details>\n                                    <div class="col-md-5" ng-show="notParticipating(programDet)">\n                                        <div>\n                                            <span>\n                                                This program is not participating in ERAS directly. <br/>\n                                                It is hosted by another program. Please refer to the Program with accreditation ID: {{programDet.unit.unitHostId}}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr class="table-space" ng-show="!programDet.eligibleForReapply">\n                                <td colspan="5" class="table-space">\n                                    <div class="form-inline">\n                                        <div class="form-group" ng-show="preliminaryConditionsforPreselected(programDet)?false:preliminaryConditions(programDet)">\n                                            <label for="pgy2">If you are applying to the Preliminary training: You may indicate your PGY-2 Specialty interest(s) here:</label>\n                                            <input name="pgy2" id="pgy2" class="form-control" type="text" ng-model="programDet.pgy2" maxlength="50" ng-maxlength="50">\n                                        </div>\n                                        <div class="form-group" ng-show="preliminaryConditionsforPreselected(programDet)">\n                                            <label for="pgy2"> PGY-2 Specialty interest(s):{{programDet.pgy2}}</label>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n                <div class="form-group pull-right" ng-hide="allProgramsSize <= pagination.itemsPerPage">\n                    <ul class="pagination">\n                        <li ng-class="{disabled: pagination.currentPage == 1}"><a href ng-click="prevPage()">&laquo; Prev</a>\n                        </li>\n                        <li ng-repeat="n in range" ng-class="{active: n == pagination.currentPage}" ng-click="pagination.currentPage = n;">\n                            <a href ng-bind="n"></a>\n                        </li>\n                        <li ng-class="{disabled: pagination.currentPage >= allProgramsSize/pagination.itemsPerPage}">\n                            <a href="" ng-click="nextPage()">Next &raquo;</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- END SEARCH RESULTS PANEL HERE -->\n</aamc-programs-tabs>\n')}]),angular.module("states/programshome/assign-documents-modal.html",[]).run(["$templateCache",function(a){a.put("states/programshome/assign-documents-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideAssignDocumentsModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel"><span ng-if="!(currentPage===2)">Assign Documents For </span>{{programDet.unit.unitName}} ({{programDet.unit.specialty.specName}})</h4>\n            </div>\n            <div class="modal-body">\n                <div class="panel panel-default" ng-if="currentPage===1">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Letters of Recommendation - <span ng-show="lorsConfirmedOrUploaded(myLors)">Select up to 4 (four)</span></h3>\n                        <a class="pull-right" href ng-click="showLorAccordion=!showLorAccordion"><i class="fa fa-plus" ng-if="!showLorAccordion"></i><i class="fa fa-minus" ng-if="showLorAccordion"></i></a>\n                    </div>\n                    <div class="panel-body" ng-if="showLorAccordion">\n                        <div class="alert alert-success alert-white-alt rounded" ng-show="errorMsg">\n                            <button class="close" aria-hidden="true" type="button" ng-click="errorMsg = null;">\n                                <span>&times;</span>\n                                <span class="sr-only">Close</span>\n                            </button>\n                            <div class="icon">\n                                <i class="fa fa-info-circle"></i>\n                            </div>\n                            <!--<strong>Info!</strong>-->\n                            {{errorMsg}}\n                        </div>\n                        <div ng-hide="lorsConfirmedOrUploaded(myLors)">\n                            You currently have no LoRs to assign. To create an LoR, go to <a ui-sref="main.letterRecommendation" ng-click="hideAssignDocumentsModal();">Letters of Recommendation.</a>\n                        </div>\n                        <div ng-show="lorsConfirmedOrUploaded(myLors)">\n                            <p>\n                                <span class="text-danger">\n                                    <strong>Note:</strong>\n                                </span>LoR Authors must be confirmed on the Documents|Letters of Recommendation page AND the LoR must be uploaded to the ERAS PostOffice by the LoR Author via the ERAS LoR Portal (LoRP) in order to assign it to a program. The LoR checkbox will remain disabled until both of these requirements are met. To confirm an LoR Author, return to the Documents|Letters of Recommendation tab. The table on that page will display the status of the letter. For questions regarding the status of your documents, please contact the letter author.\n                            </p>\n                        </div>\n                        <div class="table-responsive">\n                            <table class="table table-bordered table-striped">\n                                <thead>\n                                    <tr>\n                                        <th class="text-center col-md-1"></th>\n                                        <th><strong>LoR Name</strong></th>\n                                        <th><strong>Specialty</strong></th>\n                                        <th><strong>Letter ID</strong></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr class="" ng-repeat="lor in confirmedLors = (myLors | filter:filteredLors )">\n                                        <td class="text-wrap cell-overflow">\n                                            <input type="checkbox" ng-disabled="lor.lorUploaded===false" ng-model="lor.selected" ng-change="assignedDocListObj.updateLorList(lor);">\n                                        </td>\n                                        <td class="text-wrap cell-overflow">\n                                            {{lor.lorWriterName}} - {{lor.lorWriterDept}}\n                                            <span ng-if="lor.lorDeptChairInd===\'Y\'">\n                                            <small><span data-placement="top" data-title="You indicated that this LoR Author is a Department Chair where you completed your clerkship training." class="label label-warning pointer" style="color: #555;" bs-tooltip>DC</span>\n                                            </small>\n                                            </span>\n                                            <span ng-if="lor.lorPgmDirectorInd===\'Y\'">\n                                            <small><span data-placement="top" data-title="You indicated that this LoR Author is a Program Director in a current/previous residency or fellowship where you trained." class="label label-info pointer"  bs-tooltip>PD</span>\n                                            </small>\n                                            </span>\n                                            <span ng-if="lor.lorWaiver===\'Y\'">\n                                            <a data-placement="top" class="pointer" data-title="You waived your right to view this LoR."  bs-tooltip><i class="fa fa-eye-slash "></i></a>\n                                            </span>\n                                            <span ng-if="lor.lorWaiver===\'N\'">\n                                            <a data-placement="top" class="pointer" data-title="You did not waive your right to view this LoR."  bs-tooltip><i class="fa fa-eye"></i></a>\n                                            </span>\n                                        </td>\n                                        <td>\n                                            <span ng-if="lor.lorInstructions"> {{lor.lorInstructions}}</span>\n                                        </td>\n                                        <td class="cell-overflow">\n                                            <div>{{lor.lorLetterId}}</div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class="panel panel-default" ng-if="currentPage===1 ">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Personal Statements - Select 1 (one)</h3>\n                        <a class="pull-right" href ng-click="showPersonalStatAccordion=!showPersonalStatAccordion"><i class="fa fa-plus" ng-if="!showPersonalStatAccordion"></i><i class="fa fa-minus" ng-if="showPersonalStatAccordion"></i></a>\n                    </div>\n                    <div class="panel-body" ng-if="showPersonalStatAccordion">\n                        <div ng-if="myPersonalStatments.length===0">\n                            You currently have no Personal Statements to assign. To create a Personal Statement, go to <a ui-sref="main.personalStatements" ng-click="hideAssignDocumentsModal();">Personal Statements.</a>\n                        </div>\n                        <div ng-if="myPersonalStatments.length>0">\n                            <div class="form-group" ng-repeat="statement in myPersonalStatments">\n                                <input type="checkbox" name="statementAssignInd" ng-model="statement.selected" ng-change="assignedDocListObj.updatePersonalStatementAssignment(statement); selectStatement(statement)">\n                                <span>{{statement.psTitle}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="panel panel-default" ng-if="currentPage===1">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">Additional Documents - Select all that apply</h3>\n                        <a class="pull-right" href ng-click="showAdditionalDocAccordion=!showAdditionalDocAccordion"><i class="fa fa-plus" ng-if="!showAdditionalDocAccordion"></i><i class="fa fa-minus" ng-if="showAdditionalDocAccordion"></i></a>\n                    </div>\n                    <div class="panel-body" ng-if="showAdditionalDocAccordion">\n                        <div ng-if="(currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'R\')">\n                            <div class="form-group">\n                                <div ng-if="usmleAuth.usmleTransmissionInd===\'N\'|| !usmleAuth" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="usmleAuth" ng-disabled="usmleAuth.usmleTransmissionInd===\'N\'|| !usmleAuth"> You have not Authorized Release of USMLE yet. Please\n                                        <a href ng-click="goToOtherDocuments();">Authorize Release of USMLE</a>\n                                    </label>\n                                </div>\n                                <div ng-if="usmleAuth.usmleTransmissionInd===\'Y\'">\n                                    <input type="checkbox" name="usmleAssignInd" ng-model="usmle.selected" ng-change="assignedDocListObj.updateUsmle(usmle.selected)" ng-disabled="disableUSMLECheckbox">\n                                    <span>USMLE Transcript</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="(currentPage===1)&&(applicationData.residencyType===\'DO\'||applicationData.fellowshipType===\'DO\')">\n                            <div class="form-group">\n                                <div ng-if="comlexAuth.comlexTransmissionInd===\'N\'|| !comlexAuth" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="comlexAuth" ng-disabled="comlexAuth.comlexTransmissionInd===\'N\'|| !comlexAuth"> You have not Authorized Release of COMLEX-USA Trascript yet. Please\n                                        <a href ng-click="goToOtherDocuments();">Authorize Release of COMLEX-USA</a>\n                                    </label>\n                                </div>\n                                <div ng-if="comlexAuth.comlexTransmissionInd===\'Y\'">\n                                    <input type="checkbox" name="comlexAssignInd" ng-model="comlex.selected" ng-change="assignedDocListObj.updateComlex(comlex.selected)" ng-disabled="disableCOMLEXCheckbox">\n                                    <span>COMLEX-USA</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1 && programDet.unit.unitStateCode===\'CA\')&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'R\'))&&(applicationData.residencyType===\'IMG\'||applicationData.fellowshipType===\'IMG\') ">\n                            <div class="form-group">\n                                <div ng-if="!ptalData" class="checkbox">\n                                    <label>\n                                        <input type="checkbox" name="ptalQues" ng-disabled="!ptalData"> You have not answered question on Uploading a Postgraduate Training Authorization Letter (PTAL). Please answer the <a href ng-click="goToOtherDocuments();">Question to Assign a PTAL</a>\n                                    </label>\n                                </div>\n                                <div ng-if="ptalData">\n                                    <input type="checkbox" name="ptalAssignInd" ng-model="ptal.selected" ng-change="assignedDocListObj.updatePtal(ptal.selected)">\n                                    <span>Postgraduate Training Authorization Letter (California Letter)</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'O\'))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="mspeAssignInd" ng-model="mspe.selected" ng-change="assignedDocListObj.updateMspe(mspe.selected)">\n                                    <span>Medical Student Performance Evaluation (Dean\'s Letter)</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(programDet.unit.specialty.specTypeCode===\'F\'||programDet.unit.specialty.specTypeCode===\'O\'))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="msTranscriptAssignInd" ng-model="msTranscript.selected" ng-change="assignedDocListObj.updateMsTranscript(msTranscript.selected)">\n                                    <span>Medical School Transcript</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="((currentPage===1)&&(showAbsite(programDet)))&&(applicationData.fellowshipType===\'DO\'||applicationData.fellowshipType===\'IMG\'||applicationData.fellowshipType===\'MD\') ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="absiteAssignInd" ng-model="absite.selected" ng-change="assignedDocListObj.updateAbsite(absite.selected)">\n                                    <span>ABSITE</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="(currentPage===1) ">\n                            <div class="form-group">\n                                <div>\n                                    <input type="checkbox" name="photoAssignInd" ng-model="photo.selected" ng-disabled="programDet.invoiceSeqNumber&&photo.selected" ng-change="assignedDocListObj.updatePhoto(photo.selected)">\n                                    <span>Photo</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <br>\n                </div>\n                <div class="text-danger pull-right" ng-if="(currentPage===1)&&showNoAssignSelections">There are no assignment selections/changes to save.</div>\n                <div class="text-danger pull-right" ng-if="showIneligibleSelectionMessage">{{ ineligibleSelectionMessage }}</div>\n                <div ng-if="currentPage===2 && changedLors">\n                    <p>Are you sure you want to assign the selected LoR(s) to this program? LoR selections will be locked upon applying to a program or when assigning a LoR to a program you previously applied to. Once a LoR selection is locked you will not be able to change it. You may only change your selection prior to applying to a program. Keep in mind that you may only assign up to 4 LoRs to any given program. Click <i>Confirm</i> to proceed with your selections or click <i>Cancel</i> to go back</p>\n                </div>\n                <div ng-if="currentPage===3">\n                    <div ng-show="usmleAuth && !usmleAuth.invoiceSeqNbr && isSelUsmle"> {{payUsmleFeeText}} </div>\n                    <div ng-show="comlexAuth && !comlexAuth.invoiceSeqNbr && isSelComlex"> {{payComlexFeeText}} </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideAssignDocumentsModal();" ng-if="currentPage===1">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="confirmationPage(myLors, myPersonalStatments);" ng-if="currentPage===1" ng-disabled="$scope.assignedDocListObj.docList.lor.length >4">Save</button>\n                <button class="btn btn-default btn-small" ng-click="backToAssignPage();" ng-if="currentPage===2">Cancel</button>\n                <button class="btn btn-primary btn-small" ng-click="assignedDocListObj.saveDocList()" ng-if="currentPage===2">Confirm</button>\n                <button class="btn btn-default btn-small" ng-click="cancelPayNowUsmleOrComlex();" ng-if="currentPage===3">Cancel</button>\n                <a ng-if="currentPage===3" type="button" class="btn btn-primary btn-small" ui-sref="main.payment" href="#/payment" ng-click="payNowUsmleOrComlex()">Pay Now</a>\n            </div>\n        </div>\n    </div>\n</div>\n');
}]),angular.module("states/programshome/confirm-program-delete-modal.html",[]).run(["$templateCache",function(a){a.put("states/programshome/confirm-program-delete-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideDeleteProgramModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Delete Program</h4>\n            </div>\n\n            <div class="modal-body">\n                <p>Are you sure you want to delete <strong>{{programDet.unit.unitName}} / ({{programDet.unit.specialty.specName}})</strong>\n                    from your Saved Programs list?</p>\n            </div>\n\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideDeleteProgramModal();">Cancel</button>\n                <button class="btn btn-danger btn-small" ng-click="deleteProgram(programDet)">Delete</button>\n            </div>\n\n        </div>\n    </div>\n</div>')}]),angular.module("states/programshome/fully-matched-modal.html",[]).run(["$templateCache",function(a){a.put("states/programshome/fully-matched-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n              <div aamc-compiler="programDet.message"></div>\n            </div>\n            <div class="modal-footer" ng-if="soapDto.applicantFullyMatched">\n                <button class="btn btn-default btn-small" ng-click="goToDashboard();">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programshome/program-details-modal.html",[]).run(["$templateCache",function(a){a.put("states/programshome/program-details-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="hideProgramDetailsModal();">&times;</button>\n                <h4 class="modal-title" id="myModalLabel">Training Selection</h4>\n            </div>\n\n            <aamc-program-details-modal></aamc-program-details-modal>\n\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/programshome/programshome.html",[]).run(["$templateCache",function(a){a.put("states/programshome/programshome.html",'<aamc-programs-tabs>\n    <div class="panel panel-default">\n        <div class="panel-body" ng-if="!isBusy">\n            <div class="col-md-11">\n                <h1 class="panel-heading" style="padding-left: 0px;">Saved Programs</h1>\n            </div>\n            <div class="col-md-1">\n                <aamc-help-modal contentKey="PROGRAMSAVED_HELPCONTENT"></aamc-help-modal>\n            </div>\n            <div class="row" ng-if="!soapDto.soapOpen || applicationData.applicationType === \'F\' || soapDto.applicantSoapIneligible ">\n                <div class="col-md-12">\n                    <div class="pull-left">\n                        <ul>\n                            <li>\n                                <div>Click a program name to view their program information and to manage your training\n                                    selections for that program.\n                                </div>\n                            </li>\n                            <li>\n                                <div>Select <i>Assign Documents</i> in the Action column for a program to assign\n                                    documents to that program.\n                                </div>\n                            </li>\n                            <li>\n                                <div>Select <i>Delete</i> in the Action column for a program that you want to remove\n                                    from your Saved Programs list.\n                                </div>\n                            </li>\n                            <li>\n                                <div>To apply to program(s) or just preview an invoice, mark the checkbox(es) for each\n                                    program you would like to select and then click <i>Apply/Preview Invoice.</i>\n                                </div>\n                            </li>\n                        </ul>\n                        <br/>\n                        <button class="btn btn-prusia btn-shadow" type="submit" ng-click="addPrograms()">\n                            <i class="fa fa-plus" aria-hidden="true"></i> Add Programs\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class="row" ng-if="soapDto.applicantSoapEligible && soapDto.soapOpen">\n                <div class="col-md-12">\n                    <div class="panel-body pull-left">\n                        <h4>SOAP\n                            Programs</h4>\n                        <ul>\n                            <li>\n                                <div>Click a program name to view their program information and to manage your training\n                                    selections for that program.\n                                </div>\n                            </li>\n                            <li>\n                                <div>Select <i>Assign Documents</i> in the Action column for a program to assign\n                                    documents to that program.\n                                </div>\n                            </li>\n                            <li>\n                                <div>Select <i>Delete</i> in the Action column for a program that you want to remove\n                                    from your Saved Programs list.\n                                </div>\n                            </li>\n                            <li>\n                                <div>To apply to program(s) or just preview an invoice, mark the checkbox(es) for each\n                                    program you would like to select and then click <i>Apply/Preview Invoice.</i>\n                                </div>\n                            </li>\n                        </ul>\n                        <h4>Non\n                            SOAP Programs</h4>\n                        <ul>\n                            <li>\n                                <div>Select <i>Delete</i> in the Action column for a program that you want to remove from your Saved Programs list.\n                                </div>\n                            </li>\n\n\n\n                        </ul>\n                        <br/>\n                        <button class="btn btn-prusia btn-shadow" type="submit" ng-click="addPrograms()">\n                            <i class="fa fa-plus" aria-hidden="true"></i> Add Programs\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group" style="margin-top:10px;">\n                        <div class="input-group input-group-sm">\n                            <input type="search" ng-disabled="!myPrograms || myPrograms.length===0"\n                                   placeholder="Search by Program Name, Specialty, City, State or ID"\n                                   ng-model="vm.searchForText" class="form-control"/>\n                            <span class="input-group-btn">\n                                <button ng-disabled="!myPrograms || myPrograms.length===0" class="btn btn-primary"\n                                        type="button">\n                                    <span class="glyphicon glyphicon-search"></span>\n                                </button>\n                            </span>\n                        </div>\n                        <span class="text-danger"\n                              ng-show="vm.searchForText.length !== 0 && vm.selectedPrograms.length === 0">No programs match your search</span>\n                        <br>\n                        <span class="text-danger ng-hide" ng-show="showProgramInEligibleText">One or more of your saved programs is no longer being offered.</span>\n                        <br>\n                        <span class="text-danger ng-hide" ng-show="showInEligibleText && !vm.showSoap">One or more of your saved programs includes a training which is no longer being offered.</span>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <aamc-program-table-optional-message class="text-danger"\n                                                         condition-check="soapDto.soapOpen && soapDto.soapDataUpdatesInProgress && soapDto.applicantSoapEligible"\n                                                         program-message="SOAP_DATA_UPDATES_IN_PROGRESS_MSG"></aamc-program-table-optional-message>\n                </div>\n                <div class="col-md-12" ng-if="paymentEnabled.varValue == \'Y\'">\n                    <div class="form-group programSearch" aamc-sticky-header>\n                        <aamc-sticky-message show-no-selected-program="noSelectedPrograms"\n                                             applicant-eligibility="vm.applicantSoapEligible && vm.showSoap"\n                                             selected-program="selectedProgramsSize"\n                                             executable-func="setMySelectedPrograms(myPrograms)"\n                                             btn-label="{{\'Apply / Preview Invoice\'}}" is-success="true"\n                                             is-validate="true" applied-message="appliedMessage"\n                                             hover-message="hoverMessage"\n                                             soap-program-applied="vm.programsCount.soapPgmsAppliedCount"\n                                             max-soap-pgms-allowed-to-apply="vm.programsCount.maxSoapPgmsAllowedToApply"></aamc-sticky-message>\n                    </div>\n                </div>\n            </div>\n            <aamc-program-table-optional-message class="text-danger"\n                                                 condition-check="myPrograms.length > 0 && vm.applicantSoapIneligible && vm.soapOpen"\n                                                 program-message="programWithoutCheckboxMsg"></aamc-program-table-optional-message>\n            <aamc-soap-programs ng-if="vm.showSoap"></aamc-soap-programs>\n            <div class="table-responsive table-striped" ng-if="!vm.showSoap">\n                <table class="table table-bordered layout-fixed">\n                    <thead>\n                    <tr>\n                        <th class="text-center col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <div>\n                                <input type="checkbox" ng-change="checkData(myPrograms)" name="applyAll"\n                                       class="selectall" ng-model="vm.applyAll"\n                                       ng-show="myPrograms.length > 0 && vm.selectedPrograms.length !== 0"/>\n                            </div>\n                        </th>\n                        <th class="col-md-3 col-lg-3 col-sm-3 col-xs-6" ng-click="changeSortCol(\'unit.unitName\')">\n                            <div class="pointer">\n                                Program Name\n                                    <span ng-show="orderByCol===\'unit.unitName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                <span ng-hide="orderByCol===\'unit.unitName\'" class="fa fa-sort"></span>\n                            </div>\n                        </th>\n                        <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4"\n                            ng-click="changeSortCol(\'unit.specialty.specName\')">\n                            <div class="pointer">\n                                Specialty\n                                    <span ng-show="orderByCol===\'unit.specialty.specName\'" class="fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                <span ng-hide="orderByCol===\'unit.specialty.specName\'" class="fa fa-sort"></span>\n                            </div>\n                        </th>\n                        <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2" ng-click="changeSortCol(\'unit.unitCity\')">\n                            <div class="pointer">\n                                City\n                                    <span ng-show="orderByCol===\'unit.unitCity\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                <span ng-hide="orderByCol===\'unit.unitCity\'" class="fa fa-sort"></span>\n                            </div>\n                        </th>\n                        <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4" ng-click="changeSortCol(\'unit.unitStateCode\')">\n                            <div class="pointer">\n                                State\n                                    <span ng-show="orderByCol===\'unit.unitStateCode\'" class="fa fa">\n                                        <span ng-show="!reverseSort">\n                                            <span class="fa fa-sort-asc"></span>\n                                    </span>\n                                    <span ng-show="reverseSort">\n                                            <span class="fa fa-sort-desc"></span>\n                                    </span>\n                                    </span>\n                                <span ng-hide="orderByCol===\'unit.unitStateCode\'" class="fa fa-sort"></span>\n                            </div>\n                        </th>\n                        <th class="col-md-1 col-lg-1 col-sm-1 col-xs-2">\n                            <div>Accreditation ID</div>\n                        </th>\n                        <th class="col-md-2 col-lg-2 col-sm-2 col-xs-4">\n                            <div>Action</div>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody ng-repeat="programDet in vm.selectedPrograms = (myPrograms | orderBy:[\'unit.unitStatusCode\',\'-inEligible\',\'-warning\',orderByCol]:reverseSort | filter:filteredColumns)"\n                           ng-show="myPrograms.length>0 && vm.selectedPrograms.length!==0">\n                    <tr bgcolor="#dddddd"\n                        ng-class="{danger: programDet.inEligible||programDet.unit.unitStatusCode!=\'O\'}">\n                        <td class="text-center">\n                            <div>\n                                <input type="checkbox" ng-change="isSelectedProgram(vm.selectedPrograms)"\n                                       ng-model="programDet.applyInd"\n                                       ng-if="(!programDet.inEligible && !programDet.warning)&&programDet.unit.unitStatusCode===\'O\'"\n                                       ng-disabled="shouldDisableSelection(programDet)">\n                            </div>\n                        </td>\n                        <td class="text-wrap cell-overflow">\n                            <div>\n                                    <span ng-if="programDet.inEligible||programDet.unit.unitStatusCode!==\'O\'"><i\n                                            class="fa fa-exclamation"></i>\n                                    </span><a ng-click="showProgramDetailsModal(programDet)" href>{{programDet.unit.unitName}}</a>\n                            </div>\n                        </td>\n                        <td class="text-wrap cell-overflow">\n                            <div>{{programDet.unit.specialty.specName}}</div>\n                        </td>\n                        <td class="cell-overflow">\n                            <div>{{programDet.unit.unitCity}}</div>\n                        </td>\n                        <td class="cell-overflow">\n                            <div>{{ programDet.unit.unitStateDesc }}</div>\n                        </td>\n                        <td class="cell-overflow">\n                            <div>{{programDet.accreditationId}}</div>\n                        </td>\n                        <td class="">\n                            <div class="btn-group btn-block">\n                                <button type="button" class="btn btn-default btn-sm">Select</button>\n                                <button type="button" class="btn btn-warning btn-sm dropdown-toggle"\n                                        data-toggle="dropdown" aria-expanded="false">\n                                    <span class="caret"></span>\n                                    <span class="sr-only">Toggle Dropdown</span>\n                                </button>\n                                <ul class="dropdown-menu btn-block" role="menu">\n                                    <li ng-if="programDet.unit.unitStatusCode === \'O\'">\n                                        <a href="" ng-click="showAssignDocumentsModal(programDet)"><i\n                                                class="fa fa-share"></i> Assign Documents</a>\n                                    </li>\n                                    <li class="divider" ng-if="programDet.unit.unitStatusCode === \'O\'"></li>\n                                    <li>\n                                        <a href="" ng-click="showDeleteProgramModal(programDet)"><i\n                                                class="fa fa-trash"></i> Delete</a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr bgcolor="#dddddd" ng-class="{danger:false}" ng-if="shouldShowMsg(programDet)">\n                        <td colspan="7">\n                            <div class="text-wrap cell-overflow text-danger">{{decCycleMsg}}</div>\n                        </td>\n                    </tr>\n                    <tr ng-if="programDet.unit.unitStatusCode !==\'O\'"\n                        ng-class="{danger:programDet.unit.unitStatusCode!==\'O\'}">\n                        <td class="cell-overflow" colspan="7">\n                            <span class="text-danger">This program is no longer participating in ERAS. </span><span>\n                                        <a href ng-click="showDeleteProgramModal(programDet)">Click here to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                        </td>\n                    </tr>\n                    <tr bgcolor="#ffffff"\n                        ng-class="{danger: programDet.inEligible||programDet.unit.unitStatusCode!=\'O\'}">\n                        <td colspan="7">\n                          <aamc-tracks-details class="col-md-offset-1">\n                            <div ng-repeat="selectedTrack in programDet.selectedProgramTracks">\n                            <aamc-tracks-detail-rows selected-track="selectedTrack" program="programDet" application-data="applicationData"></aamc-tracks-detail-rows>\n                                    <span class="text-danger" ng-if="selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        The "{{selectedTrack.track.trackName}}" training is no longer being offered by "{{programDet.unit.unitName}}". (inactive as of {{selectedTrack.inactiveDt|amDateFormat:\'MM/DD/YYYY\'}}).\n                                    </span>\n                                    <span ng-if="programDet.showDelete">\n                                        <a href ng-click="showDeleteProgramModal(programDet)">Click here to remove this\n                                            program from your Saved Programs.</a>\n                                    </span>\n                                    <span ng-if="programDet.warning && selectedTrack.track.trackMyerasDisplayInd===\'N\'">\n                                        <a href ng-click="showProgramDetailsModal(programDet)">Click here to view other\n                                            training(s) offered by this program.</a>\n                                    </span>\n                                <hr>\n\n                            </div>\n\n                            </aamc-tracks-details>\n\n                            <div class="col-md-offset-1" ng-show="preliminaryConditions(programDet)">\n                                PGY-2 Specialty interest(s): {{programDet.pgy2}}\n                            </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tbody ng-show="myPrograms.length===0">\n                    <tr>\n                        <td colspan="7">\n                            <aamc-program-table-optional-message condition-check="myPrograms.length===0"\n                                                                 program-message="\'<strong>You have not saved any programs. Click <em>Add Programs</em> to search and add programs to your <em>Saved Programs</em> list.</strong>\'"></aamc-program-table-optional-message>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="row" ng-show="myPrograms.length > 0">\n                <div class="col-md-4" ng-if="paymentEnabled.varValue != \'Y\'">\n                    <div class="form-group text-danger">\n                        {{paymentDisabled}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-programs-tabs>\n')}]),angular.module("states/programshome/validate-program-modal.html",[]).run(["$templateCache",function(a){a.put("states/programshome/validate-program-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body">\n                <!-- <p ng-if="allPrgFill" ng-bind-html="SOAP_ALL_NO_LONGER_ELIGIBLE"><strong></strong></p> -->\n                <p><strong ng-bind-html="programDet.message"></strong></p>\n                <div ng-repeat="program  in programDet.notAllowedPrograms">\n                    {{program.unit.unitName}} - {{program.unit.specialty.specName}}\n                </div>\n                </br>\n                <div ng-repeat="program  in programDet.notAllowedTracks">\n                    <div ng-if="!programDet.notAllowedPrograms || !programDet.notAllowedPrograms.length">{{program.unitName}} - {{program.specName}}</div>\n                    <div>{{program.trackName}} -{{program.nrmpPgmCd}}({{program.trackType.trackTypeDescription}})</div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-default btn-small" ng-click="hideValidateProgramModal();">Cancel</button>\n                <button ng-show="programDet.allowToProceed" class="btn btn-default btn-small" ng-click="proceedToPayment();">Proceed</button>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/publications/publications-modal.html",[]).run(["$templateCache",function(a){a.put("states/publications/publications-modal.html",'<div class="modal" role="dialog" id="someId" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button role="button" aria-label="Close" id="PublicationModalCloseBtn" type="button" class="close" ng-click="hidePubModal();">&times;</button>\n                <h1 class="modal-title" id="myModalLabel">Publications</h1>\n            </div>\n            <div class="modal-body">\n                <span class="pull-left"><span class="text-danger">*</span> Indicates required fields</span>\n                <hr>\n                <div>\n                    <form class="simple-form form-horizontal" name="forms.publicationForm" novalidate>\n                        <div class="form-group">\n                            <label class="col-md-4 control-label"><strong>Publication Type: <span class="text-danger">*</span></strong></label>\n                            <div class="col-md-6">\n                                <div id="publication-type" style="display: none">\n                                    Publication Type\n                                </div>\n                                <select aria-labelledby="publication-type" class="carehomeselectbox form-control" id="publicationType" name="publicationType" ng-options="pt.pubTypeCd as pt.pubTypeDesc for pt in publicationTypes" data-ng-model="publications.pubTypeCd" ng-change="publicationTypeValuesChange(publications.pubTypeCd)" ng-required="true" required>\n                                    <option value="">--Select--</option>\n                                </select>\n                            </div>\n                        </div>\n\n                        <div ng-show="publications.pubTypeCd==1">\n                            <aamc-peer-reviewed-journal></aamc-peer-reviewed-journal>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==2">\n                            <aamc-peer-reviewed-other></aamc-peer-reviewed-other>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==3">\n                            <aamc-peer-reviewed-book></aamc-peer-reviewed-book>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==4">\n                            <aamc-scientific-monograph></aamc-scientific-monograph>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==5">\n                            <aamc-other-articles></aamc-other-articles>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==6">\n                            <aamc-poster-presentation></aamc-poster-presentation>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==7">\n                            <aamc-oral-presentation></aamc-oral-presentation>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==8">\n                            <aamc-peer-reviewed-online></aamc-peer-reviewed-online>\n                        </div>\n                        <div ng-show="publications.pubTypeCd==9">\n                            <aamc-non-peer-reviewed-online></aamc-non-peer-reviewed-online>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <div class="col-md-6  pull-right">\n                    <button role="button" class="btn btn-default" ng-click="hidePubModal()" ng-hide="publications.pubTypeCd==null">\n                        Cancel\n                    </button>\n                    <button role="button" class="btn btn-primary" type="submit" ng-click="savePublication()" ng-hide="publications.pubTypeCd==null||editPublicationData.id.pubSeqNbr!=null">\n                        Save\n                    </button>\n                    <button role="button" class="btn btn-primary" type="submit" ng-click="updatePublication()" ng-hide="publications.pubTypeCd==null||editPublicationData.id.pubSeqNbr==null">\n                        Update\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/publications/publications.html",[]).run(["$templateCache",function(a){a.put("states/publications/publications.html",'<aamc-application-tabs ng-show="applicationObject" aamc-validate-form-and-focus add-error-elems="true">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <aamc-help-modal contentKey="PUBLICATION_HELPCONTENT"></aamc-help-modal>\n            <p style="text-align:left">\n                <span class="text-danger">* </span>Indicates required field.\n            </p>\n            <!-- Tab panels -->\n            <div class="tab-pane in active" id="Publications">\n                <div class="panel panel-default" ng-class="sectionError">\n                    <div class="panel-heading">\n                        <h2 class="panel-title">Publications <span class="text-danger">*</span></h2>\n                    </div>\n                    <div class="panel-body">\n                        <p>This page allows multiple entries for each of your publications. To add a publication, click the Add Entry button and fill in the required information. When you\'re done, click the Save button.\n                            <span ng-if="!showNoneText">If you have no publications, please click the none button.</span>\n                        </p>\n                        <hr>\n                        <div class="pull-left">\n                            <button class="btn btn-prusia" id="AddPublicationEntry" ng-click="showPubModal()" aria-label="Add Entry" role="button" ng-init="$element.focus()">\n                                <i class="fa fa-plus"></i> Add Entry\n                            </button>\n                            <button class="btn btn-default" ng-show="enableNoneButton" ng-click="nonePublicationDetails()">None</button>\n                        </div>\n                        <div class="col-md-12 col-sm-12 col-xs-12">\n                            <span class="text-danger" ng-show="validationPublicationMsg">{{validationPublicationMsg}}</span>\n                        </div>\n                        <div class="clearfix"></div>\n                        <div class="table-responsive" ng-hide="showNoneText">\n                            <table class="table table-bordered table-striped table-hover" ng-show="pub.AllPublications && pub.AllPublications.length !== 0">\n                                <thead>\n                                    <tr>\n                                        <th class="col-md-8">Publication Type</th>\n                                        <th class="col-md-2">Title</th>\n                                        <th class="col-md-2">Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody class="no-border-y">\n                                    <tr ng-repeat="publication in pub.AllPublications|orderBy:\'-pubDt\'" ng-hide="showNoneText">\n                                        <td>\n                                            <span>\n                                                {{publication.publicationType.pubTypeDesc}}\n                                            </span>\n                                        </td>\n                                        <td>\n                                            <span>\n                                                {{publication.pubTitle}}\n                                            </span>\n                                        </td>\n                                        <td>\n                                            <button role="button" aria-label="Edit Publication" class="btn btn-default fa fa-edit" tooltip="Edit" name="edit" ng-click="editPublication(publication)" type="submit"></button>\n                                            <button role="button" aria-label="Delete Publication" class="btn btn-danger fa fa-trash" tooltip="Delete" type="submit" data-target="#DeletepublicationModal" data-toggle="modal" ng-click="deletePublicationData(publication)"></button>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <div class="panel-heading" ng-show="showNoneText">\n                            <div class="panel-group" id="accordion">\n                                <div class="panel panel-default">\n                                    <div class="panel-heading">\n                                        <h4 class="panel-title">\n                                            None\n                                        </h4>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</aamc-application-tabs>\n<aamc-pivio-data-import-modal></aamc-pivio-data-import-modal>\n<div class="modal fade" id="DeletepublicationModal" role="alertdialog" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n        <form name="forms.PublicationForm">\n            <div class="modal-content">\n                <div class="panel-heading">\n                    <h1 aria-label="Delete Publication Entry">Delete Publication Entry</h1>\n                </div>\n                <div class="modal-body">You have indicated that you would like to delete the Publication entry for\n                    <span>\n                        <strong>{{deletePublication.pubTitle}}</strong>\n                    </span>. Are you sure you want to delete?</div>\n                <div class="modal-footer">\n                    <button role="button" class="btn btn-default" type="submit" data-dismiss="modal">Cancel</button>\n                    <button role="button" type="button" class="btn btn-danger" ng-click="deleteCurrentPublication()" data-dismiss="modal">Delete</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n');
}]),angular.module("states/revoked/revoked.html",[]).run(["$templateCache",function(a){a.put("states/revoked/revoked.html",'<div class="row">\n    <div class="col-xs-12 col-md-12">\n        <div class="panel panel-default">\n            <div class="panel-heading">\n                <span class="h2"><span class="fa fa-exclamation-triangle"></span> Access Revoked</span>\n            </div>\n            <div class="panel-body">\n                <div class="form-group">                     \n                    <div ng-bind-html="revokeMsg"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/submission/confirmation-modal.html",[]).run(["$templateCache",function(a){a.put("states/submission/confirmation-modal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <form name="ConfirmationForm">\n            <div class="modal-content">\n\n                <div class="modal-body">\n                    Once you have certified and submitted your Application, it will be irrevocably locked and no changes will be permitted. Your Application, once certified and submitted, is provided to all programs to which you apply during this ERAS season.\n                    <br>\n                    <div>\n                        Please take the additional time to proofread your application for any errors or omissions.\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-primary btn-purple" type="submit" ng-click="hideSubmissionModal();">Cancel</button>\n\n                    <button type="button" class="btn btn-primary" ng-click="confirmApplicationSubmission();">Confirm</button>\n\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n')}]),angular.module("states/submission/submission.html",[]).run(["$templateCache",function(a){a.put("states/submission/submission.html",'<h1>Certify & Submit</h1>\n<div aamc-validate-form-and-focus>\n    <form name="forms.submissionForm" class="css-form" novalidate>\n        <aamc-submission-img ng-if="applicationData.residencyType===\'IMG\'"></aamc-submission-img>\n        <div class="panel panel-default" ng-class="{ \'panel-danger\' : (formValidator.invalid && forms.submissionForm.variable.$error.required) }">\n            <div class="panel-heading">\n                <h2 class="panel-title">MyERAS Application Release</h2>\n            </div>\n            <div class="panel-body">\n                <strong id="label-variable">\n                Do you give your Designated Dean\'s Office permission to view your application once it has been submitted?</strong>&nbsp;<span class="text-danger">*</span>\n                <div class="from-group">\n                    <label class="radio-inline">\n                        <input type="radio" name="variable" aria-labelledby="label-variable" ng-model="userInput" value="Y" required>Yes</label>\n                    <label class="radio-inline">\n                        <input type="radio" name="variable" aria-labelledby="label-variable" ng-model="userInput" value="N" required>No</label>\n                </div>\n                <div ng-show="formValidator.invalid && forms.submissionForm.variable.$error.required">\n                    <span class="text-danger">Selection is required.</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="panel panel-default" ng-class="{ \'panel-danger\' : (formValidator.invalid && forms.submissionForm.confirmCheck.$error.required) }">\n            <div class="panel-heading">\n                <h2 class="panel-title">Certify <span class="text-danger">*</span></h2>\n            </div>\n            <div class="panel-body">\n                </br>\n                <input type="checkbox" name="confirmCheck" ng-model="confirm.confirmCheck" required/>\n                <span ng-show="formValidator.invalid && forms.submissionForm.confirmCheck.$error.required" class="text-danger">&nbsp;&nbsp;Selection is required.</span>\n                <p style="text-align: justify;text-justify: inter-word;">I certify that the information contained within the MyERAS application is complete and accurate to the best of my knowledge. I understand that any false or missing information may disqualify me from consideration for a position; may result in an investigation by the AAMC per the <a href="https://www.aamc.org/download/139278/data/datapolicy.pdf" target="_blank">attached policy</a> (PDF); may also result in expulsion from ERAS; or if employed, may constitute cause for termination from the program. I also understand and agree to the\n                    <a href="https://www.aamc.org/44864/terms.html" target="_blank">AAMC Web Site Terms and Conditions</a> and to the\n                    <a href="https://www.aamc.org/44866/privacy.html" target="_blank">AAMC Privacy Statement</a> and the AAMC Policies Regarding the Collection, Use and Dissemination of Resident, Intern, Fellow, and Residency, Internship, and Fellowship Application Data (<a href="https://www.aamc.org/download/139278/data/datapolicy.pdf" target="_blank">attached policy</a>, PDF) and to these AAMC\'s collection and other processing of my personal data according to these privacy policies. In addition, I consent to the transfer of my personal data to AAMC in the United States, to those residency programs in the United States and Canada that I select through my application, and to other third parties as stated in these Privacy Policies.</p>\n                <div class="col-md-6">\n                    <span class="control-label">Certified by:</span>\n                    <span class="p">{{applicationData.fullName}}</span>\n                </div>\n                <div class="col-md-6">\n                    <span class="control-label">Date:</span>\n                    <span>{{certifyDate|amDateFormat:\'MMM D, YYYY\'}}</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="panel panel-default" ng-class="{ \'panel-danger\' : (formValidator.invalid && forms.submissionForm.confirmPassword.$error.required) }">\n            <div class="panel-heading">\n                <h2 class="panel-title">Submit</h2>\n            </div>\n            <div class="panel-body">\n                <label for="confirmPassword" class="control-label">Password</label>&nbsp;<span class="text-danger">*</span>\n                <input type="password" id="confirmPassword" name="confirmPassword" ng-model="confirm.confirmPassword" required/>\n                <span ng-show="formValidator.invalid && forms.submissionForm.confirmPassword.$error.required" class="text-danger">&nbsp;&nbsp;This field is required.</span>\n            </div>\n        </div>\n\n        <div>\n            <div class="pull-right">\n                <button type="button" class="btn btn-default" ng-click="back();">Back</button>\n                <button type="button" class="btn btn-primary" ng-click="validateForm($event);" type="submit" ng-hide="(statusId === 8)">Submit</button>\n            </div>\n        </div>\n    </form>\n</div>\n')}]),angular.module("states/summary/summary.html",[]).run(["$templateCache",function(a){a.put("states/summary/summary.html",'<div class="panel panel-info">\n    <div class="panel-body">\n        <p class="casH5">Please review your MyERAS Application to ensure that all information contained within is accurate. Should you need to make any changes, please click "EDIT" button at the bottom of the page</p>\n        <p class="pull-right casText">{{applicationData.fullName}} ({{applicantData.applicationId}}); <small> MyERAS Application Form</small> </p>\n        <br>\n        <h4>General Information</h4>\n        <aamc-certify-and-submit-general-information></aamc-certify-and-submit-general-information>\n    </div>\n</div>\n')}]),angular.module("states/templates/processModal.html",[]).run(["$templateCache",function(a){a.put("states/templates/processModal.html",'<div class="modal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" ng-click="$hide()">&times;</button>\n            </div>\n            <div class="modal-body" ng-bind-html="SOAP_DATA_UPDATES_IN_PROGRESS_MSG"></div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default btn-sm" ng-click="$hide()">Close</button>\n            </div>\n        </div>\n    </div>\n</div>')}]),angular.module("states/token/token.html",[]).run(["$templateCache",function(a){a.put("states/token/token.html",'<div class="wrapper col-md-12">\n    <div class="col-md-10 col-sm-offset-1">\n        <div class="form-group">\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <label for="token">ERAS Electronic Token</label>\n                </div>\n                <div class="panel-body">\n                    <form novalidate class="simple-form" role="form" name="forms.tokenForm" aamc-validate-form-and-focus add-error-elems="true">\n                        <div class="form-group">\n                            <input type="text" id="token" class="form-control" name="token" placeholder="Enter token" ng-model="tokenId" ng-minlength="14" maxlength="14" required>\n                            <span class="text-danger" ng-show="formValidator.invalid && forms.tokenForm.token.$error.minlength">Token must be 14 characters.</span>\n                        </div>\n                        <button class="btn btn-primary btn-default pull-right" ng-click="validateToken(tokenId,formValidator);">Continue</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("states/track/track.html",[]).run(["$templateCache",function(a){a.put("states/track/track.html",'<div class="wrapper">\n    <div class="container">\n\n        <div class="panel panel-default">\n            <div class="panel-body table-responsive">\n                <div class="page-header">\n                    <h1>Electronic Residency Application Service</h1>\n                </div>\n\n                <div class="row">\n                    <div class="col-md-8">\n                        <div class="">\n                            <div class="panel-body">\n                                <h2>{{context.givenName}} {{context.surname}}</h2>\n                                <div class="row">\n                                    <div class="col-md-1 text-center">\n                                        <i class="text-primary-darker fa fa-user fa-4x"></i>\n                                    </div>\n                                    <div class="col-md-11">\n                                        <div class="form-group">\n                                            <div class="row">\n                                                <div class="col-md-4">\n                                                    <label for="aamcId">AAMC ID:</label>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    {{context.aamcId}}\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="form-group">\n                                            <div class="row">\n                                                <div class="col-md-4">\n                                                    <label for="email">Email:</label>\n                                                </div>\n                                                <div class="col-md-4">\n                                                    {{context.emailAddress}}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div><hr />\n                                <div class="row">\n                                    <div class="col-md-1 text-center">\n                                        <i class="text-primary-darker fa fa-pencil-square fa-4x"></i>\n                                    </div>\n                                    <div class="col-md-11">\n                                        <div class="form-group">\n                                            <div class="panel panel-default">\n                                                <div class="panel-heading">\n                                                    <h4 class="text-muted"><strong>ERAS Applications</strong></h4>\n                                                </div>\n                                                <div class="panel-body">\n                                                    <div ng-repeat="track in tracks" ng-if="tracks.length > 0">\n                                                        <h5 ng-show="tracks.length">Select an Application</h5>\n                                                        <div>\n                                                            <button type="button" class="btn btn-primary btn-lg" ng-click="chooseTrack(track);">\n                                                                {{track.applicationType==\'R\'?\'Residency Application\':\'Fellowship Application\'}} \n                                                                {{track.season}}\n                                                            </button>\n                                                        </div>\n                                                    </div>\n                                                    <hr />\n                                                    <div ng-if="tracks.length<2">\n                                                        <h5>Add an Application</h5>\n                                                        <div>\n                                                            <button type="button" class="btn btn-primary btn-lg" ng-click="addTrack();">Enter token</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <!--<table class="table">\n                                    <tbody>\n                                    <tr>\n                                        <td rowspan="3" class="text-center"><i class="text-primary-darker fa fa-user fa-4x"></i></td>\n                                        <td>AAMC ID</td>\n                                        <td>{{context.aamcId}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Date of Birth</td>\n                                        <td>12/12/1980</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Email</td>\n                                        <td>{{context.emailAddress}}</td>\n                                    </tr>\n                                    <tr class="group-heading">\n                                        <td colspan="3" style="border-top:none;">\n                                            <h3 class="text-muted">ERAS Applications</h3>\n                                        </td>\n                                    </tr>\n\n                                    <tr>\n                                        <td rowspan="{{tracks.length + 2}}" class="text-center"><i class="text-primary-darker fa fa-pencil-square fa-4x"></i></td>\n                                    </tr>\n                                    <tr ng-repeat="track in tracks" ng-if="tracks.length > 0">\n                                        <td colspan="2">\n                                            <h5 ng-show="tracks.length">Select an Application</h5>\n                                            <div>\n                                                <button type="button" class="btn btn-primary btn-lg" ng-click="chooseTrack(track);">\n                                                    {{track.applicationType==\'R\'?\'Residency Application\':\'Fellowship Application\'}}\n                                                    {{track.season}}\n                                                </button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    <tr ng-if="tracks.length<2">\n                                        <td colspan="2">\n                                            <h5>Add an Application</h5>\n                                            <div>\n                                                <button type="button" class="btn btn-primary btn-lg" ng-click="addTrack();">Enter token</button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                    </tbody>\n                                </table>-->\n                            </div>\n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="panel panel-default ">\n                            <div class="panel-body alert-info">\n                                <strong>Highlights</strong>\n                                <p>\n                                    The application will be unavailable from 4 PM - 6 PM Sunday, the 14th due to routine maintenance\n                                </p>\n                            </div>\n                        </div>\n                        <div class="panel panel-info ">\n                            <div class="panel-body info-background">\n                                <h4>Information panel</h4>\n                            </div>\n                            <!--<div class="panel-footer clearfix">\n                                <a class="pull-right" href="#"><strong><i class="fa fa-calendar"></i>   Register for Event</strong>  </a>\n                            </div>-->\n                        </div>\n                       <!-- Sample toaster messages-->\n                        <div class="panel panel-info ">\n                            <div class="panel-heading">Message Services</div>\n                            <div class="panel-body">\n                                <div><button class="btn btn-primary" ng-click="popSuccess()">Show Success</button></div>\n                                <div><button class="btn btn-danger"  ng-click="popDanger()">Show Danger</button></div>\n                                <div><button class="btn btn-warning" ng-click="popWarning()">Show Warning</button></div>\n                                <div><button class="btn btn-info" ng-click="popInfo()">Show Info</button></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n\n<!--\n\n\n\n\n    <div class="row">\n        <div class="col-md-6 col-md-offset-1">\n            <h5 ng-show="tracks.length">Select an Application</h5>\n            <div ng-repeat="track in tracks">\n                <button type="button" class="btn btn-primary btn-lg" ng-click="chooseTrack(track);">\n                    {{track.applicationType==\'R\'?\'Residency Application\':\'Fellowship Application\'}}\n                    {{track.season}}\n                </button>\n            </div>\n            <h5>Add an Application</h5>\n            <div>\n                <button type="button" class="btn btn-primary btn-lg" ng-click="addTrack();">Enter token</button>\n            </div>\n        </div>\n        <div class="col-md-5">\n            <aamc-links></aamc-links>\n        </div>\n    </div>\n\n-->\n')}]),angular.element(document).ready(function(){$("html").attr("ng-controller","AppController"),$.bootstrap({bootstrapModule:"myeras",appCode:"MYERAS",allowUrlOverrideOfConfig:!0})}),angular.module("myeras",["myeras.index","myeras.actions","myeras.appliedReappliedDate","myeras.programSearchSoap","myeras.programsAppliedTracks","myeras.formatstate","myeras.dashboardPaymentAlertsSection","myeras.maintenance","myeras.timeout","myeras.validateFormAndFocus","myeras.transcriptQuestionModal","myeras.browserPrint","myeras.HelpModal","myeras.dashboardEmailAlertSection","myeras.invoiceHistory","myeras.documentTracking","myeras.main","myeras.programsApplied","myeras.programsreApply","myeras.assignmentReport","myeras.searchProgram","myeras.Compiler","myeras.sentScores","myeras.NewDashboard","myeras.paymentInfo","myeras.formatCreditCard","myeras.mail","myeras.selfIdentification","myeras.lorAuthor","myeras.programDetailsModal","myeras.programHome","myeras.printWindow","myeras.programsearch","myeras.payment","myeras.startFromFilter","myeras.otherDocuments","myeras.summary","myeras.fiterByProperty","myeras.formatMonth","myeras.casStateLicense","myeras.certifyAndSubmitOtherAwards","myeras.certifyAndSubmitHobbies","myeras.certifyAndSubmitLanguage","myeras.certifyAndSubmitPublications","myeras.certifyAndSubmitExperience","myeras.certifyAndSubmitTraining","myeras.certifyAndSubmitHigherEducation","myeras.certifyAndSubmitSocietyMembership","myeras.certifyAndSubmitMedicalSchoolHonors","myeras.certifyAndSubmitMedicalEdu","myeras.certifyAndSubmitStateMedicalLicenses","myeras.certifyAndSubmitMedicalLicenses","myeras.certifyAndSubmitCertification","myeras.siFilter","myeras.licensure","myeras.certify","myeras.revoked","myeras.certifyAndSubmitGeneralInformation","myeras.nonPeerReviewedOnline","myeras.peerReviewedOnline","myeras.oralPresentation","myeras.posterPresentation","myeras.otherArticles","myeras.scientificMonograph","myeras.peerReviewedBook","myeras.peerReviewedOther","myeras.peerReviewedJournal","myeras.applicationTabs","myeras.documentsTabs","myeras.soapPrograms","myeras.programsTabs","myeras.htmlContent","myeras.create","myeras.token","myeras.track","myeras.publications","myeras.experience","myeras.biographic","myeras.landing","myeras.general","myeras.assignProgram","myeras.contentService","myeras.applicationService","myeras.pivioDataService","myeras.pivioDataImportModal","myeras.customMessages","myeras.programDetails","templates-app","restangular","ui.router","mgcrea.ngStrap","ngAnimate","ngAria","ngIdle","pdf","truncate","smoothScroll","aamc.component.footer","aamc.component.nav-bar","aamc.component.security","aamc.component.login-standalone","aamc.component.account-manager","exportable-document.pdf","templates-components","myeras.refDataService","myeras.tokenService","myeras.general","myeras.generalService","myeras.experienceService","myeras.appTypeFilter","myeras.publicationService","myeras.personalInfo","myeras.personalService","myeras.licensureService","myeras.submission","myeras.cacheService","myeras.languageService","myeras.selfIdentificationService","myeras.personalStatements","myeras.letterRecommendation","myeras.letterService","myeras.personalStatementService","myeras.otherDocumentService","myeras.programAssignmentsService","myeras.unitsService","myeras.trainingService","checklist-model","aamc.eras.charSet","aamc.eras.alerts","toaster","myeras.log","myeras.mail","myeras.mailService","myeras.underscoreService","myeras.printApplicationService","myeras.printCVService","myeras.pdfMakeService","myeras.pdfmakeCVService","myeras.pdfmakeAppService","myeras.dashboardService","textAngular","angularFileUpload","templates-payment","aamc.component.payment","aamc.component.reference-data","myeras.dashboardAlertsSection","myeras.dashboardProgramsSection","myeras.dashboardDocumentsSection","myeras.dashboardApplicationSection","myeras.dashboardSoapMessage","myeras.dashboardTitle","myeras.dashboardIdSummary","myeras.dashboardHelpSection","myeras.programsWithdrawn","myeras.documentService","myeras.paymentsService","myeras.epayTokenService","myeras.showInvalidModelValue","myeras.certifySubmitEvaluationService","myeras.authService","myeras.routeService","myeras.stickyHeader","myeras.trackHistoryService","erasCommonsWeb.service.pdfMake","erasDwsWeb.appConfig","ng.deviceDetector","myeras.browserLogService","myeras.userAccountService","myeras.urlService","myeras.aamcSubmissionImg","myeras.documentTrackingService","angularMoment","blockUI","myeras.payment.error","myeras.certifySubmitChecklist","myeras.pendingPayment","myeras.hostedCheckOutResponse","myeras.navbar","myeras.soapService","myeras.applicationEvaluationService","myeras.soapStickyHeaderMessage","myeras.soapProgramsTableOptionalMessage","myeras.soapEligiblePreviewedInvoice","myeras.soapEligiblePreviewedInvoiceService","myeras.soapEligibleProgramsApplied","myeras.soapIneligibleProgramsApplied","myeras.aamcProgramStatusCode","myeras.previewedInvoiceService","myeras.soapReApplyFilter","myeras.actionsService","myeras.soapEligibleProgramAssignments","myeras.programAssignmentsDocSide","myeras.soapEligibleAssignmentsPrograms","myeras.soapEligibleLetterAssignments","myeras.programDetailsControl","myeras.modalService","myeras.usmleIdValidation","myeras.paymentHistoryService","myeras.debounceService","myeras.tracksDetails","myeras.trackDates","myeras.trackService","myeras.errorFilter","myeras.converters","myeras.textFormatter"]).config(["$httpProvider","$urlRouterProvider","APP_CONFIG","accountManagerServiceProvider","applicationConfigServiceProvider","RestangularProvider","IdleProvider","appConfig","$datepickerProvider","$popoverProvider","$tooltipProvider","blockUIConfig","LoginProvider",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=a.protocol()+"://"+a.host()+":"+a.port()+"/";return-1===a.absUrl().indexOf("myeras-web")?b:b+"myeras-web"}var o=c.BASE_URL;a.defaults.withCredentials=!0,b.otherwise("/landing"),m.setGotoUrl(n),n.$inject=["$location"],e.setConfig(c),f.setBaseUrl(o),f.setDefaultHeaders({APP_CODE:c.APP_CODE}),g.idle(h.timeoutConfig.idleTimeInSeconds),g.timeout(h.timeoutConfig.logoutTimeInSeconds),angular.extend(i.defaults,{dateType:"string",modelDateFormat:"yyyy-MM-dd"}),angular.extend(j.defaults,{trigger:"trigger"}),angular.extend(k.defaults,{container:"body"}),l.template='<div class="block-ui-overlay"></div><div class="block-ui-message-container" aria-live="assertive" aria-atomic="true"><div class="block-ui-message" ng-class="$_blockUiMessageClass"><span><i class="fa fa-refresh fa-spin fa-3x"></i></span></div></div>'}]).run(["$cacheFactory","$rootScope","$log","$location","$state","$filter","Restangular","applicationService","Idle","log","APP_CONFIG","authService",function(a,b,c,d,e,f,g,h,i,j,k,l){b.$on("$locationChangeSuccess",function(){b.actualLocation=d.path()}),b.$watch(function(){return d.path()},function(a,c){b.actualLocation===a&&"/payment"===a&&e.go("main.programHome")}),g.addRequestInterceptor(function(c,d,e){return-1!==["delete","post","put","remove"].indexOf(d)&&a.get("restCache").removeAll(),b.errors=[],c}),g.setDefaultHttpFields({cache:a("restCache")}),g.setErrorInterceptor(function(a){var c=a&&a.data&&a.data.length?a.data[0]:{},d=c.messageCode,g=c.messageText,h={code:d,text:g};if("error.view.notauthorized"===d&&e.go("landing"),a&&(404===a.status||503===a.status&&!a.headers().maintenance)&&(404===a.status&&(h={code:"error.404",text:"Service is currently not available. Please try again or contact MYERAS Help desk for further support."}),503!==a.status||a.headers().maintenance||(h={code:"error.503",text:"Service is currently not available. Please try again or contact MYERAS Help desk for further support."}),a.config.url&&-1!=a.config.url.indexOf("eras-application-service")?h.text="Application Service is currently not available.  Please try again or contact MYERAS Help desk for further support.":a.config.url&&-1!=a.config.url.indexOf("eras-dws-service")?h.text="DWS Service is currently not available.  Please try again or contact MYERAS Help desk for further support.":a.config.url&&-1!=a.config.url.indexOf("eras-dws-doc-service")&&(h.text="DWS Doc Service is currently not available.  Please try again or contact MYERAS Help desk for further support.")),a&&503===a.status&&a.headers().maintenance&&e.go("main.maintenance"),a&&500===a.status&&a.config.url&&-1!=a.config.url.indexOf("eras-dws-doc-service/myeras/processPostPayment"))e.go("main.paymentErrorPage",{invoiceSeqNbr:b.invoiceSeqNbr});else if(h&&h.text){var i=!1;"error.track.doesnotexist"===h.code?j.error(h.text):"error.outstandingpayment.already.paid"===h.code?j.error(h.text):(i=f("duplicateError")(b,h.text),i||(b.error=h.text,b.errors.push(h.text),b.addDetailedAlert(b.errors,0,"error",!0,"showError")))}}),b.$watch(function(){return l.getCurrentContext()},function(a){a.aamcId&&i.watch()})}]).constant("angularMomentConfig",{timezone:"America/New_York"}),angular.module("myeras").config(["$stateProvider","APP_CONFIG",function(a,b){var c={context:["authService",function(a){return a.getContext()}]};a.state("main",{"abstract":!0,controller:"mainController",controllerAs:"vm",templateUrl:"states/main/main.html",resolve:{erasAppContext:["applicationService",function(a){return a.setCurrentSeason()}],soapSeasonOpening:["soapService",function(a){return a.getSoapSeasonStatus().then(function(a){b.isSoapOpen=a}),b.isSoapOpen}]}}).state("landing",{url:"/landing",controller:"landingController",resolve:{context:["authService",function(a){return a.getContextIfLoggedIn()}]},templateUrl:"states/landing/landing.html"}).state("main.track",{url:"/track",controller:"trackController",resolve:c,templateUrl:"states/track/track.html"}).state("main.token",{url:"/token",controller:"tokenController",resolve:c,templateUrl:"states/token/token.html",pageTitle:"Token Entry"}).state("main.create",{url:"/create",controller:"createController",resolve:c,templateUrl:"states/create/create.html",pageTitle:"Token Information Entry"}).state("main.newdashboard",{url:"/newdashboard",controller:"NewdashboardController as newdashboard",resolve:c,templateUrl:"states/newdashboard/newdashboard.html",pageTitle:"Dashboard",dashboardState:!0}).state("main.general",{url:"/general",controller:"generalController",resolve:c,templateUrl:"states/general/general.html",pageTitle:"Education"}).state("main.experience",{url:"/experience",controller:"experienceController",resolve:c,templateUrl:"states/experience/experience.html",pageTitle:"Experience"}).state("main.publications",{url:"/publications",controller:"publicationsController",resolve:c,templateUrl:"states/publications/publications.html",pageTitle:"Publications"}).state("main.biographic",{url:"/biographic",controller:"biographicController",resolve:c,templateUrl:"states/biographic/biographic.html",pageTitle:"Biographic Information"}).state("main.personalInfo",{url:"/personalInfo",controller:"personalInfoController",resolve:c,templateUrl:"states/personal-info/personal-info.html",pageTitle:"Personal Information"}).state("main.revoked",{url:"/revoked",controller:"revokedController",resolve:c,templateUrl:"states/revoked/revoked.html",pageTitle:"Revoked"}).state("main.certify",{url:"/certify/:checkListMode",controller:"certifyController",templateUrl:"states/certify/certify.html",resolve:{context:["authService",function(a){return a.getContext()}]},pageTitle:"Certify & Submit"}).state("main.maintenance",{url:"/maintenance",resolve:{appConfigElements:["applicationService",function(a){
return a.getConfigElements()}]},controller:"maintenanceController",templateUrl:"states/maintenance/maintenance.html",pageTitle:"Maintenance"}).state("main.licensure",{url:"/licensure",controller:"licensureController",resolve:c,templateUrl:"states/licensure/licensure.html",pageTitle:"Licensure"}).state("main.submission",{url:"/submission",controller:"submissionController",resolve:c,templateUrl:"states/submission/submission.html",pageTitle:"Application Submission"}).state("main.personalStatements",{url:"/personalStatements",controller:"personalStatementsController",resolve:c,templateUrl:"states/personal-statements/personal-statements.html",pageTitle:"Personal Statements"}).state("main.letterRecommendation",{url:"/letterRecommendation",controller:"letterRecommendationController",resolve:c,templateUrl:"states/letter-recommendation/letter-recommendation.html",pageTitle:"Letters of Recommendation"}).state("main.otherDocuments",{url:"/otherDocuments",controller:"otherdocumentsController",resolve:c,templateUrl:"states/otherdocuments/otherdocuments.html",pageTitle:"Additional Documents"}).state("main.programSearch",{url:"/programSearch",controller:"programsearchController",resolve:c,templateUrl:"states/programsearch/programsearch.html",pageTitle:"Search Programs"}).state("main.programHome",{url:"/programHome",controller:"programhomeController",resolve:c,templateUrl:"states/programshome/programshome.html",pageTitle:"Saved Programs"}).state("main.programsreApply",{url:"/programsreApply",controller:"programsreApplyController",resolve:c,templateUrl:"states/programs-reapply/programs-reapply.html",pageTitle:"Reapply To Programs"}).state("main.programsWithdrawn",{url:"/programsWithdrawn",controller:"programsWithdrawnController",resolve:c,templateUrl:"states/programs-withdrawn/programs-withdrawn.html",pageTitle:"Programs Withdrawn From"}).state("main.payment",{url:"/payment",controller:"paymentController",resolve:c,templateUrl:"states/payment/payment.html",pageTitle:"Payment Information"}).state("main.paymentInfo",{url:"/payment-info",controller:"PaymentInfoController",resolve:c,templateUrl:"states/payment-info/payment-info.html",pageTitle:"Payment Method"}).state("main.invoiceHistory",{url:"/paymentHistory",controller:"invoiceHistoryController",resolve:c,templateUrl:"states/invoiceHistory/invoiceHistory.html",pageTitle:"Payment History"}).state("main.mail",{url:"/mail",controller:"mailController",controllerAs:"vm",resolve:c,templateUrl:"states/mail/mail.html",pageTitle:"Message Center"}).state("main.programsapplied",{url:"/programsapplied",controller:"programsAppliedController",resolve:c,templateUrl:"states/programsapplied/programsapplied.html",pageTitle:"Programs Applied To"}).state("main.assignmentReport",{url:"/assignmentReport",controller:"assignmentReportController",resolve:c,templateUrl:"states/assignment-report/assignment-report.html",pageTitle:"Assignment Report"}).state("main.paymentErrorPage",{url:"/paymentError/:invoiceSeqNbr",controller:"PaymentErrorController",resolve:c,templateUrl:"states/payment-error/payment-error.html",pageTitle:"Payment Unsuccessful"}).state("main.pendingPaymentInfo",{url:"/pendingPayment",controller:"pendingPaymentController",resolve:c,templateUrl:"states/pending-payment/pending-payment-info.html",pageTitle:"Pending Payment"}).state("main.hostedCheckoutResponse",{url:"/hostedCheckoutResponse",controller:"hostedCheckOutResponseController",resolve:c,templateUrl:"states/hosted-checkout-response/hosted-checkout-response.html",pageTitle:"Hosted Checkout Response"})}]),angular.module("myeras.index",["ui.router"]).controller("IndexController",["$scope","APP_CONFIG",function(a,b){a.appConstants=b}]),angular.module("myeras").controller("AppController",["$rootScope","$anchorScroll","log","$scope","$state","$window","$filter","$location","APP_CONFIG","routeService","applicationService","authService","$log","contentService","dashboardService","mailService","SSOSecurity","applicationEvaluationService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s,t=[];a.alerts=[],a.configAlert=[],a.alert={},a.successMsgs=[],d.appName="MyERAS",d.noAppStates=["main.create","landing","main.token","main.track","main.revoked","main.maintenance"],d.blockPreSubmit=["main.submission"],d.blockPostSubmit=["main.biographic","main.general","main.experience","main.licensure","main.publications","main.certify","main.submission"],d.season=i.SEASON,d.dismissError=function(a){d.errors.length>a&&d.errors.splice(a,1)},d.dismissMsg=function(a){d.successMsgs.length>a&&d.successMsgs.splice(a,1)},a.$on("modal.show",function(a,b){-1===t.indexOf(b)&&t.push(b)}),d.$on("handleApplicationBroadcast",function(){k.getApplication().then(function(a){a&&(d.statusId=a.statusId)})}),d.$on("setApplicationContentLoaded",function(){k.application&&r.evaluateApplication(k.application,k.cachedCurrentSeasons).then(function(){a.$broadcast("applicationDataFullLoad")})}),a.$on("$stateChangeStart",function(a,b,c,d,e){s=i.applicantRoutes,s&&(j.validateRoute(b.name,s)||a.preventDefault())}),a.$on("$stateChangeSuccess",function(c,g){k.getConfigElements().then(function(b){var c=b;a.configAlert=[],angular.forEach(c,function(b){if("ME_ALERT_ON"===b.varName&&"Y"===b.varValue&&"main.newdashboard"===e.current.name){var d;angular.forEach(c,function(a){"ME_ALERT_MSG"===a.varName&&(d=a.varValue)}),a.configAlert.push(d),a.addDetailedAlert(a.configAlert,0,"error",!0,"showError")}})});var h=l.getCurrentContext();if(n.initializeRouteContent(g),o.setCurrentRoute(g),d.unreadMessages=0,d.$watch(function(){return p.getUnreadMessageCount()},function(a){d.unreadMessages=a}),h.accountLevel&&"2"!==h.accountLevel){var m=f.location.href;(new Date).getTime();f.location.replace(i.UPGRADE_URL+"&gotoUrl="+m)}else j.getRoute(h,g).then(function(a){a&&("main.token"==a&&(d.currentAppState="tokenRegistration"),e.go(a))});h.aamcId&&k.getApplication().then(function(a){a&&(d.statusId=a.statusId)}),!d.statusId||6!==d.statusId||"main.general"!==g.name&&"main.experience"!==g.name&&"main.publications"!==g.name&&"main.biographic"!==g.name&&"main.licensure"!==g.name&&"main.certify"!==g.name&&"main.submission"!==g.name||(e.go("main.newdashboard"),referrerUrl===i.BASE_URL+"/account/"&&e.go("main.newdashboard")),a.pageTitle=g&&g.pageTitle,d.showNav=-1===d.noAppStates.indexOf(g.name),a.showEmailUpdateAlert=!1,a.showEmailDifferenceFellowshipAlert=!1,a.showEmailDifferenceResidencyAlert=!1,a.alert.showError=!1,a.alerts=[],b(),t.length&&angular.forEach(t,function(a){a.$promise.then(a.hide)})})}]),angular.module("erasDwsWeb.appConfig",[]).constant("appConfig",{timeoutConfig:{idleTimeInSeconds:1500,logoutTimeInSeconds:300}}),angular.module("myeras.main",[]).controller("mainController",function(){}),angular.module("myeras.landing",["ui.router"]).controller("landingController",["$scope","$state","SSOSecurity","context",function(a,b,c,d){a.title="MyERAS",a.login=c.login,d.aamcId?b.go("main.newdashboard"):a.showView=!0}]),angular.module("myeras.contentService",[]).service("contentService",["APP_CONFIG","applicationService","urlService","$rootScope","$log","$cacheFactory","$q","$sce","$compile","$timeout",function(a,b,c,d,e,f,g,h,i,j){function k(a){return v=f.get("contentCache"),v||(v=f("contentCache")),v.get(a)}function l(a,b){v.put(a,b)}function m(a){if(a){var b=k(a);if(void 0===b){var c=a.name.split(".")[1]&&a.name.split(".")[1].toUpperCase();"NEWDASHBOARD"==c&&(c="DASHBOARD"),n(c).then(function(b){angular.forEach(b,function(a){l(a.textCd,a)}),l(a,a)})}}}function n(b){if(a.SEASON)return u.one("content").get({textCdPrefix:b,appName:"MYERAS",season:a.SEASON});var c=g.defer();return c.resolve([]),c.promise}function o(b){var c=g.defer(),d=k(b),f="content?textCd="+b+"&appName=MYERAS&season="+a.SEASON;return void 0===d?u.one(f).get().then(function(a){a[0]?(l(b,a[0]),c.resolve(a[0])):(l(b,{displayText:""}),c.resolve({displayText:""}),e.debug("MYERAS_APP_TEXT_CONFIG does not contain the following key: "+b))}):c.resolve(d),c.promise}function p(b){var c=g.defer(),d={},e=[],f=angular.isArray(b)?b:[b];if(angular.forEach(f,function(a){var b=k(a);void 0!==b?d[b.textCd]=b:e.push(a)}),0!==e.length){var h=e.toString(),i={appName:"MYERAS",textCds:h,season:a.SEASON};u.one("content").get(i).then(function(a){a&&(angular.forEach(a,function(a){var b=a.textCd;l(b,a),d[b]=a}),c.resolve(d))})}else c.resolve(d);return c.promise}function q(a,b){return r().then(function(c){return s(a,b,c)})}function r(){return b.getApplication().then(function(a){var b;return a=a||{},b=b||("IMG"===angular.uppercase(a.residencyType)||"DO"===angular.uppercase(a.residencyType)||"MD"===angular.uppercase(a.residencyType)?"_IMG":b),b||""})}function s(a,b,c){function d(a,b){return b?h.trustAsHtml(a):a}var e,f;return e=_.find(w,a+c),(e=e||_.find(w,a))?("_IMG"===c&&(a+=c),e[a]=angular.isArray(e[a])&&e[a].length?e[a]:[a],f=(e.baseHelp||[]).concat(e[a]||[]),f=f.map(function(a){return o(a)}),g.all(f).then(function(a){var c;return c="",angular.forEach(a,function(a){c+=a.displayText||""}),d(c,b)})):o(a).then(function(c){return d(c&&c.displayText?c.displayText:a,b)})}function t(a,b){var c=g.defer();if(angular.isUndefined(b.$id)){var e=d;angular.extend(b,e),console.log(b)}if(a&&b){var f=angular.element("<span>"+a+"</span>"),h=i(f)(b);j(function(){var a=h[0].innerHTML;c.resolve(a)},1)}return c.promise}var u=c.appService,v=null,w={application:{baseHelp:["APPLICATION_HELPCONTENT1","APPLICATION_HELPCONTENT2"],PERSONALINFO_HELPCONTENT:[],BIOGRAPHICINFO_HELPCONTENT:[],EDUCATION_HELPCONTENT:[],EXPERIENCE_HELPCONTENT:[],LICENSURE_HELPCONTENT:[],PUBLICATION_HELPCONTENT:[],CERTIFY_HELPCONTENT:[]},application_IMG:{baseHelp:["APPLICATION_HELPCONTENT1","APPLICATION_HELPCONTENT2"],PERSONALINFO_HELPCONTENT_IMG:[],BIOGRAPHICINFO_HELPCONTENT_IMG:[],EDUCATION_HELPCONTENT_IMG:[],EXPERIENCE_HELPCONTENT_IMG:[],LICENSURE_HELPCONTENT_IMG:[],PUBLICATION_HELPCONTENT_IMG:[],CERTIFY_HELPCONTENT_IMG:[]},documents:{baseHelp:["DOCUMENTS_HELPCONTENT"],PERSONALSTATEMENTS_HELPCONTENT:["PERSONALSTATEMENTS_HELPCONTENT_1","PERSONALSTATEMENTS_HELPCONTENT_2"],LOR_HELPCONTENT:["LETTEROFRECOMMENDATION_HELPCONTENT_1","LETTEROFRECOMMENDATION_HELPCONTENT_2"],ADDITIONALDOCUMENTS_HELPCONTENT:["ADDITIONALDOCUMENTS_HELPCONTENT_USMLE_1","ADDITIONALDOCUMENTS_HELPCONTENT_USMLE_2","ADDITIONALDOCUMENTS_HELPCONTENT_COMLEX_1","ADDITIONALDOCUMENTS_HELPCONTENT_COMLEX_2","ADDITIONALDOCUMENTS_MSPE_HELPCONTENT","ADDITIONALDOCUMENTS_MST_HELPCONTENT","ADDITIONALDOCUMENTS_PHOTO_HELPCONTENT","ADDITIONALDOCUMENTS_ABSITE_HELPCONTENT","ADDITIONALDOCUMENTS_ECFMG_REPORT_HELPCONTENT","ADDITIONALDOCUMENTS_PTAL_HELPCONTENT"]},documents_IMG:{baseHelp:["DOCUMENTS_HELPCONTENT_IMG"],PERSONALSTATEMENTS_HELPCONTENT_IMG:["PERSONALSTATEMENTS_HELPCONTENT_1_IMG","PERSONALSTATEMENTS_HELPCONTENT_2_IMG"],LOR_HELPCONTENT_IMG:["LETTEROFRECOMMENDATION_HELPCONTENT_1_IMG","LETTEROFRECOMMENDATION_HELPCONTENT_2_IMG"],ADDITIONALDOCUMENTS_HELPCONTENT_IMG:["ADDITIONALDOCUMENTS_HELPCONTENT_USMLE_1_IMG","ADDITIONALDOCUMENTS_HELPCONTENT_USMLE_2_IMG","ADDITIONALDOCUMENTS_HELPCONTENT_COMLEX_1_IMG","ADDITIONALDOCUMENTS_HELPCONTENT_COMLEX_2_IMG","ADDITIONALDOCUMENTS_MSPE_HELPCONTENT_IMG","ADDITIONALDOCUMENTS_MST_HELPCONTENT_IMG","ADDITIONALDOCUMENTS_PHOTO_HELPCONTENT_IMG","ADDITIONALDOCUMENTS_ECFMG_REPORT_HELPCONTENT_IMG","ADDITIONALDOCUMENTS_PTAL_HELPCONTENT_IMG"]},programs:{baseHelp:["PROGRAMSHOME_HELPCONTENT"],PROGRAMSEARCH_HELPCONTENT:[],PROGRAMSAVED_HELPCONTENT:[],PROGRAMSAPPLIED_HELPCONTENT:[],PROGRAMWITHDRAWN_HELPCONTENT:[],INVOICEHISTORY_HELPCONTENT:[],ASSIGNMENTREPORT_HELPCONTENT:[]},programs_IMG:{baseHelp:["PROGRAMSHOME_HELPCONTENT_IMG"],PROGRAMSEARCH_HELPCONTENT_IMG:["PROGRAMSEARCH_HELPCONTENT_IMG"],PROGRAMSAVED_HELPCONTENT_IMG:["PROGRAMSAVED_HELPCONTENT_IMG"],PROGRAMSAPPLIED_HELPCONTENT_IMG:["PROGRAMSAPPLIED_HELPCONTENT_IMG"],PROGRAMWITHDRAWN_HELPCONTENT_IMG:["PROGRAMWITHDRAWN_HELPCONTENT_IMG"],INVOICEHISTORY_HELPCONTENT_IMG:[],ASSIGNMENTREPORT_HELPCONTENT_IMG:[]}},x={getContent:o,initializeRouteContent:m,getSectionContent:n,getHelpContent:q,contentCompiler:t,getContentList:p};return x}]),angular.module("myeras.trackService",[]).factory("trackService",["Restangular","urlService","$state",function(a,b,c){b.appService;return{filterTracks:function(a,b,d){"main.programHome"===c.current.name&&this.filterForSavedPrograms(a,b,d),"main.programsapplied"===c.current.name&&this.filterForAppliedPrograms(a,b,d)},filterForSavedPrograms:function(a,b,c){angular.forEach(a.unit.tracks,function(d){angular.forEach(a.selectedProgramTracks,function(a){b.applicantSoapEligible&&b.soapOpen?d.preSelected?d.showTrackInModal=!0:"Y"===d.nrmpUnfilledPositionsIndicator&&"Y"===d.trackMyerasDisplayInd&&-1!==c.soapEligibilityPositionType.indexOf(d.trackTypeCode)?d.showTrackInModal=!0:d.showTrackInModal=!1:d.preSelected?d.showTrackInModal=!0:"Y"===d.trackMyerasDisplayInd?d.showTrackInModal=!0:d.showTrackInModal=!1})}),a.unit.tracks=_.filter(a.unit.tracks,function(a){return a.showTrackInModal?!0:!1})},filterForAppliedPrograms:function(a,b,c){angular.forEach(a.unit.tracks,function(d){angular.forEach(a.selectedProgramTracks,function(a){b.applicantSoapEligible&&b.soapOpen?d.preselected?d.showTrackInModal=!0:"Y"===d.nrmpUnfilledPositionsIndicator&&"Y"===d.trackMyerasDisplayInd&&-1!==c.soapEligibilityPositionType.indexOf(d.trackTypeCode)?d.showTrackInModal=!0:d.showTrackInModal=!1:d.preselected?d.showTrackInModal=!0:"Y"===d.trackMyerasDisplayInd?d.showTrackInModal=!0:d.showTrackInModal=!1})}),a.unit.tracks=_.filter(a.unit.tracks,function(a){return a.showTrackInModal?!0:!1})}}}]),angular.module("myeras.track",["ui.router"]).controller("trackController",["$scope","$state","applicationService","context","log","pivioDataService",function(a,b,c,d,e,f){a.title="track",c.getTracks(d.aamcId).then(function(b){a.tracks=b}),a.chooseTrack=function(a){c.setApplication(a),b.go("main.newdashboard")},a.addTrack=function(){b.go("main.token")},a.popSuccess=function(){e.success("Saved successfully")},a.popDanger=function(){e.error("Validation error")},a.popWarning=function(){e.warning("Warning message")},a.popInfo=function(){e.info("Welcome to MyERAS")}}]),angular.module("myeras.applicationService",[]).factory("applicationService",["$rootScope","$q","$log","$window","$filter","APP_CONFIG","Restangular","urlService","refDataService",function(a,b,c,d,e,f,g,h,i){function j(a,b){return J.one("authenticateUser").one("authNoSession").withHttpConfig({ignoreAuthModule:!0}).customPOST({userName:a,password:b})}function k(){var a=b.defer();return P.application?a.resolve(angular.copy(P.application)):P.applicationId?K.one("applications",P.applicationId).get().then(function(b){b?(I=b.plain(),a.resolve(angular.copy(P.application))):a.resolve()}):(c.debug("NO LOCAL APP OR COOKIE FOUND. RETURNING AN EMPTY PROMISE ..."),a.resolve()),a.promise}function l(){P.applicationId&&K.one("applications",P.applicationId).get().then(function(a){a&&(I=a.plain(),P.application=I)})}function m(a){var c=b.defer();return a&&K.one("cafs",a).get().then(function(a){a?(P.cachedCaf=a.plain(),c.resolve(angular.copy(P.cachedCaf))):P.cachedCaf=null}),c.promise}function n(a){var c=b.defer();return K.one("invoices").get({applicationId:a}).then(function(a){a?(P.cachedInvoiceData=a.plain(),c.resolve(angular.copy(P.cachedInvoiceData))):P.cachedInvoiceData=null}),c.promise}function o(a){return K.one("applications","myErasApplications").get({aamcId:a})}function p(a){var c=b.defer();return K.one("applications",a.aamcId).one("registration").customPUT(a).then(function(a){if(a){if(M(a),a&&"DWS"===a.sourceOrganization&&7!==a.status.statusId){var b=[{instId:a.instId,season:a.season,applicationTokenId:a.tokenId,tokenStatus:"Registered"}];return L.one("tokenManager").customPUT(b).then(function(){c.resolve(angular.copy(a))})}if(a&&"DWS"===a.sourceOrganization&&7===a.status.statusId){var d=[{instId:a.instId,season:a.season,applicationTokenId:a.tokenId,tokenStatus:"Practice Registered"}];return L.one("tokenManager").customPUT(d).then(function(){c.resolve(angular.copy(a))})}c.resolve(angular.copy(a))}else c.resolve(),I=null}),c.promise}function q(a){var c=b.defer();return K.one("cafs",a.applicationId).customPUT(a).then(function(a){a?(P.cachedCaf=a.plain(),c.resolve(angular.copy(P.cachedCaf))):(P.cachedCaf=null,c.resolve())}),c.promise}function r(b){M(b),P.applicationId=b.applicationId,P.setApplicationSeason(b.season).then(function(b){b&&a.$broadcast("setApplicationContentLoaded")})}function s(a){return N(),K.one("applications",a.applicationId).one("submission").customPUT(a)}function t(a){var c=b.defer();return a.inst&&(delete a.inst.caRMS,delete a.inst.militaryInst),K.one("applications",a.applicationId).customPUT(a).then(function(b){b?(P.application=b.plain(),c.resolve(angular.copy(P.application))):a=null}),c.promise}function u(a){var c=b.defer();return a=a||P.applicationId,P.cachedChecklist&&P.cachedChecklist.applicationId===a?c.resolve(P.cachedChecklist):a&&K.one("applicationChecklists",a).get().then(function(a){P.cachedChecklist=a,c.resolve(angular.copy(a))}),c.promise}function v(a,b,c){return i.getServerCurrentDate().then(function(d){return u(a).then(function(a){return c?a[b]=null:a[b]=d,K.customPUT(a,"applicationChecklists/"+a.applicationId).then(function(a){P.cachedChecklist=a})})})}function w(){return O(P.cachedChecklist?P.cachedChecklist:P.getApplicationChecklist())}function x(){return P.cachedChecklist}function y(){var a=b.defer(),c=[];return P.cachedCurrentSeasons?(c.push(angular.copy(P.cachedCurrentSeasons)),a.resolve(c)):K.getList("season",{appName:"MYERAS"}).then(function(b){b&&(activeSeasons=b.plain(),P.cachedCurrentSeasons=b.plain(),c.push(angular.copy(P.cachedCurrentSeasons)),a.resolve(c))},function(){a.resolve({})}),a.promise}function z(){var c=b.defer();return f.SEASON?(P.cachedConfigElements?c.resolve(angular.copy(P.cachedConfigElements)):K.one("config?appName="+f.APP_CODE+"&season="+f.SEASON).get().then(function(a){a.length>0?(P.cachedConfigElements=a.plain(),c.resolve(angular.copy(P.cachedConfigElements))):c.resolve([])})["catch"](function(b){var d=[],f="Unable to access application-service to fetch config elements. Please try again.",g=e("duplicateError")(a,f);g||(a.errors.push(f),d.push(f),a.addDetailedAlert(d,0,"error",!0,"serviceError")),c.resolve(b)}),c.promise):(c.resolve([]),c.promise)}function A(){var d=b.defer();return P.getCurrentSeason().then(function(a){if(a&&1===a.length&&a[0])f.SEASON=a[0].season,P.cachedCurrentSeasons=angular.copy(a[0]);else{c.debug("Dual Season logic to be implemented. For now the first season in the list is selected"),f.dualSeason=!0;var b,e;angular.forEach(a,function(a){"CURRENT"===a.seasonStatus&&(P.cachedCurrentSeasons=angular.copy(a),b=angular.copy(a.season),e=angular.copy(a.myErasSeasonStartDate))}),a&&(f.SEASON=b,f.SEASONSTARTDATE=e)}d.resolve(f)})["catch"](function(b){var c=[],f="Unable to access application-service to fetch current season. Please try again.",g=e("duplicateError")(a,f);g||(a.errors.push(f),a.addDetailedAlert(c,0,"error",!0,"serviceError")),d.resolve(b)}),d.promise}function B(a,b,c){var e=f.BASE_URL+"/30/eras-dws-doc-service/myeras/myerasReport/"+a+"?format"+c+"&reportName="+b;d.open(e)}function C(a,b,c,e){var g=f.BASE_URL+"/30/eras-dws-doc-service/generateReports/assignments/"+a+"/DWS/"+b+"/"+e+"?APP_CODE=ERAS-DWS&instId="+c;d.open(g)}function D(a,b){return K.one("applications",a).one("email").customPUT({email:b}).then(function(a){I&&(I.email=a.email),l()})}function E(){var a,c=b.defer();return K.getList("season",{appName:"MYERAS"}).then(function(b){b&&(a=b.plain(),c.resolve(a))}),c.promise}function F(a){P.cachedCurrentSeasons=angular.copy(a),seasonTemp=angular.copy(a.season),f.SEASON=angular.copy(a.season)}function G(a){var c,d=b.defer();return angular.forEach(activeSeasons,function(b){b.season===a&&(P.cachedCurrentSeasons=angular.copy(b),seasonStartDate=angular.copy(b.myErasSeasonStartDate),c=angular.copy(b.season))}),c&&(f.SEASON=c,f.SEASONSTARTDATE=seasonStartDate),d.resolve(f),d.promise}function H(a,b){var c=e("filter")(b.selectedProgramTracks,{unitId:a.unitId})[0],d=c.eligibleForReapply,f="N"!==c.trackSoapIndicator;return d&&f}var I,J=h.authService,K=h.appService,L=h.dwsService,M=(h.dwsDocService,function(a){P.application=a,P.application&&P.application.applicationId?P.applicationId=P.application.applicationId:delete P.applicationId}),N=function(){P.application=null,P.cachedChecklist=null,P.cachedConfigElements=null,P.cachedCaf=null,P.cachedInvoiceData=null,P.cachedCurrentSeasons=null,P.cachedPaymentElements=null,P.cachedApplicationRoutes=null},O=function(a){return!!(a.trngSavedDt&&a.experienceSavedDt&&a.publicationsSavedDt&&a.higherEducSavedDt&&a.medicalEducSavedDt&&a.personalInfoSavedDt&&a.biographicInfoSavedDt&&a.licensureInfoSavedDt&&a.medicalLicensesSavedDt&&a.additionalQsExpSavedDt&&a.additionalQsEducSavedDt)},P={authenticate:j,clearCache:N,getApplication:k,getCAF:m,getInvoices:n,getTracks:o,save:p,saveCAF:q,setApplication:r,submitApplication:s,updateApplication:t,getApplicationChecklist:u,setChecklistComplete:v,isChecklistComplete:w,getCachedChecklist:x,getCurrentSeason:y,getConfigElements:z,setCurrentSeason:A,printPdf:B,generatePdf:C,updateEmail:D,getAllSeasons:E,setSelectedSeason:F,setApplicationSeason:G,isSoapEligibleToApplyReapply:H,resetApplication:l};return P}]),function(){function a(a,b,c,d){function e(a,b){return i().then(function(b){return j(a)}).then(function(a){return k(b)})}function f(a,b){return null===q.applicantHasPivioData?c.getTracks(b).then(function(c){return e(b,c).then(function(){return n(a)})}):n(a)}function g(a,b){return p.one("pivio").customPOST({},null,{aamcId:a,applicationId:b})["finally"](function(){return c.getApplication().then(function(a){return m(a.applicationType,a.season,"Y"),!0})})}function h(a){return c.getApplication().then(function(a){return a.pivioImportIndicator="N",m(a.applicationType,a.season,a.pivioImportIndicator),c.updateApplication(a)})}function i(){return null===q.dataImportIsOn?c.getConfigElements().then(function(a){var b,c=!1;return a&&(b=_.find(a,{id:{varName:"ME_PIVIO_DATA_IMPORT_IND"}}),c=b&&null!=b.varValue&&"Y"===b.varValue.toUpperCase()),q.dataImportIsOn=c,q.dataImportIsOn}):o(q.dataImportIsOn)}function j(a){return q.applicantHasPivioData=q.dataImportIsOn?q.applicantHasPivioData:!1,null===q.applicantHasPivioData?p.one("pivio",a).get().then(function(a){return q.applicantHasPivioData=null!=a&&"TRUE"===a.toUpperCase(),q.applicantHasPivioData}):o(q.applicantHasPivioData)}function k(a){return q.applicantHasPivioData&&_.forEach(a,function(a){void 0===l(a.applicationType,a.season)&&q.applications.push({applicationType:a.applicationType,applicationSeason:a.season,applicantHasImportedPivioData:null!==a.pivioImportIndicator&&"Y"===a.pivioImportIndicator.toUpperCase()?"Y":null})}),q}function l(a,b){return _.find(q.applications,{applicationType:a,applicationSeason:b})}function m(a,b,c){var d=l(a,b);d&&(d.applicantHasImportedPivioData=c)}function n(a){var b;return q.applicantHasPivioData?c.getApplication().then(function(a){var d=l(a.applicationType,a.season);return null!==d.applicantHasImportedPivioData?!1:c.getApplicationChecklist().then(function(a){return b=a&&_.size(a.plain())>0?!0:!1,_.forEach(a.plain(),function(a,c){return/SavedDt$/i.test(c)&&null!==a?(b=!1,!1):void 0}),b})}):o(!1)}function o(b){var c=a.defer();return c.resolve(b),c.promise}var p=d.appService,q={dataImportIsOn:null,applicantHasPivioData:null,applications:[]};return{initService:e,showDataImportModal:f,importData:g,abortDataImport:h}}angular.module("myeras.pivioDataService",[]).factory("pivioDataService",a),a.$inject=["$q","Restangular","applicationService","urlService"]}(),function(){function a(a,b,c,d,e,f){function g(){f.showDataImportModal(m,l).then(function(a){a&&n.$promise.then(n.show)})}function h(){a.pivio.dataIsImporting=!0,f.importData(l,m).then(function(){c.reload()})["finally"](function(){j()})}function i(){f.abortDataImport(m).then(function(){j()})}function j(){n.$promise.then(n.hide)}var k=e.getCurrentContext(),l=k.aamcId,m=d.applicationId,n=b({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"components/directives/aamc-pivio-data-import-modal/aamc-pivio-data-import-modal.html"});a.pivio={initDirective:g,importData:h,abortDataImport:i,dataIsImporting:!1}}function b(a,b,c){}function c(){return{restrict:"E",replace:!0,controller:a,link:b}}angular.module("myeras.pivioDataImportModal",[]).controller("pivioDataImportModalController",a).directive("aamcPivioDataImportModal",c),a.$inject=["$scope","$modal","$state","applicationService","authService","pivioDataService"]}(),angular.module("myeras.token",["ui.router"]).controller("tokenController",["$scope","$state","applicationService","dashboardService","tokenService","context","APP_CONFIG",function(a,b,c,d,e,f,g){g.FUTURESEASON&&d.getTracks().length&&b.go("main.newdashboard"),a.title="token",a.user=f,a.validateToken=function(a,g){return g.validate()?void(a&&e.validateToken(a).then(function(a){a.email=f.emailAddress,c.setApplication(a),d.getLastAccessedApplication(a).then(function(){b.go("main.create")})})):!1}}]),angular.module("myeras.create",["ui.router"]).controller("createController",["$cacheFactory","$scope","$state","$timeout","applicationService","dashboardService","generalService","refDataService","context","APP_CONFIG","$log","$filter","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){return b.tokenType===o}b.nbomeId=0,b.usmleId=0,b.months=h.getMonths(),b.fromYear=j.SEASON-65,b.tokenType=null;var o="CaRMS";b.years=h.getUpToYears(b.fromYear,j.SEASON),e.getApplication().then(function(a){a?a.statusRegisteredDt?c.go("main.newdashboard"):(a.inst||(a.inst={}),a.countryOb=a.inst.countryCd,a.school=a.inst.instId,b.user=i,b.currentPage=3,b.editMode=!1,b.app=a,b.tokenType=b.app.inst.caRMS?o:b.tokenType,k.debug(b.app.applicationType),"IMG"===b.app.fellowshipType&&(b.app.inst.countryCd=null,b.app.inst.instId=null),b.app.inst.caRMS&&(b.app.inst.instId=null),h.getCountries().then(function(a){a&&(b.country=a,_.contains(["R","F"],b.app.applicationType)&&"IMG"===b.app.residencyType?b.country=_.remove(b.country,function(a){return"USA"!==a.countryCd&&"CAN"!==a.countryCd}):n()&&"MD"===b.app.residencyType&&(b.country=_.remove(b.country,function(a){return"USA"===a.countryCd||"CAN"===a.countryCd})))})):c.go("main.token")});var p=function(){var a="We were unable to provide access to MyERAS.Your token and medical school information do not match.Please ensure that you are entering the correct token. If the token seems to be correct, please contact your designated Dean's office.",c="You cannot register with ERAS if you graduated from San Juan Bautista School of Medicine prior to 08/2007.Please contact San Juan Bautista for more information and instructions.",d="You are using a U.S Graduate token. If you are an International Medical Graduate, please do not continue and contact the EFDO for assistance.",e="You cannot register with ERAS since you graduated from Fifth Pathway after 2009. Contact Fifth Pathway for more information and instructions.",f="You are using an International Medical Graduate token. If you are a U.S or Canadian Medical Graduate, please do not continue and contact the EFDO for assistance.";"F"===b.app.applicationType&&("IMG"!==b.app.fellowshipType||"USA"!==b.app.inst.countryCd&&"CAN"!==b.app.inst.countryCd||(b.errors.push(f),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"DO"===b.app.fellowshipType&&"USA"!==b.app.inst.countryCd&&(b.errors.push(d),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"MD"===b.app.fellowshipType&&"USA"!==b.app.inst.countryCd&&"CAN"!==b.app.inst.countryCd&&(b.errors.push(d),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"IMG"===b.app.fellowshipType&&206734===b.app.inst.instId&&b.app.degreeyear>=2010&&(b.errors.push(e),m.addDetailedAlert(b.errors,3e3,"error",!1,"showError")),"835"==b.app.inst.instId&&(b.app.degreeyear<2007||2007==b.app.degreeyear&&b.app.degreemonth<8)&&(b.errors.push(c),m.addDetailedAlert(b.errors,0,"error",!0,"showError"))),"R"===b.app.applicationType&&("IMG"!==b.app.residencyType||"USA"!==b.app.inst.countryCd&&"CAN"!==b.app.inst.countryCd||(b.errors.push(a),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"DO"!==b.app.residencyType||"USA"===b.app.inst.countryCd&&b.app.countryOb===b.app.inst.countryCd&&b.app.school===b.app.inst.instId||(b.errors.push(a),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"MD"===b.app.residencyType&&"CAN"!==b.app.inst.countryCd&&"USA"!==b.app.inst.countryCd&&(b.errors.push(a),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"MD"!==b.app.residencyType||"CAN"!==b.app.inst.countryCd&&"USA"!==b.app.inst.countryCd||(b.app.countryOb!==b.app.inst.countryCd||!n()&&b.app.school!==b.app.inst.instId||n()&&"CAN"!==b.app.inst.countryCd)&&(b.errors.push(a),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"835"==b.app.inst.instId&&(b.app.degreeyear<2007||2007==b.app.degreeyear&&b.app.degreemonth<8)&&(b.errors.push(c),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),"IMG"===b.app.residencyType&&206734===b.app.inst.instId&&b.app.degreeyear>=2010&&(b.errors.push(e),m.addDetailedAlert(b.errors,3e3,"error",!1,"showError")))};b.register=function(){return b.formValidator.validate("createForm",!0)?(h.getSchool(b.app.inst.countryCd).then(function(a){b.school=a,angular.forEach(b.school,function(a){a.instId===b.app.inst.instId&&(b.app.inst.instName=a.instName)})}),b.errors.length=0,m.dismissAlert(),b.nbomeId=b.app.nbomeId,b.usmleId=b.app.usmleId,h.getCountry(b.app.inst.countryCd).then(function(a){b.app.inst.countryDesc=a.countryDesc}),p(),(null===b.app.degreeyear||void 0===b.app.degreeyear)&&(b.errors.push("Please Select Degree Year."),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),void(b.errors.length||(b.year=b.app.degreeyear,b.app.checked?b.currentPage=1:(b.errors.push("You are required to agree to these policies/handling of your data to access the MyERAS application."),m.addDetailedAlert(b.errors,0,"error",!0,"showError"))))):!1},b.$watch("app.inst.countryCd",function(a){if(a){var c={instId:0,instName:"Other Institution",countryCd:"",instTypeCd:""};b.countryMismatchError=null,b.schoolMismatchError=null,b.app.country&&b.app.country!==a&&(b.school=null,b.app.inst.instId=null,b.app.inst.instName=null),b.app.country=a,h.getSchool(a).then(function(d){b.school=d,"USA"!==a&&"CAN"!==a&&b.school.push(c),b.school&&1===d.length&&"IMG"===b.app.fellowshipType&&(b.app.inst.instId=0)})}}),b.$watch("app.inst.instId",function(a){a&&(k.debug("instId Watch"),b.editMode||0!==b.app.inst.instId||(b.app.inst.instName=null))}),b.valueUSMLEChange=function(){b.errors.length=0},b.valueNBOMEIDChange=function(){b.errors.length=0},b.valueDegreeYearChange=function(){b.errors.length=0},b.reset=function(a){b.app=null},b.complete=function(){c.go("main.newdashboard")},b.cancelTokenEntry=function(){j.SEASON=null,c.go("main.token")},b.edit=function(){b.errors.length=0,b.currentPage=3;var a={instId:0,instName:"Other Institution",countryCd:"",instTypeCd:""};"USA"!==b.app.inst.countryCd&&"CAN"!==b.app.inst.countryCd&&(k.debug("ckecking country conditions"),b.school.push(a)),b.school&&1===b.school.length&&"IMG"===b.app.fellowshipType&&(b.app.inst.instId=0),b.editMode=!0},b.confirm=function(){b.disableConfirm=!0,b.continueScreen={},b.continueScreen.isBusy=!0;var c=angular.copy(b.app),d=c.inst.countryCd,h=b.app.degreeyear,j=c.degreemonth;if(b.errors.length=0,p(),b.app.degreeyear!==b.year&&(b.errors.push("Degree Year mismatch."),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),b.app.usmleId!==b.usmleId&&(b.errors.push("USMLE ID mismatch."),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),b.app.nbomeId!==b.nbomeId&&(b.errors.push("NBOME ID mismatch."),m.addDetailedAlert(b.errors,0,"error",!0,"showError")),!b.errors.length){if(c.aamcId=i.aamcId,c.email=i.emailAddress,c.firstName=i.givenName,c.middleName=i.initials,c.lastName=i.surname,c.suffix=i.suffix,c.instId="000"===c.inst.instId?null:c.inst.instId,
c.inst.instId=c.instId,delete c.checked,delete c.countryOb,delete c.school,delete c.degreeyear,delete c.degreemonth,delete c.fullName,delete c.country,delete c.schoolNotListed,c.inst){var k=c.inst;delete c.inst,c.inst={},c.inst.instId=k.instId,c.inst.instName=k.instName,c.inst.countryCd=k.countryCd,c.inst.instTypeCd=k.instTypeCd}var l={id:{applicationId:b.app.applicationId,medSeqNbr:0},medCountryCd:d,medDegreeYr:h,medInstitutionId:b.app.inst.instId,medDegreeMth:j,medInstitutionName:b.app.inst.instName};g.saveMedicalEducation(l).then(function(d){e.save(c).then(function(c){a.get("restCache").removeAll(),b.app=c,e.clearCache();var d=a.get("appCache");d||(d=a("appCache")),d.put("application",c),b.disableConfirm=!1,b.continueScreen.isBusy=!1,b.currentPage=4,f.setTracks(c).then(function(){b.disableConfirm=!1,b.continueScreen.isBusy=!1,b.currentPage=4,m.$broadcast("handleFirstAppRegistrationBroadcast")})})})}}}]),angular.module("myeras.refDataService",[]).factory("refDataService",["$q","Restangular","myerasCache","APP_CONFIG","urlService",function(a,b,c,d,e){var f=e.appService,g=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],h=(new Date).getFullYear(),i=[{code:1,columnCode:"evB1"},{code:2,columnCode:"evB2"},{code:3,columnCode:"evF1"},{code:4,columnCode:"evF2"},{code:5,columnCode:"evH1"},{code:6,columnCode:"evH1b"},{code:7,columnCode:"evH2b"},{code:8,columnCode:"evH4"},{code:9,columnCode:"evJ1"},{code:10,columnCode:"evJ2"},{code:11,columnCode:"evO1"},{code:12,columnCode:"evTn"},{code:13,columnCode:"evE2"},{code:14,columnCode:"evDS"},{code:15,columnCode:"evImm"},{code:16,columnCode:"evEad"},{code:17,columnCode:"evOth"},{code:18,columnCode:"evL2"},{code:19,columnCode:"evDaca"}],j=function(b,d){var e=a.defer(),g=c.get(b)?c.get(b):[];return g.length>0?e.resolve(angular.copy(g)):d?f.getList(b,d).then(function(a){a&&(g=a.plain(),c.put(b,g),e.resolve(angular.copy(g)))}):f.getList(b).then(function(a){a&&(g=a.plain(),c.put(b,g),e.resolve(angular.copy(g)))}),e.promise},k=function(b,d,e){var g=a.defer(),h=c.get(b)?c.get(b):{};return h&&h[d]?g.resolve(angular.copy(h[d])):f.getList(b,e).then(function(a){a&&(h[d]=a.plain(),c.put(b,h)),g.resolve(angular.copy(h[d]))}),g.promise},l=function(b){var d=a.defer(),e=c.get(b)?c.get(b):null;return e?d.resolve(e):f.one(b).get().then(function(a){a&&(e=a,c.put(b,e),d.resolve(e))}),d.promise};return{initRefData:function(){c.get("countries")||this.getCountries().then(function(a){c.put("countries",a)}),c.get("months")||c.put("months",this.getMonths()),c.get("languages")||this.getLanguages().then(function(a){c.put("languages",a)}),c.get("usaStates")||this.getStates("USA").then(function(a){c.put("usaStates",a)}),c.get("canStates")||this.getStates("CAN").then(function(a){c.put("canStates",a)}),c.get("specialties")||this.getSpecialties().then(function(a){c.put("specialties",a)}),c.get("suffixes")||this.getSuffixes().then(function(a){c.put("suffixes",a)}),c.get("langProficiencies")||this.getLangProficiencies().then(function(a){c.put("langProficiencies",a)}),c.get("genders")||this.getGenders().then(function(a){c.put("genders",a)}),c.get("citizenShips")||this.getCitizenship().then(function(a){c.put("citizenShips",a)}),c.get("visas")||this.getVisa().then(function(a){c.put("visas",a)}),c.get("trainingTypes")||this.getTrainingTypes().then(function(a){c.put("trainingTypes",a)}),c.get("experienceTypes")||this.getExperienceTypes().then(function(a){c.put("experienceTypes",a)})},getCountries:function(){var b=a.defer(),e=c.get("countries")?c.get("countries"):[];return e.length>0?b.resolve(angular.copy(e)):f.getList("countries",{season:d.SEASON}).then(function(a){a.sort(function(a,b){return"USA"===a.countryCd?-1:"USA"===b.countryCd?1:"CAN"===a.countryCd?-1:"CAN"===b.countryCd?1:a.countryDesc>b.countryDesc?1:-1}),e=a.plain(),c.put("countries",e),b.resolve(angular.copy(e))}),b.promise},getSchool:function(a){return k("schools",a,{countryCd:a})},getStates:function(a){return k("states",a,{countryCd:a,season:d.SEASON})},getMonths:function(){return g},getUpToMonths:function(a){var b=[];if(g)for(var c=0;a>c;c++)b.push(g[c]);return b},getYears:function(a,b){var c=[];a=a||h-64,b=b||h+36;for(var d=b;d>=a;d--)c.push(d);return c},getUpToCurrentYears:function(a,b){var c=[];a=a||h-64,b=b||h;for(var d=b;d>=a;d--)c.push(d);return c},getUpToYears:function(a,b){var c=[];a=a||h-76,b=b||h+1;for(var d=b;d>=a;d--)c.push(d);return c},getCurrentMonthAndYear:function(){return l("currentDate")},getLanguages:function(){return j("languages",{season:d.SEASON})},getSuffixes:function(){return j("suffixes")},getLangProficiencies:function(){return j("langProficiencies",{season:d.SEASON})},getGenders:function(){return j("genders",{season:d.SEASON})},getCitizenship:function(){return j("citizenships",{season:d.SEASON})},getVisa:function(){var b,e=a.defer(),g=c.get("visas")?c.get("visas"):[];return g.length>0?e.resolve(g):f.getList("visas",{season:d.SEASON}).then(function(a){_.forEach(a,function(a){b=_.find(i,{code:a.visaCode}),a.colCode=b?b.columnCode:null}),g=a.plain(),c.put("visas",g),e.resolve(g)}),e.promise},getSpecialties:function(){return j("specialties")},getTrainingTypes:function(){return j("trainingTypes",{season:d.SEASON})},getExperienceTypes:function(){return j("experienceTypes",{season:d.SEASON})},getMilitaryBranches:function(){return j("militaryBranches",{season:d.SEASON})},getServerCurrentDate:function(){return f.one("currentDate").get()},getMilitaryBranch:function(a,b){var c=null;if(a)for(var d=0;d<a.length;d++)if(b===a[d].militaryBranchCode)return a[d];return c},fetchGenderData:function(a,b){var c={};if(b)for(var d=0;d<b.length;d++)if("U"===a&&(a="N"),a===b[d].sexCode)return b[d];return c},getCountry:function(a){return f.one("countries",a).get({season:d.SEASON})},getFromYears:function(a,b,c){var d=[];a=a||c-65,b=b||h;for(var e=b;e>=a;e--)d.push(e);return d},getToYears:function(a,b,c){var d=[];a=a||c-65,b=b||c+35;for(var e=b;e>=a;e--)d.push(e);return d},getDocCodes:function(){return{USMLE:{docType:"USMLE Transcript",docCd:"6"},COMLEX:{docType:"COMLEX-USA Transcript",docCd:"14"},ABSITE:{docType:"ABSITE",docCd:"15"},PTAL:{docType:"Postgraduate Training Authorization Letter (PTAL)",docCd:"20"},LOR:{docType:"Letter of Recommendation",docCd:"5"},PREPENDED_LOR:{docType:"PRE-PENDED LOR",docCd:"19"},PERSONAL_STMT:{docType:"Personal Statement",docCd:"4"},ECFMG:{docType:"ECFMG Status Report",docCd:"12"},MSTRANSCRIPT:{docType:"MST",docCd:"8"},MSPE:{docType:"MSPE",docCd:"9"},PHOTO:{docType:"Photo",docCd:"10"},USMLETRANSCRIPT:{docType:"USMLE Transcript",docCd:"11"},COMLEXTRANSCRIPT:{docType:"COMLEX-USA Transcript",docCd:"13"}}},getProgramBillingCodes:function(){return j("billings",{season:d.SEASON})},getSspStatuses:function(){return f.getList("sspStatuses",{season:d.SEASON})},getAoaStatuses:function(){return f.getList("aoaStatuses",{season:d.SEASON})},getGhhsStatuses:function(){return f.getList("ghhsStatuses",{season:d.SEASON})},getTimelines:function(){return f.getList("timelines",{season:d.SEASON})}}}]),angular.module("myeras.htmlContent",[]).directive("aamcHtmlContent",["$filter","$state","$compile","$sce","contentService",function(a,b,c,d,e){return{restrict:"A",replace:!0,scope:{},controller:function(){e.setCurrentRoute(b)},link:function(a,b,c){e.getContent(c.aamcHtmlContent).then(function(a){null!=a&&"undefined"!==a&&b.html(d.trustAsHtml(a.displayText))})}}}]),angular.module("myeras.tokenService",[]).factory("tokenService",["$q","APP_CONFIG","Restangular","urlService",function(a,b,c,d){var e=d.appService.one("applications");return{validateToken:function(a){return e.one("token",a).get()}}}]),angular.module("myeras.personalService",[]).factory("personalService",["$q","$log","applicationService","Restangular","urlService",function(a,b,c,d,e){var f=e.appService,g=null;return{getApplicantData:function(a){return f.one("applications",a).get()},updatePersonalData:function(a,b,c){return c&&c.statusId&&(g=c.statusId),f.one("applications").customPUT(a,b+"/edit",{statusId:g})},updateCitizenshipStatus:function(a,b,c){return c&&c.statusId&&(g=c.statusId),f.one("applications").customPUT(a,b+"/edit",{statusId:g})},findExpectedVisa:function(a){return f.one("expectedVisas").get({applicationId:a})},addExpectedVisa:function(a){return a.applicationId=c.applicationId,f.post("expectedVisas",a)},updateExpectedVisa:function(a,b){return f.customPUT(a,"expectedVisas/"+b)},deleteExpectedVisa:function(a){return f.one("expectedVisas",a).remove()}}}]),angular.module("myeras.generalService",[]).factory("generalService",["$q","Restangular","APP_CONFIG","urlService",function(a,b,c,d){var e=d.appService,f=(new Date).getFullYear(),g=[],h=[],i=[];return{getAllDegrees:function(){var b=a.defer();return g&&g.length>0?b.resolve(angular.copy(g)):e.one("degrees").getList("all").then(function(a){a&&(g=a.plain(),b.resolve(angular.copy(g)))}),b.promise},saveHidehigherEducation:function(a){return h=[],e.post("higherEducation",a)},getAllHigherEducation:function(a){return e.one("higherEducation").get({applicationId:a})},updateHigherEducation:function(a){return h=[],e.customPUT(a,"higherEducation/"+a.id.applicationId+"/"+a.id.eduSeqNbr)},deleteHigherEducation:function(a,b){return h=[],e.one("higherEducation/"+a+"/"+b).remove()},saveMedicalEducation:function(a){return i=[],e.post("medicalEducation",a)},getAllMedicalEducation:function(a){return e.getList("medicalEducation",{applicationId:a})},updateMedicalEducation:function(a){return i=[],e.customPUT(a,"medicalEducation/"+a.id.applicationId+"/"+a.id.medSeqNbr)},deleteMedicalEducation:function(a,b){return i=[],e.one("medicalEducation/"+a+"/"+b).remove()},getClinicalCampuses:function(a){return e.getList("campuses",{instId:a})},getMedicalEducation:function(a){return e.one("medicalEducation",a).one("0").get()},getCountryDetails:function(a){return e.one("countries",a).get({season:c.SEASON})},getInstitutionDetails:function(a){return e.one("institutions",a).get()},getAllCampuses:function(a){return e.getList("campuses")},getUpToCurrentYears:function(a,b,c){var d=[];a=a||c-65,b=b||c+35;for(var e=b;e>=a;e--)d.push(e);return d},getApplicationSeason:function(){return e.getList("season",{appName:"MYERAS"})},getCurrentMonthAndYear:function(){return e.one("currentDate").get()},getFromYears:function(a,b,c){var d=[];a=a||c-65,b=b||f;for(var e=b;e>=a;e--)d.push(e);return d},getToYears:function(a,b,c){var d=[];a=a||c-65,b=b||c+35;for(var e=b;e>=a;e--)d.push(e);return d},getDegreesByType:function(a){return e.getList("degrees?degreeTypeCd="+a)}}}]),angular.module("myeras.general",["ui.router","myeras.fiterByProperty"]).controller("generalController",["$scope","$state","$modal","applicationService","APP_CONFIG","refDataService","generalService","$filter","$timeout","$anchorScroll","$log","log","myerasCache",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(b){a.MedicalEducation=b,a.medCountryCd=a.MedicalEducation.medCountryCd,a.institution=a.MedicalEducation.medInstitutionName,a.instId=a.MedicalEducation.medInstitutionId,a.medicalGeneral=a.MedicalEducation,g.getCountryDetails(a.medCountryCd).then(function(b){a.country=b,a.medCountryCd=a.country.countryCd,a.medCountryDesc=a.country.countryDesc}),g.getInstitutionDetails(a.instId).then(function(b){b&&(a.institution=b.instName,a.instId=b.instId)}),g.getClinicalCampuses(a.instId).then(function(b){a.clinicalCampuses=b}),b&&b.medDegreeCd?a.firstMedComplete=!0:a.firstMedComplete=!1}a.higherEduGeneral={},a.applicationId=d.applicationId,a.applicationObject1={},a.applicationObject={},a.medicalGeneral={},a.caf={},a.success={},a.medicalEducation={},a.SeasonObjects=[],a.showUpdate=!1,a.medDegrees=[],a.higherDegrees=[],a.forms={},a.validationHigherMsg=null,a.sectionErrorHigher="",a.validationMedicalMsg=null,a.sectionErrorMedical="";var o=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/general/higherEducation-modal.html"}),p=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/general/medicalEducation-modal.html"});a.isFormValid=function(b){var c=_.result(_.find(a.formValidator.forms,function(a){return a.name===b}),"valid");return _.isUndefined(c)&&(c=!0),c},a.hidehigherEducationModal=function(){o.$promise.then(o.hide)},a.showHigherEducationModal=function(){a.editMode=!1,a.editMode1=!0,a.indicatorMode=!0,a.higherEduGeneral={},o.$promise.then(o.show)},a.showEditHigherEducationModal=function(){o.$promise.then(o.show)},a.hideMedicalEducationModal=function(){p.$promise.then(p.hide)},a.hideMedicalEducationModalForCancel=function(){a.medicalGeneral={},a.clinicalCampuses=[],a.schoolNotListed=null,a.showUpdate=!1,p.$promise.then(p.hide)},a.showEditMedicalEducationModal=function(){p.$promise.then(p.show)},a.showMedicalEducationModal=function(){a.showUpdate=!1,a.medicalGeneral={},a.clinicalCampuses=[],a.schoolNotListed=null,a.medicalEducation={id:{applicationId:d.applicationId}},a.school=null,a.medicalEducation1.schoolNotListed={},p.$promise.then(p.show)},a.medicalEducation1={},a.valuedata=function(b,c){var d={instId:"000",instName:"Other Institution",countryCd:"",instTypeCd:""};a.school=[],a.medicalEducation1.schoolNotListed=null,b&&f.getSchool(b).then(function(e){a.school=e,0===e.length&&(a.medicalEducation.medInstitutionId=null),"USA"!==b&&"CAN"!==b&&a.school.push(d),a.school&&(1===e.length&&"IMG"===a.applicationData.fellowshipType||e.length>=1&&a.medicalEducation1.schoolNotListed)?a.medicalEducation.medInstitutionId="000":a.school&&e.length>=1&&!a.medicalEducation1.schoolNotListed&&(!a.medicalEducation.medInstitutionId||"000"===a.medicalEducation.medInstitutionId||c)&&(a.medicalEducation.medInstitutionId=null)})},a.schoolvalueChange=function(b,c){a.medicalEducation1.schoolNotListed=null,a.medicalGeneral.medInstitutionName=null,b?g.getClinicalCampuses(b).then(function(b){a.clinicalCampuses=b}):a.clinicalCampuses=null},d.getApplication().then(function(b){b&&(a.applicationId=b.applicationId,a.applicationData=b,a.medicalGeneral.degreeEarned="Y",f.getCountries().then(function(c){a.countries=c,a.medAdditionCountries=angular.copy(c),a.countries&&a.countries.length>2&&(a.USandCanada=a.countries.slice(0,2)),g.getMedicalEducation(a.applicationId).then(function(c){c?(k.debug("GETTING MED ED"),k.debug(c),a.MedicalEducation=c,a.medicalEducationCopy=c,a.valuedata(c.medCountryCd),(0===c.medInstitutionId||null===c.medInstitutionId)&&(k.debug("SETTING MED INST TO OTHER..."),a.MedicalEducation.medInstitutionId="000"),n(c)):(k.debug("NO MED ED FOUND. THIS SHOULD NOT HAVE HAPPENED. CREATING DEFAULT RECORD."),g.saveMedicalEducation({id:{applicationId:b.applicationId,medSeqNbr:0},medCountryCd:b.inst.countryCd,medInstitutionId:b.inst.instId}).then(function(a){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){n(a)})}))})}),g.getApplicationSeason().then(function(b){a.SeasonObjects=b,a.seasonYear=b[0].season,a.degYears=g.getUpToCurrentYears(0,0,a.seasonYear),a.fromYears=g.getFromYears(0,0,a.seasonYear),a.years=g.getToYears(0,0,a.seasonYear)}),g.getAllHigherEducation(a.applicationId).then(function(b){a.allHigherEducations=b}),d.getApplicationChecklist().then(function(b){a.applicationObject=b}),a.isBusy=!0,g.getAllMedicalEducation(a.applicationId).then(function(b){b&&(a.allMedicalEducations=b,g.getAllCampuses().then(function(b){a.allCampuses=b})),a.isBusy=!1}),d.getCAF(b.applicationId).then(function(b){a.caf=b}))}),a.getCampusDetails=function(b){return b&&a.allCampuses?h("fiterbyproperty")(a.allCampuses,"campusInstId",b,"campusName"):void 0},a.saveHidehigherEducation=function(){var b=a.higherEduGeneral,c=!a.formValidator.validate("higherEducationForm",!0),e=b.educationStartMonth>b.educationEndMonth&&b.educationStartYear===b.educationEndYear,f=b.educationEndYear&&b.educationStartYear>b.educationEndYear;if(c||e||f)return!1;var h={id:{applicationId:a.applicationId,eduSeqNbr:1},educationInstitution:b.educationInstitution,educationMajor:b.educationMajor,degreeCode:b.degreeCode,degreeIndicator:b.degreeIndicator,location:b.location,degreeYear:b.degreeYear,degreeMonth:b.degreeMonth,educationStartYear:b.educationStartYear,educationStartMonth:b.educationStartMonth,educationEndYear:b.educationEndYear,educationEndMonth:b.educationEndMonth,educationTypeIndicator:b.educationTypeIndicator};a.allHigherEducations&&a.allHigherEducations.length&&(h.id.eduSeqNbr=a.allHigherEducations[a.allHigherEducations.length-1].id.eduSeqNbr+1),a.hidehigherEducationModal(),g.saveHidehigherEducation(h).then(function(b){a.allHigherEducations&&a.allHigherEducations.length&&0===a.allHigherEducations[0].id.eduSeqNbr?g.deleteHigherEducation(d.applicationId,0).then(function(){d.setChecklistComplete(d.applicationId,"higherEducSavedDt").then(function(){a.higherEduGeneral={},a.AllsavedHigherEducations(),l.success("Saved Successfully"),a.validationHigherMsg=null,a.sectionErrorHigher=""})}):d.setChecklistComplete(d.applicationId,"higherEducSavedDt").then(function(){a.higherEduGeneral={},a.AllsavedHigherEducations(),l.success("Saved Successfully"),a.validationHigherMsg=null,a.sectionErrorHigher=""})}),a.applicationObject1.higherEducSavedDt=null},a.checkAndDeleteNoneRecords=function(){a.allHigherEducations&&a.allHigherEducations.length&&0===a.allHigherEducations[0].id.eduSeqNbr&&g.deleteHigherEducation(d.applicationId,0).then(function(){a.AllsavedHigherEducations()})},a.months=f.getMonths(),g.getDegreesByType("MEDICAL").then(function(b){b&&(a.medDegrees=b.plain())}),g.getDegreesByType("HIGHER").then(function(b){b&&(a.higherDegrees=b.plain())}),a.editMode=!1,a.editMode1=!0,a.dataHigherEducation=function(b){a.editMode1=!1,a.editMode=!0,a.higherEduGeneral=angular.copy(b),a.showEditHigherEducationModal()},a.dwsDegMonths=f.getMonths(),a.dwsFromMonths=f.getMonths(),a.dwsToMonths=f.getMonths(),a.medFromYears=f.getUpToCurrentYears(),a.years=f.getYears(),a.currentYear=(new Date).getFullYear(),a.currentMonth=(new Date).getMonth()+1,a.medFromYear=e.SEASON-65,a.medDegYears=f.getUpToYears(a.fromYear,e.SEASON),a.medDegMonths=f.getMonths(),a.medFromYears=f.getUpToYears(a.fromYear,a.currentYear),a.medFromMonths=a.months,a.medToYears=f.getUpToYears(a.fromYear,e.SEASON),a.medToMonths=a.months,a.dwsDegYears=f.getUpToYears(a.fromYear,e.SEASON),a.dwsFromYears=f.getUpToYears(a.fromYear,a.currentYear),a.dwsToYears=f.getUpToYears(a.fromYear,e.SEASON),a.editMode=!1,a.editMode1=!0,a.dataHigherEducation=function(b){a.editMode1=!1,a.editMode=!0,a.higherEduGeneral=angular.copy(b),a.showEditHigherEducationModal()},a.updateHigherEducation=function(){return a.formValidator.validate("higherEducationForm",!0)?(g.updateHigherEducation(a.higherEduGeneral).then(function(b){d.setChecklistComplete(d.applicationId,"higherEducSavedDt").then(function(){a.higherEduGeneral=b,a.AllsavedHigherEducations(),a.hidehigherEducationModal(),l.success("Updated Successfully"),a.validationHigherMsg=null,a.sectionErrorHigher=""})}),a.higherEduGeneral={},void(a.applicationObject1.higherEducSavedDt=null)):!1},a.AllsavedHigherEducations=function(){g.getAllHigherEducation(a.applicationId).then(function(b){a.allHigherEducations=b})},a.indicatorMode=!0,a.degreeIndicatorChange=function(b){"Y"===b||void 0===b?a.indicatorMode=!0:a.indicatorMode=!1},a.deleteHigherEducationData=function(b){a.higherEducationData=b},a.deleteHigherEducation=function(){g.deleteHigherEducation(a.applicationId,a.higherEducationData.id.eduSeqNbr).then(function(){d.setChecklistComplete(d.applicationId,"higherEducSavedDt").then(function(){a.AllsavedHigherEducations(),l.success("Deleted Successfully")})}),a.applicationObject1.higherEducSavedDt=null},a.applicationObject1.higherEducSavedDt=null,a.noneHigherEducationDetails=function(){var b={id:{applicationId:a.applicationId,eduSeqNbr:0},educationInstitution:"None"};g.saveHidehigherEducation(b).then(function(b){d.setChecklistComplete(d.applicationId,"higherEducSavedDt").then(function(){l.success("Saved Successfully"),a.higherEduGeneral={},a.AllsavedHigherEducations(),a.validationHigherMsg=null,a.sectionErrorHigher=""})})},a.applicationChecklistsForHigherEducation=function(){d.setChecklistComplete(a.applicationId,"higherEducSavedDt",!1).then(function(b){a.applicationObject=b})},a.updateNoneHigherEducationDetails=function(){d.setChecklistComplete(a.applicationId,"higherEducSavedDt",!0).then(function(b){a.applicationObject=b})},a.AllsavedMedicalEducations=function(){g.getAllMedicalEducation(a.applicationId).then(function(b){a.allMedicalEducations=b,a.firstMedComplete=!0})},a.saveMedicalEducation=function(b){var c=a.school,e=c?c.length:0,f=!a.formValidator.validate("medicalEducationForm",!0),h=!b.medInstitutionId,i=b.medStartMth>b.medEndMth&&b.medStartyr===b.medEndYr,j=b.medStartyr>b.medEndYr,k=b.medDegreeYr>2009&&206734===b.medInstitutionId,m=!b.medEndYr&&b.medEndMth||!b.medEndMth&&b.medEndYr;if(k&&l.error("You cannot add medical education since you graduated from Fifth Pathway after 2009. Contact Fifth Pathway for more information and instructions."),f||h||i||j||k||m)return!1;if(e>0)for(;e--;)if(c[e].instId===b.medInstitutionId){b.medInstitutionName=c[e].instName;break}(void 0===b.medInstitutionId||null===b.medInstitutionId||"000"===b.medInstitutionId)&&(b.medInstitutionName=a.medicalEducation1.schoolNotListed,b.medCcId=null),a.hideMedicalEducationModal(),b.id&&b.id.medSeqNbr?("N"===b.medDegreeInd&&(b.medDegreeCd=null,b.medDegreeMth=null,b.medDegreeYr=null),g.updateMedicalEducation(b).then(function(b){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){a.medicalGeneral={},a.AllsavedMedicalEducations(),l.success("Updated Successfully")})})):(a.allMedicalEducations&&a.allMedicalEducations.length?b.id.medSeqNbr=a.allMedicalEducations[a.allMedicalEducations.length-1].id.medSeqNbr+1:b.id.medSeqNbr=1,g.saveMedicalEducation(b).then(function(b){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){a.medicalGeneral={},a.AllsavedMedicalEducations(),l.success("Saved Successfully"),a.validationMedicalMsg=null,a.sectionErrorMedical=null})}))},a.editModeForMedical=!1,a.editModeForMedical1=!0,a.dataMedicalEducation=function(b){0===b.medInstitutionId&&(b.medInstitutionId="000"),g.getClinicalCampuses(b.medInstitutionId).then(function(b){a.clinicalCampuses=b}),a.showUpdate=!0,a.editModeForMedical1=!1,a.editModeForMedical=!0,a.medicalEducation=angular.copy(b),b&&a.valuedata(b.medCountryCd),a.showEditMedicalEducationModal(),"000"===b.medInstitutionId&&(a.medicalEducation1.schoolNotListed=b.medInstitutionName)},a.deleteMedicalEducationData=function(b){a.medicalEducationData=b},a.deleteMedicalEducation=function(){g.deleteMedicalEducation(a.applicationId,a.medicalEducationData.id.medSeqNbr).then(function(){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){a.AllsavedMedicalEducations(),l.success("Deleted Successfully")})})},a.updateMedicalEducation=function(b){var c=!a.formValidator.validate("medicalEducationForm",!0),e=!b.medInstitutionId,f=b.medStartMth&&b.medStartMth>b.medEndMth&&b.medStartyr===b.medEndYr,h=b.medEndYr&&b.medStartyr>b.medEndYr,i=b.medDegreeYr>2009&&206734===b.medInstitutionId,j=!b.medEndYr&&b.medEndMth||!b.medEndMth&&b.medEndYr,k=835===b.medInstitutionId&&(b.medDegreeYr<2007||2007===b.medDegreeYr&&b.medDegreeMth<8)&&0===b.id.medSeqNbr;return k&&l.error("You cannot update a medical education from San Juan Bautista School of Medicine with degree date prior to 08/2007. Please contact San Juan Bautista for more information and instructions. "),i&&l.error("You cannot update medical education since you graduated from Fifth Pathway after 2009. Contact Fifth Pathway for more information and instructions."),c||e||f||h||i||j||k?!1:void g.getInstitutionDetails(b.medInstitutionId).then(function(c){"000"!==b.medInstitutionId?b.medInstitutionName=c.instName:b.medInstitutionName=a.medicalEducation1.schoolNotListed,g.updateMedicalEducation(b).then(function(b){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){a.medicalGeneral=b,a.AllsavedMedicalEducations(),a.hideMedicalEducationModal(),l.success("Updated Successfully")})})})},a.saveMedicalEducationDefault=function(b){k.debug("SAVING MED ED DEFAULT ..."),a.isBusy=!0,b.medDegreeInd="Y";var c=835===b.medInstitutionId&&(b.medDegreeYr<2007||2007===b.medDegreeYr&&b.medDegreeMth<8),e=b.medDegreeYr>2009&&206734===b.medInstitutionId;return e?(l.error("You cannot update medical education since you graduated from Fifth Pathway after 2009. Contact Fifth Pathway for more information and instructions."),a.isBusy=!1,!1):c?(l.error("You cannot save a medical education from San Juan Bautista School of Medicine with degree date prior to 08/2007. Please contact San Juan Bautista for more information and instructions. "),a.isBusy=!1,!1):void g.getInstitutionDetails(b.medInstitutionId).then(function(c){"000"!==b.medInstitutionId&&(b.medInstitutionName=c.instName),g.updateMedicalEducation(b).then(function(b){d.setChecklistComplete(d.applicationId,"medicalEducSavedDt").then(function(){a.applicationData.instId!==b.medInstitutionId&&("000"!==b.medInstitutionId?a.applicationData.instId=b.medInstitutionId:a.applicationData.instId="000",d.updateApplication(a.applicationData)),a.AllsavedMedicalEducations(),l.success("Saved Successfully"),a.isBusy=!1,a.medicalGeneral={}})})})},a.hasHigherOrNone=function(){var b;return b=a.allHigherEducations&&a.allHigherEducations.length>0},a.hasMedical=function(){var b;return b=a.allMedicalEducations&&0!==a.allMedicalEducations.length},a.saveEducationPage=function(){var b=!0;return a.validationHigherMsg=null,a.sectionErrorHigher="",a.validationMedicalMsg=null,a.sectionErrorMedical="",a.hasHigherOrNone()||(a.validationHigherMsg="Please add an entry or select None",a.sectionErrorHigher="panel-danger",b=!1),a.hasMedical()||(a.validationMedicalMsg="Please add an entry or select None",a.sectionErrorMedical="panel-danger",b=!1),a.formValidator.validateAll(!0)||(a.firstMedComplete||a.formValidator.forms.medicalForm.valid||(a.sectionErrorMedical="panel-danger"),b=!1),b?void a.saveCAF():!1},a.saveCAF=function(){var b=a.medicalGeneral||{},c=b.medDegreeYr>2009&&206734===b.medInstitutionId,e=b.medStartMth>b.medEndMth&&b.medStartyr===b.medEndYr,f=b.medEndYr&&b.medStartyr>b.medEndYr,g=b.medEndYr&&!b.medEndMth||!b.medEndYr&&b.medEndMth;d.saveCAF(a.caf).then(function(h){d.setChecklistComplete(d.applicationId,"additionalQsEducSavedDt").then(function(){if(a.caf=h,a.firstMedComplete)l.success("Saved Successfully");else{var d=835===b.medInstitutionId&&(b.medDegreeYr<2007||2007===b.medDegreeYr&&b.medDegreeMth<8);if(c)return l.error("You cannot save medical education since you graduated from Fifth Pathway after 2009. Contact Fifth Pathway for more information and instructions."),!1;if(d)return l.error("You cannot save a medical education from San Juan Bautista School of Medicine with degree date prior to 08/2007. Please contact San Juan Bautista for more information and instructions. "),!1;if(c||e||f||g)return!1;a.saveMedicalEducationDefault(b)}})})},a.next=function(){d.saveCAF(a.caf).then(function(a){d.setChecklistComplete(d.applicationId,"additionalQsEducSavedDt").then(function(){b.go("main.experience"),j()})})},g.getCurrentMonthAndYear().then(function(b){a.monthYear=b;var c=new Date(1e3*a.monthYear);c.getMonth()+1}),a.isMedSchoolEditable=function(a){return a=a||{},"IMG"===a.residencyType||"IMG"===a.fellowshipType||"F"===a.applicationType},a.getCountries=function(b,c){return b=b||{},"IMG"===b.residencyType||"IMG"===b.fellowshipType?(a.countries=_.remove(a.countries,function(a){return"USA"!==a.countryCd&&"CAN"!==a.countryCd}),a.countries):!c||"DO"!==b.fellowshipType&&"MD"!==b.fellowshipType?a.countries:a.USandCanada},a.$watch("medicalEducation.medDegreeYr",function(b){b&&b===e.SEASON?(a.medDegMonths=f.getUpToMonths(6),a.medicalEducation.medDegreeMth>6&&(a.medicalEducation.medDegreeMth=null)):a.medDegMonths=f.getMonths()}),a.$watch("medicalEducation.medStartyr",function(b){b&&b===a.currentYear?(a.medFromMonths=f.getUpToMonths(a.currentMonth),a.medicalEducation.medStartMth>a.currentMonth&&(a.medicalEducation.medStartMth=null)):a.medFromMonths=f.getMonths()}),a.$watch("medicalEducation.medEndYr",function(b){b&&b===e.SEASON?(a.medToMonths=f.getUpToMonths(6),a.medicalEducation.medEndMth>6&&(a.medicalEducation.medEndMth=null)):a.medToMonths=f.getMonths()}),a.$watch("medicalGeneral.degreeYear",function(b){b&&b===e.SEASON?(a.dwsDegMonths=f.getUpToMonths(6),a.medicalGeneral.medDegreeMth>6&&(a.medicalGeneral.medDegreeMth=null)):a.dwsDegMonths=f.getMonths()}),a.$watch("medicalGeneral.medStartyr",function(b){b&&b===a.currentYear?(a.dwsFromMonths=f.getUpToMonths(a.currentMonth),a.medicalGeneral.medStartMth>a.currentMonth&&(a.medicalGeneral.medStartMth=null)):a.dwsFromMonths=f.getMonths()}),a.$watch("medicalGeneral.medEndYr",function(b){b&&b===e.SEASON?(a.dwsToMonths=f.getUpToMonths(6),a.medicalGeneral.medEndMth>6&&(a.medicalGeneral.medEndMth=null)):a.dwsToMonths=f.getMonths()}),a.$watch("medicalEducation.medInstitutionId ",function(b,c){b!==c&&null!==c&&(a.medicalEducation.medCcId=null)}),a.$watch("medicalGeneral.medInstitutionId ",function(b){b&&(a.medicalGeneral.medCcId=null)}),a.$watch("medicalGeneral.medDegreeYr",function(b){b&&b===e.SEASON?(a.dwsDegMonths=f.getUpToMonths(6),a.medicalGeneral.medDegreeMth>6&&(a.medicalGeneral.medDegreeMth=null)):a.dwsDegMonths=f.getMonths()}),a.$watch("medicalEducation.medDegreeInd",function(b){b&&"N"===b&&(a.medicalEducation.medDegreeCd=null,a.medicalEducation.medDegreeMth=null,a.medicalEducation.medDegreeYr=null)}),a.$watch("higherEduGeneral.degreeIndicator",function(b){b&&"N"===b&&(a.higherEduGeneral.degreeCode=null,a.higherEduGeneral.degreeMonth=null,a.higherEduGeneral.degreeYear=null)})}]),angular.module("myeras.publications",["ui.router"]).controller("publicationsController",["$modal","$scope","$state","applicationService","publicationService","$log","log","refDataService","$filter","$anchorScroll","APP_CONFIG","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){b.publication={},b.publications={},b.publicationCheckList={},b.deletePublication={},b.editPublicationData={},b.publicationObject1={},b.publicationDate=null,b.applicationId=d.applicationId,b.showNoneText=!1,b.enableNoneButton=!1,b.pub={AllPublications:[]},b.forms={},b.success={},b.currentMonth=(new Date).getMonth()+1,b.currentYear=(new Date).getFullYear(),b.validationPublicationMsg=null,b.sectionError="",e.getPublicationTypes().then(function(a){b.publicationTypes=a}),e.getPublicationStatuses().then(function(a){b.publicationStatuses=a}),d.getApplicationChecklist().then(function(a){b.publicationCheckList=a}),e.getAllPublications(b.applicationId).then(function(a){b.pub.AllPublications=a,d.getApplicationChecklist().then(function(a){b.applicationObject=a,!b.pub.AllPublications||b.pub.AllPublications&&0===b.pub.AllPublications.length?b.applicationObject&&b.applicationObject.publicationsSavedDt?(b.showNoneText=!0,b.enableNoneButton=!1):(b.showNoneText=!1,b.enableNoneButton=!0):b.pub.AllPublications&&1===b.pub.AllPublications.length&&0===b.pub.AllPublications[0].id.pubSeqNbr?(b.showNoneText=!0,b.enableNoneButton=!1):(b.showNoneText=!1,b.enableNoneButton=!1)})}),d.getApplicationChecklist().then(function(a){b.isChecklistComplete=d.isChecklistComplete});var m=a({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/publications/publications-modal.html",keyboard:!0});b.showPubModal=function(){m.$promise.then(m.show),b.countryCd=b.publication.publication3CountryCd||b.publication.publication6CountryCd||b.publication.publication7CountryCd||"USA",h.getStates(b.countryCd).then(function(a){b.states=a})},b.hidePubModal=function(){m.$promise.then(m.hide),b.publication={},b.publications={},b.editPublicationData={}},b.months=h.getMonths(),b.years=h.getYears(1930,k.SEASON),h.getCountries().then(function(a){b.countries=a}),b.nonePublicationButtonDisMode=!0,b.nonePublicationButtonDisModeClick=!1,
b.publicationObject1.publicationsSavedDt=new Date,b.nonePublicationDetails=function(){b.savePublicationObject={id:{applicationId:b.applicationId,pubSeqNbr:0},pubTitle:"None"},e.savePublication(b.savePublicationObject).then(function(a){d.setChecklistComplete(b.applicationId,"publicationsSavedDt").then(function(){b.publicationData=a,b.showNoneText=!0,b.enableNoneButton=!1,b.validationPublicationMsg=null,b.sectionError="",g.success("Saved Successfully"),e.getAllPublications(b.applicationId).then(function(a){b.pub.AllPublications=a})})})},b.applicationChecklistsForPublications=function(){d.setChecklistComplete(d.applicationId,"publicationsSavedDt",!1).then(function(a){b.publicationObject=a})},b.savePublicationPage=function(){b.pub.AllPublications.length||(b.validationPublicationMsg="Please add an entry or select None",b.sectionError="panel-danger")},b.savePublication=function(){return b.formValidator.validateAll(!0)?(b.publications.id||(b.publications.id={applicationId:b.applicationId,pubSeqNbr:1},b.pub.AllPublications.length&&(b.publications.id.pubSeqNbr=b.pub.AllPublications[b.pub.AllPublications.length-1].id.pubSeqNbr+1)),"1"===b.publications.pubTypeCd?(b.publication.publication1Date=b.publication.publication1Yr+"-"+b.publication.publication1Mnth+"-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication1Title,pubAuthor:b.publication.publication1AuthorNames,pubName:b.publication.publication1Name,pubVol:b.publication.publication1Volume,pubPages:b.publication.publication1PageNumbers,pubDt:b.publication.publication1Date,pubPmid:b.publication.pmId,pubIssue:b.publication.publication1IssueNumber,pubStatusCd:5}):"2"===b.publications.pubTypeCd?(b.publication.publication2Date=b.publication.publication2Yr+"-"+b.publication.publication2Mnth+"-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication2Title,pubAuthor:b.publication.publication2AuthorNames,pubName:b.publication.publication2Name,pubStatusCd:b.publication.pubStatusCd,pubDt:b.publication.publication2Date}):"3"===b.publications.pubTypeCd?(b.publication.publication3Date=b.publication.publication3Yr+"-01-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication3Title,pubName:b.publication.publication3BookName,pubAuthor:b.publication.publication3AuthorNames,pubEditor:b.publication.publication3EditorNames,pubPublisher:b.publication.publication3PublisherName,pubPages:b.publication.publication3PageNumbers,pubCountryCd:b.publication.publication3CountryCd,pubStateCd:b.publication.publication3StateCd,pubCity:b.publication.publication3City,pubDt:b.publication.publication3Date}):"4"===b.publications.pubTypeCd?("1"===b.publication.publication4IssueTypeCd?b.publication.publication4PageNumbers=b.publication.publication4IssueTypeNumber:"2"===b.publication.publication4IssueTypeCd?b.publication.publication4PartNumbers=b.publication.publication4IssueTypeNumber:"3"===b.publication.publication4IssueTypeCd?b.publication.publication4SerialNumbers=b.publication.publication4IssueTypeNumber:"4"===b.publication.publication4IssueTypeCd&&(b.publication.publication4WholeNumbers=b.publication.publication4IssueTypeNumber),b.publication.publication4Date=b.publication.publication4Yr+"-01-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication4Title,pubAuthor:b.publication.publication4AuthorNames,pubName:b.publication.publication4Name,pubVol:b.publication.publication4Volume,pubEditor:b.publication.publication4EditorNames,pubPublisher:b.publication.publication4PublisherName,pubIssue:b.publication.publication4IssueNumber,pubDt:b.publication.publication4Date,pubPages:b.publication.publication4PageNumbers,pubPartNbr:b.publication.publication4PartNumbers,pubSerialNbr:b.publication.publication4SerialNumbers,pubWholeNbr:b.publication.publication4WholeNumbers}):"5"===b.publications.pubTypeCd?b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication5Title,pubAuthor:b.publication.publication5AuthorNames,pubName:b.publication.publication5Name,pubDt:b.publication.publication5Date,pubStatusCd:5}:"6"===b.publications.pubTypeCd?(b.publication.publication6Date=b.publication.publication6Yr+"-"+b.publication.publication6Mnth+"-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication6Title,pubAuthor:b.publication.publication6AuthorNames,pubMtgName:b.publication.publication6EventName,pubCountryCd:b.publication.publication6CountryCd,pubStateCd:b.publication.publication6StateCd,pubCity:b.publication.publication6City,pubDt:b.publication.publication6Date}):"7"===b.publications.pubTypeCd?(b.publication.publication7Date=b.publication.publication7Yr+"-"+b.publication.publication7Mnth+"-01",b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication7Title,pubAuthor:b.publication.publication7AuthorNames,pubMtgName:b.publication.publication7EventName,pubCountryCd:b.publication.publication7CountryCd,pubStateCd:b.publication.publication7StateCd,pubCity:b.publication.publication7City,pubDt:b.publication.publication7Date}):"8"===b.publications.pubTypeCd?b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication8Title,pubAuthor:b.publication.publication8AuthorNames,pubUrl:b.publication.publication8Url,pubDt:b.publication.publication8Date,pubStatusCd:5}:"9"===b.publications.pubTypeCd&&(b.savePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication9Title,pubAuthor:b.publication.publication9AuthorNames,pubUrl:b.publication.publication9Url,pubDt:b.publication.publication9Date,pubStatusCd:5}),f.debug(b.savePublicationObject),b.hidePubModal(),b.pub.AllPublications&&b.pub.AllPublications.length>0?b.pub.AllPublications&&1===b.pub.AllPublications.length&&0===b.pub.AllPublications[0].id.pubSeqNbr?(e.deletePublication(b.pub.AllPublications[0].id.applicationId,b.pub.AllPublications[0].id.pubSeqNbr).then(function(){b.pub.AllPublications=[]}),b.savePublicationObject&&(b.savePublicationObject.id.pubSeqNbr=1)):b.savePublicationObject.id.pubSeqNbr=b.pub.AllPublications[b.pub.AllPublications.length-1].id.pubSeqNbr+1:b.savePublicationObject&&b.savePublicationObject.id&&(b.savePublicationObject.id.pubSeqNbr=1),e.savePublication(b.savePublicationObject).then(function(a){d.setChecklistComplete(b.applicationId,"publicationsSavedDt").then(function(){b.publicationData=a,b.pub.AllPublications&&b.pub.AllPublications.push(b.publicationData),b.publication={},b.showNoneText=!1,b.enableNoneButton=!1,g.success("Saved Successfully"),b.validationPublicationMsg=null,b.sectionError=""})}),b.nonePublicationButtonDisModeClick=!1,void(b.publicationObject1.pubSavedDt=null)):!1},b.editPublication=function(a){b.editPublicationData={},b.publications={},b.editPublicationData=angular.copy(a),f.debug(b.publications),b.publications.id=b.editPublicationData.id,b.publications.pubTypeCd=b.editPublicationData.pubTypeCd,b.applicationId=b.editPublicationData.id.applicationId,f.debug(b.editPublicationData.id),f.debug(b.publications.id),"1"===b.editPublicationData.pubTypeCd?(b.publication.publication1Title=b.editPublicationData.pubTitle,b.publication.publication1AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication1Name=b.editPublicationData.pubName,b.publication.publication1Volume=b.editPublicationData.pubVol,b.publication.publication1PageNumbers=b.editPublicationData.pubPages,b.publication.publication1Mnth=parseInt(i("date")(b.editPublicationData.pubDt,"MM"),10),b.publication.publication1Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10),b.publication.pmId=b.editPublicationData.pubPmid,b.publication.publication1IssueNumber=b.editPublicationData.pubIssue):"2"===b.editPublicationData.pubTypeCd?(b.publication.publication2Title=b.editPublicationData.pubTitle,b.publication.publication2AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication2Name=b.editPublicationData.pubName,b.publication.pubStatusCd=parseInt(b.editPublicationData.pubStatusCd,10),b.publication.publication2Mnth=parseInt(i("date")(b.editPublicationData.pubDt,"MM"),10),b.publication.publication2Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10)):"3"===b.editPublicationData.pubTypeCd?(b.publication.publication3Title=b.editPublicationData.pubTitle,b.publication.publication3BookName=b.editPublicationData.pubName,b.publication.publication3AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication3EditorNames=b.editPublicationData.pubEditor,b.publication.publication3PublisherName=b.editPublicationData.pubPublisher,b.publication.publication3PageNumbers=b.editPublicationData.pubPages,b.publication.publication3CountryCd=b.editPublicationData.pubCountryCd,b.publication.publication3StateCd=b.editPublicationData.pubStateCd,b.publication.publication3City=b.editPublicationData.pubCity,b.publication.publication3Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10)):"4"===b.editPublicationData.pubTypeCd?(b.publication.publication4Title=b.editPublicationData.pubTitle,b.publication.publication4Name=b.editPublicationData.pubName,b.publication.publication4Volume=b.editPublicationData.pubVol,b.publication.publication4IssueNumber=b.editPublicationData.pubIssue,null!=b.editPublicationData.pubPages?(b.publication.publication4IssueTypeCd="1",b.publication.publication4IssueTypeNumber=b.editPublicationData.pubPages):null!=b.editPublicationData.pubPartNbr?(b.publication.publication4IssueTypeCd="2",b.publication.publication4IssueTypeNumber=b.editPublicationData.pubPartNbr):null!=b.editPublicationData.pubSerialNbr?(b.publication.publication4IssueTypeCd="3",b.publication.publication4IssueTypeNumber=b.editPublicationData.pubSerialNbr):null!=b.editPublicationData.pubWholeNbr&&(b.publication.publication4IssueTypeCd="4",b.publication.publication4IssueTypeNumber=b.editPublicationData.pubWholeNbr),b.publication.publication4AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication4EditorNames=b.editPublicationData.pubEditor,b.publication.publication4PublisherName=b.editPublicationData.pubPublisher,b.publication.publication4Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10)):"5"===b.editPublicationData.pubTypeCd?(b.publication.publication5Title=b.editPublicationData.pubTitle,b.publication.publication5AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication5Name=b.editPublicationData.pubName,b.publication.publication5Date=b.editPublicationData.pubDt):"6"===b.editPublicationData.pubTypeCd?(b.publication.publication6Title=b.editPublicationData.pubTitle,b.publication.publication6AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication6EventName=b.editPublicationData.pubMtgName,b.publication.publication6CountryCd=b.editPublicationData.pubCountryCd,b.publication.publication6StateCd=b.editPublicationData.pubStateCd,b.publication.publication6City=b.editPublicationData.pubCity,b.publication.publication6Mnth=parseInt(i("date")(b.editPublicationData.pubDt,"MM"),10),b.publication.publication6Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10)):"7"===b.editPublicationData.pubTypeCd?(b.publication.publication7Title=b.editPublicationData.pubTitle,b.publication.publication7AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication7EventName=b.editPublicationData.pubMtgName,b.publication.publication7CountryCd=b.editPublicationData.pubCountryCd,b.publication.publication7StateCd=b.editPublicationData.pubStateCd,b.publication.publication7City=b.editPublicationData.pubCity,b.publication.publication7Mnth=parseInt(i("date")(b.editPublicationData.pubDt,"MM"),10),b.publication.publication7Yr=parseInt(i("date")(b.editPublicationData.pubDt,"yyyy"),10)):"8"===b.editPublicationData.pubTypeCd?(b.publication.publication8Title=b.editPublicationData.pubTitle,b.publication.publication8AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication8Url=b.editPublicationData.pubUrl,b.publication.publication8Date=b.editPublicationData.pubDt):"9"===b.editPublicationData.pubTypeCd&&(b.publication.publication9Title=b.editPublicationData.pubTitle,b.publication.publication9AuthorNames=b.editPublicationData.pubAuthor,b.publication.publication9Url=b.editPublicationData.pubUrl,b.publication.publication9Date=b.editPublicationData.pubDt),b.showPubModal()},b.updatePublication=function(){return b.formValidator.validate("publicationForm",!0)?("1"===b.publications.pubTypeCd?(b.publication.publication1Date=b.publication.publication1Yr+"-"+b.publication.publication1Mnth+"-01",b.updatePublicationObject={id:b.publications.id,pubTypeCd:b.publications.pubTypeCd,pubTitle:b.publication.publication1Title,pubAuthor:b.publication.publication1AuthorNames,pubName:b.publication.publication1Name,pubVol:b.publication.publication1Volume,pubPages:b.publication.publication1PageNumbers,pubDt:b.publication.publication1Date,pubPmid:b.publication.pmId,pubIssue:b.publication.publication1IssueNumber,pubStatusCd:5}):"2"===b.publications.pubTypeCd?(b.publication.publication2Date=b.publication.publication2Yr+"-"+b.publication.publication2Mnth+"-01",b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication2Title,pubAuthor:b.publication.publication2AuthorNames,pubName:b.publication.publication2Name,pubStatusCd:b.publication.pubStatusCd,pubDt:b.publication.publication2Date}):"3"===b.publications.pubTypeCd?(b.publication.publication3Date=b.publication.publication3Yr+"-01-01",b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication3Title,pubName:b.publication.publication3BookName,pubAuthor:b.publication.publication3AuthorNames,pubEditor:b.publication.publication3EditorNames,pubPublisher:b.publication.publication3PublisherName,pubPages:b.publication.publication3PageNumbers,pubCountryCd:b.publication.publication3CountryCd,pubStateCd:b.publication.publication3StateCd,pubCity:b.publication.publication3City,pubDt:b.publication.publication3Date}):"4"===b.publications.pubTypeCd?("1"===b.publication.publication4IssueTypeCd?b.publication.publication4PageNumbers=b.publication.publication4IssueTypeNumber:"2"===b.publication.publication4IssueTypeCd?b.publication.publication4PartNumbers=b.publication.publication4IssueTypeNumber:"3"===b.publication.publication4IssueTypeCd?b.publication.publication4SerialNumbers=b.publication.publication4IssueTypeNumber:"4"===b.publication.publication4IssueTypeCd&&(b.publication.publication4WholeNumbers=b.publication.publication4IssueTypeNumber),b.publication.publication4Date=b.publication.publication4Yr+"-01-01",b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication4Title,pubAuthor:b.publication.publication4AuthorNames,pubName:b.publication.publication4Name,pubVol:b.publication.publication4Volume,pubEditor:b.publication.publication4EditorNames,pubPublisher:b.publication.publication4PublisherName,pubIssue:b.publication.publication4IssueNumber,pubDt:b.publication.publication4Date,pubPages:b.publication.publication4PageNumbers,pubPartNbr:b.publication.publication4PartNumbers,pubSerialNbr:b.publication.publication4SerialNumbers,pubWholeNbr:b.publication.publication4WholeNumbers}):"5"===b.publications.pubTypeCd?b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication5Title,pubAuthor:b.publication.publication5AuthorNames,pubName:b.publication.publication5Name,pubDt:b.publication.publication5Date,pubStatusCd:5}:"6"===b.publications.pubTypeCd?(b.publication.publication6Date=b.publication.publication6Yr+"-"+b.publication.publication6Mnth+"-01",b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication6Title,pubAuthor:b.publication.publication6AuthorNames,pubMtgName:b.publication.publication6EventName,pubCountryCd:b.publication.publication6CountryCd,pubStateCd:b.publication.publication6StateCd,pubCity:b.publication.publication6City,pubDt:b.publication.publication6Date}):"7"===b.publications.pubTypeCd?(b.publication.publication7Date=b.publication.publication7Yr+"-"+b.publication.publication7Mnth+"-01",b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication7Title,pubAuthor:b.publication.publication7AuthorNames,pubMtgName:b.publication.publication7EventName,pubCountryCd:b.publication.publication7CountryCd,pubStateCd:b.publication.publication7StateCd,pubCity:b.publication.publication7City,pubDt:b.publication.publication7Date}):"8"===b.publications.pubTypeCd?b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication8Title,pubAuthor:b.publication.publication8AuthorNames,pubUrl:b.publication.publication8Url,pubDt:b.publication.publication8Date,pubStatusCd:5}:"9"===b.publications.pubTypeCd&&(b.updatePublicationObject={pubTypeCd:b.publications.pubTypeCd,id:b.publications.id,pubTitle:b.publication.publication9Title,pubAuthor:b.publication.publication9AuthorNames,pubUrl:b.publication.publication9Url,pubDt:b.publication.publication9Date,pubStatusCd:5}),b.hidePubModal(),f.debug(b.updatePublicationObject),e.updatePublication(b.updatePublicationObject).then(function(a){d.setChecklistComplete(b.applicationId,"publicationsSavedDt").then(function(){b.publicationData=a,b.AllsavedPublicationsList(),g.success("Updated Successfully"),b.validationPublicationMsg=null,b.sectionError=""})}),b.nonePublicationButtonDisModeClick=!1,void(b.publicationObject1.pubSavedDt=null)):!1},b.statesvaluesChange=function(a){b.publication.publication3StateCd=null,b.publication.publication7StateCd=null,b.publication.publication6StateCd=null,a?h.getStates(a).then(function(a){b.states=a}):b.states=[]},b.publicationTypeValuesChange=function(a){b.publication={}},b.AllsavedPublicationsList=function(){e.getAllPublications(b.applicationId).then(function(a){b.pub.AllPublications=a,d.getApplicationChecklist().then(function(a){b.applicationObject=a,(b.pub.AllPublications&&0===b.pub.AllPublications.length||!b.pub.AllPublications)&&(b.applicationObject&&b.applicationObject.publicationsSavedDt?(b.showNoneText=!0,b.enableNoneButton=!1):(b.showNoneText=!1,b.enableNoneButton=!0))})})},e.getAllPublications(b.applicationId).then(function(a){b.pub.AllPublications=a}),b.deleteCurrentPublication=function(){e.deletePublication(b.applicationId,b.deletePublication.id.pubSeqNbr).then(function(){d.setChecklistComplete(b.applicationId,"publicationsSavedDt").then(function(){b.AllsavedPublicationsList(),(b.pub.AllPublications&&0===b.pub.AllPublications.length||!b.pub.AllPublications)&&(b.applicationChecklistsForPublications(!0),b.showNoneText=!1,b.enableNoneButton=!0),g.success("Deleted Successfully")})})},b.deletePublicationData=function(a){b.deletePublication=a},b.tabpageBiographic=function(){c.go("main.biographic")},b.tabpage=function(){c.go("main.experience")},b.tabpageEducation=function(){c.go("main.general")},b.tabpageLicensure=function(){c.go("main.licensure")},b.tabpagePublications=function(){c.go("main.publications")},b.tabpagePersonalInfo=function(){c.go("main.personalInfo")},b.next=function(){c.go("main.certify"),j()}}]),angular.module("myeras.biographic",["ui.router","checklist-model","myeras.siFilter"]).controller("biographicController",["$scope","$rootScope","$log","$state","$anchorScroll","$modal","$q","applicationService","languageService","selfIdentificationService","context","refDataService","log","$filter","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=h.applicationId;a.title="track",a.onlyNumbers=/^\d+$/,a.applicant={},a.genders=[],a.success={},a.forms={},a.dateValid=!0,function(){function b(a){q.editMode=Boolean(a),q.languages=angular.copy(r),q.editMode&&q.languages.push(a),q.languageToEdit=q.editMode?a:null,q.applicant={language:q.editMode?_.find(q.languages,{languageCode:a.languageCode}):null,proficiency:q.editMode?_.find(q.proficiencies,{languageProficiencyCode:a.languageProficiencyCode}):null},s.$promise.then(s.show)}function c(){s.$promise.then(s.hide)}function d(a){q.languageToDelete=a}function e(b,c){return a.formValidator.validate("languageFluencyForm",!0)?(i.addLanguage(q.selectedLanguages,b,c),i.removeLanguage(r,b),n(q.selectedLanguages,!0,"Saved"),a.languageFluency.sectionErrorLang="",void h.setChecklistComplete(p,"biographicInfoSavedDt")):!1}function j(b,c){return a.formValidator.validate("languageFluencyForm",!0)?(a.disableUpdate=!0,i.addLanguage(r,q.languageToEdit),i.removeLanguage(q.selectedLanguages,q.languageToEdit),void n(q.selectedLanguages,!1).then(function(){i.addLanguage(q.selectedLanguages,b,c),i.removeLanguage(r,b),n(q.selectedLanguages,!0,"Updated"),o(function(){a.disableUpdate=!1},2e3)})):!1}function k(a){i.addLanguage(r,a),i.removeLanguage(q.selectedLanguages,a),n(q.selectedLanguages,!1,"Deleted")}function n(b,c,d){return a.disableSave=!0,a.languageFluency.hasAny=!0,i.saveAppLangs(b).then(function(){c&&q.hideModal(),o(function(){a.disableSave=!1},2e3),d&&("Deleted"===d&&(b&&0!==b.length||h.setChecklistComplete(p,"biographicInfoSavedDt",!0)),m.success(d+" Successfully"))})}var q,r=[],s=f({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/biographic/languageFluency-modal.html"});g.all([i.getAppLangs(),i.getLanguages(),l.getLangProficiencies()]).then(function(f){r=f[1],a.languageFluency=q={editMode:null,showModal:b,hideModal:c,showDeleteModal:d,createLanguage:e,updateLanguage:j,deleteLanguage:k,languageToEdit:null,languageToDelete:null,selectedLanguages:[],languages:[],proficiencies:f[2],applicant:{},hasAny:null,sectionErrorLang:""},i.getSelectedLangs(q.selectedLanguages,f[0])})}(),a.checkHispChildrens=function(){a.applicant.hispanicSI&&(a.applicant.hispanicSIs=[],a.applicant.otherHispanicSI=!1,a.applicant.hispanicSIOther=null)},a.checkHispOthersText=function(){a.applicant.otherHispanicSI&&(a.applicant.hispanicSIOther=null)},a.checkAmericanChildrens=function(){a.applicant.americanSI&&(a.applicant.americanOtherSI=!1,a.applicant.americanSIOther=null)},a.checkAmericanOthersText=function(){a.applicant.americanOtherSI&&(a.applicant.americanSIOther=null)},a.checkAsianChildrens=function(){a.applicant.asianSI&&(a.applicant.asianSIs=[],a.applicant.asianOtherSI=!1,a.applicant.asianSIOther=null)},a.checkAsianOthersText=function(){a.applicant.asianOtherSI&&(a.applicant.asianSIOther=null)},a.checkBlackChildrens=function(){a.applicant.blackSI&&(a.applicant.blackSIs=[],a.applicant.blackOtherSI=!1,a.applicant.blackSIOther=null)},a.checkBlackOthersText=function(){a.applicant.blackOtherSI&&(a.applicant.blackSIOther=null)},a.checkHawaiChildrens=function(){a.applicant.hawaiSI&&(a.applicant.hawaiSIs=[],a.applicant.hawaiOtherSI=!1,a.applicant.hawaiSIOther=null)},a.checkHawaiOthersText=function(){a.applicant.hawaiOtherSI&&(a.applicant.hawaiSIOther=null)},a.checkOthersText=function(){a.applicant.otherSI&&(a.applicant.OtherSIOther=null)},h.getCAF(p).then(function(b){a.cafData=b,j.getAppSIs().then(function(b){a.cafData&&null!==a.cafData.cafDob?(a.checkedSIs=j.populateCheckboxes(b),b&&j.getSelfIdentifications().then(function(c){a.allSIs=j.prepareSIData(c),a.parentSIs=n("sifilter")(a.allSIs,0),a.applicant.hispanicSI=j.setChecked(a.checkedSIs,a.parentSIs[0]),a.applicant.hispanicSIs=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,1),"Other Hispanic"),a.applicant.hispanicSIOther=j.setOtherDesc(b,"Other Hispanic"),a.listForOther=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,1),"Test"),a.applicant.otherHispanicSI=j.setOtherChecked(a.listForOther,"Other Hispanic"),a.applicant.americanSI=j.setChecked(a.checkedSIs,a.parentSIs[1]),a.applicant.americanSIs=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,2),"Tribal affiliation"),a.applicant.americanSIOther=j.setOtherDesc(b,"Tribal affiliation"),a.listForOther=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,2),"Test"),a.applicant.americanOtherSI=j.setOtherChecked(a.listForOther,"Tribal affiliation"),a.applicant.asianSI=j.setChecked(a.checkedSIs,a.parentSIs[2]),a.applicant.asianSIs=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,3),"Other Asian"),a.applicant.asianSIOther=j.setOtherDesc(b,"Other Asian"),a.listForOther=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,3),"Test"),a.applicant.asianOtherSI=j.setOtherChecked(a.listForOther,"Other Asian"),a.applicant.blackSI=j.setChecked(a.checkedSIs,a.parentSIs[3]),a.applicant.blackSIs=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,4),"Other Black"),a.applicant.blackSIOther=j.setOtherDesc(b,"Other Black"),a.listForOther=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,4),"Test"),a.applicant.blackOtherSI=j.setOtherChecked(a.listForOther,"Other Black"),a.applicant.hawaiSI=j.setChecked(a.checkedSIs,a.parentSIs[4]),a.applicant.hawaiSIs=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,5),"Other Pacific Islander"),a.applicant.hawaiSIOther=j.setOtherDesc(b,"Other Pacific Islander"),a.listForOther=j.setCheckedChilds(a.checkedSIs,n("sifilter")(a.allSIs,5),"Test"),a.applicant.hawaiOtherSI=j.setOtherChecked(a.listForOther,"Other Pacific Islander"),a.applicant.whiteSI=j.setChecked(a.checkedSIs,a.parentSIs[5]),a.applicant.otherSI=j.setChecked(a.checkedSIs,a.parentSIs[6]),a.applicant.OtherSIOther=j.setOtherDesc(b,"Other")})):j.getSelfIdentifications().then(function(b){a.allSIs=j.prepareSIData(b),a.parentSIs=n("sifilter")(a.allSIs,0)})}),l.getGenders().then(function(b){a.genders=b,c.debug(a.genders)}),l.getMilitaryBranches().then(function(b){a.refMilitaryBranches=b,c.debug(a.refMilitaryBranches)})}),a.condition=!1,a.getChildSis=function(a){j.getSelfIdentifications(a).then(function(a){return a})},a.saveSelfIdentities=function(){var b=[];if(a.applicant.whiteSI&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[5].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.otherSI&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[6].selfIdentificationCode,selfIdentificationOther:a.applicant.OtherSIOther}),a.applicant.hispanicSI){if((a.applicant.hispanicSIs||a.applicant.otherHispanicSI)&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[0].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.hispanicSIs)for(var c=0;c<a.applicant.hispanicSIs.length;c++)b.push({applicationId:p,selfIdentificationCode:a.applicant.hispanicSIs[c].selfIdentificationCode,selfIdentificationOther:null});a.applicant.otherHispanicSI&&(a.selfIdentificationCode=j.getOtherSI(n("sifilter")(a.allSIs,1),"Other Hispanic"),b.push({applicationId:p,selfIdentificationCode:a.selfIdentificationCode,selfIdentificationOther:a.applicant.hispanicSIOther}))}if(a.applicant.americanSI){if((a.applicant.americanSIs||a.applicant.americanOtherSI)&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[1].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.americanSIs)for(var d=0;d<a.applicant.americanSIs.length;d++)b.push({applicationId:p,selfIdentificationCode:a.applicant.americanSIs[d].selfIdentificationCode,selfIdentificationOther:null});a.applicant.americanOtherSI&&(a.selfIdentificationCode=j.getOtherSI(n("sifilter")(a.allSIs,2),"Tribal affiliation"),b.push({applicationId:p,selfIdentificationCode:a.selfIdentificationCode,selfIdentificationOther:a.applicant.americanSIOther}))}if(a.applicant.asianSI){if((a.applicant.asianSIs||a.applicant.asianOtherSI)&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[2].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.asianSIs)for(var e=0;e<a.applicant.asianSIs.length;e++)b.push({applicationId:p,selfIdentificationCode:a.applicant.asianSIs[e].selfIdentificationCode,selfIdentificationOther:null});a.applicant.asianOtherSI&&(a.selfIdentificationCode=j.getOtherSI(n("sifilter")(a.allSIs,3),"Other Asian"),b.push({applicationId:p,selfIdentificationCode:a.selfIdentificationCode,selfIdentificationOther:a.applicant.asianSIOther}))}if(a.applicant.blackSI){if((a.applicant.blackSIs||a.applicant.blackOtherSI)&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[3].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.blackSIs)for(var f=0;f<a.applicant.blackSIs.length;f++)b.push({applicationId:p,selfIdentificationCode:a.applicant.blackSIs[f].selfIdentificationCode,selfIdentificationOther:null});a.applicant.blackOtherSI&&(a.selfIdentificationCode=j.getOtherSI(n("sifilter")(a.allSIs,4),"Other Black"),b.push({applicationId:p,selfIdentificationCode:a.selfIdentificationCode,selfIdentificationOther:a.applicant.blackSIOther}))}if(a.applicant.hawaiSI){if((a.applicant.hawaiSIs||a.applicant.hawaiOtherSI)&&b.push({applicationId:p,selfIdentificationCode:a.parentSIs[4].selfIdentificationCode,selfIdentificationOther:null}),a.applicant.hawaiSIs)for(var g=0;g<a.applicant.hawaiSIs.length;g++)b.push({applicationId:p,selfIdentificationCode:a.applicant.hawaiSIs[g].selfIdentificationCode,selfIdentificationOther:null});a.applicant.hawaiOtherSI&&(a.selfIdentificationCode=j.getOtherSI(n("sifilter")(a.allSIs,5),"Other Pacific Islander"),b.push({applicationId:p,selfIdentificationCode:a.selfIdentificationCode,selfIdentificationOther:a.applicant.hawaiSIOther}))}return j.saveAppSIs(b)},a.saveBioForm=function(b){var c=!1;return a.languageFluency&&a.languageFluency.selectedLanguages.length?a.forms.addLanguageForm.$valid=!0:(a.languageFluency.sectionErrorLang="panel-danger",a.forms.addLanguageForm.$valid=!1),a.formValidator.validateAll(!0)?(a.saveSelfIdentities(),a.languageFluency&&(a.languageFluency.hasAny=a.languageFluency.selectedLanguages&&0!==a.languageFluency.selectedLanguages.length,a.languageFluency.hasAny?h.saveCAF(a.cafData).then(function(d){d&&(a.cafData=d,h.setChecklistComplete(p,"biographicInfoSavedDt").then(function(){m.success("Saved Successfully"),a.languageFluency.sectionErrorLang="",b&&b()}),c=!0)}):h.setChecklistComplete(p,"biographicInfoSavedDt",!0)),c):!1},a.goToEducationTab=function(){a.saveBioForm(function(){d.go("main.general"),e()})},a.resetMilData=function(){a.cafData&&(a.cafData.cafMilBranchCd=null,a.cafData.cafMilServiceYrs=null)},a.resetOtherServiceData=function(){a.cafData&&(a.cafData.cafOtherServiceDesc=null)},a.isFormValid=function(b){var c=_.result(_.find(a.formValidator.forms,function(a){return a.name===b}),"valid");return _.isUndefined(c)&&(c=!0),c}}]),angular.module("myeras.experience",["ui.router","myeras.fiterByProperty"]).controller("experienceController",["$modal","$scope","$state","$stateParams","$filter","$q","$anchorScroll","applicationService","experienceService","refDataService","$timeout","$log","log","trainingService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var a=h.getCachedChecklist(),b=f.defer();return a.trngSavedDt&&a.experienceSavedDt?(b.resolve(),b.promise):h.setChecklistComplete(h.applicationId,"trngSavedDt").then(function(){return h.setChecklistComplete(h.applicationId,"experienceSavedDt")})}function p(){q(),r()}function q(){h.getApplication().then(function(a){a&&(b.applicationId=a.applicationId,b.applicationData=a,l.debug(b.applicationData.applicationType)),s(),t(),u(),b.applicationObject=h.getApplicationChecklist()})}function r(){h.getCurrentSeason().then(function(a){_.isArray(a)?b.seasonYear=a[0].season:b.seasonYear=a.season,b.fromYears=j.getFromYears(0,0,b.seasonYear),b.years=j.getToYears(0,0,b.seasonYear)})}function s(){n.getAllTrainee(b.applicationId).then(function(a){b.allTrainings=e("orderBy")(a,"resSeqNbr"),b.setEnableNoneButton(),b.setShowText()})}function t(){i.getAllExperiences(b.applicationId).then(function(a){b.AllExperiences=a})}function u(){h.getCAF(b.applicationId).then(function(a){b.caf=a})}var v=a({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/experience/experience-modal.html"
}),w=a({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/experience/training-modal.html"});b.showExpModal=function(a){b.displayModalUpdateButton=!!a;var c=b.experienceObject.expCountryCd||"USA";j.getStates(c).then(function(a){b.states=a}),b.experiencetype=!1,v.$promise.then(v.show)},b.hideExpModal=function(){b.experienceObject={},b.experienceObject.id={},v.$promise.then(v.hide)},b.showTrainingModal=function(a){b.displayModalUpdateButton=!!a;var c=b.training.resCountryCd||"USA";j.getStates(c).then(function(a){b.states=a}),b.traineetype=!1,w.$promise.then(w.show)},b.hideTrainingModal=function(){w.$promise.then(w.hide)},b.training={},b.training.id={},b.experienceObject={},b.experienceObject.id={},b.traineeObj={},b.applicationObject1={},b.deletetrainee={},b.specialties=[],b.showExperienceNoneText=!1,b.showTrainingNoneText=!1,b.enableTrainingNoneButton=!1,b.forms={},b.success={},b.validationExperienceMsg=null,b.sectionErrorExperience="",b.validationTrainingMsg=null,b.sectionErrorTraining="",b.enableSaveExpModal=!0,b.isFormValid=function(a){var c=_.result(_.find(b.formValidator.forms,function(b){return b.name===a}),"valid");return _.isUndefined(c)&&(c=!0),c},b.setEnableNoneButton=function(){b.allTrainings&&0===b.allTrainings.length||!b.allTrainings?b.enableTrainingNoneButton=!0:b.enableTrainingNoneButton=!1},b.setShowText=function(){b.allTrainings&&1===b.allTrainings.length&&0===b.allTrainings[0].id.resSeqNbr?b.showTrainingNoneText=!0:b.showTrainingNoneText=!1},b.months=j.getMonths(),j.getCountries().then(function(a){b.countries=a}),j.getTrainingTypes().then(function(a){b.trainingTypes=a}),j.getExperienceTypes().then(function(a){b.experienceTypes=a}),j.getSpecialties().then(function(a){b.specialties=a}),b.statesvaluesChange=function(a){b.training.resStateCd=null,b.experienceObject.expStateCd=null,a?j.getStates(a).then(function(a){b.states=a}):b.states=[]},b.getSpecialty=function(a){if(b.specialties)for(var c=b.specialties.length;c--;)if(b.specialties[c].specCd===a)return b.specialties[c].trainingSpecName;return""},b.saveTrainee=function(a,c){var d=!b.formValidator.validate("TraineeForm",!0),e=a.resStartMth>a.resEndMth&&a.resStartYr===a.resEndYr,f=a.resStartYr>a.resEndYr;return d||e||f?!1:(b.training.id={},b.training.id.applicationId=b.applicationId,"None"!==b.training.resPgm&&b.hideTrainingModal(),b.allTrainings&&0===b.allTrainings.length||!b.allTrainings?b.showTrainingNoneText?b.training.id.resSeqNbr=0:b.training.id.resSeqNbr=1:b.training.id.resSeqNbr=b.allTrainings[b.allTrainings.length-1].id.resSeqNbr+1,void n.saveTrainee(b.training).then(function(a){b.allTrainings.push(a),b.checkAndDeleteNoneRecord(c).then(function(){b.checkListUpdate(!1)}),m.success("Saved Successfully"),b.validationTrainingMsg=null,b.sectionErrorTraining=""}))},b.checkAndDeleteNoneRecord=function(a){var c;return b.allTrainings&&0===b.allTrainings[0].id.resSeqNbr&&a?b.deleteRecord(b.allTrainings[0]).then(function(){b.showTrainingNoneText=!1}):(c=f.defer(),c.resolve(),c.promise)},b.deleteRecord=function(a){return n.deleteTrainee(a.id.applicationId,a.id.resSeqNbr).then(function(){b.allsavedTraineesList(),b.setShowText(),0!==a.id.resSeqNbr&&m.success("Deleted Successfully")})},b.checkListUpdate=function(a){h.setChecklistComplete(b.applicationId,"trngSavedDt",a).then(function(){b.training={},b.setEnableNoneButton(),b.setShowText()})},b.SetNoneTrainee=function(){b.validationTrainingMsg=null,b.sectionErrorTraining="",b.enableTrainingNoneButton=!1,b.showTrainingNoneText=!0,b.training={resPgm:"None"},b.saveTrainee(b.training,!1)},b.allsavedTraineesList=function(){n.getAllTrainee(b.applicationId).then(function(a){b.allTrainings=a,b.setEnableNoneButton()})},b.dataTrainee=function(a){b.applicationId_resSeqNbr=a.id.applicationId+"_"+a.id.resSeqNbr,b.training=angular.copy(a),b.showTrainingModal(!0)},b.deleteTrainee=function(){return b.deleteRecord(b.deletetrainee).then(function(){b.checkListUpdate(!b.allTrainings.length)})},b.deleteTraineeData=function(a){b.deletetrainee=a},b.updateTrainee=function(a){var c=!b.formValidator.validate("TraineeForm",!0),d=a.resStartMth>a.resEndMth&&a.resStartYr===a.resEndYr,e=a.resStartYr>a.resEndYr;return c||d||e?!1:(a.specialty&&delete a.specialty,a.specialty&&delete a.trainingType,void n.updateTrainee(a).then(function(a){h.setChecklistComplete(b.applicationId,"trngSavedDt").then(function(){b.allsavedTraineesList(),b.hideTrainingModal(),m.success("Updated Successfully"),b.validationTrainingMsg=null,b.sectionErrorTraining=""})}))},b.changeButton=function(){b.training={resCountryCd:"USA"}},b.disableAdditionalQuestions=!1,b.saveExperience=function(a,c){var d=_.isNull(b.experienceObject.expEndMth)&&_.isNull(b.experienceObject.expEndMth),e=!b.formValidator.validate("ExpForm",!0),f=b.experienceObject.expStartMth>b.experienceObject.expEndMth&&b.experienceObject.expStartYr===b.experienceObject.expEndYr,g=b.experienceObject.expStartYr>b.experienceObject.expEndYr;return!d&&(e||f||g)?!1:(a.id={},a.id.applicationId=b.applicationId,c?a.id.expSeqNbr=0:b.AllExperiences.length?a.id.expSeqNbr=b.AllExperiences[b.AllExperiences.length-1].id.expSeqNbr+1:a.id.expSeqNbr=1,i.saveExperience(a).then(function(a){h.setChecklistComplete(h.applicationId,"experienceSavedDt").then(function(){b.hideExpModal(),b.AllExperiences.push(a),b.checkAndDeleteNoneExperienceRecord(c),b.experienceObject={},m.success("Saved Successfully"),b.validationExperienceMsg=null,b.sectionErrorExperience=""})}),void(b.applicationObject1.experienceSavedDt=null))},b.checkAndDeleteNoneExperienceRecord=function(a){b.AllExperiences&&(a||0!==b.AllExperiences[0].id.expSeqNbr||(l.debug("deleting NONE experience ..."),i.deleteExperience(h.applicationId,"0").then(function(){b.AllsavedExperienceList()})))},b.dataExperience=function(a){b.experienceObject=angular.copy(a),b.experienceObject.expHours=parseInt(a.expHours,10),b.showExpModal(!0)},b.updateExperience=function(){var a=_.isNull(b.experienceObject.expEndMth)&&_.isNull(b.experienceObject.expEndMth),c=!b.formValidator.validate("ExpForm",!0),d=b.experienceObject.expStartMth>b.experienceObject.expEndMth&&b.experienceObject.expStartYr===b.experienceObject.expEndYr,e=b.experienceObject.expStartYr>b.experienceObject.expEndYr;return!a&&(c||d||e)?!1:(i.updateExperience(b.experienceObject).then(function(a){h.setChecklistComplete(b.applicationId,"experienceSavedDt").then(function(){b.experienceObject=a,b.AllsavedExperienceList(),b.hideExpModal(),b.experienceObject={},m.success("Updated Successfully")})}),void(b.applicationObject1.experienceSavedDt=null))},b.AllsavedExperienceList=function(){i.getAllExperiences(b.applicationId).then(function(a){b.AllExperiences=a})},b.deleteExperience=function(){i.deleteExperience(b.deleteexperienceData.id.applicationId,b.deleteexperienceData.id.expSeqNbr).then(function(){h.setChecklistComplete(b.applicationId,"experienceSavedDt").then(function(){b.AllsavedExperienceList(),m.success("Deleted Successfully")})}),b.applicationObject1.experienceSavedDt=null},b.deleteExperienceData=function(a){b.deleteexperienceData=a},b.applicationObject1.trngSavedDt=new Date,b.noneTraineeDetails=function(){h.setChecklistComplete(h.applicationId,"trngSavedDt"),b.applicationObject1.trngSavedDt=new Date},b.noneExperienceButtonDisMode=!0,b.noneExperienceButtonDisModeClick=!1,b.applicationObject1.experienceSavedDt=new Date,b.noneExperienceDetails=function(){b.experience={expOrgName:"None",id:{}},b.saveExperience(b.experience,!0)},b.hasTrainingOrNone=function(){var a;return a=b.allTrainings&&0!==b.allTrainings.length},b.hasExperienceOrNone=function(){var a;return a=b.AllExperiences&&0!==b.AllExperiences.length},b.saveExperiencePage=function(){var a=!0;return b.hasExperienceOrNone()&&b.hasTrainingOrNone()?(b.validationTrainingMsg=null,b.sectionErrorTraining="",b.validationExperienceMsg=null,b.sectionErrorExperience=""):(b.hasExperienceOrNone()||(b.validationExperienceMsg="Please add an entry or select None",b.sectionErrorExperience="panel-danger",a=!1),b.hasTrainingOrNone()||(b.validationTrainingMsg="Please add an entry or select None",b.sectionErrorTraining="panel-danger",a=!1)),b.formValidator.validateAll(!0)&&a!==!1?void b.saveAdditionalQuestions():!1},b.saveAdditionalQuestions=function(a){h.saveCAF(b.caf).then(function(){h.setChecklistComplete(b.applicationId,"additionalQsExpSavedDt").then(function(){o().then(function(){u(),m.success("Saved Successfully"),a&&a()})})})},b.next=function(){b.saveAdditionalQuestions(function(){c.go("main.licensure"),g()})},b.applicationChecklistsForTrainee=function(){h.setChecklistComplete(h.applicationId,"trngSavedDt")},j.getCurrentMonthAndYear().then(function(a){b.monthYear=a;var c=new Date(1e3*b.monthYear);c.getMonth()+1}),b.$watch("experienceObject.expHours",function(a){a&&a>168?b.enableSaveExpModal=!1:b.enableSaveExpModal=!0}),p()}]),angular.module("myeras.personalInfo",["ui.router","myeras.personalService","myeras.applicationService","myeras.refDataService"]).controller("personalInfoController",["$scope","$rootScope","$log","$state","$location","$anchorScroll","$timeout","$q","personalService","applicationService","context","refDataService","APP_CONFIG","otherDocumentService","userAccountService","log","unitsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){h.all([j.getApplication(),j.getCAF(Y)]).then(function(b){b[0]&&(a.applicant=b[0],a.applicant.citizenshipCode&&(a.citizenship.isUsCitizen=F()?"Y":"N"),b[1]&&(a.applicantAddy=b[1],a.address.permanentSameAsCurrent=T(),null===a.address.permanentSameAsCurrent&&(a.applicant.contactAddress1=a.applicantAddy.cafHomeAddr1,a.applicant.contactAddress2=a.applicantAddy.cafHomeAddr2,a.applicant.contactCountryCode=a.applicantAddy.cafHomeCountryCd,a.applicant.contactStateCode=a.applicantAddy.cafHomeStateCd,a.applicant.contactCity=a.applicantAddy.cafHomeCity,a.applicant.contactPostalCode=a.applicantAddy.cafHomePostCd)),U(a.applicant))}),h.all([l.getStates("USA"),l.getStates("CAN")]).then(function(b){a.residenceStatesProvinces=b[0],_.forEach(b[1],function(b){a.residenceStatesProvinces.push(b)})}),h.all([l.getVisa(),i.findExpectedVisa(Y)]).then(function(b){a.employmentvisaStatus=b[0],_.forEach(a.employmentvisaStatus,function(b){a.expectedVisas[b.colCode]=null,b.visaCode=String(b.visaCode)}),function(b){Z=Boolean(b&&b.applicationId),b&&_.forOwn(a.expectedVisas,function(c,d){a.expectedVisas[d]="Y"===b[d]?"Y":null})}(b[1])}),l.getSuffixes().then(function(b){a.suffixes=b}),l.getSspStatuses().then(function(b){a.sigmaStatusItems=b}),l.getAoaStatuses().then(function(b){a.alphaStatusItems=b}),l.getGhhsStatuses().then(function(b){a.goldStatusItems=b}),j.getApplicationChecklist(j.applicationId).then(function(b){a.applicationCheckList=b}),l.getCountries().then(function(b){a.countries=b,a.dualCitizenCountries=_.filter(b,function(a){return"USA"!==a.countryCd})}),l.getCitizenship().then(function(b){a.citizenshipStatuses=_.remove(b,function(a){return a.citizenshipCode>=3})}),n.getUsmleAuth(Y).then(function(b){a.usmlesData=b}),n.getComlexAuth(Y).then(function(b){a.comlexData=b})}function s(b){return"N"===a.applicant.visaSponsorship?Object.keys(b).some(function(a){return b[a]}):void 0}function t(b,c){var d=!0;return d=u(b),d&&("Y"===a.applicant.visaSponsorship?a.expectedVisas.evH1b||a.expectedVisas.evJ1||(d=!1):"N"===a.applicant.visaSponsorship&&!a.visaStatusSelected(a.expectedVisas)&&a.submitted&&(d=!1)),d}function u(b){var c=_.result(_.find(a.formValidator.forms,function(a){return a.name===b}),"valid");return _.isUndefined(c)&&(c=!0),c}function v(){return a.applicant.citizenshipCode?F()?!0:J()?I()&&null==a.applicant.visaCode?!1:w()?!1:!0:!0:!1}function w(){var b=!0;return J()?(_.forOwn(a.expectedVisas,function(a,c){return"Y"===a?(b=!1,!1):void 0}),b):!1}function x(c){return a.submitted=!0,a.formValidator.validateAll(!0)?void(a.applicant&&(N()&&Q()&&(a.applicantAddy.cafHomeAddr1=a.applicant.contactAddress1,a.applicantAddy.cafHomeAddr2=a.applicant.contactAddress2,a.applicantAddy.cafHomeCountryCd=a.applicant.contactCountryCode,a.applicantAddy.cafHomeStateCd=a.applicant.contactStateCode,a.applicantAddy.cafHomeCity=a.applicant.contactCity,a.applicantAddy.cafHomePostCd=a.applicant.contactPostalCode,a.applicantAddy.cafHomePhone1=a.applicant.contactPhone1),y(),a.applicant.addressPhonesUpdated=V(),h.all([j.saveCAF(a.applicantAddy),j.updateApplication(a.applicant)]).then(function(e){a.applicantAddy=e[0],a.applicant=e[1],U(a.applicant),j.setApplication(a.applicant),j.setChecklistComplete(Y,"personalInfoSavedDt").then(function(){b.$broadcast("handleSavePersonalInfo",{applicant:a.applicant}),a.applicant&&a.applicant.statusId&&(6===a.applicant.statusId||3===a.applicant.statusId&&a.applicant.paidInd&&"Y"===a.applicant.paidInd)&&j.getApplicationChecklist().then(function(b){q.updateApplicationAvailableDt(a.application.applicationId,b.personalInfoSavedDt)}),p.success("Saved Successfully"),c&&(d.go("main.biographic"),f())})}))):(a.isCitizenshipFormValid(),!1)}function y(){if(!J()&&Z)return i.deleteExpectedVisa(Y),void(Z=!1);if(J()){var b=angular.copy(a.expectedVisas);b.applicationId=Y,Z?i.updateExpectedVisa(b,Y):i.addExpectedVisa(b),Z=!0}}function z(){return"DO"===a.applicant.residencyType}function A(){return"DO"===a.applicant.fellowshipType}function B(){return z()||A()}function C(){return"IMG"===a.applicant.residencyType}function D(){return"IMG"===a.applicant.fellowshipType}function E(){return C()||D()}function F(){return"1"===a.applicant.citizenshipCode}function G(){return"Y"===a.applicant.dualCitizenshipIndicator}function H(){return"7"===a.applicant.citizenshipCode}function I(){return"8"===a.applicant.citizenshipCode}function J(){return H()||I()}function K(){return"Y"===a.applicant.visaSponsorship}function L(){return"N"===a.applicant.visaSponsorship}function M(){return 6===a.applicant.statusId}function N(){return"Y"===a.address.permanentSameAsCurrent}function O(){return"N"===a.address.permanentSameAsCurrent}function P(){return M()}function Q(){return!P()}function R(){return O()&&Q()}function S(){O()&&Q()&&(a.applicantAddy.cafHomeAddr1=null,a.applicantAddy.cafHomeAddr2=null,a.applicantAddy.cafHomeCountryCd=null,a.applicantAddy.cafHomeStateCd=null,a.applicantAddy.cafHomeCity=null,a.applicantAddy.cafHomePostCd=null,a.applicantAddy.cafHomePhone1=null)}function T(){return a.applicant.contactAddress1===a.applicantAddy.cafHomeAddr1&&a.applicant.contactAddress2===a.applicantAddy.cafHomeAddr2&&a.applicant.contactCountryCode===a.applicantAddy.cafHomeCountryCd&&a.applicant.contactStateCode===a.applicantAddy.cafHomeStateCd&&a.applicant.contactCity===a.applicantAddy.cafHomeCity&&a.applicant.contactPostalCode===a.applicantAddy.cafHomePostCd?"Y":null!=a.applicant.contactAddress1?"N":null}function U(a){$=angular.copy(a)}function V(){return a.applicant.contactAddress1!==$.contactAddress1||a.applicant.contactAddress2!==$.contactAddress2||a.applicant.contactCountryCode!==$.contactCountryCode||a.applicant.contactStateCode!==$.contactStateCode||a.applicant.contactCity!==$.contactCity||a.applicant.contactPostalCode!==$.contactPostalCode||a.applicant.contactPhone1!==$.contactPhone1||a.applicant.contactCellNumber!==$.contactCellNumber||a.applicant.contactPhone2!==$.contactPhone2||a.applicant.faxNumber!==$.faxNumber||a.applicant.contactBeeperNumber!==$.contactBeeperNumber}function W(b){var c=a.citizenship.field;c.usCitizen===b&&(a.applicant.citizenshipCode="Y"===a.citizenship.isUsCitizen?"1":null),c.visaEmploymentStatus>b&&(a.applicant.visaCode=null),c.visaSponsorship>b&&(a.applicant.visaSponsorship=null),c.dualCitizen>b&&(a.applicant.dualCitizenshipIndicator=null),c.dualCitizenCountry>b&&(a.applicant.dualCitizenshipCountryCode=null),_.forOwn(a.expectedVisas,function(b,c){a.expectedVisas[c]=null})}function X(b){var c=a.updateEmail.email,d=a.updateEmail.confirmEmail;a.formValidator.validate("updateEmail",!0)&&d===c&&o.updateEmail(k.username,a.updateEmail).then(function(d){"Y"===d?j.updateEmail(a.applicant.applicationId,c).then(function(){b.$hide(),p.success("Email Address updated successfully!"),a.updateEmail={},j.clearCache(),r()}):p.error("Incorrect Password. Please reenter your password.")})}var Y=j.applicationId,Z=!1,$={};a.forms={},a.applicant={},a.applicantAddy={},a.address={permanentSameAsCurrent:null,resetPermanentAddress:S},a.citizenship={isUsCitizen:null,initScope:W,field:{usCitizen:0,citizenshipStatus:10,visaEmploymentStatus:20,visaSponsorship:30,dualCitizen:20,dualCitizenCountry:30}},a.citizenshipStatuses=[],a.residenceStatesProvinces={},a.suffixes={},a.countries={},a.dualCitizenCountries={},a.states={},a.currentstates={},a.usmlesData={},a.comlexData={},a.expectedVisas={},a.success={},a.showAddresInfoSectionError=!1,a.submitted=!1,a.updateEmail={},a.isFormValid=u,a.residenceStateIsDisplayed=v,a.citizenInfoIsRequired=w,a.savePersonalInfo=x,a.visaStatusSelected=s,a.isCitizenshipFormValid=t,a.saveEmail=X,a._applicant={IsResidencyDO:z,IsDO:B,IsIMG:E,IsUsCitizen:F,IsDualCitizen:G,IsForeignNational:J,IsForeignNationalInUs:I,VisaSponsorshipNeeded:K,VisaSponsorshipNotNeeded:L,ApplicationIsSubmitted:M,PermanentAddressNotSameAsCurrent:O,PermanentAddressIsReadOnly:P,PermanentAddressIsEditable:Q,PermanentAddressIsRequired:R},(a.initController=r)(),a.$watchGroup(["applicant","suffixes"],function(a,b,c){_.isEmpty(a[0])&&_.isEmpty(a[1])||(c._suffix=_.find(c.suffixes,{suffixCode:c.applicant.suffix}))}),a.$watch("applicantAddy.cafHomeCountryCd",function(b){b?l.getStates(b).then(function(b){a.states=b}):a.states=[]}),a.$watch("applicant.contactCountryCode",function(b){b?l.getStates(b).then(function(b){a.currentstates=b}):a.currentstates=[]}),a.$watch("applicant.nrmpIndicator",function(b){"N"===b&&(a.applicant.nrmpId=null,a.applicant.nrmpPartnerIndicator=null,a.applicant.nrmpPartnerName=null,a.applicant.nrmpPartnerSpec=null)}),a.$watch("applicant.nmsIndicator",function(b){"N"===b&&(a.applicant.nmsId=null,a.applicant.nmsPartnerIndicator=null,a.applicant.nmsPartnerName=null,a.applicant.nmsPartnerSpec=null)})}]),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){W.currentInboxType=W.inboxTypes.New,W.mailService.setInboxType(W.currentInboxType),W.mailService.setInboxTypes(W.inboxTypes),W.currentFolder=W.folderTypes.Inbox,W.mailService.setFolderType(W.currentFolder),W.mailService.setFolderTypes(W.folderTypes),W.sortedColumn="createDate",W.isMailList=!0,n(),K(W.queryObject)}function n(){W.queryObject=W.currentInboxType==W.inboxTypes.New?W.newQueryObject:W.legacyQueryObject}function o(a){W.currentInboxType=a,W.mailService.setInboxType(a),p(W.folderTypes.Inbox),Q(),K(W.queryObject)}function p(a){W.currentFolder=a,W.mailService.setFolderType(a),Q(),K(W.queryObject)}function q(a){W.isBusy=!0,W.messageDetail={},W.currentContentState=W.contentState.viewDetails,t(a),W.mailService.getMessageDetails(a).then(function(c){W.currentInboxType===W.inboxTypes.New?W.messageDetail.msgBody=c.valueObject.message:W.messageDetail.msgBody=c,W.messageDetail.msgBody=W.mailService.replaceSpecialChars(W.messageDetail.msgBody),W.mailService.markRead(b.aamcId,a).then(function(){W.currentContentState=W.contentState.viewDetails,a&&a.isRead===!1&&W.mailService.decrementUnreadMessageCount(),W.isBusy=!1}),r(a)})}function r(a){var b=[],c=a.attachmentGuids;angular.forEach(c,function(a){b.push(s(a,function(b){W.attachmentInfo.push({fileId:a,fileName:b.valueObject.fileName})}))}),k.all(b).then(function(){})}function s(a,b){W.mailService.getFileInfo(a).then(function(a){return b(a)})}function t(a){W.currentInboxType===W.inboxTypes.New?W.messageDetail=g("filter")(W.messages,{messageGuid:a.messageGuid})[0]:W.messageDetail=g("filter")(W.messages,{msgId:a.msgId})[0]}function u(a){W.mailService.deleteMessage(a).then(function(a){a&&W.setInboxType(W.currentInboxType)})}function v(a){W.mailService.restore(a).then(function(a){W.setInboxType(W.currentInboxType)})}function w(a){var b=x(W.specialtyInfo,a.fromInstId),c=null===a.fromIndividual||void 0===a.fromIndividual?a.fromInstitution!=W.fromInstDefaultText?a.fromInstitution:"":a.fromIndividual;return b?b.programName+" - "+b.programSpecialtyDescription:c}function x(a,b){var c,d;if(!b)return null;for(d=0;d<a.length;d++)if(c=a[d],c[b])return c;return null}function y(a){var b,c="";return V=W.specialtyInfo&&W.specialtyInfo.length>0?W.specialtyInfo:V,V&&(angular.forEach(a.recipients,function(a){b=g("filter")(V,{instId:a.instId})[0]}),c=b?" - "+b.programSpecialtyDescription:""),X.pluck(a.recipients,"recipientName").join(", ")+c}function z(){angular.forEach(W.selectedFiles,function(a){var b=g("filter")(W.filesTobeUploaded,{name:a.name}),c=A(a),d=B(a);0===b.length&&c&&d&&W.filesTobeUploaded.push(a)})}function A(a){var b=a.size<5242880;return b||j.error(a.name+" should be less than 5MB"),b}function B(a){var b="image/jpeg"==a.type||"application/pdf"==a.type;return b||j.error("Please attach file with valid extensions (.jpg or .pdf)."),b}function C(b){W.isBusy=!0;var c=a.BASE_URL+"/"+W.mailService.getServiceUrl(),d=W.filesTobeUploaded.length,e=[];if(W.filesTobeUploaded.length>0)for(var f=0;f<W.filesTobeUploaded.length;f++)i.upload({url:c+"/attachment",file:W.filesTobeUploaded[f],method:"POST"}).success(function(a){a.error?(j.error(a.errorObject.slice(a.errorObject.indexOf("[")+1,a.errorObject.indexOf("]"))),W.isBusy=!1):(d-=1,e.push(a.valueObject),0===d&&(b.attachmentIds=e,E(b)))});else E(b)}function D(a){W.uploadFile(a),W.filesTobeUploaded=[]}function E(a){W.mailService.sendMessage(a).then(function(){j.success("Message Sent"),o(W.currentInboxType),W.isBusy=!1})}function F(a){for(var b=0;b<W.filesTobeUploaded.length;b++)a.name==W.filesTobeUploaded[b].name&&W.filesTobeUploaded.splice(b,1)}function G(){return a.BASE_URL+"/"+e.getFilePath()}function H(a){return W.currentFolder!=W.folderTypes.Sent?W.getSenderInfo(a):W.getRecipients(a)}function I(a){W.mailService.downloadFile(a).then(function(a){var b=a.valueObject,c=document.createElement("a");c.href="data:application/octet-stream;charset=utf-16le;base64,"+b.fileContent,c.target="_blank",c.download=b.fileName,document.body.appendChild(c),c.click()})}function J(a){var b=new FileReader;b.onload=function(c){var d=b.result,e=document.createElement("a");e.href=d,e.target="_blank",e.download=a.name,document.body.appendChild(e),e.click()},b.readAsDataURL(a)}function K(a){W.isBusy=!0,W.messages=[],W.messages=W.mailService.buildMessages(a).then(function(a){W.messages=a[0],W.currentContentState=W.contentState.mailList,W.specialtyInfo=a[1],L(),W.isBusy=!1})}function L(){var a=W.mailService.pageInfo;W.pageInfo.currentPage=a.currentPage,W.pageInfo.totalPages=a.totalPages,W.pageInfo.totalRecords=a.totalRecords}function M(){if(W.pageInfo.totalRecords>0){var a=(W.pageInfo.currentPage-1)*W.pageInfo.pageSize+1,b=W.pageInfo.totalRecords>W.pageInfo.currentPage*W.pageInfo.pageSize?W.pageInfo.currentPage*W.pageInfo.pageSize:W.pageInfo.totalRecords,c=W.pageInfo.totalRecords;return a+" - "+b+" of "+c}}function N(){Q(),K(W.queryObject)}function O(){W.queryObject.pageNumber=W.queryObject.pageNumber+1,K(W.queryObject)}function P(){W.queryObject.pageNumber=W.queryObject.pageNumber-1,K(W.queryObject)}function Q(){W.queryObject.pageNumber=1,W.queryObject.order="createDate",W.queryObject.ascending=!1,W.queryObject.isArchived=!1,W.sortedColumn="createDate",W.attachmentInfo=[]}function R(a){var b=T(a);W.sortedColumn==b?W.ascOrder=W.ascOrder===!0?!1:!0:(W.sortedColumn=b,W.ascOrder=!1),W.queryObject.order=W.sortedColumn,W.queryObject.ascending=W.ascOrder,W.queryObject.pageNumber=1,K(W.queryObject)}function S(a){var b="fa-sort",c=T(a);return W.sortedColumn==c&&(b=W.ascOrder===!0?"fa-sort-asc":"fa-sort-desc"),b}function T(a){var b="";return"Date"===a?b="createDate":"Subject"===a?b="mc.subject":W.currentFolder==W.folderTypes.Sent&&"FromOrTo"===a?b="recipients.recipientName":W.currentFolder!=W.folderTypes.Sent&&"FromOrTo"===a&&(b="from.fromInstitution"),b}function U(a){var b=a.recipients&&a.recipients.length?a.recipients[0].recipientName:"";W.selectedFiles=[],W.mailService.getReplyToMessage(a).then(function(c){W.currentContentState=W.contentState.reply,W.messageDetail.replyToMessageId=c.messageIdToReplyTo,W.messageDetail.replyRecipients=c.recipients,W.messageDetail.replySubject=c.subject,W.messageDetail.replySendTo=X.pluck(c.recipients,"recipientName").join(", "),W.messageDetail.replyMessage="<p> <br> </p><hr><p><strong>From: </strong>"+W.messageDetail.replySendTo+"<br><strong>Sent: </strong>"+g("amDateFormat")(a.createDate,"ddd MM/DD/YYYY h:mm A")+"<br><strong>To: </strong>"+b+"<br><strong>Subject: </strong>"+a.subject+"<br></p><p>"+a.msgBody+"</p>"})}var V,W=this,X=f;W.title="Message Center",W.currentInboxType="",W.currentFolder="",W.inboxTypes={New:"New",Legacy:"Legacy"},W.folderTypes={Inbox:"Inbox",Sent:"Sent",Trash:"Trash"},W.pageInfo={pageSize:15,currentPage:1,totalPages:1,totalRecords:0},W.folderInfo={unreadCount:0},W.ascOrder=!1,W.fromInstDefaultText="No inst affil specified",W.contentState={viewDetails:"viewDetails",mailList:"mailList",reply:"reply"},W.currentContentState=W.contentState.mailList,W.newQueryObject={aamcId:0,numberOfRows:W.pageInfo.pageSize,pageNumber:1,downloadBody:!1,isArchived:!1,withRecipients:"N",order:"createDate",ascending:!1,season:2016},W.legacyQueryObject={order:"createDate",ascending:!1},W.queryObject={},W.messageDetail={},W.selectedFiles=[],W.filesTobeUploaded=[],W.attachmentInfo=[],W.specialtyInfo=[],W.unreadMessages=0,W.setInboxType=o,W.setFolderType=p,W.details=q,W.replyTo=U,W.sendReply=D,W.deleteMessage=u,W.goToNext=O,W.goToPrevious=P,W.refresh=N,W.sortColumn=R,W.getSortCSS=S,W.restore=v,W.downloadFile=I,W.buildDownloadLink=J,W.uploadFile=C,W.removeFile=F,W.getSenderInfo=w,W.getRecipients=y,W.getPageCounter=M,W.modifyFileSelection=z,W.getFilePath=G,W.getFromText=H,W.mailService=e,W.messages=W.mailService.messages,m(),l.$watch(function(){return e.getUnreadMessageCount()},function(a){W.unreadMessages=a})}function b(a,b,c){return{link:function(d,e,f){a(f.focus)(d)&&b(function(){var a=c.retrieveEditor(f.name).scope;a.displayElements.text.trigger("focus")},0,!1)}}}angular.module("myeras.mail",["myeras.trustedHtml"]).controller("mailController",a).directive("textAngular",b),a.$inject=["APP_CONFIG","context","$location","$tooltip","mailService","underscoreService","$filter","$log","$upload","log","$q","$scope"],b.$inject=["$parse","$timeout","textAngularManager"]}(),angular.module("myeras.experienceService",[]).factory("experienceService",["Restangular","urlService",function(a,b){var c=b.appService;return{getAllExperiences:function(a){return c.getList("experiences",{applicationId:a})},saveExperience:function(a){return c.post("experiences",a)},updateExperience:function(a){return c.customPUT(a,"experiences/"+a.id.applicationId+"/"+a.id.expSeqNbr)},deleteExperience:function(a,b){return c.one("experiences/"+a+"/"+b).remove()}}}]),angular.module("myeras.publicationService",[]).factory("publicationService",["$q","Restangular","$log","urlService",function(a,b,c,d){var e=d.appService;return{getPublicationTypes:function(){return e.getList("publicationTypes")},getPublicationStatuses:function(){return e.getList("publicationStatus")},savePublication:function(a){return e.post("publications",a)},getAllPublications:function(a){return e.getList("publications",{applicationId:a})},deletePublication:function(a,b){return e.one("publications/"+a+"/"+b).remove()},updatePublication:function(a){return e.customPUT(a,"publications/"+a.id.applicationId+"/"+a.id.pubSeqNbr)}}}]),angular.module("myeras.personalStatementService",[]).factory("personalStatementService",["$q","Restangular","urlService",function(a,b,c){var d=c.appService,e=c.dwsDocService;return{getPersonalStatements:function(a){return d.one("personalStatements?applicationId="+a).getList()},savePersonalStatement:function(a){return d.post("personalStatements",a)},updatePersonalStatement:function(a){return d.customPUT(a,"personalStatements/"+a.applicationId+"/"+a.psSeqNbr)},updatePsSubmit:function(a){return d.customPUT(a,"personalStatements/psSubmitDate/"+a.applicationId+"/"+a.psSeqNbr)},deletePersonalStatement:function(a,b){return d.one("personalStatements/"+a+"/"+b).remove()},getPersonalStatement:function(a,b){return d.one("personalStatements",a).one(b).get()},postPersonalStatmentBinary:function(a,b){return e.post("documents/getPSPdfBinary?format=PDF&applicationId="+a,b)},postPersonalStatementPdf:function(a,b){return e.post("documents/getPSPdf?format=PDF&applicationId="+a,b)}}}]),angular.module("myeras.appTypeFilter",[]).filter("appType",function(){return function(a){switch(a){case"F":return"Fellowship";case"R":return"Residency"}}}),angular.module("myeras.assignProgram",[]).controller("aamcAssignProgramController",["$scope","APP_CONFIG",function(a,b){a.name="assignProgram",a.showSoapEligibleAssignments=!1,b.applicantSoapObject&&b.applicantSoapObject.applicantSoapEligible&&(a.showSoapEligibleAssignments=!0)}]).directive("aamcAssignProgram",["APP_CONFIG",function(a){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-assign-program/aamc-assign-program.html",controller:"aamcAssignProgramController",link:function(b){b.assignPrograms={},b.isDisabled=function(c){var d=b.checkPaid?b.checkPaid(c):!1,e=b.currentDocObj.docCd===b.docCodes.PERSONAL_STMT.docCd,f=c.assignedPs&&c.assignedPs.length&&b.letter&&c.assignedPs[0].psSeqNbr===b.letter.seqNbr,g=e&&f&&c.invoiceSeqNumber,h="Y"===c.withdrawnIndicator,i="O"!==c.unit.unitStatusCode,j=c.unit.unfilledPositionsIndicator&&a.isSoapOpen&&a.ISRESIDENCY&&a.applicantSoapObject&&!a.applicantSoapObject.applicantSoapEligible&&"FM"!==a.applicantSoapObject.applicantSoapMatchStatus;return d||g||h||j||i},b.$watch("assignPrograms.selectAll",function(a){angular.forEach(b.selectedPrograms,function(c){b.isDisabled(c)||_.isUndefined(a)||(c.selected=a)}),b.updateAssignedPrograms(b.letter.seqNbr,b.selectedPrograms,b.currentDocObj.docCd)})}}}]),angular.module("myeras.peerReviewedBook",[]).controller("aamcPeerReviewedBookController",["$scope",function(a){a.name="peerReviewedBook"}]).directive("aamcPeerReviewedBook",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-peer-reviewed-book/aamc-peer-reviewed-book.html",controller:"aamcPeerReviewedBookController"}}),angular.module("myeras.peerReviewedJournal",[]).controller("aamcPeerReviewedJournalController",["$scope",function(a){a.name="peerReviewedJournal"}]).directive("aamcPeerReviewedJournal",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-peer-reviewed-journal/aamc-peer-reviewed-journal.html",controller:"aamcPeerReviewedJournalController"}}),angular.module("myeras.peerReviewedOther",[]).controller("aamcPeerReviewedOtherController",["$scope",function(a){a.name="peerReviewedOther"}]).directive("aamcPeerReviewedOther",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-peer-reviewed-other/aamc-peer-reviewed-other.html",controller:"aamcPeerReviewedOtherController"}}),angular.module("myeras.otherArticles",[]).controller("aamcOtherArticlesController",["$scope",function(a){a.name="otherArticles"}]).directive("aamcOtherArticles",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-other-articles/aamc-other-articles.html",controller:"aamcOtherArticlesController"}}),angular.module("myeras.scientificMonograph",[]).controller("aamcScientificMonographController",["$scope",function(a){a.name="scientificMonograph"}]).directive("aamcScientificMonograph",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-scientific-monograph/aamc-scientific-monograph.html",controller:"aamcScientificMonographController"}}),angular.module("myeras.posterPresentation",[]).controller("aamcPosterPresentationController",["$scope",function(a){a.name="posterPresentation"}]).directive("aamcPosterPresentation",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-poster-presentation/aamc-poster-presentation.html",controller:"aamcPosterPresentationController"}}),angular.module("myeras.oralPresentation",[]).controller("aamcOralPresentationController",["$scope",function(a){
a.name="oralPresentation"}]).directive("aamcOralPresentation",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-oral-presentation/aamc-oral-presentation.html",controller:"aamcOralPresentationController"}}),angular.module("myeras.peerReviewedOnline",[]).controller("aamcPeerReviewedOnlineController",["$scope",function(a){a.name="peerReviewedOnline"}]).directive("aamcPeerReviewedOnline",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-peer-reviewed-online/aamc-peer-reviewed-online.html",controller:"aamcPeerReviewedOnlineController"}}),angular.module("myeras.nonPeerReviewedOnline",[]).controller("aamcNonPeerReviewedOnlineController",["$scope",function(a){a.name="nonPeerReviewedOnline"}]).directive("aamcNonPeerReviewedOnline",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-non-peer-reviewed-online/aamc-non-peer-reviewed-online.html",controller:"aamcNonPeerReviewedOnlineController"}}),angular.module("myeras.applicationTabs",[]).controller("aamcApplicationTabsController",["$scope","pdfmakeCVService","pdfmakeAppService","$state","$stateParams","$location","$timeout","$anchorScroll","printApplicationService","applicationService","APP_CONFIG",function(a,b,c,d,e,f,g,h,i,j,k){a.name="applicationTabs",a.currState=d.current.name,a.msgCd=e.msgCd,a.season=angular.copy(k.SEASON),a.futureSeason=k.FUTURESEASON,a.applicationStates={},j.getApplication().then(function(b){a.application=b,a.statusId=b.statusId}),a.$watch(function(){return j.getCachedChecklist()},function(b){b&&(a.checklist=b,a.isChecklistComplete=j.isChecklistComplete)}),a.$on("applicationDataFullLoad",function(b){a.applicationStates.availableStates=k.applicantRoutes,a.seasonStartDate=k.SEASONSTARTDATE,a.tooltipText=k.routeNotAvailableTooltipText}),g(function(){k.applicantRoutes&&(a.applicationStates.availableStates=k.applicantRoutes,a.seasonStartDate=k.SEASONSTARTDATE,a.tooltipText=k.routeNotAvailableTooltipText)},1),a.printApp=function(){j.printPdf(a.application.applicationId,"MY_ERAS_APPLICATION","PDF")},a.printCV=function(){j.printPdf(a.application.applicationId,"CV","PDF")},a.goToHash=function(a){f.hash(a),h(),f.hash("")}}]).directive("aamcApplicationTabs",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-application-tabs/aamc-application-tabs.html",controller:"aamcApplicationTabsController",transclude:!0}}),angular.module("myeras.documentsTabs",[]).controller("aamcDocumentsTabsController",["$scope","$state","$stateParams","APP_CONFIG","applicationService","$filter","$timeout",function(a,b,c,d,e,f,g){a.name="documentsTabs",a.currState=b.current.name,a.msgCd=c.msgCd,a.season=d.SEASON,a.applicationStates={},a.$on("applicationDataFullLoad",function(b){a.applicationStates.availableStates=d.applicantRoutes,a.seasonStartDate=d.SEASONSTARTDATE,a.tooltipText=d.routeNotAvailableTooltipText}),g(function(){d.applicantRoutes&&(a.applicationStates.availableStates=d.applicantRoutes,a.seasonStartDate=d.SEASONSTARTDATE,a.tooltipText=d.routeNotAvailableTooltipText)},1)}]).directive("aamcDocumentsTabs",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-documents-tabs/aamc-documents-tabs.html",controller:"aamcDocumentsTabsController",transclude:!0}}),angular.module("myeras.programsTabs",[]).controller("aamcProgramsTabsController",["$scope","$state","$stateParams","$filter","applicationService","APP_CONFIG","$timeout","contentService",function(a,b,c,d,e,f,g,h){a.name="programsTabs",a.currState=b.current.name,a.msgCd=c.msgCd,a.reapplyMessage="",e.getApplication().then(function(b){a.application=b,a.statusId=b.statusId}),a.applicationStates={},a.$on("applicationDataFullLoad",function(b){a.applicationStates.availableStates=f.applicantRoutes,a.season=f.SEASON,a.seasonStartDate=f.SEASONSTARTDATE,a.tooltipText=f.routeNotAvailableTooltipText,a.showReApply=f.applicantSoapObject&&f.applicantSoapObject.applicantSoapEligible}),g(function(){f.applicantRoutes&&(a.applicationStates.availableStates=f.applicantRoutes,a.seasonStartDate=f.SEASONSTARTDATE,a.tooltipText=f.routeNotAvailableTooltipText,a.showReApply=f.applicantSoapObject&&f.applicantSoapObject.applicantSoapEligible)},1),h.getContent("SOAP_REAPPLY_TO_PROGRAMS_PAGE").then(function(b){b&&(a.reapplyMessage=b.displayText)})}]).directive("aamcProgramsTabs",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-programs-tabs/aamc-programs-tabs.html",controller:"aamcProgramsTabsController",transclude:!0}}),angular.module("myeras.soapPrograms",[]).controller("aamcSoapProgramsController",["$scope","contentService",function(a,b){a.name="soapPrograms",a.soapMsgs={};var c=function(){a.oneSoapProgramsNotEligible=!_.isUndefined(_.find(a.myPrograms,function(a){return a.soapNotEligibleForTraining===!0})),d()},d=function(){b.getContent("SOAP_PROGRAM_ONLY_MSG").then(function(b){b&&(a.soapMsgs.soapProgramOnlyMsg=b.displayText)}),b.getContent("TRAINING_NOT_ELIGIBLE_MSG").then(function(b){b&&(a.soapMsgs.trainingNotEligibleMsg=b.displayText)}),b.getContent("SOAP_SELECTED_TRAINING_NOT_ELIGIBLE_MSG").then(function(b){b&&(a.soapMsgs.soapSelectedTrainingNotEligibleMsg=b.displayText)})};a.trackDisableCheck=function(a,b){var c="O"!==b.unit.unitStatusCode||a.preselected,d=b.invoiceSeqNumber&&"N"===a.trackMyerasDisplayInd,e=!a.selected&&"N"===a.trackMyerasDisplayInd||"Y"===b.withdrawnIndicator;return c||d||e?!0:!1},c()}]).directive("aamcSoapPrograms",function(){return{restrict:"E",replace:!1,templateUrl:"components/directives/aamc-soap-programs/aamc-soap-programs.html",controller:"aamcSoapProgramsController"}}),angular.module("myeras.revoked",["ui.router"]).controller("revokedController",["$scope","$sce","contentService","userAccountService","applicationService",function(a,b,c,d,e){a.title="revoked",a.revokeMsg="";var f=function(){var f="REVOKE_MSG";e.getApplication().then(function(e){e&&e.applicationId&&d.getStaffToolsData(e.applicationId).then(function(d){d.revokedByStaffTools&&(f="REVOKE_STAFF_TOOLS_MSG"),c.getContent(f).then(function(c){c&&(a.revokeMsg=b.trustAsHtml(c.displayText))})})})};f()}]),angular.module("myeras.certify",["ui.router","myeras.formatMonth","myeras.fiterByProperty"]).controller("certifyController",["$scope","$state","$sce","personalService","languageService","selfIdentificationService","contentService","experienceService","trainingService","publicationService","applicationService","generalService","unitsService","refDataService","licensureService","myerasCache","$filter","APP_CONFIG","$rootScope","printApplicationService","pdfmakeAppService","$log","$q","certifySubmitEvaluationService","$stateParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){function z(){a.isEligible=!0,a.checkListMode=!1,a.checkListModeStatus=!1}a.title="certify",a.applicantData={},a.applicationData={},a.expectedVisa={},a.contentObj={},a.season=r.season,a.applicantData.applicationId=a.applicationId=k.applicationId,a.showTrainingNoneText=!1,a.showPublicationNoneText=!1,a.showLicensureNoneText=!1,a.showExperienceNoneText=!1,a.showEduNoneText=!1,a.isBusy=!0,a.checkListMode=y&&y.checkListMode?z():!0,a.showChecklistNotCompleteText=!1,a.certifyMsg=null,a.certifyDate=new Date,a.loadApplication=function(){w.all([n.getStates("USA"),n.getStates("CAN"),o.getAllMedLicenses(a.applicationId),k.getCAF(a.applicationId),k.getApplication(),k.getConfigElements(),l.getAllHigherEducation(a.applicationId),i.getAllTrainee(a.applicationId),d.findExpectedVisa(a.applicationId),h.getAllExperiences(a.applicationId),j.getAllPublications(a.applicationId),e.getAppLangs(),l.getAllMedicalEducation(a.applicationId),f.getAppSIs(),k.getApplicationChecklist()]).then(function(a){a&&C(a)}),p.get("specialties")?a.specialties=p.get("specialties"):n.getSpecialties().then(function(b){a.specialties=b})},a.loadApplication();var A=function(){angular.forEach(a.appSIs,function(a){a.siDisplaySeq=a.selfIdentification.siDisplaySeq,a.childSis=[]}),angular.forEach(a.appSIs,function(b){var c=b.selfIdentificationCode,d=function(b,c){angular.forEach(a.appSIs,function(a){var d=a.selfIdentification.siParentId;b==d&&c.childSis.push(a)})};d(c,b)}),a.parentSis=q("selfidentification")(a.appSIs)},B=function(){a.applicationData.fullName=a.applicationData.lastName,(a.applicationData.firstName||a.applicationData.middleName||a.applicationData.suffix)&&(a.applicationData.firstName&&(a.applicationData.fullName=a.applicationData.fullName+", "+a.applicationData.firstName),a.applicationData.middleName&&(a.applicationData.fullName=a.applicationData.fullName+" "+a.applicationData.middleName),a.applicationData.suffix&&(a.applicationData.fullName=a.applicationData.fullName+" "+a.applicationData.suffix)),"USA"===a.applicationData.permanentCountry?a.states=p.get("usaStates"):"CAN"===a.applicationData.permanentCountry&&(a.states=p.get("canStates")),a.applicationData.usmleId&&(a.applicationData.usmleId=a.applicationData.usmleId.charAt(0)+"-"+a.applicationData.usmleId.charAt(1)+a.applicationData.usmleId.charAt(2)+a.applicationData.usmleId.charAt(3)+"-"+a.applicationData.usmleId.charAt(4)+a.applicationData.usmleId.charAt(5)+a.applicationData.usmleId.charAt(6)+"-"+a.applicationData.usmleId.charAt(7)),a.countries=p.get("countries"),a.permanentStateDesc=q("fiterbyproperty")(a.states,"stateCd",a.applicationData.permanentSate,"stateDesc"),a.permanentCountryDesc=q("fiterbyproperty")(a.countries,"countryCd",a.applicationData.permanentCountry,"countryDesc"),a.mailingSateDesc=q("fiterbyproperty")(a.states,"stateCd",a.applicationData.mailingSate,"stateDesc"),a.mailingCountryDesc=q("fiterbyproperty")(a.countries,"countryCd",a.applicationData.mailingCountry,"countryDesc")},C=function(b){x.intializeEvaluation(b),a.residenceStatesProvinces=b[0],_.forEach(b[1],function(b){a.residenceStatesProvinces.push(b)}),a.AllMedLicenses=b[2],angular.forEach(a.AllMedLicenses,function(b){b.licenseStateDesc=m.findStateDesc(b.licenseStateCode,a.residenceStatesProvinces)}),1===a.AllMedLicenses.length&&0===a.AllMedLicenses[0].id.licenseSeqNbr?a.showLicensureNoneText=!0:a.showLicensureNoneText=!1,a.applicantData=b[3],a.applicationData=b[4],configElements=b[5],configElements&&(a.meRCafSubmit=_.filter(configElements,function(a){return"ME_R_CAF_SUBMIT"===a.varName})[0].varValue,a.meOCafSubmit=_.filter(configElements,function(a){return"ME_O_CAF_SUBMIT"===a.varName})[0].varValue,a.meFCafSubmit=_.filter(configElements,function(a){return"ME_F_CAF_SUBMIT"===a.varName})[0].varValue,a.meOFCafSubmit=_.filter(configElements,function(a){return"ME_OF_CAF_SUBMIT"===a.varName})[0].varValue,D()),B(),a.allHigherEducations=b[6],(!a.allHigherEducations||a.allHigherEducations&&1===a.allHigherEducations.length&&0===a.allHigherEducations[0].id.eduSeqNbr)&&(a.showEduNoneText=!0),a.allTrainings=b[7],(!a.allTrainings||a.allTrainings&&1===a.allTrainings.length&&0===a.allTrainings[0].id.resSeqNbr)&&(a.showTrainingNoneText=!0),a.expectedVisa=b[8],a.AllExperiences=b[9],(!a.AllExperiences||a.AllExperiences&&1===a.AllExperiences.length&&0===a.AllExperiences[0].id.expSeqNbr)&&(a.showExperienceNoneText=!0),a.AllPublications=b[10],(!a.AllPublications||a.AllPublications&&1===a.AllPublications.length&&0===a.AllPublications[0].id.pubSeqNbr)&&(a.showPublicationNoneText=!0),a.selectedLangs=b[11],a.allMedicalEducations=b[12],a.allMedicalEducations&&l.getAllCampuses().then(function(b){a.allCampuses=b}),F(a.allMedicalEducations),a.appSIs=b[13],a.appSIs&&A(),a.checklist=b[14],a.checkListModeStatus=!k.isChecklistComplete(a.checklist),a.checkListModeStatus&&g.getContent("APPLICATION_CHECKLIST_INCOMPLETE_TEXT").then(function(b){b&&(a.contentObj.applicationChecklistText=c.trustAsHtml(b.displayText))}),x.getStates().then(function(b){a.states=angular.copy(b)})};a.next=function(){b.go("main.submission")},a.edit=function(){b.go("main.personalInfo")},a.getCampusDetails=function(b){if(b&&a.allCampuses){var c=q("filter")(a.allCampuses,{campusInstId:b});return c[0]&&c[0].campusName}},a.getSpecialty=function(b){if(!a.specialties)return"";for(var c=a.specialties.length;c--;)if(a.specialties[c].specCd===b)return a.specialties[c].specName};var D=function(){var b=!1;"R"===a.applicationData.applicationType?b="MD"===a.applicationData.residencyType&&"Y"===a.meRCafSubmit||"IMG"===a.applicationData.residencyType&&"Y"===a.meRCafSubmit||"DO"===a.applicationData.residencyType&&"Y"===a.meOCafSubmit:"F"===a.applicationData.applicationType&&(b="MD"===a.applicationData.fellowshipType&&"Y"===a.meFCafSubmit||"IMG"===a.applicationData.fellowshipType&&"Y"===a.meFCafSubmit||"DO"===a.applicationData.fellowshipType&&"Y"===a.meOFCafSubmit),a.isEligible=b,E()},E=function(){var b="CERTIFY_SUBMIT_APPLICATION_ACKNOWLEDGE_TEXT";"R"===a.applicationData.applicationType?("MD"!==a.applicationData.residencyType&&"IMG"!==a.applicationData.residencyType||"Y"===a.meRCafSubmit||(b="MSG_R_APPLICATION_SUBMIT_PRIOR_TO_DATE"),"DO"===a.applicationData.residencyType&&"Y"!==a.meOCafSubmit&&(b="MSG_O_APPLICATION_SUBMIT_PRIOR_TO_DATE")):"F"===a.applicationData.applicationType&&("MD"!==a.applicationData.fellowshipType&&"IMG"!==a.applicationData.fellowshipType||"Y"===a.meFCafSubmit||(b="MSG_F_APPLICATION_SUBMIT_PRIOR_TO_DATE"),"DO"===a.applicationData.fellowshipType&&"Y"!==a.meOFCafSubmit&&(b="MSG_OF_APPLICATION_SUBMIT_PRIOR_TO_DATE")),g.getContent(b).then(function(b){b&&(a.certifyMsg=c.trustAsHtml(b.displayText))})};a.continueToShowApplication=function(){return a.checkListModeStatus?(a.showChecklistNotCompleteText=!0,!1):void(a.checkListMode=!1)},a.trainingMonths=function(a,b,c,d){var e;return e=12*(d-b),e-=a,e+=c,0>=e?0:e},a.printApp=function(){k.printPdf(a.applicantData.applicationId,"MY_ERAS_APPLICATION","PDF")};var F=function(b){var c=angular.copy(b);c=q("orderBy")(c,["medDegreeInd","medDegreeYr","medDegreeMth","-id.medSeqNbr"],!0),a.mostRecentMedicalSchool=c[0]}}]),angular.module("myeras.siFilter",[]).filter("sifilter",["$log",function(a){return function(a,b){var c=[];if(a)for(var d=0;d<a.length;d++)a[d].siParentId===b&&c.push(a[d]);return c}}]),angular.module("myeras.trackDates",[]).filter("trackDate",["$filter",function(a){return function(b,c){var d,e={};return b&&c&&c.selectedProgramTracks&&(d=a("filter")(c.selectedProgramTracks,{unitId:b.unitId,trackCode:b.trackCode})[0],d&&d.appliedDate&&(e.appliedDate=d.appliedDate),d&&d.reappliedDate&&(e.reappliedDate=d.reappliedDate)),e}}]),angular.module("myeras.converters",[]).filter("uriToBinary",function(){return function(a){for(var b=a,c=b.length,d=new Uint8Array(new ArrayBuffer(c)),e=0;c>e;e++)d[e]=b.charCodeAt(e);return d}}),angular.module("myeras.errorFilter",[]).filter("duplicateError",["$log",function(a){return function(a,b){var c=!1;if(a.errors)for(var d=0;d<a.errors.length;d++)a.errors[d]&&a.errors[d]===b&&(c=!0);return c}}]),function(){"use strict";angular.module("myeras.trustedHtml",[]).filter("trustedHtml",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}])}(),angular.module("myeras.certifyAndSubmitGeneralInformation",[]).controller("aamcCertifyAndSubmitGeneralInformationController",["$scope",function(a){a.name="certifyAndSubmitGeneralInformation"}]).directive("aamcCertifyAndSubmitGeneralInformation",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-general-information/aamc-certify-and-submit-general-information.html",controller:"aamcCertifyAndSubmitGeneralInformationController"}}),angular.module("myeras.licensure",["ui.router","myeras.formatMonth","myeras.fiterByProperty"]).controller("licensureController",["$scope","$modal","refDataService","$anchorScroll","APP_CONFIG","licensureService","applicationService","myerasCache","$state","$filter","$timeout","$log","$rootScope","log",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.title="licensure",a.onlyNumbers=/^\d+$/,a.applicationId=g.applicationId,a.license={},a.caf={},a.licenseData={},a.enableNoneButton=!1,a.showNoneText=!1,a.noneRecordExists=!1,a.license.licenseYear=null,a.validationLicensesMsg=null,a.sectionErrorLicenses="",a.sectionErrorAdditional="";var o=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/licensure/licensure-modal.html"});a.popover={title:"What does this mean?",content:"Board certification is a voluntary process that a physician undergoes to assure the public that he or she has successfully completed an approved educational program and the appropriate examinations to practice in a particular specialty or sub-specialty. "},a.forms={},a.success={},a.fromYear=e.SEASON-65,a.toYear=e.SEASON+35,a.licenseYears=c.getUpToYears(a.fromYear,a.toYear),g.getApplication().then(function(b){a.application=b}),a.years=c.getYears(),g.getCAF(a.applicationId).then(function(b){b&&(a.caf=b,a.months=j("orderBy")(h.get("months"),"id"),a.months||(a.months=c.getMonths()),a.caf.regExpMonth=j("fiterbyproperty")(a.months,"id",a.caf.cafDeaRegExpMth,"list"))}),a.resetLicenseForm=function(){a.license={},a.refreshLicenseList()},a.editLicense=function(b){l.debug(b),a.license=angular.copy(b),a.license.licenseMonth=j("fiterbyproperty")(a.months,"id",a.license.licenseExpirationMonth,"list"),a.license.licenseState=j("fiterbyproperty")(a.states,"stateCd",a.license.licenseStateCode,"list"),a.license.licenseYear=parseInt(a.license.licenseExpirationYear,10),a.showLicensureModal()},f.getAllMedLicenses().then(function(b){c.getStates("USA").then(function(c){c&&(a.states=j("orderBy")(c,"stateDesc"),a.licenseData=f.prepareLicenseData(b.plain(),a.states)),1===a.licenseData.length&&0===a.licenseData[0].id.licenseSeqNbr&&(a.noneRecordExists=!0,a.showNoneText=!0),g.getApplicationChecklist().then(function(b){a.applicationObject=b,a.applicationObject.medicalLicensesSavedDt||a.noneRecordExists?a.noneRecordExists&&(a.showNoneText=!0):a.enableNoneButton=!0})})}),a.licenseTypes=f.getLicenseTypes(),a.resetNoneLicenseDetails=function(){a.enableNoneButton=!0,a.showNoneText=!1,l.debug("RESETING NONE LICENSE"),g.setChecklistComplete(a.applicationId,"medicalLicensesSavedDt",!0)},a.updateNoneLicenseDetails=function(){f.saveMedLicense(f.prepareNoneLicenseData()).then(function(b){n.success("Saved Successfully"),a.enableNoneButton=!1,a.showNoneText=!0,a.noneRecordExists=!0,a.refreshLicenseList(),a.validationLicensesMsg=null,a.sectionErrorLicenses=""})},a.showLicensureModal=function(){a.isSaveMedLicenseBusy=!1,o.$promise.then(o.show)},a.saveMedLicense=function(b){if(!a.formValidator.validate("licensureFormModal",!0))return!1;var c=!1;a.isSaveMedLicenseBusy=!0,b.id&&b.id.licenseSeqNbr?(c=!0,b.licenseSeqNbr=b.id.licenseSeqNbr):(c=!1,0!==a.licenseData.length&&a.licenseData?b.licenseSeqNbr=a.licenseData[a.licenseData.length-1].id.licenseSeqNbr+1:b.licenseSeqNbr=1),b&&b.licenseMonth&&(b.licenseExpirationMonth=b.licenseMonth.id,b.licenseStateCode=b.licenseState.stateCd,b.applicationId=a.applicationId),l.debug("MedLicense Object",b),1===a.licenseData.length&&a.noneRecordExists&&(f.deleteLicense(a.applicationId,0),a.noneRecordExists=!1),a.licenseObject=f.prepareLicenseObject(b),l.debug(a.licenseObject),f.saveMedLicense(a.licenseObject).then(function(b){b&&b.id.licenseSeqNbr&&(c?n.success("Updated Successfully"):n.success("Saved Successfully"),a.validationLicensesMsg=null,a.sectionErrorLicenses="",a.sectionErrorAdditional="",a.showNoneText=!1,a.hideLicensureModal(),a.refreshLicenseList())})},a.resetMedLicenseForm=function(){a.license={},a.licenseMonth=null,a.licenseState=null},a.cancelLicensureModal=function(){a.license={},a.refreshLicenseList(),a.hideLicensureModal()},a.hideLicensureModal=function(){a.resetMedLicenseForm(),o.$promise.then(o.hide)},a.saveAdditionalForm=function(){var b=!0;return a.licenseData.length||(a.validationLicensesMsg="Please add an entry or select None",a.sectionErrorLicenses="panel-danger",b=!1),a.formValidator.validate("additionalLicenseForm")?a.sectionErrorAdditional="":(a.sectionErrorAdditional="panel-danger",b=!1),b?void g.getCAF(a.applicationId).then(function(b){a.finalCaf=f.prepareFinalCaf(b,a.caf),l.debug(a.finalCaf),g.saveCAF(a.finalCaf).then(function(b){b&&(g.setChecklistComplete(g.applicationId,"licensureInfoSavedDt"),n.success("Saved Successfully"),a.sectionErrorAdditional="",a.applicationObject=b)})}):!1},a.refreshLicenseList=function(){f.getAllMedLicenses().then(function(b){a.states&&a.states.length>0&&(a.licenseData=f.prepareLicenseData(b.plain(),a.states)),a.applicationObject=b,a.licenseData&&a.licenseData.length>0?(a.enableNoneButton=!1,g.setChecklistComplete(g.applicationId,"medicalLicensesSavedDt")):a.resetNoneLicenseDetails()})},a.deleteLicenseModal=function(){f.deleteLicense(a.applicationId,a.deleteLicense.id.licenseSeqNbr).then(function(){a.licenseData=f.deleteDataInList(a.licenseData,a.deleteLicense),n.success("Deleted Successfully"),l.debug(a.licenseData),a.licenseData.length>0?g.setChecklistComplete(g.applicationId,"medicalLicensesSavedDt"):a.resetNoneLicenseDetails()})},a.deleteLicenseData=function(b){a.deleteLicense=b},a.goToPublicationTab=function(){i.go("main.publications"),d()},a.$watch("caf.cafDeaRegNbr",function(b,c){(null===b||void 0===b||""===b||" "===b)&&(a.caf.regExpMonth=null,a.caf.cafDeaRegExpYr=null)}),a.$watch("caf.cafNoLimitationsInd",function(b,c){!b||"R"!==b&&"Y"!==b||(a.caf.cafLimitationsDesc=null)})}]),angular.module("myeras.certifyAndSubmitMedicalLicenses",[]).controller("aamcCertifyAndSubmitMedicalLicensesController",["$scope",function(a){a.name="certifyAndSubmitMedicalLicenses"}]).directive("aamcCertifyAndSubmitMedicalLicenses",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-medical-licenses/aamc-certify-and-submit-medical-licenses.html",controller:"aamcCertifyAndSubmitMedicalLicensesController"}}),angular.module("myeras.certifyAndSubmitStateMedicalLicenses",[]).controller("aamcCertifyAndSubmitStateMedicalLicensesController",["$scope",function(a){a.name="certifyAndSubmitStateMedicalLicenses"}]).directive("aamcCertifyAndSubmitStateMedicalLicensesController",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-state-medical-licenses/aamc-certify-and-submit-state-medical-licenses.html",controller:"aamcCertifyAndSubmitStateMedicalLicensesController"}}),angular.module("myeras.certifyAndSubmitMedicalEducation",[]).controller("aamcCertifyAndSubmitMedicalEducationController",["$scope",function(a){a.name="certifyAndSubmitMedicalEducation"}]).directive("aamcCertifyAndSubmitMedicalEducationController",function(){return{restrict:"E",replace:!0,templateUrl:"/aamc-certify-and-submit-medical-education.html",controller:"aamcCertifyAndSubmitMedicalEducationController"}}),angular.module("myeras.certifyAndSubmitMedicalEdu",[]).controller("aamcCertifyAndSubmitMedicalEduController",["$scope",function(a){a.name="certifyAndSubmitMedicalEdu"}]).directive("aamcCertifyAndSubmitMedicalEdu",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-medical-edu/aamc-certify-and-submit-medical-edu.html",controller:"aamcCertifyAndSubmitMedicalEduController"}}),angular.module("myeras.certifyAndSubmitMedicalSchoolHonors",[]).controller("aamcCertifyAndSubmitMedicalSchoolHonorsController",["$scope",function(a){a.name="certifyAndSubmitMedicalSchoolHonors"}]).directive("aamcCertifyAndSubmitMedicalSchoolHonors",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-medical-school-honors/aamc-certify-and-submit-medical-school-honors.html",controller:"aamcCertifyAndSubmitMedicalSchoolHonorsController"}}),angular.module("myeras.certifyAndSubmitSocietyMembership",[]).controller("aamcCertifyAndSubmitSocietyMembershipController",["$scope",function(a){a.name="certifyAndSubmitSocietyMembership"}]).directive("aamcCertifyAndSubmitSocietyMembership",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-society-membership/aamc-certify-and-submit-society-membership.html",controller:"aamcCertifyAndSubmitSocietyMembershipController"}}),angular.module("myeras.licensureService",[]).factory("licensureService",["Restangular","applicationService","$log","APP_CONFIG","urlService",function(a,b,c,d,e){var f=e.appService;return{getAllMedLicenses:function(){return f.getList("licenses",{applicationId:b.applicationId})},saveMedLicense:function(a){return f.customPUT(a,"licenses/"+a.id.applicationId+"/"+a.id.licenseSeqNbr)},getLicenseTypes:function(){var a=["Full","Temporary or Limited","Inactive"];return a},deleteLicense:function(a,b){return f.one("licenses/"+a+"/"+b).remove()},populateLicenseMonth:function(a,b){var c={};if(a&&a.length>1)for(var d=0;d<a.length;d++)if(a[d].monthDisplayNumber===b){c=a[d];break}return c},populateLicenseState:function(a,b){var c={};if(a&&a.length>1)for(var d=0;d<a.length;d++)if(a[d].stateCd===b){c=a[d];break}return c},deleteDataInList:function(a,b){return _.remove(a,function(a){return a.id.licenseSeqNbr===b.id.licenseSeqNbr}),a},prepareNoneLicenseData:function(){var a={id:{applicationId:b.applicationId,licenseSeqNbr:0},licenseType:"None"};return a},prepareFinalCaf:function(a,b){if(a){var c={applicationId:a.applicationId,cafAwardsDesc:a.cafAwardsDesc,cafDob:a.cafDob,cafBirthPlace:a.cafBirthPlace,cafBoardCertifiedInd:b.cafBoardCertifiedInd,cafBoardCertifiedName:b.cafBoardCertifiedName,cafDeaRegNbr:b.cafDeaRegNbr,cafDeaRegExpMth:b.regExpMonth?b.regExpMonth.id:null,cafDeaRegExpYr:b.cafDeaRegExpYr,cafMspeInd:a.cafMspeInd,cafEthnicityInd:a.cafEthnicityInd,cafFelonyInd:b.cafFelonyInd,cafFelonyDesc:b.cafFelonyDesc,cafHobbiesInterestsDesc:a.cafHobbiesInterestsDesc,cafHomeAddr1:a.cafHomeAddr1,cafHomeAddr2:a.cafHomeAddr2,cafHomeCity:a.cafHomeCity,cafHomeStateCd:a.cafHomeStateCd,cafHomeCountryCd:a.cafHomeCountryCd,cafHomePhone1:a.cafHomePhone1,cafHomePhone2:a.cafHomePhone2,cafHomePostCd:a.cafHomePostCd,cafLicensureProblemInd:b.cafLicensureProblemInd,cafLicensureProblemDesc:b.cafLicensureProblemDesc,cafLimitationsDesc:b.cafLimitationsDesc,cafMalpracticeInd:b.cafMalpracticeInd,cafMalpracticeDesc:b.cafMalpracticeDesc,cafEducInterruptInd:a.cafEducInterruptInd,cafEducInterruptDesc:a.cafEducInterruptDesc,cafMembershipsDesc:a.cafMembershipsDesc,cafMilServiceObligInd:a.cafMilServiceObligInd,cafMilServiceYrs:a.cafMilServiceYrs,cafNoLimitationsInd:b.cafNoLimitationsInd,cafOtherAccomplDesc:a.cafOtherAccomplDesc,cafOtherServiceDesc:a.cafOtherServiceDesc,cafOtherServiceObligInd:a.cafOtherServiceObligInd,cafPastHistoryInd:b.cafPastHistoryInd,cafPastHistoryDesc:b.cafPastHistoryDesc,cafReleaseInd:a.cafReleaseInd,cafReleaseDt:a.cafReleaseDt,cafSex:a.cafSex,cafSubmitDt:a.cafSubmitDt,cafTranscriptInd:a.cafTranscriptInd,cafMilBranchCd:a.cafMilBranchCd,cafMisdemeanorInd:b.cafMisdemeanorInd,cafMisdemeanorDesc:b.cafMisdemeanorDesc,lieuPdfMspeJmsInd:a.lieuPdfMspeJmsInd,lieuPdfTranscriptJmsInd:a.lieuPdfTranscriptJmsInd,version:a.version};return c}},prepareLicenseObject:function(a){if(a){var b={id:{applicationId:a.applicationId,licenseSeqNbr:a.licenseSeqNbr},licenseStateCode:a.licenseStateCode,licenseType:a.licenseType,licenseNumber:a.licenseNumber,licenseExpirationMonth:a.licenseExpirationMonth,licenseExpirationYear:a.licenseYear.toString()};return b}},prepareLicenseData:function(a,b){var c=this,d=[];if(a)for(var e=0;e<a.length;e++){var f=c.populateLicenseState(b,a[e].licenseStateCode);a[e].licenseStateDesciption=f.stateDesc,d.push(a[e])}return d}}}]),angular.module("myeras.letterService",[]).factory("letterService",["$q","$log","applicationService","Restangular","urlService",function(a,b,c,d,e){var f=e.dwsDocService;return{getApplicantLorAuthors:function(a){return f.one("lorRequests").get({applicationId:a})},saveApplicantLorAuthors:function(a){return a.applicationId=c.applicationId,f.post("lorRequests",a)},updateApplicantLorAuthors:function(a,b,c){return f.customPUT(a,"lorRequests/"+b+"_"+c)},comfirmApplicantLorAuthors:function(a){return f.one("lorRequests").customPUT(a,"/confirmation")},deleteApplicantLorAuthors:function(a,b){return f.one("lorRequests",a+"_"+b).remove()},getPrintLORContent:function(a){a.applicantData;return["\n\n",{text:"ERAS Letter Request Form",style:"header2"},"\n",{text:"ERAS Application Season : "+a.applicationData.season,style:"header"},this.getECFMGPrintLORContent(a.applicationData.sourceOrganization,a.paragraph9Text),"\n\n",{table:{headerRows:1,widths:["50%","50%"],style:"row",body:[[{text:"Request From:",style:"title"},{text:"To:",style:"title"}],[{text:a.fullName},{text:a.lorWriteName}],[{text:"",ngShow:"applicationData.email",ngModel:"applicationData.email"},{text:a.lorWriterDept}],[{text:"",ngShow:"applicationData.formattedContactPhone",ngModel:"applicationData.formattedContactPhone"},{text:""}]]},layout:"noBorders"},"\n\n",{text:a.paragraph1Text},"\n\n",{text:("Y"===a.printLetter.lorWaiver?"__X__":"_____")+"(I waive) my right to see this letter.",style:"leftTitle"},{text:("N"===a.printLetter.lorWaiver?"__X__":"_____")+"(I do not waive) my right to see this letter.",style:"leftTitle"},this.getPrintLORNotes(a),"\n\n\n",{text:a.paragraph3Text,pageBreak:"after"},{text:"Instructions for submitting LoR(s) to ERAS",bold:!0},"\n\n",{text:a.paragraph4Text},{style:"leftBullet",ul:[{text:a.systemReqMessages[0]?a.systemReqMessages[0].value:""},{text:a.systemReqMessages[1]?a.systemReqMessages[1].value:""},{text:a.systemReqMessages[2]?a.systemReqMessages[2].value:""},{text:a.systemReqMessages[3]?a.systemReqMessages[3].value:""},{text:a.systemReqMessages[4]?a.systemReqMessages[4].value:""}]},"\n\n",{text:a.paragraph6Text},"\n\n",{table:{headerRows:0,widths:["5%","45%","50%"],style:"row",body:[[{text:""},{text:"Applicant AAMC ID: ",bold:!0},{text:a.applicationData.aamcId.toString()}],[{text:""},{text:"Applicant Name: ",bold:!0},{text:a.fullName}],[{text:""},{text:"Preferred Name: ",bold:!0},{text:a.applicationData.preferredName?a.applicationData.preferredName:""}],[{text:""},{text:"ERAS Letter ID: ",bold:!0},{text:a.printLetter.lorLetterId.toString()}],[{text:""},{text:"Specialty to which this letter will be assigned: ",bold:!0},{text:a.printLetter.lorInstructions?a.printLetter.lorInstructions:""}]]},layout:"noBorders"},"\n\n",{text:a.paragraph7Text},a.isECFMG?this.getPrintLORNotes(a):"",this.getContactSupportInfo(a)]},getContactSupportInfo:function(a){return a.isECFMG?["\n\n",{text:"Contact ERAS for LoR Portal Help",italics:!0,bold:!0,decoration:"underline"},{text:a.paragraph8Text,italics:!0}]:["\n\n",{text:a.paragraph8Text,italics:!0}]},getPrintLORNotes:function(a){return["\n\n",{text:"NOTE:",color:"red",italics:!0},{style:"leftBullet",ul:[{text:a.noteMessages[0]?a.noteMessages[0].value:"",bold:a.noteMessages[0]?a.noteMessages[0].bold:!1},{text:a.noteMessages[1]?a.noteMessages[1].value:"",bold:a.noteMessages[1]?a.noteMessages[1].bold:!1},{text:a.noteMessages[2]?a.noteMessages[2].value:"",bold:a.noteMessages[2]?a.noteMessages[2].bold:!1},{text:a.noteMessages[3]?a.noteMessages[3].value:"",bold:a.noteMessages[3]?a.noteMessages[3].bold:!1},{text:a.noteMessages[4]?a.noteMessages[4].value:"",bold:a.noteMessages[4]?a.noteMessages[4].bold:!1},{text:a.noteMessages[5]?a.noteMessages[5].value:"",bold:a.noteMessages[5]?a.noteMessages[5].bold:!1}]}]},getECFMGPrintLORContent:function(a,b){var c=[];return c="ECFMG"===a?{table:{body:[[b]]},style:"boxtable"}:""},formatPhoneNumber:function(a){var b=null;return a&&a.contactPhone1&&(b="("+a.contactPhone1.substring(0,3)+") "+a.contactPhone1.substring(3,6)+"-"+a.contactPhone1.substring(6,10)),b},evaluateLetterObject:function(a){return a&&("Y"===a.lorDeptChairInd?a.lorPgmDirectorInd="N":"Y"===a.lorPgmDirectorInd?a.lorDeptChairInd="N":a.lorPgmDirectorInd||a.lorDeptChairInd||(a.lorPgmDirectorInd="N",a.lorDeptChairInd="N"),delete a.lorUploaded,delete a.confirmed,delete a.lorInd),a}}}]),angular.module("myeras.submission",["ui.router"]).controller("submissionController",["$modal","$scope","$state","refDataService","applicationService","$log","log","context","$rootScope","documentService","unitsService",function(a,b,c,d,e,f,g,h,i,j,k){b.title="submission",b.applicantData={},
b.applicationId=e.applicationId,b.applicationData={},b.confirm={},b.originalApplicationDataObj={},i.$on("goBackAndFetchNewCaf",function(a,c){e.getCAF(b.applicationId).then(function(a){b.certifyDate=new Date,b.applicantData=a,b.imgQuestAnswered=!0,f.debug(b.applicantData)})}),e.getApplication().then(function(a){b.applicationData=a,f.debug(b.applicationData),b.applicationData.fullName=b.applicationData.lastName,(b.applicationData.firstName||b.applicationData.middleName||b.applicationData.suffix)&&(b.applicationData.firstName&&(b.applicationData.fullName=b.applicationData.fullName+", "+b.applicationData.firstName),b.applicationData.middleName&&(b.applicationData.fullName=b.applicationData.fullName+", "+b.applicationData.middleName),b.applicationData.suffix&&(b.applicationData.fullName=b.applicationData.fullName+", "+b.applicationData.suffix))}),e.getCAF(b.applicationId).then(function(a){b.certifyDate=new Date,b.applicantData=a,b.cafDataObj=a,f.debug(b.applicantData),b.applicantData.cafMspeInd&&b.applicantData.cafTranscriptInd&&"IMG"===b.applicationData.residencyType&&(b.imgQuestAnswered=!0)}),b.applicantData=b.originalApplicationDataObj,e.getApplicationChecklist().then(function(a){b.applicantChecklistData=a});var l=a({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/submission/confirmation-modal.html"});b.showSubmissionModal=function(){l.$promise.then(l.show)},b.hideSubmissionModal=function(){l.$promise.then(l.hide),b.confirm={}},b.userInput=null,b.validateForm=function(a){var c=!b.formValidator.validate("submissionForm",!0);if(c)return!1;var d="Y"==b.userInput?"Y":"N";e.authenticate(h.username,b.confirm.confirmPassword).then(function(){e.getCAF(b.applicationId).then(function(a){a.cafReleaseInd=d,a.cafMspeInd=b.cafDataObj.cafMspeInd,a.cafTranscriptInd=b.cafDataObj.cafTranscriptInd,e.saveCAF(a).then(function(){b.showSubmissionModal()})})},function(){g.error("Password mismatch"),b.confirm.confirmPassword=""})},b.back=function(){c.go("main.certify",{checkListMode:!0})},b.confirmApplicationSubmission=function(){b.hideSubmissionModal();var a=b.applicationData;delete a.checked,delete a.countryOb,delete a.school,delete a.degreeyear,delete a.inst,delete a.fullName,e.submitApplication(a).then(function(a){e.setApplication(a),"Y"===a.paidInd&&k.updateApplicationAvailableDt(a.applicationId,a.profileUpdatedDt),!a||"IMG"!==a.residencyType||"N"!==b.applicantData.cafMspeInd&&"N"!==b.applicantData.cafTranscriptInd||j.inLieuPdf(a.applicationId);var d="Your ERAS application has been submitted. Please select and apply to your desired programs, and ensure that all your supporting documents are assigned correctly to those programs";g.successWithTimer(d,6e3),c.go("main.newdashboard",{msgCd:"confirmSubmit"})})}}]),angular.module("myeras.certifyAndSubmitCertification",[]).controller("aamcCertifyAndSubmitCertificationController",["$scope",function(a){a.name="certifyAndSubmitCertification"}]).directive("aamcCertifyAndSubmitCertification",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-certification/aamc-certify-and-submit-certification.html",controller:"aamcCertifyAndSubmitCertificationController"}}),angular.module("myeras.formatMonth",[]).filter("formatmonth",["$log",function(a){return function(a){return 10>a?"0"+a:a}}]),angular.module("myeras.fiterByProperty",[]).filter("fiterbyproperty",["$log",function(a){return function(b,c,d,e){if(b)for(var f=0;f<b.length;f++){var g=b[f];if(g[c]===d)return a.debug(g[e]),"list"===e?g:g[e]}return null}}]),angular.module("myeras.cacheService",[]).factory("myerasCache",["$cacheFactory",function(a){return a("myerasCache")}]),angular.module("myeras.summary",["ui.router"]).controller("summaryController",["$scope","$state","languageService","selfIdentificationService","personalService","experienceService","trainingService","publicationService","applicationService","generalService","refDataService","$log","licensureService","myerasCache","$filter",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){a.title="summary",a.applicantData={},a.applicationData={},a.applicantData.applicationId=a.applicationId=i.applicationId,a.applicantData.fullName=a.applicantData.lastName+","+a.applicantData.firstName+","+a.applicantData.middleName+","+a.applicantData.suffix,a.applicantData.certifyDate=new Date,i.getCAF(a.applicationId).then(function(b){a.applicantData=b,l.debug(a.applicantData)}),i.getApplication().then(function(b){a.applicationData=b,"USA"===a.applicationData.permanentCountry?a.states=n.get("usaStates"):"CAN"===a.applicationData.permanentCountry&&(a.states=n.get("canStates")),a.countries=n.get("countries")}),a.loadServices=function(){j.getAllHigherEducation(a.applicationId).then(function(b){a.allHigherEducations=b,l.debug(a.allHigherEducations)}),g.getAllTrainee(a.applicationId).then(function(b){a.allTrainings=b,l.debug(a.allTrainings)}),f.getAllExperiences(a.applicationId).then(function(b){a.AllExperiences=b,l.debug(a.AllExperiences)}),h.getAllPublications(a.applicationId).then(function(b){a.AllPublications=b,l.debug(a.AllPublications)}),c.getAppLangs().then(function(b){a.selectedLangs=c.getSelectedLangs(b),l.debug(a.selectedLangs)}),j.getAllMedicalEducation(a.applicationId).then(function(b){a.allMedicalEducations=b,l.debug(a.allMedicalEducations)}),m.getAllMedLicenses(a.applicationId).then(function(b){a.AllMedLicenses=b,l.debug(a.AllMedLicenses)}),d.getAppSIs().then(function(b){a.appSIs=b})},a.next=function(){b.go("main.submission")},a.edit=function(){b.go("main.personalInfo")},a.loadServices(),i.getApplicationChecklist().then(function(b){a.checklist=b,l.debug(a.checklist),a.checkListMode=!i.isChecklistComplete(b)})}]),angular.module("myeras.certifyAndSubmitHigherEducation",[]).controller("aamcCertifyAndSubmitHigherEducationController",["$scope",function(a){a.name="certifyAndSubmitHigherEducation"}]).directive("aamcCertifyAndSubmitHigherEducation",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-higher-education/aamc-certify-and-submit-higher-education.html",controller:"aamcCertifyAndSubmitHigherEducationController"}}),angular.module("myeras.certifyAndSubmitTraining",[]).controller("aamcCertifyAndSubmitTrainingController",["$scope",function(a){a.name="certifyAndSubmitTraining"}]).directive("aamcCertifyAndSubmitTraining",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-training/aamc-certify-and-submit-training.html",controller:"aamcCertifyAndSubmitTrainingController"}}),angular.module("myeras.certifyAndSubmitExperience",[]).controller("aamcCertifyAndSubmitExperienceController",["$scope",function(a){a.name="certifyAndSubmitExperience"}]).directive("aamcCertifyAndSubmitExperience",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-experience/aamc-certify-and-submit-experience.html",controller:"aamcCertifyAndSubmitExperienceController"}}),angular.module("myeras.certifyAndSubmitPublications",[]).controller("aamcCertifyAndSubmitPublicationsController",["$scope",function(a){a.name="certifyAndSubmitPublications"}]).directive("aamcCertifyAndSubmitPublications",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-publications/aamc-certify-and-submit-publications.html",controller:"aamcCertifyAndSubmitPublicationsController"}}),angular.module("myeras.certifyAndSubmitLanguage",[]).controller("aamcCertifyAndSubmitLanguageController",["$scope",function(a){a.name="certifyAndSubmitLanguage"}]).directive("aamcCertifyAndSubmitLanguage",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-language/aamc-certify-and-submit-language.html",controller:"aamcCertifyAndSubmitLanguageController"}}),angular.module("myeras.certifyAndSubmitHobbies",[]).controller("aamcCertifyAndSubmitHobbiesController",["$scope",function(a){a.name="certifyAndSubmitHobbies"}]).directive("aamcCertifyAndSubmitHobbies",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-hobbies/aamc-certify-and-submit-hobbies.html",controller:"aamcCertifyAndSubmitHobbiesController"}}),angular.module("myeras.certifyAndSubmitOtherAwards",[]).controller("aamcCertifyAndSubmitOtherAwardsController",["$scope",function(a){a.name="certifyAndSubmitOtherAwards"}]).directive("aamcCertifyAndSubmitOtherAwards",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-certify-and-submit-other-awards/aamc-certify-and-submit-other-awards.html",controller:"aamcCertifyAndSubmitOtherAwardsController"}}),angular.module("myeras.casStateLicense",[]).controller("aamcCasStateLicenseController",["$scope",function(a){a.name="casStateLicense"}]).directive("aamcCasStateLicense",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-cas-state-license/aamc-cas-state-license.html",controller:"aamcCasStateLicenseController"}}),angular.module("myeras.languageService",[]).factory("languageService",["Restangular","APP_CONFIG","applicationService","urlService",function(a,b,c,d){var e=d.appService;return{getAppLangs:function(){return e.getList("applicationLanguages",{applicationId:c.applicationId}).then(function(a){return _.forEach(a,function(a){a.languageProficiencyCode=a.languageProficiency.languageProficiencyCode,a.profDescription=a.languageProficiency.languageProficiencyDescription,a.lpNotes=a.languageProficiency.lpNotes}),a})},getLanguages:function(){return e.getList("applicationLanguages/excludedLanguages",{applicationId:c.applicationId,season:b.SEASON}).then(function(a){return _.remove(a,function(a){return/^OTHER$/i.test(a.languageDescription)}),_.forEach(a,function(a){a.applicationId=c.applicationId}),a})},saveAppLangs:function(a){return e.one("applicationLanguages",c.applicationId).customPOST(a)},getLangCurrentList:function(a,b){var c=angular.copy(a);return _.remove(c,{languageCode:b}),c},getSelectedLangs:function(a,b){!function(c){_.forEach(b,function(b){c.addLanguage(a,b)})}(this)},addLanguage:function(a,c,d){a.push({applicationId:parseInt(c.applicationId,10),languageCode:c.languageCode,languageDescription:c.languageDescription,languageProficiencyCode:d?d.languageProficiencyCode:c.languageProficiencyCode,profDescription:d?d.languageProficiencyDescription:c.profDescription,lpNotes:d?d.lpNotes:c.lpNotes,season:b.SEASON})},removeLanguage:function(a,b){_.remove(a,{languageCode:b.languageCode})}}}]),angular.module("myeras.personalStatements",["ui.router"]).controller("personalStatementsController",["$scope","$rootScope","$filter","$timeout","$modal","$log","$sce","log","$window","applicationService","personalStatementService","$state","unitsService","programAssignmentsService","refDataService","context","otherDocumentService","contentService","actionsService","APP_CONFIG","modalService","textAngularManager",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a){var b=!1,c=_.filter(a,function(a){return a.preSelected===!0&&a.selected===!0});return c&&a&&(b=a.length===c.length),b}function x(b){k.postPersonalStatmentBinary(a.applicationId,b).then(function(b){var d=window.atob(b.valueObject.fileContent),e=c("uriToBinary")(d);a.pdfUrl=e,a.viewPersonalStatementModal()},function(){h.error("Can`t process your personal statement, Please try again later")})}function y(b){var c=n.validateSelection(b,null,a.soapDto);return c||(a.hideAssignnPersonalStatementsModal(),a.viewAssignPersonalStatementsModal(a.pStatement)),c}function z(a){s.setContext(a,"PersonalStatements")}a.errors=[],a.applicationId=j.applicationId,a.personalStatement={psBody:"",psTitle:""},a.editMode=!1,a.success={},a.success.personalStatementInfoSave=!1,a.allPersonalStatements=[],a.textAreaLength=28e3,a.removedPrograms=[],a.addedPrograms=[],a.search={psTitle:""},a.isSoapIneligibleApplicant=!0,a.docCodes=o.getDocCodes(),a.context=p,a.showMessage=!1,a.pagination={itemsPerPage:10,gap:5,currentPage:1},r.getContent("PERSONALSTATEMENTS_MORE_ABOUT_FORMATTING").then(function(b){b&&(a.formattingInfo=g.trustAsHtml(b.displayText))}),r.getContent("DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT").then(function(b){b&&(a.documentAssigmentUnsuccessful=g.trustAsHtml(b.displayText))}),r.getContent("SOAP_DOCUMENT_ASSIGNMENT_INELIGIBLE_TEXT").then(function(b){b&&(a.ineligibleSelectionMessage=g.trustAsHtml(b.displayText))}),a.filterePersonalStatements=function(b){var c=!0;return a.search.psTitle&&-1===b.psTitle.indexOf(a.search.psTitle)&&(c=!1),c},a.showSoapIneligibleMessage=function(){return t.isSoapOpen&&t.ISRESIDENCY&&(t.applicantSoapObject.applicantSoapIneligible||"FM"===t.applicantSoapObject.applicantSoapMatchStatus)?!0:!1},a.numberOfPages=function(){return a.allPersonalStatements?Math.ceil(c("filter")(a.allPersonalStatements,{psTitle:a.search.psTitle}).length/a.pagination.itemsPerPage):0},a.setRange=function(){for(var b=[],c=Math.max(a.numberOfPages()-(a.pagination.gap-1),1),d=Math.min(a.pagination.currentPage-3,c);b.length<a.pagination.gap&&d<=a.numberOfPages();)d>0&&b.push(d),d++;a.range=b},a.prevPage=function(){a.pagination.currentPage>1&&a.pagination.currentPage--},a.nextPage=function(){a.pagination.currentPage<a.numberOfPages()&&a.pagination.currentPage++},a.disableAssign=function(){var b=!1;return a.myPrograms&&a.myPrograms.length<1&&(b=!0),b};var A={reportName:"PERSONAL_STATEMENT",appName:"MYERAS",applicationId:a.applicationId},B=function(){m.getSelectedProgramsDto(j.applicationId).then(function(b){b&&(b.soapDto&&b.soapDto.applicantSoapEligible?(a.soapDto=b.soapDto,a.isSoapIneligibleApplicant=!1,a.eligiblePrograms=b.soapEligiblePrograms,a.ineligiblePrograms=b.soapInEligiblePrograms,a.myPrograms=a.eligiblePrograms.concat(a.ineligiblePrograms)):a.myPrograms=b,a.getAssignedpersonalStatements())})},C=function(){j.getApplication(j.applicationId).then(function(b){a.applicant=b;var c=a.applicant&&a.applicant.middleName?" "+a.applicant.middleName:"",d=a.applicant&&a.applicant.suffix?" "+a.applicant.suffix:"";A.fullName=a.applicant.lastName+", "+a.applicant.firstName+c+d+"("+a.applicant.aamcId+")"},function(a){h.error("Can`t retrieve applicant data, please try again later")})};B(),C(),k.getPersonalStatements(j.applicationId).then(function(b){a.allPersonalStatements=b});var D=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/personal-statements/assign-personal-statements-modal.html"}),E=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/personal-statements/personal-statements-delete-modal.html"});a.viewPersonalStatementModal=function(){u.create({id:"personalStatementViewModal",animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/personal-statements/personal-statements-view-modal.html"});var b=u.show("personalStatementViewModal");return b},a.createStatementModal=function(){u.create({id:"personalStatementsModal",animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/personal-statements/personal-statements-modal.html"});var b=u.show("personalStatementsModal");return b},a.confirmAssignPersonalStatements=function(){0===a.addedPrograms.length&&0===a.removedPrograms.length?a.showNoAssingmentSelectionMessage=!0:n.isInvalidSoapIneligibleApplicantSelections(a.isSoapIneligibleApplicant,a.addedPrograms)?(a.showIneligibleSelectionMessage=!0,B()):(a.showAssignTitle=!1,a.modalCurrentPage=2,a.showNoAssingmentSelectionMessage=!1)},a.backAssignPersonalStatements=function(){a.modalCurrentPage=1},a.hideAssignnPersonalStatementsModal=function(){D.$promise.then(D.hide)},a.showPersonalStatementsModal=function(){a.personalStatement={},a.editMode=!1,a.search.psTitle="",a.actionSelect="Create",a.createStatementModal()},a.hideDeletePersonalStatementsModal=function(){E.$promise.then(E.hide)},a.hideviewPersonalStatementsModal=function(){u.destroy("personalStatementViewModal")},a.hidePersonalStatementsModal=function(){u.destroy("personalStatementsModal")},a.getAllPersonalStatements=function(){k.getPersonalStatements(a.applicationId).then(function(b){a.allPersonalStatements=b})},a.savePersonalStatements=function(){0!==a.allPersonalStatements.length&&a.allPersonalStatements?a.psSeqNbr=a.allPersonalStatements[a.allPersonalStatements.length-1].psSeqNbr+1:a.psSeqNbr=1;var b={};o.getServerCurrentDate().then(function(c){a.personalStatement&&(b={applicationId:a.applicationId,psTitle:a.personalStatement.psTitle,psSeqNbr:a.psSeqNbr,psBody:a.personalStatement.psBody,psSubmitDate:null,createdBy:p.aamcId,createdDt:c,lastUpdatedBy:p.aamcId,lastUpdatedDt:c,pivioImportIndicator:null,textUpdateDate:c}),a.hideviewPersonalStatementsModal(),k.savePersonalStatement(b).then(function(b){h.success("Saved Successfully"),a.personalStatement={},a.getAllPersonalStatements()})})},a.editPersonalStatement=function(b){a.actionSelect="Edit",a.personalStatement=angular.copy(b),a.createStatementModal()},a.updatePersonalStatement=function(){o.getServerCurrentDate().then(function(b){a.personalStatement.textUpdateDate=b,k.updatePersonalStatement(a.personalStatement).then(function(b){a.personalStatement=b,a.getAllPersonalStatements(),a.hideviewPersonalStatementsModal(),h.success("Updated Successfully")})})},a.previewStatement=function(b){return b.validate()?(a.isPrint=!1,A.reportBody=a.personalStatement.psBody,a.hidePersonalStatementsModal(),void x(A)):void(a.showMessage=!0)},a.printContent=function(){A.reportBody=a.personalStatement.psBody,k.postPersonalStatementPdf(a.applicationId,A).then(function(b){if(a.hideviewPersonalStatementsModal(),b){var c=t.BASE_URL+"/30/eras-dws-doc-service/myeras/documents/getPSPdf/"+a.applicationId+"?fileName="+b;i.open(c)}},function(){h.error("Can`t process your personal statement, Please try again later")})},a.deletePersonalStatement=function(){a.personalStatementData&&(a.applicationId=a.personalStatementData.applicationId,a.psSeqNbr=a.personalStatementData.psSeqNbr),a.hideDeletePersonalStatementsModal(),k.deletePersonalStatement(a.applicationId,a.psSeqNbr).then(function(){a.assignedPrograms=[],a.getAllPersonalStatements(),h.success("Deleted Successfully")})},a.goBack=function(){a.hideviewPersonalStatementsModal(),a.createStatementModal()},a.viewps=function(b){a.isPrint=!0,a.personalStatement=b,a.printContent()},a.deleteps=function(b){a.personalStatementData=b,E.$promise.then(E.show)},a.viewAssignPersonalStatementsModal=function(b){n.getAssignedDocuments(a.applicationId,a.docCodes.PERSONAL_STMT.docCd).then(function(c){a.modalCurrentPage=1,a.assignedPrograms=c.plain(),a.showTable=!0,a.letter={seqNbr:b.psSeqNbr},a.pStatement=b,a.currentDocObj=a.docCodes.PERSONAL_STMT,a.selectedPrograms=a.myPrograms,a.applicantSoapEligible=t.applicantSoapObject&&t.applicantSoapObject.applicantSoapEligible,0===a.selectedPrograms.length&&(a.showTable=!1),angular.forEach(a.selectedPrograms,function(c){c.selected=_.filter(a.assignedPrograms,{unitId:c.unitId,seqNbr:b.psSeqNbr}).length>0,c.preSelected=_.filter(a.assignedPrograms,{unitId:c.unitId,seqNbr:b.psSeqNbr}).length>0}),angular.forEach(a.selectedPrograms,function(b){b.assignedPs=[],angular.forEach(a.assignedPrograms,function(c){c.unitId===b.unitId&&angular.forEach(a.allPersonalStatements,function(a){c.seqNbr===a.psSeqNbr&&b.assignedPs.push(a)})})}),a.updateAssignedPrograms(b.psSeqNbr,a.selectedPrograms),D.$promise.then(D.show)})},a.updateSelectedPrograms=function(b,c,d){d&&y(d)&&a.updateAssignedPrograms(b,a.selectedPrograms)},a.updateAssignedPrograms=function(b,d){a.showAssignTitle=!0,a.removedPrograms=[],a.addedPrograms=[],b&&(a.listPrograms=n.updateSelectedPrograms(d,b,a.docCodes.PERSONAL_STMT.docCd),a.removedPrograms=n.getRemovedPrograms(d,b,a.docCodes.PERSONAL_STMT.docCd),angular.forEach(d,function(b){angular.forEach(a.listPrograms,function(a){b.unitId===a.unitId&&b.preSelected?a.doNotShowInList=!0:b.unitId!==a.unitId||b.preSelected||(a.doNotShowInList=!1)})}),a.addedPrograms=c("filter")(a.listPrograms,{doNotShowInList:!1}),a.isAllProgramsAssigned=w(d))},a.convertStatus=function(a){return n.convertStatus(a)},a.assignToDocuments=function(b,c){o.getServerCurrentDate().then(function(d){var e,f=d;a.deleteProgramAssignmentList=[],_.forEach(b,function(b){delete b.programAssignments,delete b.selected,delete b.unitName,delete b.specName,delete b.preSelected,delete b.doNotShowInList,e=_.find(a.assignedPrograms,{unitId:b.unitId,docCd:b.docCd})||{},e.paSubmitDt&&e.seqNbr===b.seqNbr?b.paSubmitDt=e.paSubmitDt:b.paSubmitDt=f,e.paProcessedDt&&e.seqNbr===b.seqNbr||!b.invoiceSeqNumber?b.paProcessedDt=e.paProcessedDt:b.paProcessedDt=f,delete b.invoiceSeqNumber}),_.forEach(a.listPrograms,function(b){a.deleteProgramAssignmentList.push({applicationId:j.applicationId,unitId:b.unitId,docCd:a.docCodes.PERSONAL_STMT.docCd})}),a.assignedProgramsCopy=angular.copy(a.assignedPrograms);var g=n.prepareFinalPersonalStmtPAList(a.addedPrograms,a.removedPrograms,a.assignedProgramsCopy);a.assignmentList=g.assignments;var i=g.replaceUnitIds;a.hideAssignnPersonalStatementsModal(),n.assignDocumentsToProgramsFromPersonalStmtSection(a.assignmentList,j.applicationId,a.docCodes.PERSONAL_STMT.docCd,c.psSeqNbr,i).then(function(b){n.isUnsuccessfulDocumentAssignment(b)?(h.error(b.message),a.getAssignedpersonalStatements(),a.getAllPersonalStatements()):(a.getAssignedpersonalStatements(),a.getAllPersonalStatements(),h.success("Saved Successfully"))})})},a.getAssignedpersonalStatements=function(){applicationId=a.applicationId,a.docCode=a.docCodes.PERSONAL_STMT.docCd,n.getAssignedDocuments(a.applicationId,a.docCodes.PERSONAL_STMT.docCd).then(function(b){a.assignedPrograms=b})},a.$watchCollection("[pagination.currentPage, pagination.itemsPerPage, allPersonalStatements]",function(){a.setRange(),a.pagination.currentPage>a.numberOfPages()&&(a.pagination.currentPage=Math.max(a.numberOfPages(),1))}),a.$watch("search.psTitle",function(){a.setRange()}),a.showTable=function(b,c){return b===a.docCodes.PERSONAL_STMT.docCd&&0===c?!1:!0},z(a),a.$on("modal.hide",function(){a.textAngularEditor=v.retrieveEditor("personalStatementBody"),a.textAngularEditor&&a.textAngularEditor.scope&&v.unregisterEditor("personalStatementBody"),u.get("personalStatementsModal")&&!u.isShown("personalStatementsModal")&&u.destroy("personalStatementsModal"),u.get("personalStatementViewModal")&&!u.isShown("personalStatementViewModal")&&u.destroy("personalStatementViewModal")})}]),angular.module("myeras.letterRecommendation",["ui.router","myeras.letterService","myeras.applicationService","myeras.refDataService"]).controller("letterRecommendationController",["$scope","$rootScope","$modal","$q","$filter","$state","$location","$anchorScroll","$timeout","letterService","applicationService","refDataService","context","APP_CONFIG","unitsService","otherDocumentService","programAssignmentsService","pdfMakeService","contentService","$sce","$log","log","actionsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){function x(){"Y"===a.applicant.lorPgmDirectorInd&&(a.applicant.lorInd="1"),"Y"===a.applicant.lorDeptChairInd&&(a.applicant.lorInd="2"),"Y"!==a.applicant.lorPgmDirectorInd&&"Y"!==a.applicant.lorDeptChairInd&&(a.applicant.lorInd="3")}function y(a,b){var c=new Image;c.src=a,c.onload=function(){var a=document.createElement("canvas");a.width=this.width,a.height=this.height;var c=a.getContext("2d");c.drawImage(this,0,0);var d=a.toDataURL("image/png");"F"===b&&d?H.fellowshipImage=d:H.residencyImage=d}}function z(){y("images/erassm.gif","R"),y("images/erassm_fap.gif","F")}function A(a){return 10>a&&(a="0"+a),a}function B(a){a=a?new Date(a):new Date;var b=a.getHours(),c=b>=12?"PM":"AM",d=b%12||12,e=A(a.getMonth()+1)+"/"+A(a.getDate())+"/"+a.getFullYear()+" "+A(d)+":"+A(a.getMinutes())+":"+A(a.getSeconds())+" "+c;return e}function C(b){var c=q.validateSelection(b,null,a.soapDto);return c||(a.hideAssignLorModal(),a.showAssignLorModal(a.letter)),c}function D(a){var b=H.residencyImage;return"F"===a&&(b=H.fellowshipImage),{alignment:"left",margin:[0,10,0,10],table:{widths:["3%","62%","32%","3%"],style:"row",body:[[{text:""},{text:B(),alignment:"left"},{image:b,alignment:"right",width:95},{text:""}]]},layout:"noBorders"}}function E(a,b){var c=r.transformText("This form is for instructional purposes only and [b]should not be included[/b] in your submission.");return{margin:[0,10,0,10],table:{widths:["3%","80%","14%","3%"],style:"row",body:[[{text:""},{text:c,alignment:"left"},{text:"Page "+a+" of "+b,alignment:"right",bold:!0},{text:""}]]},layout:"noBorders"}}function F(a){w.setContext(a,"LetterRecommendation")}var G={},H={};a.letters={},a.letter={},a.showAssign=!0,a.currentDocObj={},a.assignPrograms={},a.showNoSelectionError=!1,a.newRemovedAssignedDocs=[],a.newAssignedDocs=[],a.removedPrograms=[],a.confirmedLoRSize=0,a.applicantInfo=m,b.breadcrumbs=[{link:"#/letterRecommendation",active:!0,title:"Letter of Recommendation"}],a.applicant={},a.applicantLorData={},a.confirm={},a.deleteAuthor={},a.confirmedAuthors=[],a.modaltitle="",a.actionOption=["Edit","View/Print","Assign","Delete"],a.recordOption=["Only checked","All on this page","All 100 records"],a.docCodes=l.getDocCodes(),a.search={searchLorAuthors:""},a.isSoapIneligibleApplicant=!0,k.getApplication().then(function(b){b&&(a.applicationData=b,a.applicationId=b.applicationId,a.applicant.applicationId=b.applicationId,a.getApplicantLorAuthors())}),a.getMyPrograms=function(){o.getSelectedProgramsDto(k.applicationId).then(function(b){b&&(b.soapDto&&b.soapDto.applicantSoapEligible?(a.soapDto=b.soapDto,a.isSoapIneligibleApplicant=!1,a.eligiblePrograms=b.soapEligiblePrograms,a.ineligiblePrograms=b.soapInEligiblePrograms,a.myPrograms=a.eligiblePrograms.concat(a.ineligiblePrograms)):a.myPrograms=b,a.getAssignedLetters())})},a.isDisabled=function(b){return"Y"!==b.withdrawnIndicator||b.programEligibleForReapply?a.isSelectionMaxedOut(b)?!0:b.invoiceSeqNumber&&b.preSelected?!0:b.unit.unfilledPositionsIndicator&&n.applicantSoapObject&&!n.applicantSoapObject.applicantSoapEligible&&n.applicantSoapObject.soapOpen&&"FM"!==n.applicantSoapObject.applicantSoapMatchStatus?!0:!1:!0},a.getMyPrograms();var I=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/letter-recommendation/lor-author-modal.html"}),J=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/letter-recommendation/lor-finalized-author-modal.html"}),K=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/letter-recommendation/lor-print-request-form-modal.html"});a.getApplicantLorAuthors=function(){j.getApplicantLorAuthors(k.applicationId).then(function(b){b&&(a.applicantLorData=b,a.applicantLorData=e("lorauthor")(a.applicantLorData),a.confirmedLoRSize=0),a.applicantLorDataSize=a.applicantLorData.length})},s.getContent("DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT").then(function(b){b&&(a.documentAssigmentUnsuccessful=t.trustAsHtml(b.displayText))}),s.getContent("SOAP_DOCUMENT_ASSIGNMENT_INELIGIBLE_TEXT").then(function(b){b&&(a.ineligibleSelectionMessage=t.trustAsHtml(b.displayText))}),a.filteredAuthors=function(b){if(b&&(b.lorWriterName||b.lorWriterDept||b.lorInstructions)){var c=b.lorWriterName.toLowerCase(),d=b.lorWriterDept.toLowerCase(),e=a.search.searchLorAuthors.toLowerCase();if(-1!==c.indexOf(e||"")||-1!==d.indexOf(e||"")||b.lorInstructions&&-1!==b.lorInstructions.toLowerCase().indexOf(e||""))return!0}return!1},a.editLorAuthorInfo=function(b){a.editLorAuthor=angular.copy(b),a.applicant=a.editLorAuthor,x(),a.modaltitle="Edit",a.showAuthorModal()},a.deleteLorAuthor=function(b){a.deleteAuthor=b},a.showAuthorModal=function(){a.search.searchLorAuthors="",I.$promise.then(I.show)},a.showFinalizedAuthorModal=function(){J.$promise.then(J.show)},a.showPrintRequestAuthorModal=function(b){a.printLetter=b,K.$promise.then(K.show)},a.addLorAuthor=function(){a.applicant={},a.search.searchLorAuthors="",a.modaltitle="Add",a.showAuthorModal()},a.hideAuthorModal=function(){a.applicant={},a.editLorAuthor={},I.$promise.then(I.hide)},a.hideFinalizedAuthorModal=function(){J.$promise.then(J.hide)},a.hidePrintRequestAuthorModal=function(){K.$promise.then(K.hide)},a.assignAdditionLor=function(){"1"===a.applicant.lorInd&&(a.applicant.lorPgmDirectorInd="Y",a.applicant.lorDeptChairInd=null),"2"===a.applicant.lorInd&&(a.applicant.lorPgmDirectorInd=null,a.applicant.lorDeptChairInd="Y"),"3"===a.applicant.lorInd&&(a.applicant.lorPgmDirectorInd=null,a.applicant.lorDeptChairInd=null)},a.resetAuthorModal=function(){a.applicant.lorInd=null,a.applicant.lorPgmDirectorInd=null,a.applicant.lorDeptChairInd=null,a.applicant.lorWriterName=null,a.applicant.lorWriterDept=null,a.applicant.lorInstructions=null,a.applicant.lorWaiver=null},a.saveAuthorModal=function(b){return b.validate("LorAuthor")?(delete a.applicant.lorInd,a.applicant.lorCaLorInd="N",j.evaluateLetterObject(a.applicant),void j.saveApplicantLorAuthors(a.applicant).then(function(b){a.getApplicantLorAuthors(),a.hideAuthorModal(),v.success("Saved Successfully")})):!1},a.updateAuthorModal=function(b){return b.validate("LorAuthor")?(a.applicant=j.evaluateLetterObject(a.applicant),void j.updateApplicantLorAuthors(a.applicant,k.applicationId,a.applicant.seqNbr).then(function(b){a.applicant=b,a.getApplicantLorAuthors(),a.hideAuthorModal(),v.success("Updated Successfully")})):!1},a.deleteAuthorModal=function(){a.deleteAuthor&&(a.applicationId=a.deleteAuthor.applicationId,a.seqNbr=a.deleteAuthor.seqNbr),j.deleteApplicantLorAuthors(a.applicationId,a.seqNbr).then(function(){a.getApplicantLorAuthors(),v.success("Deleted Successfully")})},a.validatePassword=function(b){return a.formValidator.validate("confirmModal",!0)?void k.authenticate(m.username,a.confirm.confirmPassword).then(function(){a.confirmAuthorModal(),a.confirm.confirmPassword=null,$("#confirmAuthorModal").modal("hide")},function(){a.confirm.confirmPassword=null,v.error("Password mismatch!")}):!1},a.confirmLoRs=function(b){var c=!1,d=0,f=e("filter")(a.applicantLorData,a.filteredAuthors);f&&(console.log(f),angular.forEach(f,function(a){b?(a.lorSubmitDt?d++:a.confirmed=!0,c||(c=!0)):(a.confirmed=!1,c&&(c=!1))}),c?a.confirmedLoRSize=f.length-d:a.confirmedLoRSize=0)},a.confirmAuthorModal=function(){_.forEach(a.applicantLorData,function(b){b.confirmed&&a.confirmedAuthors.push(b),delete b.lorUploaded,delete b.confirmed}),j.comfirmApplicantLorAuthors(a.confirmedAuthors).then(function(b){a.applicantLorData=b,a.getApplicantLorAuthors(),a.confirmedAuthors=[],v.success("LOR Author(s) have been confirmed!"),a.letters.confirmAllLoRs=!1})},a.confirmAssignLor=function(b){a.showAssign=!1,a.showNoSelectionError||(a.newAssignedDocs.length>0||a.newRemovedAssignedDocs.length>0)&&(q.isInvalidSoapIneligibleApplicantSelections(a.isSoapIneligibleApplicant,a.newAssignedDocs)?a.showIneligibleSelectionMessage=!0:a.modalCurrentPage=2)},a.backAssignLor=function(){a.showAssign=!0,a.modalCurrentPage=1};var L=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/letter-recommendation/assign-letter-recommendation-modal.html"});a.showAssignLorModal=function(b){d.all([q.getAssignedDocuments(k.applicationId,a.docCodes.LOR.docCd),o.getSelectedProgramsDto(k.applicationId)]).then(function(c){c&&(c[1].soapDto&&c[1].soapDto.applicantSoapEligible?(a.isSoapIneligibleApplicant=!1,a.eligiblePrograms=c[1].soapEligiblePrograms,a.ineligiblePrograms=c[1].soapInEligiblePrograms,a.myPrograms=a.eligiblePrograms.concat(a.ineligiblePrograms)):a.myPrograms=c[1]),a.originalAssignedDocs=c[0],a.assignedDocs=angular.copy(a.originalAssignedDocs),a.assignedPrograms=a.assignedDocs,a.assignMode=!0,a.modalCurrentPage=1,a.showTable=!0,a.listPrograms=[],a.letter=b,a.showAssign=!0,a.specialtyTobeAssigned=b.lorInstructions,a.applicantSoapEligible=n.applicantSoapObject&&n.applicantSoapObject.applicantSoapEligible,a.selectedPrograms=angular.copy(a.myPrograms),0===a.selectedPrograms.length&&(a.showTable=!1),angular.forEach(a.selectedPrograms,function(c){c.selected=_.filter(a.assignedDocs,{unitId:c.unitId,seqNbr:b.seqNbr}).length>0,c.preSelected=_.filter(a.assignedDocs,{unitId:c.unitId,seqNbr:b.seqNbr}).length>0,c.numAssignedDocs=_.filter(a.assignedDocs,{
unitId:c.unitId}).length}),a.currentDocObj=a.docCodes.LOR,a.initialListPrograms=angular.copy(a.listPrograms),a.showNoSelectionError=!1,L.$promise.then(L.show)})},a.hideAssignLorModal=function(){a.listPrograms=[],a.showIneligibleSelectionMessage=!1,L.$promise.then(L.hide)},a.enableAssign=function(){a.assignMode=!1};var M=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/letter-recommendation/lor-modal.html"});a.showLorModal=function(b){q.getAssignedDocuments(k.applicationId,a.docCodes.LOR.docCd).then(function(c){a.originalAssignedDocs=c,a.assignedDocs=angular.copy(a.originalAssignedDocs),a.assignedLoRs=[],b&&b.numAssignedDocs>0&&(angular.forEach(a.assignedDocs,function(c){b.unit.unitId===c.unitId&&angular.forEach(a.applicantLorData,function(b){c.seqNbr===b.seqNbr&&a.assignedLoRs.push(b)})}),M.$promise.then(M.show))})},a.hideLorModal=function(){M.$promise.then(M.hide)},a.showSoapIneligibleMessage=function(){return n.isSoapOpen&&n.ISRESIDENCY&&(n.applicantSoapObject.applicantSoapIneligible||"FM"===n.applicantSoapObject.applicantSoapMatchStatus)?!0:!1},a.disableAssign=function(){var b=!1;return a.myPrograms&&a.myPrograms.length<1&&(b=!0),b},a.isSelectionMaxedOut=function(b){if(!b.selected){var c=_.filter(a.assignedDocs,{docCd:a.docCodes.LOR.docCd,unitId:b.unitId}).length>=4;return c===!0&&(b.tooltip={title:"You already have four Letters Of Recommendation assigned to this program."}),"Y"===b.withdrawnIndicator&&(b.tooltip={title:"You cannot assign documents to a withdrawn program."}),c}},a.updateSelectedPrograms=function(b,c,d){a.listPrograms=[],q.isSelectionNotValid(d,!1,a.soapDto)||_.forEach(a.selectedPrograms,function(e){e.unitId===d.unit.unitId&&(c&&!e.preSelected?(a.listPrograms.push({applicationId:k.applicationId,unitId:e.unitId,seqNbr:b,docCd:a.docCodes.LOR.docCd,unitName:e.unit.unitName}),a.assignedDocs||(a.assignedDocs=[]),a.assignedDocs.push({applicationId:k.applicationId,unitId:e.unitId,seqNbr:b,docCd:a.docCodes.LOR.docCd,unitName:e.unit.unitName})):(_.remove(a.assignedDocs,function(c){return c.docCd===a.docCodes.LOR.docCd&&c.unitId===e.unitId&&c.seqNbr===b}),_.remove(a.listPrograms,function(c){return c.docCd===a.docCodes.LOR.docCd&&c.unitId===e.unitId&&c.seqNbr===b})))})},a.convertStatus=function(a){return q.convertStatus(a)},a.populateAssignments=function(b,c,d){a.showNoSelectionError=!1,C(c)&&(d?(a.newAssignedDocs.push({unitName:c.unit.unitName,specialty:c.unit.specialty.specName,docCd:a.docCodes.LOR.docCd,unitId:c.unit.unitId,seqNbr:b.seqNbr,unfilledPositionsIndicator:c.unit.unfilledPositionsIndicator}),a.newRemovedAssignedDocs&&a.newRemovedAssignedDocs.length&&_.remove(a.newRemovedAssignedDocs,function(d){return d.docCd===a.docCodes.LOR.docCd&&d.unitId===c.unitId&&d.seqNbr===b.seqNbr})):(a.newRemovedAssignedDocs.push({unitName:c.unit.unitName,specialty:c.unit.specialty.specName,docCd:a.docCodes.LOR.docCd,unitId:c.unit.unitId,seqNbr:b.seqNbr}),a.newAssignedDocs&&a.newAssignedDocs.length&&_.remove(a.newAssignedDocs,function(d){return d.docCd===a.docCodes.LOR.docCd&&d.unitId===c.unitId&&d.seqNbr===b.seqNbr})))},a.resetSelections=function(){1===a.modalCurrentPage&&(a.newRemovedAssignedDocs=[],a.newAssignedDocs=[])},a.checkForSelections=function(){_.remove(a.newRemovedAssignedDocs,function(b,c){var d=_.find(a.originalAssignedDocs,{unitId:b.unitId,docCd:b.docCd,seqNbr:b.seqNbr});return d?void 0:!0}),_.remove(a.newAssignedDocs,function(b,c){var d=_.find(a.originalAssignedDocs,{unitId:b.unitId,docCd:b.docCd,seqNbr:b.seqNbr});return d?!0:void 0}),a.newAssignedDocs&&a.newAssignedDocs.length||a.newRemovedAssignedDocs&&a.newRemovedAssignedDocs.length?a.showNoSelectionError=!1:a.showNoSelectionError=!0},a.assignToPrograms=function(b){a.showNoSelectionError||l.getServerCurrentDate().then(function(c){var d,e=c,f=q.prepareAssignments(a.assignedDocs),g=[];angular.forEach(f,function(a){a.seqNbr===b.seqNbr&&g.push(a)});var h=[];angular.forEach(g,function(b){d=_.find(a.originalAssignedDocs,b),d||h.push(b)}),angular.forEach(h,function(b){angular.forEach(a.assignedDocs,function(c){b.seqNbr===c.seqNbr&&b.unitId===c.unitId&&(c.paSubmitDt=e,angular.forEach(a.myPrograms,function(a){b.unitId===a.unitId&&a.invoiceSeqNumber&&(c.paProcessedDt=e)}),c.paLorActiveInd="Y")})}),f=q.prepareAssignments(a.assignedDocs),q.assignDocumentsToProgramsFromDocSection(f,k.applicationId,a.docCodes.LOR.docCd,b.seqNbr).then(function(b){q.isUnsuccessfulDocumentAssignment(b)?v.error(b.message):q.getAssignedDocuments(k.applicationId,a.docCodes.LOR.docCd).then(function(b){a.originalAssignedDocs=b,a.assignedDocs=angular.copy(a.originalAssignedDocs),v.success("Saved Successfully")})}),a.hideAssignLorModal()})},a.showTable=function(b,c){return b===a.docCodes.LOR.docCd&&0===c?!1:!0},a.getAssignedLetters=function(){applicationId=a.applicationId,a.docCode=a.docCodes.LOR.docCd,q.getAssignedDocuments(k.applicationId,a.docCodes.LOR.docCd).then(function(b){a.originalAssignedDocs=b,a.assignedDocs=angular.copy(a.originalAssignedDocs),a.assignedPrograms=a.assignedPrograms})},a.displayName=function(a,b,c,d,e){var f=a+" ";return b&&(f+=b+" "),d&&(f+="("+d+") "),f+=c+" ",e&&(f+=e),f};var N=function(){s.getSectionContent("LOR_REPORTS_USG_PDF").then(function(a){a&&(G.USGPdf=a)}),s.getSectionContent("LOR_REPORTS_ECFMG_PDF").then(function(a){a&&(G.ECFMGPdf=a)}),s.getSectionContent("LOR_REPORTS_EFDO_PDF").then(function(a){a&&(G.EFDOPdf=a)})};N(),z(),a.printLOR=function(b){var c=a.applicationData,d=!0,e={},f=a.displayName(c.firstName,c.middleName,c.lastName,c.preferredName,c.suffix),g=b.lorWriterName,h=b.lorWriterDept,i={},k=!1,l=!1,m=!1;switch(c.sourceOrganization){case"DWS":i=G.USGPdf,l=!0;break;case"ECFMG":i=G.ECFMGPdf,k=!0;break;case"EFDO":i=G.EFDOPdf,m=!0}var n=r.transformText(i[0].displayText),o=r.transformBullet(i[1].displayText,"\\n"),p=r.transformText(i[2].displayText),q=r.transformText(i[3].displayText),s=r.transformBullet(i[4].displayText,"\\n"),t=r.transformText(i[5].displayText),u=r.transformText(i[6].displayText,"\\n"),v=r.transformText(i[7].displayText,"\\n"),w="";if(k){var x="[b]Applicants:[/b] If you have NOT waived your right to view this Letter of Recommendation (LoR) and you are uploading this letter yourself, proceed to page 2 for instructions on using the Letter of Recommendation Portal (LoRP).\n\n[b]Letter Authors:[/b]If you are uploading this letter on behalf of the applicant, you should review the information below before proceeding to the instructions on page 2.\n";w=r.transformText(x)}c.formattedContactPhone=c.contactPhone1;var y={fullName:f,lorWriteName:g,lorWriterDept:h,applicationData:c,printLetter:b,paragraph1Text:n,paragraph3Text:p,paragraph4Text:q,paragraph6Text:t,paragraph9Text:w,noteMessages:o,systemReqMessages:s,paragraph7Text:u,paragraph8Text:v,isECFMG:k,isEFDO:m,isDWS:l},z={header:function(a,b){return c&&!_.isNull(c.applicationType)?D(c.applicationType):void 0},footer:function(a,b){return E(a,b)},content:j.getPrintLORContent(y),styles:{inLineBold:{bold:!0},title:{bold:!0,fontSize:11},leftBullet:{margin:[0,10,0,0]},leftTitle:{bold:!0,margin:[100,0,0,0]},row:{margin:[0,0,0,2]},header:{fontSize:13,margin:[0,0,0,10],alignment:"left"},header2:{bold:!0,fontSize:18,margin:[0,0,0,10],alignment:"left"},boxtable:{margin:[0,0,0,0]}},defaultStyle:{columnGap:10,fontSize:11}};e=angular.copy(c);var A=angular.copy(z);d&&r.createPdf(e,A,"download","LetterRequestForm.pdf")},a.updateLoRSize=function(b){b.confirmed?a.confirmedLoRSize++:a.confirmedLoRSize--,a.confirmedLoRSize<0&&(a.confirmedLoRSize=0)},F(a)}]),angular.module("myeras.selfIdentificationService",[]).factory("selfIdentificationService",["Restangular","applicationService","APP_CONFIG","urlService",function(a,b,c,d){var e=d.appService;return{getSelfIdentifications:function(){return e.getList("selfIdentifications",{season:c.SEASON})},saveAppSIs:function(a){return e.one("applicationSelfIdentification",b.applicationId).customPUT(a)},getAppSIs:function(){return e.getList("applicationSelfIdentification",{applicationId:b.applicationId})},getOtherSI:function(a,b){if(a)for(var c=0;c<a.length;c++)if(a[c].selfIdentificationDescription===b)return a[c].selfIdentificationCode;return null},populateCheckboxes:function(a){var b=[];if(a)for(var c=0;c<a.length;c++)b.push(a[c].selfIdentification);return b},setChecked:function(a,b){if(b&&a)for(var c=0;c<a.length;c++)if(b.selfIdentificationCode===a[c].selfIdentificationCode)return!0;return!1},setCheckedChilds:function(a,b,c){var d=[];if(a&&b)for(var e=0;e<b.length;e++)for(var f=0;f<a.length;f++)a[f].selfIdentificationCode===b[e].selfIdentificationCode&&c!==b[e].selfIdentificationDescription&&d.push(a[f]);return d},setOtherDesc:function(a,b){if(a)for(var c=0;c<a.length;c++)if(a[c].selfIdentification.selfIdentificationDescription===b)return a[c].selfIdentificationOther;return null},setOtherChecked:function(a,b){if(a)for(var c=0;c<a.length;c++)if(a[c].selfIdentificationDescription===b)return!0;return!1},prepareSIData:function(a){var b=[];if(a)for(var c=0;c<a.length;c++)b.push({selfIdentificationCode:a[c].selfIdentificationCode,selfIdentificationDescription:a[c].selfIdentificationDescription,siNotes:a[c].siNotes,siDisplaySeq:a[c].siDisplaySeq,siParentId:a[c].siParentId});return b}}}]),angular.module("myeras.otherDocuments",["ui.router"]).controller("otherdocumentsController",["$scope","$modal","applicationService","$log","$rootScope","log","otherDocumentService","documentService","unitsService","programAssignmentsService","refDataService","$filter","contentService","$sce","$state","$cacheFactory","actionsService","soapService","APP_CONFIG",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){var b="",c=a.applicationData;if(c){var d=a.usmleData.isSelected?"USMLE_Y":"USMLE_N",e=a.comlexData.isSelected?"COMLEX_Y":"COMLEX_N",f="DO"===c.residencyType||"DO"===c.fellowshipType?!0:!1;b=(f?"DO":"NonDO")+"_"+c.applicationType+"_"+d+"_"+e+"_TRANSCRIPT_FEE_TEXT"}return b}function u(){var b=!1,c=l("filter")(a.selectedPrograms,{selected:!0,assigned:!0});return c&&a.selectedPrograms&&(b=a.selectedPrograms.length===c.length),b}function v(b){a.spinnerIsActive=Boolean(b)}function w(){return R().then(function(){I(),J(),a.hideAssignProgramModal(),f.success("Saved Successfully")})}function x(b){a.displaySpinner=Boolean(b)}function y(b){var c=j.validateSelection(b,null,a.soapDto);return c||(a.hideAssignProgramModal(),a.showAssignProgramsModal(a.currentDocObj)),c}function z(a){q.setContext(a,"OtherDocuments")}a.applicant={},a.soapDto={},a.applicationData={},a.myPrograms={},updateApplicationData={},a.mspeDataObj={},a.comlexObj={},a.efdoLink=null,a.comlexData={},a.usmleData={},a.removedPrograms=[],a.addedPrograms=[],a.applicant.applicationId=c.applicationId,a.docCodes=k.getDocCodes(),a.contentObj={},a.applicantData={},a.comlexData={},a.enableResendScores=!0;var A=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/usmle-modal.html"});a.invalidLorCaLorInd=!1,a.itemContext={usmle:{applicantData:{},docCode:a.docCodes.USMLE},comlex:{comlexData:{},docCode:a.docCodes.COMLEX}},a.isSoapIneligibleApplicant=!0,a.showUsmleModal=function(){A.$promise.then(A.show)},a.hideUsmleModal=function(){A.$promise.then(A.hide),a.applicant={usmleId:a.applicationData.usmleId,usmleTransmissionInd:a.applicant.usmleTransmissionInd},g.getUsmleAuth(c.applicationId).then(function(b){void 0!==b&&null!==b?(a.applicantData=b,a.itemContext.usmle.applicantData=b,a.applicant.usmleTransmissionInd=b.usmleTransmissionInd):a.applicant.usmleTransmissionInd=null})};var B=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/comlex-modal.html"});a.showComlexModal=function(){B.$promise.then(B.show)},a.hideComlexModal=function(){B.$promise.then(B.hide),a.comlexObj.nbomeId=a.applicationData.nbomeId,g.getComlexAuth(c.applicationId).then(function(b){void 0!==b&&null!==b?(a.itemContext.comlex.comlexData=b,a.comlexData=b,a.comlexObj.comlexTransmissionInd=a.comlexData.comlexTransmissionInd):a.comlexObj.comlexTransmissionInd=null})},a.evaluateTranscriptPayment=function(b){var c=!1;if(a.currentDocObj.docCd===a.docCodes.USMLE.docCd||a.currentDocObj.docCd===a.docCodes.COMLEX.docCd){var d=b.length>0;a.mySelectedPaidPrograms=b,c=d&&(a.usmleData||a.comlexData),a.usmleData&&a.currentDocObj.docCd===a.docCodes.USMLE.docCd?(a.comlexData&&(a.comlexData.isSelected=!1),a.usmleData.isSelected=!0,a.mySelectedPaidPrograms.usmle=a.usmleData,a.mySelectedPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,c=c&&!a.usmleData.invoiceSeqNbr):a.comlexData&&a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&(a.usmleData&&(a.usmleData.isSelected=!1),a.comlexData.isSelected=!0,a.mySelectedPaidPrograms.comlex=a.comlexData,a.mySelectedPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&!a.comlexData.invoiceSeqNbr)}return c},a.showSoapIneligibleMessage=function(){return s.isSoapOpen&&s.ISRESIDENCY&&(s.applicantSoapObject.applicantSoapIneligible||"FM"===s.applicantSoapObject.applicantSoapMatchStatus)?!0:!1},m.getContent("DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT").then(function(b){b&&(a.documentAssigmentUnsuccessful=n.trustAsHtml(b.displayText))}),m.getContent("SOAP_DOCUMENT_ASSIGNMENT_INELIGIBLE_TEXT").then(function(b){b&&(a.ineligibleSelectionMessage=n.trustAsHtml(b.displayText))});var C=function(){a.messageKey=t(),m.getContent(a.messageKey).then(function(b){b&&(a.payUsmleFeeText=n.trustAsHtml(b.displayText))})},D=function(b){var c=864e5;k.getServerCurrentDate().then(function(d){var e=d;a.nextAvailableSendScoresDateTime=null,(e-b)/c>1?(a.disableUsmleResendButton=!1,a.disableComlexResendButton=!1):(a.disableUsmleResendButton=!0,a.disableComlexResendButton=!0,b&&(a.nextAvailableSendScoresDateTime=new Date(b),a.nextAvailableSendScoresDateTime.setDate(a.nextAvailableSendScoresDateTime.getDate()+1))),m.getContent("USMLE_REPORT_RESEND_IND",!0).then(function(b){b&&"N"===b.activeInd&&(a.disableUsmleResendButton=!1)}),m.getContent("COMLEX_REPORT_RESEND_IND",!0).then(function(b){b&&"N"===b.activeInd&&(a.disableComlexResendButton=!1)})})},E=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/resend-usmle-modal.html"});a.showResendUsmleModal=function(){x(!1),a.usmleModalCurrentPage=1,m.getContent("OTHERDOCUMENTS_RETRANSMIT_USMLE").then(function(b){b&&(a.contentObj.resendUsmleText=b.displayText,m.getContent("OTHERDOCUMENTS_RETRANSMIT_USMLE_SUCCESS").then(function(b){b&&(a.contentObj.resendUsmleConfirmationText=n.trustAsHtml(b.displayText))}))}),D(a.usmleData.retransmitDt),E.$promise.then(E.show)},a.hideResendUsmleModal=function(){E.$promise.then(E.hide)};var F=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/resend-comlex-modal.html"});a.showResendComlexModal=function(){x(!1),a.comlexModalCurrentPage=1,m.getContent("OTHERDOCUMENTS_RETRANSMIT_COMLEX").then(function(b){b&&(a.contentObj.resendComlexText=b.displayText,m.getContent("OTHERDOCUMENTS_RETRANSMIT_COMLEX_SUCCESS").then(function(b){b&&(a.contentObj.resendComlexConfirmationText=n.trustAsHtml(b.displayText))}))}),D(a.comlexData.retransmitDt),F.$promise.then(F.show)},a.hideResendComlexModal=function(){F.$promise.then(F.hide)};var G=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/ptal-modal.html"});a.showPtalModal=function(){G.$promise.then(G.show)},a.hidePtalModal=function(){G.$promise.then(G.hide)};var H=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/mspe-modal.html"});a.showMspeModal=function(){H.$promise.then(H.show)},a.hideMspeModal=function(){c.getCAF(c.applicationId).then(function(b){a.cafData=b,a.cafData&&(a.mspeDataObj.cafMspeInd=a.cafData.cafMspeInd,a.mspeDataObj.cafTranscriptInd=a.cafData.cafTranscriptInd)}),H.$promise.then(H.hide)},a.disableAssign=function(){var b=!1;return a.myPrograms&&a.myPrograms.length<1&&(b=!0),b},c.getApplication().then(function(b){a.applicationData=b,a.applicant.usmleId=a.applicationData.usmleId,a.comlexObj.nbomeId=a.applicationData.nbomeId,s.isSoapOpen&&(a.soapDto=r.getSoapDto(b.applicationId),a.enableResendScores=r.isSoapFullyMatchedApplicant(a.soapDto)),g.getDocUploadStatus(c.applicationId).then(function(b){a.documentUploadStatusData=b})}),c.getConfigElements().then(function(b){void 0!==b&&null!==b&&(a.configElements=b,a.paymentEnabled=_.find(a.configElements,function(a){return"PAYMENT_ENABLED"===a.varName})||{varValue:"Y"})}),m.getContent("PAYMENT_UNAVAILABLE").then(function(b){b&&(a.paymentDisabled=n.trustAsHtml(b.displayText))}),a.isIMGApplicant=function(){return"IMG"===a.applicationData.fellowshipType||"IMG"===a.applicationData.residencyType},c.getCAF(c.applicationId).then(function(b){a.cafData=b,a.cafData&&(a.mspeDataObj.cafMspeInd=a.cafData.cafMspeInd,a.mspeDataObj.cafTranscriptInd=a.cafData.cafTranscriptInd)}),g.getEFDOAuth().then(function(b){a.efdoLink=b});var I=function(){g.getUsmleAuth(c.applicationId,!0).then(function(b){void 0!==b&&null!==b&&(a.itemContext.usmle.applicantData=b,a.applicantData=b,a.usmleData=b,R(),a.applicant.usmleTransmissionInd=b.usmleTransmissionInd)})};I();var J=function(){g.getComlexAuth(c.applicationId,!0).then(function(b){void 0!==b&&null!==b&&(a.itemContext.comlex.comlexData=b,a.comlexData=b,R(),a.comlexObj.comlexTransmissionInd=a.comlexData.comlexTransmissionInd)})};J(),g.getPtals(c.applicationId).then(function(b){a.ptalData=b}),a.addPtals=function(b){return invalidLorCaLorInd=!1,b&&"Y"===b.lorCaLorInd?void(b?b.lorCaLorInd&&(b.applicationId=c.applicationId,k.getServerCurrentDate().then(function(c){b.lorSubmitDt=c,g.addPtals(b).then(function(b){a.ptalData=b})}),a.hidePtalModal(),a.resetPtalModal()):a.resetPtalModal()):(a.invalidLorCaLorInd=!0,!1)},a.resetPtalModal=function(){a.ptalDataObj={}},a.addMspe=function(b,d){return d.validate()?(b=a.cafData,b&&(b.cafMspeInd=a.mspeDataObj.cafMspeInd,b.cafTranscriptInd=a.mspeDataObj.cafTranscriptInd),c.saveCAF(b).then(function(b){a.cafData=b,a.cafData&&(a.mspeDataObj={cafMspeInd:a.cafData.cafMspeInd,cafTranscriptInd:a.cafData.cafTranscriptInd},"Y"===a.cafData.cafMspeInd&&"Y"===a.cafData.cafTranscriptInd&&g.getDocUploadStatus(c.applicationId).then(function(b){a.documentUploadStatusData=b}))}),void a.hideMspeModal()):!1},a.updateUsmleId=function(b){return b.validate()?(updateApplicationData=a.applicationData,updateApplicationData&&(delete updateApplicationData.citizenship,delete updateApplicationData.inst,delete updateApplicationData.status,delete updateApplicationData.fullName,delete updateApplicationData.country,delete updateApplicationData.schoolNotListed,updateApplicationData.usmleId=a.applicant.usmleId),void c.updateApplication(updateApplicationData).then(function(b){c.setApplication(b),a.applicationData=b})):!1},a.updateNbomeId=function(b){return b.validate()?(updateApplicationData=a.applicationData,delete updateApplicationData.citizenship,delete updateApplicationData.inst,delete updateApplicationData.status,delete updateApplicationData.fullName,delete updateApplicationData.country,delete updateApplicationData.schoolNotListed,updateApplicationData.nbomeId=a.comlexObj.nbomeId,void c.updateApplication(updateApplicationData).then(function(b){c.setApplication(b),a.applicationData=b})):!1},a.saveUsmleAuth=function(b,e){return d.debug(e.validate()),e.validate()?(delete b.usmleId,b.applicationId=c.applicationId,void k.getServerCurrentDate().then(function(c){b.authorizeDt=c,g.saveUsmleAuth(b).then(function(b){a.applicant=b,g.getUsmleAuth(a.applicant.applicationId).then(function(b){a.applicantData=b,a.hideUsmleModal(),a.applicantData&&(a.applicant={usmleId:a.applicationData.usmleId,usmleTransmissionInd:a.applicantData.usmleTransmissionInd})})})})):!1},a.saveComlexAuth=function(b,e){return d.debug(e.validate()),e.validate()?(delete b.nbomeId,b.applicationId=c.applicationId,void k.getServerCurrentDate().then(function(d){b.authorizeDt=d,g.saveComlexAuth(b).then(function(b){a.comlexObj=b,g.getComlexAuth(c.applicationId).then(function(b){a.comlexData=b,a.comlexData&&(a.comlexObj={nbomeId:a.applicationData.nbomeId,comlexTransmissionInd:a.comlexData.comlexTransmissionInd}),a.hideComlexModal()})})})):!1},a.updateUsmleAuth=function(b,d){return d.validate()?(b&&(delete b.nbomeId,delete b.usmleId,delete b.comlexTransmissionInd,b.applicationId=c.applicationId),void k.getServerCurrentDate().then(function(c){b.authorizeDt=c,g.updateUsmleAuth(b).then(function(b){a.applicant=b,g.getUsmleAuth(a.applicant.applicationId).then(function(b){a.applicantData=b,a.hideUsmleModal(),a.applicantData&&(a.applicant={usmleId:a.applicationData.usmleId,usmleTransmissionInd:a.applicantData.usmleTransmissionInd})})})})):!1},a.updateComlexAuth=function(b,d){return d.validate()?(b&&(delete b.nbomeId,b.applicationId=c.applicationId),void k.getServerCurrentDate().then(function(d){b.authorizeDt=d,g.updateComlexAuth(b).then(function(b){a.comlexObj=b,g.getComlexAuth(c.applicationId).then(function(b){a.comlexData=b,a.comlexData&&(a.comlexObj={nbomeId:a.applicationData.nbomeId,comlexTransmissionInd:a.comlexData.comlexTransmissionInd}),a.hideComlexModal()})})})):!1};var K=function(){i.getSelectedProgramsDto(c.applicationId).then(function(b){a.applicantSoapIneligible=!s.applicantSoapObject||!s.applicantSoapObject.applicantSoapEligible,a.applicantSoapIneligible?b&&(a.myPrograms=b):(a.eligiblePrograms=b.soapEligiblePrograms,a.ineligiblePrograms=b.soapInEligiblePrograms,a.myPrograms=b.soapEligiblePrograms.concat(b.soapInEligiblePrograms))})};K(),m.getContent("NO_SELECTED_PROGRAMS_TEXT").then(function(b){b&&(a.contentObj.noSelectedProgramsText=n.trustAsHtml(b.displayText))});var L=function(b){var d=(c.applicationId,{});return a.assignedPrograms={},j.getAssignedDocuments(c.applicationId,b).then(function(c){d=c,b===a.docCodes.PHOTO.docCd&&(a.assignedPhotos=c)}),d};a.getAssignedUsmleDocs=function(){a.assignedUSMLEPrograms=L(a.docCodes.USMLE.docCd)},a.getAssignedComlexDocs=function(){a.assignedComlexPrograms=L(a.docCodes.COMLEX.docCd)},a.getAssignedPhotos=function(){a.assignedPhotos=L(a.docCodes.PHOTO.docCd)},a.getAssignedPhotos();var M=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/assign-programs-modal.html"}),N=b({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/otherdocuments/programs-applied-modal.html"});a.programsAppliedModalAction=function(b){"USMLE"===b?(a.documentStatusModelTitle=a.docCodes.USMLE.docType,P()):"COMLEX"===b&&(a.documentStatusModelTitle=a.docCodes.COMLEX.docType,Q()),N.$promise.then(N.show)},a.hideprogramsAppliedModal=function(){a.transcriptReportList=[],N.$promise.then(N.hide)},a.showTable=function(b,c){return b===a.currentDocObj.docCd&&0===c?!1:!0},a.showAssignProgramsModal=function(b){a.applicantSoapIneligible=!s.applicantSoapObject||!s.applicantSoapObject.applicantSoapEligible,i.getSelectedProgramsDto(c.applicationId).then(function(d){d&&(a.applicantSoapIneligible?(a.myPrograms=d,a.selectedPrograms=a.myPrograms,0===a.selectedPrograms.length?a.showTable=!1:a.showTable=!0):(a.eligiblePrograms=d.soapEligiblePrograms,a.ineligiblePrograms=d.soapInEligiblePrograms,a.myPrograms=d.soapEligiblePrograms.concat(d.soapInEligiblePrograms),a.selectedPrograms=a.myPrograms),a.modalCurrentPage=1,a.letter={seqNbr:"1"},a.showTable=!0,a.currentDocObj=b.docCode,a.currentDocObj.docCd===a.docCodes.USMLE.docCd&&(I(),("IMG"===a.applicationData.fellowshipType||"IMG"===a.applicationData.residencyType)&&(a.currentDocObj.docType="USMLE Transcript"),a.selectedPrograms=_.filter(a.selectedPrograms,function(a){return"R"===a.unit.specialty.specTypeCode||"F"===a.unit.specialty.specTypeCode})),a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&J(),a.currentDocObj.docCd===a.docCodes.ABSITE.docCd&&(a.selectedPrograms=_.filter(a.selectedPrograms,function(a){return"450"===a.unit.specialty.specCd||"460"===a.unit.specialty.specCd||"060"===a.unit.specialty.specCd||"442"===a.unit.specialty.specCd||"445"===a.unit.specialty.specCd||"451"===a.unit.specialty.specCd||"362"===a.unit.specialty.specCd||"461"===a.unit.specialty.specCd||"446"===a.unit.specialty.specCd||"221"===a.unit.specialty.specCd||"486"===a.unit.specialty.specCd})),a.currentDocObj.docCd===a.docCodes.PTAL.docCd&&(a.selectedPrograms=_.filter(a.selectedPrograms,function(a){return"CA"===a.unit.unitStateCode})),j.getAssignedDocuments(c.applicationId,a.currentDocObj.docCd).then(function(b){var c=b;a.assignedPrograms=b,a.assignedDocs=b,angular.forEach(a.selectedPrograms,function(b){b.assigned=_.where(c,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0,b.selected=_.where(c,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0,b.preSelected=_.where(c,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0}),a.updateAssignedPrograms(1,a.selectedPrograms,a.currentDocObj.docCd),M.$promise.then(M.show)}))})},a.hideAssignProgramModal=function(){M.$promise.then(M.hide),a.showNoAssingmentSelectionMessage=!1,a.showIneligibleSelectionMessage=!1},a.confirmAssignProgram=function(){a.addedPrograms.length<1&&a.removedPrograms.length<1?(a.showNoAssingmentSelectionMessage=!0,a.modalCurrentPage=1):j.isInvalidSoapIneligibleApplicantSelections(a.isSoapIneligibleApplicant,a.addedPrograms)?a.showIneligibleSelectionMessage=!0:(a.showAssignTitle=!1,a.modalCurrentPage=2,a.showNoAssingmentSelectionMessage=!1)},a.backAssignProgram=function(){a.showAssignTitle=!0,a.modalCurrentPage=1},a.payNowUsmleOrComlex=function(b){var c=_.filter(a.mySelectedPaidPrograms,function(a){return a.invoiceSeqNumber&&a.selected&&0===a.programAssignments.length});angular.forEach(c,function(b){b.docApplied=a.currentDocObj.docCd}),c.usmle=a.mySelectedPaidPrograms.usmle,c.comlex=a.mySelectedPaidPrograms.comlex,a.assignToPrograms(b,!0)},a.checkPaid=function(a){return a.invoiceSeqNumber>0&&a.selected&&a.assigned===!0},a.assignToPrograms=function(b,e){k.getServerCurrentDate().then(function(e){var h,i,k,l=e;g.clearProgramsForDocRelease(),k=g.getProgramsForDocRelease();var m=_.filter(b,function(a){return a.invoiceSeqNumber&&a.selected&&a.assigned===!1}),n=a.evaluateTranscriptPayment(m);if(v(!1),n&&2===a.modalCurrentPage)a.modalCurrentPage=3,C();else{v(!0),a.deleteProgramAssignmentList=[],_.forEach(a.listPrograms,function(b){a.deleteProgramAssignmentList.push({applicationId:c.applicationId,unitId:b.unitId,docCd:a.currentDocObj.docCd})}),a.programAssignmentList=[],_.forEach(b,function(b){b.selected&&(i=_.find(a.assignedDocs,{unitId:b.unitId,docCd:a.currentDocObj.docCd})||{},h=i.paSubmitDt?i.paSubmitDt:l,a.programAssignmentList.push({applicationId:b.applicationId,unitId:b.unitId,docCd:a.currentDocObj.docCd,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,paSubmitDt:h,paProcessedDt:i.paProcessedDt,createdBy:i.createdBy?i.createdBy:null,createdDt:i.createdDt?i.createdDt:l,lastUpdatedBy:i.lastUpdatedBy?i.lastUpdatedBy:null,lastUpdatedDt:i.lastUpdatedDt?i.lastUpdatedDt:l}))}),a.currentDocObj.docCd===a.docCodes.PTAL.docCd&&g.updatePoFilesForPtal(c.applicationId,a.ptalData.seqNbr);var p=b&&b.length&&!(a.currentDocObj.docCd===a.docCodes.USMLE.docCd&&!a.usmleData.invoiceSeqNbr||a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&!a.comlexData.invoiceSeqNbr)&&m.length>0;0===m.length||p?j.assignDocumentsToProgramsFromDocSection(a.programAssignmentList,c.applicationId,a.currentDocObj.docCd,1).then(function(b){j.isUnsuccessfulDocumentAssignment(b)?(a.hideAssignProgramModal(),f.error(b.message)):w()}):a.currentDocObj.docCd===a.docCodes.USMLE.docCd&&!a.usmleData.invoiceSeqNbr||a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&!a.comlexData.invoiceSeqNbr?(d.debug("conditions succesful for unpaid usmle/comlex with paid programs"),g.clearProgramsForDocAssignment(),paidProgramsAssignedNow=m,a.removedPrograms&&a.removedPrograms.length&&angular.forEach(a.removedPrograms,function(b){a.currentDocObj.docCd===a.docCodes.USMLE.docCd&&k.unAssignedProgramsForUSMLE.push(b.unitId),a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&k.unAssignedProgramsForCOMLEX.push(b.unitId)}),angular.forEach(a.addedPrograms,function(b){a.currentDocObj.docCd===a.docCodes.USMLE.docCd&&k.programsForUSMLE.push(b.unitId),a.currentDocObj.docCd===a.docCodes.COMLEX.docCd&&k.programsForCOMLEX.push(b.unitId)}),g.setProgramsForDocRelease(k),w().then(function(){3===a.modalCurrentPage&&o.go("main.payment")})):w()}})},a.updateSelectedPrograms=function(b,c,d){y(d)&&a.updateAssignedPrograms(b,a.selectedPrograms,c)},a.updateAssignedPrograms=function(b,c,d){a.showAssignTitle=!0,a.removedPrograms=[],a.addedPrograms=[],a.listPrograms=j.updateSelectedPrograms(c,b,d),a.removedPrograms=j.getRemovedPrograms(c,b,d),angular.forEach(c,function(b){angular.forEach(a.listPrograms,function(a){b.unitId===a.unitId&&b.preSelected?a.doNotShowInList=!0:b.unitId!==a.unitId||b.preSelected||(a.doNotShowInList=!1)})}),a.addedPrograms=l("filter")(a.listPrograms,{doNotShowInList:!1}),a.isAllProgramsAssigned=u()},a.examScoresData=[],a.examObject={},a.contentObj={},a.documentStatusesResult=[],a.scoreTypes=[],a.usmleDocumentStatusData=[],a.usmleDocumentStatusWithScoresData=[],a.usmleTranscriptReportList=[],a.transcriptReportList=[],a.comlexDocumentStatusData=[],a.comlexDocumentStatusWithScoresData=[],a.comlexTranscriptReportList=[],h.getScoreTypes().then(function(b){b&&(a.scoreTypes=b)});var O=function(b){angular.forEach(a.transcriptReportList,function(a){"Successful"===a.status&&("USMLE"===b&&m.getContent("SUCCESSFUL_DESC_USMLE").then(function(b){b&&(a.tooltipStatus=b.displayText)}),"COMLEX"===b&&m.getContent("SUCCESSFUL_DESC_COMLEX").then(function(b){b&&(a.tooltipStatus=b.displayText)})),"Not Matched"===a.status&&("USMLE"===b&&m.getContent("NOT_MATCHED_DESC_USMLE").then(function(b){b&&(a.tooltipStatus=b.displayText)}),"COMLEX"===b&&m.getContent("NOT_MATCHED_DESC_COMLEX").then(function(b){b&&(a.tooltipStatus=b.displayText)})),"No Scores"===a.status&&("USMLE"===b&&m.getContent("NO_SCORES_DESC_USMLE").then(function(b){b&&(a.tooltipStatus=b.displayText)}),"COMLEX"===b&&m.getContent("NO_SCORES_DESC_COMLEX").then(function(b){b&&(a.tooltipStatus=b.displayText)})),"Processing Request"===a.status&&("USMLE"===b&&m.getContent("PROCESSING_REQUEST_DESC_USMLE").then(function(b){b&&(a.tooltipStatus=b.displayText)}),"COMLEX"===b&&m.getContent("PROCESSING_REQUEST_DESC_COMLEX").then(function(b){b&&(a.tooltipStatus=b.displayText)}))})},P=function(){var b="USMLE";p.get("restCache").removeAll(),h.getDocumentStatus(c.applicationId,b).then(function(d){d&&(a.usmleDocumentStatusData=d,h.getDocumentStatusWithScores(c.applicationId,b).then(function(b){if(b){if(a.usmleDocumentStatusWithScoresData=b,a.usmleTranscriptReportList=h.prepareTranscriptReportContent(a.usmleDocumentStatusData,a.usmleDocumentStatusWithScoresData,a.scoreTypes),a.usmleDocumentStatusData&&a.usmleDocumentStatusData.length>0&&(a.usmleTranscriptReportList1=h.prepareTranscriptReportContent1(a.usmleDocumentStatusWithScoresData,a.usmleDocumentStatusData,a.scoreTypes),a.usmleTranscriptReportList1))for(var c=0;c<a.usmleTranscriptReportList1.length;c++)a.usmleTranscriptReportList.push(a.usmleTranscriptReportList1[c]);a.transcriptReportList=h.removeDuplicates(a.usmleTranscriptReportList)}O("USMLE")}))})},Q=function(){var b="COMLEX";p.get("restCache").removeAll(),h.getDocumentStatus(c.applicationId,b).then(function(d){d&&(a.comlexDocumentStatusData=d,h.getDocumentStatusWithScores(c.applicationId,b).then(function(b){if(b){if(a.comlexDocumentStatusWithScoresData=b,a.comlexTranscriptReportList=h.prepareTranscriptReportContent(a.comlexDocumentStatusData,a.comlexDocumentStatusWithScoresData,a.scoreTypes),a.comlexDocumentStatusData&&a.comlexDocumentStatusData.length>0&&(a.comlexTranscriptReportList1=h.prepareTranscriptReportContent1(a.comlexDocumentStatusWithScoresData,a.comlexDocumentStatusData,a.scoreTypes),a.comlexTranscriptReportList1))for(var c=0;c<a.comlexTranscriptReportList1.length;c++)a.comlexTranscriptReportList.push(a.comlexTranscriptReportList1[c]);
a.transcriptReportList=h.removeDuplicates(a.comlexTranscriptReportList)}O("COMLEX")}))})},R=function(){return i.getSelectedProgramsDto(c.applicationId).then(function(b){a.appliedPrograms=null,b.soapDto&&b.soapDto.applicantSoapEligible&&"FM"!==b.soapDto.applicantSoapMatchStatus?(a.soapDto=b.soapDto,a.isSoapIneligibleApplicant=!1,a.appliedPrograms=b.soapEligiblePrograms.concat(b.soapInEligiblePrograms)):b.soapDto&&"FM"===b.soapDto.applicantSoapMatchStatus?(a.appliedPrograms=null,a.myAppliedPrograms=null,a.enableResendScores=!1):a.appliedPrograms=b,a.appliedPrograms&&(a.myAppliedPrograms=_.filter(a.appliedPrograms,function(a){return a&&a.invoiceSeqNumber?!0:!1})),a.usmleData.invoiceSeqNbr&&(a.showUsmleDocStatusLink=!0),a.comlexData.invoiceSeqNbr&&(a.showComlexDocStatusLink=!0)})};R(),a.resendUsmleScores=function(){a.disableUsmleResendButton=!0,x(!0);var b={};b.applicationId=c.applicationId,b.requests=[],b.transcriptType="USMLE",b=g.setBoardType(b,b.transcriptType,a.applicationData),angular.forEach(a.myAppliedPrograms,function(c){angular.forEach(c.programAssignments,function(d){d.docCd===a.docCodes.USMLE.docCd&&b.requests.push({programId:c.unitId,requestTime:l("date")(new Date,"MM/dd/yyyy hh:mm:ss a Z")})})}),d.debug("resendUsmleScoresObj",b),h.reTransmitScores(b).then(function(b){b&&k.getServerCurrentDate().then(function(b){a.usmleData.retransmitDt=b,delete a.usmleData.isSelected,delete a.usmleData.docCd,g.updateUsmleAuth(a.usmleData).then(function(b){b&&(a.usmleData=b,a.usmleModalCurrentPage=2),x(!1)})})})},a.resendComlexScores=function(){a.disableComlexResendButton=!0,x(!0);var b={};b.applicationId=c.applicationId,b.requests=[],b.transcriptType="COMLEX",b=g.setBoardType(b,b.transcriptType,a.applicationData),angular.forEach(a.myAppliedPrograms,function(c){angular.forEach(c.programAssignments,function(d){d.docCd===a.docCodes.COMLEX.docCd&&b.requests.push({programId:c.unitId,requestTime:l("date")(new Date,"MM/dd/yyyy hh:mm:ss a Z")})})}),h.reTransmitScores(b).then(function(b){b&&k.getServerCurrentDate().then(function(b){a.comlexData.retransmitDt=b,delete a.comlexData.isSelected,delete a.comlexData.docCd,g.updateComlexAuth(a.comlexData).then(function(b){b&&(a.comlexData=b,a.comlexModalCurrentPage=2),x(!1)})})})},a.uploadAvatar=function(){e.$broadcast("handleUploadAvatar")},a.$on("handleAvatarUploadBroadcast",function(){g.getDocUploadStatus(c.applicationId).then(function(b){a.documentUploadStatusData=b})}),a.convertStatus=function(a){return j.convertStatus(a)},z(a)}]),angular.module("myeras.otherDocumentService",[]).factory("otherDocumentService",["$q","Restangular","refDataService","$log","urlService","$filter",function(a,b,c,d,e,f){var g,h,i,j,k=e.appService,l=e.dwsDocService,m={programsForUSMLE:[],programsForCOMLEX:[],unPaidProgramsForUSMLE:[],unPaidProgramsForCOMLEX:[],unAssignedProgramsForUSMLE:[],unAssignedProgramsForCOMLEX:[]},n=[],o=(c.getDocCodes(),function(a,b,c){var d={usmleRequests:[],comlexRequests:[]};return angular.forEach(a,function(a){a&&(b&&d.usmleRequests.push({programId:a,requestTime:f("date")(new Date,"MM/dd/yyyy hh:mm:ss a Z")}),c&&d.comlexRequests.push({programId:a,requestTime:f("date")(new Date,"MM/dd/yyyy hh:mm:ss a Z")}))}),d}),p=function(a,b){var c={requests:[]};return c.applicationId=a.applicationId,c.transcriptType=b,s(c,b,a),c},q=function(a){return l.post("transcriptRequest/jms",a)},r=function(a){var b,c,d;m.programsForUSMLE&&m.programsForUSMLE.length>0&&(b=p(a,"USMLE"),b&&(d=o(m.programsForUSMLE,!0,!1),d.usmleRequests&&d.usmleRequests.length>0&&(b.requests=b.requests.concat(d.usmleRequests)))),m.programsForCOMLEX&&m.programsForCOMLEX.length>0&&(c=p(a,"COMLEX"),c&&(d=o(m.programsForCOMLEX,!1,!0),d.comlexRequests&&d.comlexRequests.length>0&&(c.requests=c.requests.concat(d.comlexRequests)))),b&&b.requests.length>0&&q(b).then(function(a){m.programsForUSMLE=[]}),c&&c.requests.length>0&&q(c).then(function(a){m.programsForCOMLEX=[]})},s=function(a,b,c){return"USMLE"===b?"R"!==c.applicationType?a.boardType="NBME":"Y"===c.usCanGradInd?a.boardType="NBME":a.boardType="ECFMG":a.boardType="NBOME",a};return{getJsonTranscriptRequest:p,releaseTranscriptsToPrograms:r,setBoardType:s,saveUsmleAuth:function(a){return g=null,k.post("usmles",a)},getUsmleAuth:function(b,c){var d=a.defer();return g&&!c?d.resolve(g):k.one("usmles",b).get().then(function(a){a?(g=a.plain(),d.resolve(g)):(g=null,d.resolve())}),d.promise},updateUsmleAuth:function(a){return a?(g=null,k.customPUT(a,"usmles/"+a.applicationId)):void 0},getComlexAuth:function(b,c){var d=a.defer();return h&&!c?d.resolve(h):k.one("comlex",b).get().then(function(a){a?(h=a.plain(),d.resolve(h)):(h=null,d.resolve())}),d.promise},saveComlexAuth:function(a){return h=null,k.post("comlex",a)},updateComlexAuth:function(a){return a?(h=null,k.customPUT(a,"comlex/"+a.applicationId)):void 0},getEFDOAuth:function(){return k.one("efdoAuthKey").get()},getPtals:function(a){return l.one("ptals?applicationId="+a).get()},addPtals:function(a){return l.post("ptals",a)},getDocUploadStatus:function(a){return l.one("transcripts/uploadDates",a).get()},getProgramsForDocRelease:function(){return m},setProgramsForDocRelease:function(a){m=a},setDocumentsForpostPaymentAssignment:function(a,b,c){n=a,i=b,j=c},clearProgramsForDocRelease:function(){m={programsForUSMLE:[],programsForCOMLEX:[],unPaidProgramsForUSMLE:[],unPaidProgramsForCOMLEX:[],unAssignedProgramsForUSMLE:[],unAssignedProgramsForCOMLEX:[]}},clearProgramsForDocAssignment:function(){n=[]},updatePoFilesForPtal:function(a,b){return l.one("ptals/"+a+"/"+b).put()},getTrancriptReleaseDate:function(a){return l.one("transcripts").one("transcriptReleaseDates",a).get()}}}]),angular.module("myeras.startFromFilter",[]).filter("startFrom",function(){return function(a,b){return _.isArray(a)&&a.length>b?(b=+b,a.slice(b)):a}}),angular.module("aamc.eras.charSet",[]).config(["$provide",function(a){function b(a){var b,c,d=[],e=[];for(c=32;126>=c;c++)d.push(c);for(c=160;255>=c;c++)d.push(c);d=d.concat([9,10,13,338,339,352,353,376,381,382,402,710,732,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8226,8230,8240,8249,8250,8364,8482]);for(var f in d)e.push(String.fromCharCode(d[f]));b=new RegExp("^["+e.join("").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"]*$");var g=a[0],h=g.link;return g.compile=function(a){var c=a[0],d=c&&c.form?c.form.name:null,e=c?c.name:null;return d&&e&&a.after('<span class="text-danger" ng-show="'+d+"."+e+'.$error.charSet">Invalid character!</span>'),function(a,c,d,e){var f=function(a){return!a||b.test(a)};angular.forEach(e,function(a){a&&(a.$validators.charSet=f)}),h.pre.apply(this,arguments)}},a}b.$inject=["$delegate"],a.decorator("inputDirective",b),a.decorator("textareaDirective",b)}]),angular.module("myeras.printWindow",[]).controller("aamcPrintWindowController",["$scope",function(a){a.name="printWindow"}]).directive("aamcPrintWindow",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"../app/components/directives/aamc-print-window/aamc-print-window.html",controller:"aamcPrintWindowController"}}),angular.module("myeras.programsearch",["ui.router"]).controller("programsearchController",["$rootScope","$scope","$filter","$q","$log","$sce","applicationService","unitsService","contentService","refDataService","programAssignmentsService","APP_CONFIG","modalService","soapService","log",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p;b.vm=p={searchForText:"",filterByTrainingType:"",showMoreCim:!1,showFullInfo:!1,programsCount:{}},b.programs={},b.program={},b.seasonID=l.SEASON,b.showResults=!1,b.isBusy=!0,b.addedTrainingFilters=[],b.nrmpSearchMode=!1;var q={};programsObj={};var r=!1,s=!1;b.searchMode="",b.selectedPrograms={},b.programsToAdd={},b.programsToUpdate={},b.originalSelectedProgramsList={},b.orderByCol="unit.unitName",b.reverseSort=!1,b.enableModalSave=!1,b.showNoAssignSelections=!1,b.programStatus={O:"Participating ",D:"No longer accepting applications",N:"Not participating",U:"Incomplete Registration",C:"Closed",IR:"Incomplete Registration",IP:"Incomplete Registration"},b.programStatusDesc={O:"Currently accepting application for the ERAS "+b.seasonID+" season.",D:"No longer accepting applications for the ERAS "+b.seasonID+" season.",N:"Not participating in the ERAS "+b.seasonID+" season",U:"Currently cannot accept applications for the ERAS "+b.seasonID+" season. Please contact the program directly for more information.",C:"This program has closed",IR:"Currently cannot accept applications for the ERAS "+b.seasonID+" season. Please contact the program directly for more information.",IP:"Currently cannot accept applications for the ERAS "+b.seasonID+" season. Please contact the program directly for more information."},b.recordsToDisplay=[{txt:"10",num:10,sel:!0},{txt:"20",num:20,sel:!1},{txt:"25",num:25,sel:!1},{txt:"50",num:50,sel:!1},{txt:"All",num:0,sel:!1}],b.acceptedProgramStatus={O:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!0,showTrack:!0,enableTrack:!0},D:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!1,showTrack:!0,enableTrack:!1},N:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!1,showTrack:!1,enableTrack:!1},U:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!0,showTrack:!1,enableTrack:!1},C:{showSpecialtySearch:!1,showAccreditationSearch:!0,drilldownProgram:!1,showTrack:!1,enableTrack:!1},IP:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!0,showTrack:!1,enableTrack:!1},IR:{showSpecialtySearch:!0,showAccreditationSearch:!0,drilldownProgram:!0,showTrack:!1,enableTrack:!1}},b.pagination={itemsPerPage:10,gap:5,currentPage:1},b.trainingTypes=[{code:"A",descr:"Advanced"},{code:"C",descr:"Categorical"},{code:"F",descr:"Fellowship"},{code:"M",descr:"Primary Care"},{code:"P",descr:"Preliminary"},{code:"R",descr:"Reserved for Physician Only"},{code:"Z",descr:"Osteopathic"}],b.filteredTrainingTypes=[],b.statusMode=!1,m.create({id:"addedProgramsModal",animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/programsearch/added-programs-modal.html"}),m.create({id:"additionalInfoModal",animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/programsearch/program-additional-info-modal.html"}),m.create({id:"programDetailsModal",animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/programsearch/program-details-modal.html"}),m.create({id:"programReappliedModal",animation:"am-fade-and-slide-top",scope:b,template:"states/programsearch/program-reapplied-modal.html",show:!1});var t=function(){h.getSelectedPrograms(g.applicationId,"searchPrograms").then(function(a){a&&a.soapDto&&(b.soapDto=a.soapDto,b.soapOpen=a.soapDto.soapOpen,r=a.soapDto.soapOpen,b.applicantSoapEligible=a.soapDto.applicantSoapEligible,s=a.soapDto.applicantSoapEligible,b.lastNrmpExchangeDate=a.soapDto.nrmpLastExchangeDt,b.closedDtSoap=a.soapDto.soapCloseDt,b.soapCloseDt=a.soapDto.soapCloseDt),b.mySelectedPrograms=a.selectedPrograms,b.isSoapApplicable=!r||"MD"!==b.applicationData.residencyType&&"DO"!==b.applicationData.residencyType&&"IMG"!==b.applicationData.residencyType?!1:!0,A(),b.isBusy=!1})},u=function(){b.selectedPrograms={},b.programsInMySelection=0,b.allPrograms=angular.copy(q),b.program.prgAccreditationId?b.searchByAccreditationId():b.program.specCd&&(b.isSoapApplicable&&b.soapOpen?z(b.programs.specCd,b.applicationData.applicationId):x(b.programs.specCd))},v=function(){programsSelected=w(b.programsToAdd),programsSelected.length>0&&h.saveSelectedPrograms(programsSelected).then(function(a){a&&(b.addedPrograms={},b.programsToAdd={},u(),b.originalSelectedProgramsList={},t(),b.hideAddedProgramsModal(),o.success("Saved Successfully"))},function(a){b.hideAddedProgramsModal()}),b.programsInMySelection=_.size(b.selectedPrograms)},w=function(a){var c=[];return _.forEach(_.keys(a),function(d){var e={};angular.forEach(b.mySelectedPrograms,function(a){a.unitId===d&&(e=a,delete e.unit)}),e.applicationId=g.applicationId,e.unitId=d,e.programAssignments=[],e.pgy2=a[d].pgy2;var f=[];_.forEach(a[d].selectedProgramTracks,function(a){var c={};c.applicationId=g.applicationId,c.unitId=d,c.appliedDate=a.track.appliedDate,c.trackCode=a.track.trackCode,c.trackName=a.track.trackName,c.createdBy=a.track.createdBy,c.createdDt=a.track.createdDt,c.lastUpdatedBy=a.track.lastUpdatedBy,c.lastUpdatedDt=a.track.lastUpdatedDt,c.trackSoapIndicator=b.soapDto.soapOpen&&b.soapDto.applicantSoapEligible?n.getSoapInd(a):n.getClosedSoapInd(b.soapDto,a),f.push(c)}),f.length>0&&(e.selectedProgramTracks=f,c.push(e))}),c},x=function(a){b.isBusy=!0,d.all([j.getStates("USA"),j.getStates("CAN"),h.getPrograms({specCd:a})]).then(function(a){if(a){b.residenceStatesProvinces=a[0],_.forEach(a[1],function(a){b.residenceStatesProvinces.push(a)}),b.allPrograms=a[2],angular.forEach(b.allPrograms,function(a){angular.forEach(a.unit.tracks,function(a){a.selected=!1,a.preselected=!1})}),b.allPrograms=c("searchprogram")(b.allPrograms),b.programs.specialty=b.allPrograms[0].unit.specialty,b.programs.timeline=b.programs.specialty.timeline,b.showResults=b.allPrograms!==[],b.allProgramsSize=_.size(b.allPrograms);var d=[],e=[];p.filterByTrainingType="",b.addedTrainingFilters=[],_.forEach(b.allPrograms,function(a){"9"!==a.unit.unitTypeCode&&d.push(_.map(a.unit.tracks,"trackTypeCode").join(","))}).join(","),e=_.uniq(d.toString().split(",")),b.filteredTrainingTypes=_.filter(b.trainingTypes,function(a){return _.contains(e,a.code)?a:void 0}),t(),angular.forEach(b.allPrograms,function(a){angular.forEach(a.unit.tracks,function(c){b.selectedPrograms[a.unitId]&&(a.selectedProgramTracks=b.selectedPrograms[a.unitId].selectedProgramTracks,angular.forEach(b.selectedPrograms[a.unitId].selectedProgramTracks,function(a){a.track.trackCode===c.trackCode&&a.track.unitId===c.unitId?c.selected=!0:c.selected=!1}))})}),q=angular.copy(b.allPrograms),b.programsInMySelection=_.size(b.selectedPrograms),b.filterByStatus("O")}})},y=function(){var a=["MILITARY_PROGRAM_US_CITIZEN_ONLY","SOAP_INELIGIBLE_MSG","SOAP_INELIGIBLE_ACCR_ID","SOAP_INELIGIBLE_NRMP_CD","SOAP_DATA_UPDATES_IN_PROGRESS_MSG","SOAP_REAPPLY_ICON","SOAP_SEARCH_REAPPLY_PGM","DWS_PGMS_TAB_ELIGIBLE_FOR_REAPPY","SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT","SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT"];return i.getContentList(a).then(function(a){b.programNoteMilitaryText=f.trustAsHtml(a.MILITARY_PROGRAM_US_CITIZEN_ONLY.displayText),b.soapIneligibleMsg=f.trustAsHtml(a.SOAP_INELIGIBLE_MSG.displayText),b.soapIneligibleAccrIdMsg=f.trustAsHtml(a.SOAP_INELIGIBLE_ACCR_ID.displayText),b.soapIneligibleNRMPCdMsg=f.trustAsHtml(a.SOAP_INELIGIBLE_NRMP_CD.displayText),b.SOAP_REAPPLY_ICON=f.trustAsHtml(a.SOAP_REAPPLY_ICON.displayText),b.SOAP_SEARCH_REAPPLY_PGM=f.trustAsHtml(a.SOAP_SEARCH_REAPPLY_PGM.displayText),b.DWS_PGMS_TAB_ELIGIBLE_FOR_REAPPY=a.DWS_PGMS_TAB_ELIGIBLE_FOR_REAPPY.displayText,b.soapProgramApplied=p.programsCount.soapPgmsAppliedCount,b.maxSoapPgmsAllowedToApply=p.programsCount.maxSoapPgmsAllowedToApply,b.appliedMessage=a.SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT.displayText,b.hoverMessage=a.SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT.displayText}),b},z=function(a,e){b.isBusy=!0,d.all([j.getStates("USA"),j.getStates("CAN"),h.getSoapSpecialtyPrograms(a,e,b.applicantSoapEligible)]).then(function(a){if(a){b.residenceStatesProvinces=a[0],_.forEach(a[1],function(a){b.residenceStatesProvinces.push(a)}),b.allPrograms=a[2],angular.forEach(b.allPrograms,function(a){angular.forEach(a.unit.tracks,function(a){a.selected=!1,a.preselected=!1})}),b.allPrograms=c("searchprogram")(b.allPrograms),b.showResults=b.allPrograms!==[],b.allProgramsSize=_.size(b.allPrograms);var d=[],e=[];p.filterByTrainingType="",b.addedTrainingFilters=[],_.forEach(b.allPrograms,function(a){"9"!==a.unit.unitTypeCode&&d.push(_.map(a.unit.tracks,"trackTypeCode").join(","))}).join(","),e=_.uniq(d.toString().split(",")),b.filteredTrainingTypes=_.filter(b.trainingTypes,function(a){return _.contains(e,a.code)?a:void 0}),t(),angular.forEach(b.allPrograms,function(a){angular.forEach(a.unit.tracks,function(c){b.selectedPrograms[a.unitId]&&(a.selectedProgramTracks=b.selectedPrograms[a.unitId].selectedProgramTracks,angular.forEach(b.selectedPrograms[a.unitId].selectedProgramTracks,function(a){a.track.trackCode===c.trackCode&&a.track.unitId===c.unitId?c.selected=!0:c.selected=!1}))})}),q=angular.copy(b.allPrograms),b.programsInMySelection=_.size(b.selectedPrograms),b.filterByStatus("O"),b.showMDMessageText="MD"===b.applicationData.residencyType?!0:!1}})},A=function(){_.forEach(b.mySelectedPrograms,function(a){var c=_.find(b.allPrograms,function(b){return b.unitId===a.unitId});c&&(c.pgy2=a.pgy2,c.invoiceSeqNumber=a.invoiceSeqNumber,c.selectedProgramTracks||(c.selectedProgramTracks=[]),angular.forEach(a.selectedProgramTracks,function(a){var b=_.find(c.unit.tracks,function(b){return b&&a&&a.track&&b.trackCode===a.track.trackCode});if(b){b.selected=!0,b.preselected=!0,b.appliedDate=a.appliedDate,b.reappliedDate=a.reappliedDate,b.createdBy=a.createdBy,b.createdDt=a.createdDt,b.lastUpdatedBy=a.lastUpdatedBy,b.lastUpdatedDt=a.lastUpdatedDt;var d=0;angular.forEach(c.selectedProgramTracks,function(a){a.track.trackCode===b.trackCode&&d++}),0===d&&c.selectedProgramTracks.push({applicationId:a.applicationId,appliedDate:a.appliedDate,createdBy:a.createdBy,createdDt:a.createdDt,eligibleForReapply:a.eligibleForReapply,lastUpdatedBy:a.lastUpdatedBy,lastUpdatedDt:a.lastUpdatedDt,reappliedDate:a.reappliedDate,trackCode:a.trackCode,trackName:a.trackName,trackSoapIndicator:a.trackSoapIndicator,unitId:a.unitId,track:b})}}))})};b.trackDisableCheck=function(a,b){var c="O"!==b.unit.unitStatusCode||a.preselected,d=b.invoiceSeqNumber&&"N"===a.trackMyerasDisplayInd,e=!a.selected&&"N"===a.trackMyerasDisplayInd||"Y"===b.withdrawnIndicator;return c||d||e?!0:!1},b.loadApplication=function(){g.getApplication(g.applicationId).then(function(a){a&&(b.applicationData=a,"DO"===b.applicationData.fellowshipType||"DO"===b.applicationData.residencyType?b.showSearchControls=!1:b.showSearchControls=!0,"MD"==b.applicationData.fellowshipType||"IMG"==b.applicationData.fellowshipType?b.programs.specTypeCode="F":"MD"==b.applicationData.residencyType||"IMG"==b.applicationData.residencyType?b.programs.specTypeCode="R":"DO"==b.applicationData.fellowshipType?(b.programs.specTypeCode="O",b.showSearchControls=!1):"DO"==b.applicationData.residencyType&&(b.programs.specTypeCode="I",b.showSearchControls=!1)),programsObj.specTypeCode=b.programs.specTypeCode,h.getSpecialities(programsObj.specTypeCode).then(function(a){a&&(b.specialities=a)})})},b.showAdditionalInfoModal=function(a,c){b.cimSurvey=a,b.cimSurveyUnitName=c,m.show("additionalInfoModal")},b.hideAdditionalInfoModal=function(){m.hide("additionalInfoModal")},b.updateProgram=function(a){b.saveProgramTracks(a)},isSOAPIneligible=function(){var a=b.soapOpen&&!b.applicantSoapEligible;return a},b.showSOAPAlert=function(){return isSOAPIneligible()&&b.showResults&&b.allPrograms&&"F"!==g.application.applicationType},b.updateProgramSelections=function(a,c,d){b.showNoAssignSelections=!1,b.enableModalSave=!0,a.selectedProgramTracks||(a.selectedProgramTracks=[]),c.selected&&!c.preselected?(a.selectedProgramTracks.push({track:c}),d?b.selectedPrograms[a.unitId]=a:b.addedPrograms[a.unitId]=a):(_.remove(a.selectedProgramTracks,function(a){return c.trackCode===a.track.trackCode}),b.selectedPrograms[a.unitId]&&(_.remove(b.selectedPrograms[a.unitId].selectedProgramTracks,function(a){return c.trackCode===a.track.trackCode}),angular.forEach(b.addedPrograms,function(b){b.unitId===a.unitId&&(b.selectedProgramTracks=a.selectedProgramTracks)})),angular.forEach(b.selectedPrograms,function(b){b.unitId===a.unitId&&(b.selectedProgramTracks=a.selectedProgramTracks)})),b.originalSelectedProgramsList&&!d&&angular.forEach(b.originalSelectedProgramsList,function(c){angular.forEach(b.selectedPrograms,function(b){c.unitId===a.unitId&&b.unitId===c.unitId&&(b.selectedProgramTracks=angular.copy(c.selectedProgramTracks))})});var e=_.find(a.selectedProgramTracks,function(a){return a?a.track.selected&&!a.track.preselected:null});e?b.programsToAdd[a.unitId]=a:d?delete b.selectedPrograms[a.unitId]:delete b.addedPrograms[a.unitId],b.programsInMySelection=_.size(b.selectedPrograms),b.addedProgramsSize=_.size(b.addedPrograms)},b.searchByAccreditationId=function(){b.searchMode="accreditation";var a;b.soapOpen?c("number")(b.program.prgAccreditationId)?(a=h.getProgramsByAccreditationForSoap(b.program.prgAccreditationId,b.programs.specTypeCode,b.applicationData.applicationId,b.applicantSoapEligible),b.accreditationSearchMode=!0,b.nrmpSearchMode=!1):(a=h.getProgramsByNrmpForSoap(b.program.prgAccreditationId,b.programs.specTypeCode,b.applicationData.applicationId,b.applicantSoapEligible),b.accreditationSearchMode=!1,b.nrmpSearchMode=!0):(a=h.getProgramsByAccreditation(b.program.prgAccreditationId,b.programs.specTypeCode),b.accreditationSearchMode=!0,b.nrmpSearchMode=!1),b.getProgramsCount(),d.all([j.getStates("USA"),j.getStates("CAN"),a]).then(function(a){if(b.residenceStatesProvinces=a[0].concat(a[1]),a[2]){b.allPrograms=a[2];b.allPrograms=c("searchprogram")(b.allPrograms),b.showResults=b.allPrograms!==[],b.isBusy=!1,b.allProgramsSize=_.size(b.allPrograms),!b.program.specMsg&&b.allPrograms&&b.allProgramsSize>0&&b.allPrograms[0].unit.speciality&&b.allPrograms[0].unit.specialty.specMsg&&(b.program.specMsg=f.trustAsHtml(b.allPrograms[0].unit.specialty.specMsg)),b.allPrograms&&b.allProgramsSize>0&&b.allPrograms[0].unit.specialty&&(b.programs.specialty=b.allPrograms[0].unit.specialty,b.programs.timeline=b.programs.specialty.timeline),angular.forEach(b.allPrograms,function(a){a.unit.unitStateDesc=h.findStateDesc(a.unit.unitStateCode,b.residenceStatesProvinces),angular.forEach(a.unit.tracks,function(c){b.selectedPrograms[a.unitId]&&(a.selectedProgramTracks=b.selectedPrograms[a.unitId].selectedProgramTracks,angular.forEach(b.selectedPrograms[a.unitId].selectedProgramTracks,function(a){a.track.trackCode===c.trackCode&&a.track.unitId===c.unitId?c.selected=!0:c.selected=!1}))})}),q=angular.copy(b.allPrograms),0===b.allPrograms.length&&(b.statusMode=!0),b.showMDMessageText="MD"===b.applicationData.residencyType?!0:!1,t()}})},b.saveToMySelections=function(){b.selectedPrograms=angular.copy(b.addedPrograms),b.programsToAdd=angular.copy(b.addedPrograms),v()},b.getSpeciality=function(a){var c=_.find(b.specialities,function(b){return b.specCd===a});return c.specName},b.filterByStatus=function(a){b.pagination.currentPage=1,b.pagination.itemsPerPage=10,b.program.searchByEras?b.allPrograms=_.filter(b.allPrograms,function(b){return b.unit.unitStatusCode===a}):(b.allPrograms=angular.copy(q),e.debug(q)),angular.forEach(b.allPrograms,function(a){a.unit.unitStateDesc=h.findStateDesc(a.unit.unitStateCode,b.residenceStatesProvinces),angular.forEach(a.unit.tracks,function(c){b.selectedPrograms[a.unitId]&&(a.selectedProgramTracks=b.selectedPrograms[a.unitId].selectedProgramTracks,angular.forEach(b.selectedPrograms[a.unitId].selectedProgramTracks,function(a){a.track.trackCode===c.trackCode&&a.track.unitId===c.unitId&&(c.selected=!0)}))})}),b.allProgramsSize=_.size(b.allPrograms),A()},b.showAddedProgramsModal=function(){_.isEmpty(b.selectedPrograms)?b.showNoAssignSelections=!0:(b.showNoAssignSelections=!1,b.addedPrograms=angular.copy(b.selectedPrograms),b.originalSelectedProgramsList=angular.copy(b.selectedPrograms),b.addedProgramsSize=_.size(b.addedPrograms),_.forEach(b.addedPrograms,function(a){angular.forEach(a.unit.tracks,function(a){a.selected=!1}),_.forEach(a.selectedProgramTracks,function(b){var c=_.find(a.unit.tracks,function(a){return a.trackCode===b.track.trackCode});c&&(c.selected=!0)})}),m.show("addedProgramsModal"))},b.hideAddedProgramsModal=function(a){a&&(b.addedPrograms=angular.copy(b.originalSelectedProgramsList),b.selectedPrograms=angular.copy(b.originalSelectedProgramsList)),m.hide("addedProgramsModal")},b.showAccreditationId=function(a){var c=!0;return"specialty"===b.searchMode&&"1"!==a.accreditationBodyCode&&"2"!==a.accreditationBodyCode&&"5"!==a.accreditationBodyCode&&(c=!1),c},b.showProgramDetails=function(a){b.enableModalSave=!1,b.hasPreliminaryTrack=!1,b.modalCurrentPage=1,b.programDet=angular.copy(a),b.addedPrograms=angular.copy(b.selectedPrograms),angular.forEach(a.unit.tracks,function(a){"P"===a.trackTypeCode&&(b.hasPreliminaryTrack=!0)}),a.unit.unitPgmInformation&&a.unit.unitPgmInformation.length>225&&(0===a.unit.cimSurvey.length||!a.unit.cimSurvey)?b.showMore=!1:b.showMore=!0,!a.unit.unitPgmInformation&&a.unit.cimSurvey&&a.unit.cimSurvey.length>0&&a.unit.cimSurvey[0]&&"Y"===a.unit.cimSurvey[0].myerasDisplayId?p.showMoreCimInfo=!1:p.showMoreCimInfo=!0,a.unit.unitPgmInformation&&a.unit.cimSurvey&&a.unit.cimSurvey.length>0&&a.unit.cimSurvey[0]&&"Y"===a.unit.cimSurvey[0].myerasDisplayId?p.showFullInfo=!1:p.showFullInfo=!0,b.cimSurvey=a.unit.cimSurvey[0],b.cimSurveyUnitName=a.unit.unitName,a.eligibleForReapply&&b.soapDto.soapOpen&&b.soapDto.applicantSoapEligible&&m.show("programReappliedModal"),a.eligibleForReapply||m.show("programDetailsModal")},b.showMoreCim=function(){p.showMoreCimInfo=!p.showMoreCimInfo},b.showFullInfoFunction=function(){p.showFullInfo=!p.showFullInfo},b.displayProgramsTrainingDisclaimer=function(a){var b=!1;return a.unit&&a.unit.tracks&&_.forEach(a.unit.tracks,function(a){return a.nrmpPgmCd?(b=!0,!1):void 0}),b},b.saveProgramTracks=function(a){if(a.pgy2&&(!a.selectedProgramTracks||!a.selectedProgramTracks.length))return!1;var c=_.findIndex(b.allPrograms,{unitId:b.programDet.unitId});b.allPrograms[c]=b.programDet;var d=_.find(a.selectedProgramTracks,function(a){return a?a.track.selected&&!a.track.preselected:null});d?b.selectedPrograms[a.unitId]=a:delete b.selectedPrograms[a.unitId],b.programsInMySelection=_.size(b.selectedPrograms),b.hideProgramDetailsModal()},b.clearProgramTracks=function(){b.hideProgramDetailsModal()},b.hideProgramDetailsModal=function(){m.hide("programDetailsModal")},b.changeSortCol=function(a){b.orderByCol===a?b.reverseSort=!b.reverseSort:(b.orderByCol=a,b.reverseSort=!b.reverseSort)},b.filteredPrograms=function(a){var c=!1;if(a&&(a.unit.unitName||a.unit.tracks)&&("9"!==a.unit.unitTypeCode&&"specialty"===b.searchMode||"accreditation"===b.searchMode))for(var d=0;d<a.unit.tracks.length;d++)if(_.isNull(b.program.prgAccreditationId)&&"C"===a.unit.unitStatusCode)c=!1;else{var e=-1!==a.unit.unitName.indexOf(p.searchForText||"")||-1!==a.unit.unitName.toLowerCase().indexOf(p.searchForText.toLowerCase()||"")||-1!==a.unit.tracks[d].trackName.indexOf(p.searchForText||"")||-1!==a.unit.tracks[d].trackName.toLowerCase().indexOf(p.searchForText.toLowerCase()||"")||-1!==a.unit.unitCity.toLowerCase().indexOf(p.searchForText.toLowerCase()||"")||-1!==a.unit.unitStateDesc.toLowerCase().indexOf(p.searchForText.toLowerCase()||"");if(e)if(b.addedTrainingFilters.length>0)for(var f=0;f<b.addedTrainingFilters.length;f++)a.unit.tracks[d].trackTypeCode===b.addedTrainingFilters[f].code&&(c=!0);else c=!0}return c},b.addTrainingFilter=function(a){if(a){var c=_.find(angular.copy(b.addedTrainingFilters),function(b){return b.code===a.code});_.isUndefined(c)&&b.addedTrainingFilters.push(a)}else b.addedTrainingFilters=[]},b.removeTrainingTypeFilter=function(a){_.remove(b.addedTrainingFilters,a),0===b.addedTrainingFilters.length&&(p.filterByTrainingType="")},b.numberOfPages=function(){if(b.program.specCd){var a=b.allPrograms;return b.addedTrainingFilters&&(a=c("filter")(b.allPrograms,b.filteredPrograms)),b.allProgramsSize=a.length,Math.ceil(c("filter")(a,p.searchForText).length/b.pagination.itemsPerPage)}},b.setRange=function(){for(var a=[],c=Math.max(b.numberOfPages()-(b.pagination.gap-1),1),d=Math.min(b.pagination.currentPage-3,c);a.length<b.pagination.gap&&d<=b.numberOfPages();)d>0&&a.push(d),d++;b.range=a},b.prevPage=function(){b.pagination.currentPage>1&&b.pagination.currentPage--},b.nextPage=function(){b.pagination.currentPage<b.numberOfPages()&&b.pagination.currentPage++},b.enableProgram=function(a){return b.acceptedProgramStatus[a.unit.unitStatusCode].drilldownProgram&&!a.unit.unitHostId},b.notParticipating=function(a){return!!a.unit.unitHostId},b.showProgram=function(a){var c=!1;return b.program.prgAccreditationId?c=b.acceptedProgramStatus[a.unit.unitStatusCode].showAccreditationSearch:"C"===a.unit.unitStatusCode&&(c=b.acceptedProgramStatus[a.unit.unitStatusCode].showSpecialtySearch),c},b.showTrack=function(a){return b.acceptedProgramStatus[a.unit.unitStatusCode].showTrack},b.enableTrack=function(a,c){return!b.acceptedProgramStatus[a.unit.unitStatusCode].enableTrack||c.preselected},b.setItemsPerPage=function(a){if("All"===a.txt){var c=_.filter(b.allPrograms,function(a){return b.filteredPrograms(a)});a.num=c?c.length:0}b.pagination.itemsPerPage=a.num},b.preliminaryConditions=function(a){return b.preliminaryMode=!1,angular.forEach(a.unit.tracks,function(a){"P"===a.trackTypeCode&&a.selected===!0&&(b.preliminaryMode=!0)}),b.preliminaryMode},b.preliminaryConditionsforPreselected=function(a){return b.preselectedMode=!1,angular.forEach(a.unit.tracks,function(a){"P"===a.trackTypeCode&&a.selected===!0&&a.preselected===!0&&(b.preselectedMode=!0)}),b.preselectedMode},b.loadApplication(),t(),y(),b.$watchCollection("[pagination.currentPage, pagination.itemsPerPage, allPrograms, vm.filterByTrainingType]",function(){b.setRange(),b.pagination.currentPage>b.numberOfPages()&&(b.pagination.currentPage=Math.max(b.numberOfPages(),1))}),b.$watch("programSearch",function(){b.setRange()}),b.$watch("program.specCd",function(a){if(b.statusMode=!1,b.searchMode="specialty",p.searchForText="",b.allPrograms={},b.program.specMsg=null,b.pagination.currentPage=1,b.program.searchByEras=!0,a){b.pagination.itemsPerPage=10,b.program.prgAccreditationId=null;var c=_.find(b.specialities,{specCd:a});c&&c.specMsg&&(b.program.specMsg=f.trustAsHtml(c.specMsg)),b.programs.specCd=a,b.programs.specialty=c,b.isSoapApplicable&&b.soapOpen?(z(a,b.applicationData.applicationId),b.getProgramsCount()):x(a)}}),b.getProgramsCount=function(){b.isSoapApplicable&&b.soapOpen&&k.getProgramsCount(b.applicationData.applicationId).then(function(a){a&&(p.programsCount=a)})},b.$watch("program.programInd",function(a,c){a!==c&&(b.showResults=!1),b.allPrograms={},b.program.prgAccreditationId=null,b.program.specCd=null,("MD"===b.program.programInd||"DO"===b.program.programInd)&&(b.soapOpen?(b.applicantSoapEligible||(b.showSearchControls=!0,"DO"===b.applicationData.fellowshipType&&("DO"===b.program.programInd?b.programs.specTypeCode="O":"MD"===b.program.programInd&&(b.programs.specTypeCode="F")),"DO"===b.applicationData.residencyType&&("DO"===b.program.programInd?b.programs.specTypeCode="I":"MD"===b.program.programInd&&(b.programs.specTypeCode="R"))),b.applicantSoapEligible&&("DO"===b.applicationData.fellowshipType&&("DO"===b.program.programInd?b.programs.specTypeCode="O":"MD"===b.program.programInd&&(b.programs.specTypeCode="F")),"DO"===b.applicationData.residencyType&&("DO"===b.program.programInd?b.programs.specTypeCode="I":"MD"===b.program.programInd&&(b.programs.specTypeCode="R")),"DO"===b.program.programInd&&(b.showMDMessageText=!1,b.showDOMessageText=!0,b.showSearchControls=!1),"MD"===b.program.programInd&&(b.showDOMessageText=!1,b.showMDMessageText=!0,b.showSearchControls=!0))):(b.showSearchControls=!0,"DO"===b.applicationData.fellowshipType&&("DO"===b.program.programInd?b.programs.specTypeCode="O":"MD"===b.program.programInd&&(b.programs.specTypeCode="F")),"DO"===b.applicationData.residencyType&&("DO"===b.program.programInd?b.programs.specTypeCode="I":"MD"===b.program.programInd&&(b.programs.specTypeCode="R"))),programsObj.specTypeCode=b.programs.specTypeCode,h.getSpecialities(programsObj.specTypeCode).then(function(a){a&&(b.specialities=a)}))}),b.$watch("program.prgAccreditationId",function(){p.searchForText="",b.program.prgAccreditationId&&(b.program.specCd||(b.allPrograms={}),b.program.specCd=null,b.pagination.itemsPerPage=10),b.program.prgAccreditationId&&""!==b.program.prgAccreditationId||(b.showResults=!1);
}),b.$watch("vm.searchForText",function(){b.setRange()})}]),angular.module("myeras.unitsService",[]).factory("unitsService",["$q","$log","applicationService","Restangular","urlService","trackHistoryService",function(a,b,c,d,e,f){var g=e.appService,h=[],i=[];return{getSpecialities:function(a){return g.one("specialties",a).get()},getPrograms:function(b){var c=b.unitStatusCd,d=b.specCd,e=a.defer();return c?g.one("accreditations").one("search").get({unitSpecCode:d,unitStatusCode:c}).then(function(a){e.resolve(a)}):g.one("accreditations").one("search").get({unitSpecCode:d}).then(function(a){e.resolve(a)}),e.promise},getProgramsByAccreditation:function(b,c){var d=a.defer();return g.one("accreditations",b).get({specTypeCode:c}).then(function(a){d.resolve(a)}),d.promise},getSelectedPrograms:function(b,c){var d,e=a.defer();return g.one("selectedPrograms",b).get().then(function(a){c?(d=a.plain(),a.soapDto.residencyApplicant?a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible?d.selectedPrograms=d.soapEligiblePrograms:a.soapDto.soapOpen&&!a.soapDto.applicantSoapEligible&&(d.selectedPrograms=d.soapInEligiblePrograms):a.soapDto.residencyApplicant||(d=a.plain())):d=a.plain(),e.resolve(d)}),e.promise},getSelectedReappiedPgmsTracks:function(){return i},getSelectedProgram:function(a){return g.one("selectedPrograms/"+c.applicationId+"/"+a.unitId).get()},getAppliedPrograms:function(b){var c=a.defer(),d=this;return g.one("selectedPrograms",b).get({appliedPrograms:!0}).then(function(a){var b=a.plain();b.selectedPrograms&&b.selectedPrograms.length&&d.computeProgramEligibility(b.selectedPrograms),b.soapEligiblePrograms&&b.soapEligiblePrograms.length&&d.computeProgramEligibility(b.soapEligiblePrograms),b.soapInEligiblePrograms&&b.soapInEligiblePrograms.length&&d.computeProgramEligibility(b.soapInEligiblePrograms),c.resolve(b)}),c.promise},getSavedPrograms:function(b){var c=a.defer();return g.one("selectedPrograms",b).get({savedPrograms:!0}).then(function(a){c.resolve(a.plain())}),c.promise},getProgramsForReApply:function(b){var c=a.defer();return g.one("selectedPrograms",b).get({reApplyPrograms:!0}).then(function(a){c.resolve(a.plain())}),c.promise},setSelectedReappiedPgmsTracks:function(a){a.length>0&&angular.forEach(a,function(a){a.reApplyTracks.length>0&&angular.forEach(a.reApplyTracks,function(a){var b={unitId:a.unitId,trackCode:a.trackCode};i.push(b)})})},saveSelectedPrograms:function(a){return g.one("selectedPrograms",c.applicationId).customPUT(a)},updateSelectedPrograms:function(a){return this.saveSelectedPrograms(a)},updateSelectedProgram:function(a){return g.customPUT(a,"selectedPrograms/"+c.applicationId+"/"+a.unitId)},deleteSelectedProgram:function(a){var b={};return b.applicationId=c.applicationId,b.unitId=a.unitId,b.selectedProgramTracks=a.selectedProgramTracks,b.programAssignments=a.programAssignments,g.one("selectedPrograms").one("delete",c.applicationId).customPUT([b])},clearMySelectedPrograms:function(a){var b=[];return _.forEach(_.keys(a),function(d){var e={};e.applicationId=c.applicationId,e.unitId=d,e.selectedProgramTracks=a[d].selectedProgramTracks,b.push(e)}),g.one("selectedPrograms").one("delete").customPUT(b)},setMySelectedPrograms:function(a){h=a},getMySelectedPrograms:function(){return h},getJulyDecCycle:function(a){var b=[];if(a&&a.length>0)for(var c=[],d=[],e=0;e<a.length;e++){var f=a[e];if("F999"!=f.unitBillingCode)f.decCycle=!1,f.julyCycle=!1,b.push(f);else if(f.programGroup&&f.programGroup.length>0){for(var g=0;g<f.programGroup.length;g++){var h=f.programGroup[g];"04"===h.unit.unitTimelineCode?d.push(h):"02"===h.unit.unitTimelineCode&&c.push(h)}if(d&&d.length>0){var i={unitBillingCode:f.unitBillingCode,programGroup:d,decCycle:!1,julyCycle:!0};f.billingDescription&&(i.billingDescription=f.billingDescription),b.push(i)}if(c&&c.length>0){var j={unitBillingCode:f.unitBillingCode,programGroup:c,decCycle:!0,julyCycle:!1};f.billingDescription&&(j.billingDescription=f.billingDescription),b.push(j)}}}return b},groupInvoicesByBillCode:function(a,b){var c,d,e,f,g=this,h=g.getProgApplyConfigs(b),i=[],j=a;return angular.forEach(j,function(a){c=a.unit.unitBillingCode,d=g.isSpecialtyEligible(a.unit.specialty.specTypeCode,a.unit.unitTimelineCode,h);for(var b=0;b<i.length;b++)if(e=i[b],e.unitBillingCode===c&&e.isEligible===d){f=e;break}f?f.programGroup.push(a):i.push({isEligible:d,programGroup:[a],unitBillingCode:c}),f=null}),i},isSpecialtyEligible:function(a,b,c){var d="R"===a&&"Y"===c.meRApply||"I"===a&&"Y"===c.meOApply||"O"===a&&"Y"===c.meOFApply||"F"===a&&"Y"===c.meF1Apply&&"04"===b||"F"===a&&"Y"===c.meF2Apply&&"02"===b;return d},isProgramEligible:function(a,b){var c=this,d=_.find(a.programGroup,function(a){return c.isSpecialtyEligible(a.unit.specialty.specTypeCode,a.unit.unitTimelineCode,b)});return!_.isUndefined(d)},prepareBillingGroup:function(a,b){return _.find(a,function(a){return a.billingCode===b}).billingDescription},getProgApplyConfigs:function(a){var b={};return b.meRApply=_.result(_.find(a,function(a){return"ME_R_APPLY"===a.varName}),"varValue"),b.meOApply=_.result(_.find(a,function(a){return"ME_O_APPLY"===a.varName}),"varValue"),b.meOFApply=_.result(_.find(a,function(a){return"ME_OF_APPLY"===a.varName}),"varValue"),b.meF1Apply=_.result(_.find(a,function(a){return"ME_F1_APPLY"===a.varName}),"varValue"),b.meF2Apply=_.result(_.find(a,function(a){return"ME_F2_APPLY"===a.varName}),"varValue"),b},prepareProgramData:function(a,b){var c=[],d=this;if(a){var e=a.accreditations,f=a.tracks;angular.forEach(e,function(a){var e=d.prepareAccreditation(a);e.unit=d.prepareAUnit(a,b),e.unit.cimSurvey=[],d.prepareCimSurvey(a)&&e.unit.cimSurvey.push(d.prepareCimSurvey(a)),e.unit.specialty=d.prepareSpecialty(a),e.unit.tracks=[],angular.forEach(f,function(a){e.unitId===a.unitId&&e.unit.tracks.push(a)}),angular.forEach(e.unit.tracks,function(a){"P"===a.trackTypeCode&&(e.hasPreliminaryTrack=!0)}),c.push(e)})}return c},prepareAccreditation:function(a){return{unitId:a.unitId,accreditationBodyCode:a.accreditationBodyCode,accreditationId:a.accreditationId}},prepareSpecialty:function(a){return{specCd:a.specCd,specName:a.specName,specActiveInd:a.specActiveInd,specTypeCode:a.specTypeCode,specNameOld:a.specNameOld,specAoaName:a.specAoaName,specAoaCode:a.specAoaCode,specSubTypeCode:a.specSubTypeCode,specMsg:a.specMsg,specComment:a.specComment,specNrmpParticipateIndicator:a.specNrmpParticipateIndicator}},prepareCimSurvey:function(a){return a.cimTrainingLocation||(a.cimTrainingTime1||a.cimTrainingTime2||a.cimTrainingTime3||a.cimTrainingTime4||a.cimTrainingTimeOther)&&(a.cimTrainingArea1||a.cimTrainingArea2||a.cimTrainingArea3)?{unitId:a.unitId,unitSponId:a.unitSponId,unitPgmTypeCode:a.unitPgmTypeCode,cimTrainingLocation:a.cimTrainingLocation,cimTrainingTime1:a.cimTrainingTime1,cimTrainingTime2:a.cimTrainingTime2,cimTrainingTime3:a.cimTrainingTime3,cimTrainingTime4:a.cimTrainingTime4,cimTrainingArea1:a.cimTrainingArea1,cimTrainingArea2:a.cimTrainingArea2,cimTrainingArea3:a.cimTrainingArea3,myerasDisplayId:a.myerasDisplayId,cimDisplayId:a.cimDisplayId,myerasNodisplayreason:a.myerasNodisplayreason,cimNodisplayreason:a.cimNodisplayreason,addDate:a.addDate,updateDate:a.updateDate,cimTrainingTimeOther:a.cimTrainingTimeOther,cimTrainingAreaOther:a.cimTrainingAreaOther,timeOtherReason:a.timeOtherReason,areaOtherReason:a.areaOtherReason}:void 0},findStateDesc:function(a,b){var c=_.result(_.find(b,{stateCd:a}),"stateDesc");return c},prepareAUnit:function(a,b){var c=this;return{unitId:a.unitId,unitSpecCode:a.unitSpecCode,unitContactId:a.unitContactId,unitSponId:a.unitSponId,unitName:a.unitName,unitPgmDirector:a.unitPgmDirector,unitAddress1:a.unitAddress1,unitAddress2:a.unitAddress2,unitAddress3:a.unitAddress3,unitCity:a.unitCity,unitStateCode:a.unitStateCode,unitStateDesc:c.findStateDesc(a.unitStateCode,b),unitPostalCode:a.unitPostalCode,unitPhone:a.unitPhone,unitPhoneExt:a.unitPhoneExt,unitFax:a.unitFax,unitEmail:a.unitEmail,unitUrl:a.unitUrl,unitStatusCode:a.unitStatusCode,unitMsgNumber:a.unitMsgNumber,unitUpdateDate:a.unitUpdateDate,unitComments:a.unitComments,unitValidationCode:a.unitValidationCode,unitCopysiteId:a.unitCopysiteId,unitSiteCd:a.unitSiteCd,unitHostId:a.unitHostId,unitSponName:a.unitSponName,unitNrmpId:a.unitNrmpId,unitSchoolCode:a.unitSchoolCode,unitCampusIndicator:a.unitCampusIndicator,unitBillingCode:a.unitBillingCode,unitCopysiteIndicator:a.unitCopysiteIndicator,unitTypeCode:a.unitTypeCode,unitAcgmeAccrIndicator:a.unitAcgmeAccrIndicator,unitAoaAccrIndicator:a.unitAoaAccrIndicator,unitOtherAccrIndicator:a.unitOtherAccrIndicator,unitMilitaryCode:a.unitMilitaryCode,unitPgmTypeCode:a.unitPgmTypeCode,unitWebPassword:a.unitWebPassword,unitSchoolTypeCode:a.unitSchoolTypeCode,unitTimelineCode:a.unitTimelineCode,unitSurvey:a.unitSurvey,unitSurveyComments:a.unitSurveyComments,unitAdminOfficerId:a.unitAdminOfficerId,unitAdminOfficerName:a.unitAdminOfficerName,unitDesc:a.unitDesc,nrmpChartCode:a.nrmpChartCode,unitCentralizedIndicator:a.unitCentralizedIndicator,unitPilotPgm:a.unitPilotPgm,unfilledPositionsIndicator:a.unfilledPositionsIndicator,unitDescOther:a.unitDescOther,unitDualAccrIndicator:a.unitDualAccrIndicator,unitDualAccrId:a.unitDualAccrId,mailingAttnTo:a.mailingAttnTo,mailingAddress1:a.mailingAddress1,mailingAddress2:a.mailingAddress2,mailingAddress3:a.mailingAddress3,mailingCity:a.mailingCity,mailingStateCode:a.mailingStateCode,mailingPostalCode:a.mailingPostalCode,mailingPhone:a.mailingPhone,mailingPhoneExt:a.mailingPhoneExt,mailingFax:a.mailingFax,lorQaIndicator:a.lorQaIndicator,changePaymentTypeIndicator:a.changePaymentTypeIndicator,mailingAttnDepartment:a.mailingAttnDepartment,unitPgmDirectorPrefix:a.unitPgmDirectorPrefix,unitPgmDirectorFirstName:a.unitPgmDirectorFirstName,unitPgmDirectorMiddleName:a.unitPgmDirectorMiddleName,unitPgmDirectorLastName:a.unitPgmDirectorLastName,unitPgmDirectorSuffix:a.unitPgmDirectorSuffix,unitPgmDirectorDesignation:a.unitPgmDirectorDesignation,unitPdwsSoftwareType:a.unitPdwsSoftwareType,instId:a.instId,unitPgmInformation:a.unitPgmInformation}},getWithdrawnPrograms:function(a){return g.one("selectedPrograms").one("withdrawn?applicationId="+a).get()},saveWithdrawnPrograms:function(a){return g.one("selectedPrograms").post("withdraw",a)},updateApplicationAvailableDt:function(a,b){return g.one("selectedPrograms").one("applicationAvailableDates?applicationId="+a).customPUT({applicationId:a,applicationAvailableDate:b})},getSoapSpecialtyPrograms:function(b,c,d){var e=a.defer();return g.one("accreditations").one("search").one("soap").get({unitSpecCode:b,applicationId:c}).then(function(a){e.resolve(a)}),e.promise},transformSoapAccreditationData:function(b){var c=a.defer(),d=[];return angular.forEach(b,function(a){a.unit.unitSpecCd=a.unit.unit_SPEC_CD,a.unit.unitName=a.unit.unit_NAME,a.unit.unitPgmDirector=a.unit.unit_PGM_DIRECTOR,a.unit.unitAddress1=a.unit.unit_ADDR1,a.unit.unitAddress2=a.unit.unit_ADDR2,a.unit.unitAddress3=a.unit.unit_ADDR3,a.unit.unitPhone=a.unit.unit_PHONE,a.unit.unitEmail=a.unit.unit_EMAIL,a.unit.accreditationId=a.unit.accr_ID,a.unit.unfilledPositionsIndicator=a.unit.unfilled_POSITIONS_IND,a.unit.unitCity=a.unit.unit_CITY,a.unit.unitStateCode=a.unit.unit_STATE_CD,a.unit.unitPostalCode=a.unit.unit_POST_CD,a.unit.unitStatusCode=a.unit.unit_STATUS_CD,a.unit.accreditationBodyCode=a.unit.accr_BODY_CD,a.unit.specName=a.unit.spec_NAME,a.unit.stateDesc=a.unit.state_DESC,a.unit.cimSurvey=a.unit.cimSurvey?a.unit.cimSurvey:[],a.unit.specialty={},a.unit.specialty.specName=a.unit.spec_NAME,a.unit.unitUrl=a.unit.unit_URL,a.unit.unitPgmInformation=a.unit.unit_PGM_INFORMATION,d.push(a)}),c.resolve(d),c.promise},getProgramsByAccreditationForSoap:function(b,c,d,e){var f=a.defer();return g.one("accreditations").one(b).one("soap").get({specTypeCode:c,applicationId:d}).then(function(a){a?f.resolve(a):f.resolve([])}),f.promise},getProgramsByNrmpForSoap:function(b,c,d,e){var f=a.defer();return g.one("accreditations").one("soap").get({specTypeCode:c,applicationId:d,nrmpPgmCd:b}).then(function(a){a?f.resolve(a):f.resolve([])}),f.promise},getAppliedProgramsDto:function(b){var c=this,d=a.defer();return c.getAppliedPrograms(b).then(function(a){if(a.soapDto.residencyApplicant&&a.soapDto.soapOpen)a.soapDto.residencyApplicant&&!a.soapDto.applicantSoapEligible&&a.soapDto.soapOpen?d.resolve(a.soapInEligiblePrograms):d.resolve(a);else{var b=a.selectedPrograms;d.resolve(b)}}),d.promise},getSelectedProgramsDto:function(b,c){var d,e=this,f=a.defer();return e.getSelectedPrograms(b).then(function(a){a.soapDto.residencyApplicant&&a.soapDto.soapOpen?a.soapDto.residencyApplicant&&!a.soapDto.applicantSoapEligible&&a.soapDto.soapOpen?(d=a.soapInEligiblePrograms,f.resolve(d)):f.resolve(a):(d=a.selectedPrograms,f.resolve(d))}),f.promise},getAllSelectedPrograms:function(b){var c=a.defer();return g.one("selectedPrograms").one("all",b).get().then(function(a){var b=a.plain();c.resolve(b)}),c.promise},resetReapplyTracks:function(){i=[]},resetMySelectedPrograms:function(){h=[]},validatePrograms:function(a,b){var d=c.applicationId;if(b){var e=[];return angular.forEach(a,function(a){a.ineligibleSelectedProgramTracks&&a.ineligibleSelectedProgramTracks.length&&angular.forEach(a.ineligibleSelectedProgramTracks,function(a){e.push(a)})}),g.one("selectedPrograms").one("validate").one("proceed").post(d.toString(),e)}return g.one("selectedPrograms").one("validate").post(d.toString(),a)},computeProgramEligibility:function(a){angular.forEach(a,function(a){a.inEligible=!1,a.showDelete=!1,a.warning=!1,angular.forEach(a.selectedProgramTracks,function(b){b.track&&"N"===b.track.trackMyerasDisplayInd&&(b.showIneligibleMessage=!0,f.getTrackHistory(a.unitId,b.trackCode).then(function(a){b.inactiveDt=a}))});var b=_.where(a.selectedProgramTracks,{showIneligibleMessage:!0}).length;b===a.selectedProgramTracks.length&&(a.inEligible=!0),b===a.unit.tracks.length?(a.inEligible=!0,a.showDelete=!0):0!==b&&b<a.unit.tracks.length&&(a.warning=!0,a.showDelete=!1)})}}}]),angular.module("myeras.programHome",["ui.router"]).controller("programhomeController",["$scope","$rootScope","$modal","$log","log","$filter","$state","$location","$anchorScroll","$timeout","$sce","$q","unitsService","applicationService","letterService","context","APP_CONFIG","refDataService","personalStatementService","programAssignmentsService","otherDocumentService","contentService","trackHistoryService","soapService","trackService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z;a.vm=z={searchForText:"",applyAll:!1,selectedPrograms:[],showMoreCim:!1,showFullInfo:!1,applicantSoapEligible:!1,showSoap:!1,isResidency:!1,soapMaxApplied:!1,programsCount:{},remainingSoapPrgs:0},a.usmle={},a.comlex={},a.ptal={},a.mspe={},a.msTranscript={},a.absite={},a.photo={},a.showLorAccordion=!1,a.noSelectedPrograms=!1,a.showPersonalStatAccordion=!1,a.showAdditionalDocAccordion=!1,a.enableModalSave=!1,a.isAppliedProgramTab=!1,a.docCodes=r.getDocCodes(),a.isBusy=!1,a.personalStatement=null,a.isSelectedProg=!1,a.showNoAssignSelections=!1,a.isSoapIneligibleApplicant=!0,r.getTimelines().then(function(b){b&&b.plain()?a.timelines=b.plain():a.timelines=null});var A=function(){var b=["SOAP_DATA_UPDATES_IN_PROGRESS_MSG","DEC_PRG_APPLY_MSG","SAVE_PROGRAM_HELP_TEXT","SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT","SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT","PROGRAM_WITHOUT_CHECKBOX_MSG","DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT","SOAP_ALL_NO_LONGER_ELIGIBLE"];return v.getContentList(b).then(function(b){a.SOAP_DATA_UPDATES_IN_PROGRESS_MSG=b.SOAP_DATA_UPDATES_IN_PROGRESS_MSG.displayText,a.decCycleMsg=b.DEC_PRG_APPLY_MSG.displayText,a.soapProgramApplied=z.programsCount.soapPgmsAppliedCount,a.maxSoapPgmsAllowedToApply=z.programsCount.maxSoapPgmsAllowedToApply,a.appliedMessage=b.SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT.displayText,a.hoverMessage=b.SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT.displayText,a.contentName="apply to it";var c=b.PROGRAM_WITHOUT_CHECKBOX_MSG.displayText;a.documentAssigmentUnsuccessful=b.DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT.displayText,v.contentCompiler(c,a).then(function(b){a.programWithoutCheckboxMsg=b}),a.SOAP_ALL_NO_LONGER_ELIGIBLE=b.SOAP_ALL_NO_LONGER_ELIGIBLE.displayText}),a};A(),b.breadcrumbs=[{link:"#/programHome",active:!0,title:"Program Home"}];var B=function(a,b,c){var d={};d.lors=angular.copy(a),d.lors||(d.lors=[{}]),angular.forEach(d.lors,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d.ps=angular.copy(b),angular.forEach(d.ps,function(a){_.isUndefined(a.selected)&&(a.selected=!1)});var e=angular.copy(c);return d.other={usmle:e.usmle,comlex:e.comlex,ptal:e.ptal,mspe:e.mspe,msTranscript:e.msTranscript,absite:e.absite,photo:e.photo,ECFMG:e.ECFMG},d};a.trackDisableCheck=function(a,b){var c="O"!==b.unit.unitStatusCode||a.preselected,d=b.invoiceSeqNumber&&"N"===a.trackMyerasDisplayInd,e=!a.selected&&"N"===a.trackMyerasDisplayInd||"Y"===b.withdrawnIndicator;return c||d||e?!0:!1},a.gotoSave=function(){a.hideFullyMatchedModal()},a.assignedDocListObj={docList:{},program:{},initDocList:function(b,c){a.disableCOMLEXCheckbox=!1,a.disableUSMLECheckbox=!1,a.assignedDocListObj.program=c,_.forEach(b,function(b){var d=_.find(a.myPersonalStatments,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId});d&&(d.selected=!0,a.assignedDocListObj.docList.pstmt=d),b.docCd===a.docCodes.USMLE.docCd&&b.unitId===c.unitId&&(a.usmle.selected=!0,a.assignUsmle=!0,a.disableUSMLECheckbox=c.invoiceSeqNumber&&a.usmleAuth.invoiceSeqNbr),b.docCd===a.docCodes.COMLEX.docCd&&b.unitId===c.unitId&&(a.comlex.selected=!0,a.assignComlex=!0,a.disableCOMLEXCheckbox=c.invoiceSeqNumber&&a.comlexAuth.invoiceSeqNbr),b.docCd===a.docCodes.PTAL.docCd&&b.unitId===c.unitId&&(a.ptal.selected=!0,a.assignPtal=!0),b.docCd===a.docCodes.MSPE.docCd&&b.unitId===c.unitId&&(a.mspe.selected=!0,a.assignMspe=!0),b.docCd===a.docCodes.MSTRANSCRIPT.docCd&&b.unitId===c.unitId&&(a.msTranscript.selected=!0,a.assignMsTranscript=!0),b.docCd===a.docCodes.ABSITE.docCd&&b.unitId===c.unitId&&(a.absite.selected=!0,a.assignAbsite=!0),b.docCd===a.docCodes.PHOTO.docCd&&b.unitId===c.unitId&&(a.photo.selected=!0,a.assignPhoto=!0),d=_.find(a.myLors,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId}),d&&(d.selected=!0,a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(d):a.assignedDocListObj.docList.lor=[d])});var d={usmle:_.isEmpty(a.usmle)?{preSelected:!1,selected:!1}:a.usmle,comlex:_.isEmpty(a.comlex)?{preSelected:!1,selected:!1}:a.comlex,ptal:_.isEmpty(a.ptal)?{preSelected:!1,selected:!1}:a.ptal,mspe:_.isEmpty(a.mspe)?{preSelected:!1,selected:!1}:a.mspe,msTranscript:_.isEmpty(a.msTranscript)?{preSelected:!1,selected:!1}:a.msTranscript,absite:_.isEmpty(a.absite)?{preSelected:!1,selected:!1}:a.absite,photo:_.isEmpty(a.photo)?{preSelected:!1,selected:!1}:a.photo,ECFMG:_.isEmpty(a.ECFMG)?{preSelected:!1,selected:!1}:a.ECFMG};a.origAssignments=B(_.filter(a.myLors,function(b){return a.filteredLors(b)}),a.myPersonalStatments,d)},updatePersonalStatementAssignment:function(b){a.showNoAssignSelections=!1,b.selected?a.assignedDocListObj.docList.pstmt=b:delete a.assignedDocListObj.docList.pstmt},updateUsmle:function(b){a.showNoAssignSelections=!1,b?a.assignUsmle=!0:a.assignUsmle=!1},updateComlex:function(b){a.showNoAssignSelections=!1,b?a.assignComlex=!0:a.assignComlex=!1},updatePtal:function(b){a.showNoAssignSelections=!1,b?a.assignPtal=!0:a.assignPtal=!1},updateMspe:function(b){a.showNoAssignSelections=!1,b?a.assignMspe=!0:a.assignMspe=!1},updateMsTranscript:function(b){a.showNoAssignSelections=!1,b?a.assignMsTranscript=!0:a.assignMsTranscript=!1},updateAbsite:function(b){a.showNoAssignSelections=!1,b?a.assignAbsite=!0:a.assignAbsite=!1},updatePhoto:function(b){a.showNoAssignSelections=!1,b?a.assignPhoto=!0:a.assignPhoto=!1},updateLorList:function(b){a.showNoAssignSelections=!1,b.selected?a.assignedDocListObj.docList.lor&&a.assignedDocListObj.docList.lor.length>=4?(a.errorMsg="You have already selected 4 Letters of Recommendation",b.selected=!1,j(function(){a.errorMsg=null},3e3)):a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(b):a.assignedDocListObj.docList.lor=[b]:_.remove(a.assignedDocListObj.docList.lor,function(a){return a.lorLetterId===b.lorLetterId})},saveDocList:function(){r.getServerCurrentDate().then(function(b){C();var c,d=[],f=a.assignedDocListObj.program.programAssignments,g=a.assignedDocListObj.program.unitId,h=a.assignedDocListObj.docList.pstmt;h&&(c=_.find(f,{unitId:g,docCd:h.docCd,seqNbr:h.seqNbr})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:h.seqNbr,docCd:h.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignUsmle&&(c=_.find(f,{unitId:g,docCd:a.docCodes.USMLE.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.USMLE.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignComlex&&(c=_.find(f,{unitId:g,docCd:a.docCodes.COMLEX.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.COMLEX.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignPtal&&(c=_.find(f,{unitId:g,docCd:a.docCodes.PTAL.docCd,seqNbr:a.ptalData.seqNbr})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:a.ptalData.seqNbr,docCd:a.docCodes.PTAL.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignMspe&&(c=_.find(f,{unitId:g,docCd:a.docCodes.MSPE.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.MSPE.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignMsTranscript&&(c=_.find(f,{unitId:g,docCd:a.docCodes.MSTRANSCRIPT.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.MSTRANSCRIPT.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignAbsite&&(c=_.find(f,{unitId:g,docCd:a.docCodes.ABSITE.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.ABSITE.docCd,paSubmitDt:c.paSubmitDt||b})),a.assignPhoto&&(c=_.find(f,{unitId:g,docCd:a.docCodes.PHOTO.docCd,seqNbr:1})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:1,docCd:a.docCodes.PHOTO.docCd,paSubmitDt:c.paSubmitDt||b})),_.forEach(a.assignedDocListObj.docList.lor,function(a){c=_.find(f,{unitId:g,docCd:a.docCd,seqNbr:a.seqNbr})||{},d.push({applicationId:n.applicationId,unitId:g,seqNbr:a.seqNbr,docCd:a.docCd,paLorActiveInd:"Y",paSubmitDt:c.paSubmitDt||b})}),t.assignDocumentsToAProgram(d,n.applicationId,g).then(function(b){if(t.isUnsuccessfulDocumentAssignment(b))e.error(b.message),a.hideAssignDocumentsModal(),T();else{a.assignedDocListObj.docList.lor=[],a.personalStatement=null,T(),a.assignPtal&&u.updatePoFilesForPtal(n.applicationId,a.ptalData.seqNbr);var c={programsForUSMLE:[],programsForCOMLEX:[]};u.setProgramsForDocRelease(c),a.assignedDocListObj.program.invoiceSeqNumber&&(!a.originalAssignUsmle&&a.assignUsmle&&c.programsForUSMLE.push(g),!a.originalAssignComlex&&a.assignComlex&&c.programsForCOMLEX.push(g)),D(a.assignedDocListObj.program)?a.currentPage=3:(a.assignedDocListObj.program.invoiceSeqNumber&&(a.assignUsmle&&a.usmleAuth&&a.usmleAuth.invoiceSeqNbr||a.assignComlex&&a.comlexAuth&&a.comlexAuth.invoiceSeqNbr)&&u.releaseTranscriptsToPrograms(a.applicant),a.hideAssignDocumentsModal()),e.success("Saved Successfully")}})})}},a.applicant={},a.myPrograms=[],a.specialty="",a.orderByCol="unit.unitName",a.reverseSort=!1,a.currentPage=1,a.pagination={itemsPerPage:10,gap:5,currentPage:1};var C=function(){v.getContent("PAY_USMLE_FEE_TEXT").then(function(b){b&&(a.payUsmleFeeText=k.trustAsHtml(b.displayText))}),v.getContent("PAY_COMLEX_FEE_TEXT").then(function(b){b&&(a.payComlexFeeText=k.trustAsHtml(b.displayText))})};a.cancelPayNowUsmleOrComlex=function(){a.originalAssignUsmle===!1&&t.clearDocumentAssignments(n.applicationId,a.docCodes.USMLE.docCd,1).then(function(a){}),a.originalAssignComlex===!1&&t.clearDocumentAssignments(n.applicationId,a.docCodes.COMLEX.docCd,1).then(function(a){}),a.hideAssignDocumentsModal()},a.payNowUsmleOrComlex=function(){m.setMySelectedPrograms(a.mySelectPaidPrograms),a.hideAssignDocumentsModal()};var D=function(b){a.mySelectPaidPrograms=[],a.mySelectPaidPrograms.push(b);var c=(a.assignUsmle===!0||a.assignComlex===!0)&&b.invoiceSeqNumber&&(a.usmleAuth||a.comlexAuth);return a.usmleAuth&&a.assignUsmle===!0?(a.isSelComlex=!1,a.isSelUsmle=!0,a.mySelectPaidPrograms.usmle=a.usmleAuth,a.mySelectPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,c=c&&!a.usmleAuth.invoiceSeqNbr):a.comlexAuth&&a.assignComlex===!0&&(a.isSelUsmle=!1,a.isSelComlex=!0,a.mySelectPaidPrograms.comlex=a.comlexAuth,a.mySelectPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&!a.comlexAuth.invoiceSeqNbr),c},E=function(b){var c=[],d={},e=null;e||(e=b),angular.forEach(e,function(b){b.unit.unitStateDesc=m.findStateDesc(b.unit.unitStateCode,a.residenceStatesProvinces),b.selectedProgramTracks.length>0&&(c=b.selectedProgramTracks,z.soapOpen&&z.applicantSoapEligible&&(b.soapNotEligibleForTraining=!_.isUndefined(_.find(c,function(b){return b.track.nrmpUnfilledPositionsIndicator&&"N"!==b.track.nrmpUnfilledPositionsIndicator?a.applicationData.soapEligibilityPositionType&&-1===a.applicationData.soapEligibilityPositionType.indexOf(b.track.trackTypeCode)?!0:void 0:!0}))),angular.forEach(b.unit.tracks,function(a){d=a,d.selected=!1,d.preSelected=!1,angular.forEach(c,function(a){d.trackCode===+a.trackCode&&d.unitId===a.unitId&&(d.selected=!0,d.preSelected=!0,d.selectedTrack=!0,d.createdBy=a.createdBy,d.createdDt=a.createdDt,d.lastUpdatedBy=a.lastUpdatedBy,d.lastUpdatedDt=a.lastUpdatedDt)})}))})},F=function(){applicationId=n.applicationId,o.getApplicantLorAuthors(applicationId).then(function(b){a.allLors=b,a.allLors=f("lorauthor")(a.allLors),_.forEach(a.allLors,function(b){b.docCd=a.docCodes.LOR.docCd})})},G=function(){u.getUsmleAuth(n.applicationId,!0).then(function(b){b&&(a.usmleAuth=b)})},H=function(){u.getComlexAuth(n.applicationId,!0).then(function(b){b&&(a.comlexAuth=b)})},I=function(){u.getPtals(n.applicationId).then(function(b){b&&(a.ptalData=b)})},J=function(){applicationId=n.applicationId,s.getPersonalStatements(applicationId).then(function(b){a.allPersonalStatements=b,_.forEach(a.allPersonalStatements,function(b){b.docCd=a.docCodes.PERSONAL_STMT.docCd,b.seqNbr=b.psSeqNbr})})};a.goToOtherDocuments=function(){a.hideAssignDocumentsModal(),g.go("main.otherDocuments")},a.goToDashboard=function(){a.hideFullyMatchedModal(),g.go("main.newdashboard")};var K=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/program-details-modal.html"}),L=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/assign-documents-modal.html"}),M=function(){v.getContent("MILITARY_PROGRAM_US_CITIZEN_ONLY").then(function(b){b&&(a.programNoteMilitaryText=k.trustAsHtml(b.displayText))})};a.showProgramDetailsModal=function(b){a.enableModalSave=!1,M(),a.modalCurrentPage=1,a.programDet=angular.copy(b),y.filterTracks(a.programDet,a.soapDto,a.applicationData),angular.forEach(b.unit.tracks,function(b){"P"===b.trackTypeCode&&(a.hasPreliminaryTrack=!0)}),b.unit.unitPgmInformation&&b.unit.unitPgmInformation.length>225&&(0===b.unit.cimSurvey.length||!b.unit.cimSurvey)?a.showMore=!1:a.showMore=!0,!b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?z.showMoreCimInfo=!1:z.showMoreCimInfo=!0,b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?z.showFullInfo=!1:z.showFullInfo=!0,a.cimSurvey=b.unit.cimSurvey[0],a.cimSurveyUnitName=b.unit.unitName,K.$promise.then(K.show)},a.showMoreCim=function(){z.showMoreCimInfo=!z.showMoreCimInfo},a.showFullInfoFunction=function(){z.showFullInfo=!z.showFullInfo},a.updateProgramSelections=function(b,c){a.enableModalSave=!0,c.selected?b.selectedProgramTracks.push({track:c}):_.remove(b.selectedProgramTracks,function(a){return c.trackCode===a.track.trackCode}),U()},a.backToProgramDetails=function(){a.modalCurrentPage=1},a.isSelectedProgram=function(b){a.showNoAssignSelections=!1;_.filter(a.myPrograms,{applyInd:!0});_.forEach(a.myPrograms,function(a){a.accreditationId===b.accreditationId&&(a.applyInd=!1)}),N(a.myPrograms),d.debug(a.showNoAssignSelections),W()};var N=function(b){var c,d=_.filter(b,{applyInd:!0});c=d.length,a.isSelectedProg=d.length>0?!0:!1,a.selectedProgramsSize=c,a.selectedProgramsSize>0&&(a.noSelectedPrograms=!1)};a.updateProgram=function(b){var c={};c.applicationId=n.applicationId,c.unitId=b.unitId,c.pgy2=b.pgy2;var d=[],e=0;if(angular.forEach(b.selectedProgramTracks,function(a){var c={};c.applicationId=n.applicationId,c.unitId=b.unitId,c.trackCode=a.track.trackCode,c.trackName=a.track.trackName,c.trackSoapIndicator=null,c.createdBy=a.track.createdBy,c.createdDt=a.track.createdDt,c.lastUpdatedBy=a.track.lastUpdatedBy,c.lastUpdatedDt=a.track.lastUpdatedDt,d.push(c),"P"===a.track.trackTypeCode&&e++}),0===e&&b.pgy2&&(b.pgy2=null,c.pgy2=null),1===a.modalCurrentPage&&0===d.length)a.modalCurrentPage=2;else{var f=_.findIndex(a.myPrograms,{unitId:b.unitId});0===d.length?(S(b),a.hideProgramDetailsModal()):(c.selectedProgramTracks=d,c.programAssignments=b.programAssignments,a.myPrograms[f]=a.programDet,a.saveProgramTracks(c))}U()},a.saveProgramTracks=function(b){delete b.specialty,m.updateSelectedProgram(b).then(function(b){b&&(angular.forEach(a.myPrograms,function(a){a.unitId===b.unitId&&(b.unit=a.unit,angular.forEach(b.selectedProgramTracks,function(a){angular.forEach(b.unit.tracks,function(b){a.trackCode.toString()===b.trackCode.toString()&&(a.track=b)})}),a.selectedProgramTracks=b.selectedProgramTracks)}),a.soapInEligiblePrograms&&a.soapInEligiblePrograms.length&&(angular.forEach(a.soapInEligiblePrograms,function(a){a.unitId===b.unitId&&(b.unit=a.unit,angular.forEach(b.selectedProgramTracks,function(a){angular.forEach(b.unit.tracks,function(b){a.trackCode.toString()===b.trackCode.toString()&&(a.track=b)})}),a.selectedProgramTracks=b.selectedProgramTracks)}),E(a.soapInEligiblePrograms)),E(a.myPrograms)),a.programsInMySelection=_.size(z.selectedPrograms),a.hideProgramDetailsModal(),e.success("Saved Successfully")})};var O=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/validate-program-modal.html"});a.showValidateProgramModal=function(b){a.programDet=b,O.$promise.then(O.show)};var P=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/fully-matched-modal.html"});a.showFullyMatchedModal=function(b){a.programDet=b,P.$promise.then(P.show)},a.hideValidateProgramModal=function(){O.$promise.then(O.hide)},a.hideFullyMatchedModal=function(){P.$promise.then(P.hide)},a.setMySelectedPrograms=function(b,c){a.isSelectedProg?x.getSoapDto(n.applicationId).then(function(d){if(a.soapDto=d,x.checkSoapDataInProgress(a.soapDto))return x.showDataInProgessModal(a),!1;var e=_.filter(b,function(a){return a.applyInd});angular.forEach(b,function(a){angular.forEach(a.selectedProgramTracks,function(a){a.selectedTrack=!0})}),m.validatePrograms(e,c).then(function(c){if(c.success){a.showNoAssignSelections=!1,U();var f={programsForUSMLE:[],programsForCOMLEX:[]};u.setProgramsForDocRelease(f),angular.forEach(e,function(b){b.invoiceSeqNumber||angular.forEach(b.programAssignments,function(c){c.paSubmitDt&&(a.usmleAuth&&c.docCd===a.docCodes.USMLE.docCd&&f.programsForUSMLE.push(b.unitId),a.comlexAuth&&c.docCd===a.docCodes.COMLEX.docCd&&f.programsForCOMLEX.push(b.unitId))})}),u.setProgramsForDocRelease(f),m.setMySelectedPrograms(_.filter(b,{applyInd:!0})),g.go("main.payment")}else if(d.applicantFullyMatched||d.applicantSoapIneligible)a.showFullyMatchedModal(c);else{if(a.soapProgramsIneligibleToApply=c.notAllowedPrograms,a.soapTracksIneligibleToApply=c.notAllowedTracks,a.tempSelectedPrograms=b,c.notAllowedPrograms&&c.notAllowedPrograms.length>0)return void a.showValidateProgramModal(c);if(c.notAllowedTracks&&c.notAllowedTracks.length>0)return void a.showValidateProgramModal(c)}})}):a.noSelectedPrograms=!0},a.showAbsite=function(a){return"450"===a.unit.specialty.specCd||"460"===a.unit.specialty.specCd||"060"===a.unit.specialty.specCd||"442"===a.unit.specialty.specCd||"445"===a.unit.specialty.specCd||"451"===a.unit.specialty.specCd||"362"===a.unit.specialty.specCd||"461"===a.unit.specialty.specCd||"446"===a.unit.specialty.specCd||"221"===a.unit.specialty.specCd||"486"===a.unit.specialty.specCd?!0:!1;
};var Q=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/confirm-program-delete-modal.html"});a.showDeleteProgramModal=function(b){a.programDet=b,Q.$promise.then(Q.show)},a.showNonSoapDeleteProgramModal=function(b,c){a.programList=b,a.programDet=c,a.isDeleteNonSoapProgramInProgress=!0,Q.$promise.then(Q.show)},a.proceedToPayment=function(){a.soapTracksIneligibleToApply&&a.soapTracksIneligibleToApply.length&&(angular.forEach(a.tempSelectedPrograms,function(b){b.ineligibleSelectedProgramTracks=[],angular.forEach(a.soapTracksIneligibleToApply,function(a){b.selectedProgramTracks=_.filter(b.selectedProgramTracks,function(c){return b.unitId.toString()===a.unitId.toString()&&a.trackCode.toString()===c.trackCode.toString()?(b.ineligibleSelectedProgramTracks.push(c),!1):!0})})}),a.tempSelectedPrograms=_.filter(a.tempSelectedPrograms,function(a){return a.selectedProgramTracks.length?!0:!1})),a.soapProgramsIneligibleToApply&&a.soapProgramsIneligibleToApply.length&&angular.forEach(a.soapProgramsIneligibleToApply,function(b){a.tempSelectedPrograms=_.filter(a.tempSelectedPrograms,function(a){return a.unitId===b.unitId?!1:!0})}),a.setMySelectedPrograms(a.tempSelectedPrograms,!0)},a.hideDeleteProgramModal=function(){Q.$promise.then(Q.hide),a.isDeleteNonSoapProgramInProgress=!1},a.deleteProgram=function(b){a.isDeleteNonSoapProgramInProgress?(d.debug("programDet",b),R(b)):(d.debug("programDet",b),S(b)),a.vm.applyAll&&(a.vm.applyAll=!1),a.hideDeleteProgramModal()};var R=function(b){var c={};d.debug("program",b),c.applicationId=n.applicationId,c.unitId=b.unitId,c.selectedProgramTracks=[],c.programAssignments=[];_.findIndex(a.programList,{unitId:c.unitId});d.debug("$scope.myPrograms",a.programList),m.deleteSelectedProgram(c).then(function(b){b&&(N(a.programList),T())}),U()},S=function(b){var c={};d.debug("program",b),c.applicationId=n.applicationId,c.unitId=b.unitId,c.selectedProgramTracks=[],c.programAssignments=[];_.findIndex(a.myPrograms,{unitId:c.unitId});d.debug("$scope.myPrograms",a.myPrograms),m.deleteSelectedProgram(c).then(function(b){b&&(N(a.myPrograms),T())}),U()};a.clearProgramTracks=function(){a.hideProgramDetailsModal()},a.hideProgramDetailsModal=function(){K.$promise.then(K.hide)},a.showAssignDocumentsModal=function(b){a.showNoAssignSelections=!1,a.usmle.selected=!1,a.comlex.selected=!1,a.ptal.selected=!1,a.mspe.selected=!1,a.msTranscript.selected=!1,a.absite.selected=!1,a.photo.selected=!1,a.assignComlex=!1,a.assignAbsite=!1,a.assignMspe=!1,a.assignPtal=!1,a.assignMsTranscript=!1,a.assignUsmle=!1,a.assignPhoto=!1,a.showLorAccordion=!0,a.showPersonalStatAccordion=!0,a.showAdditionalDocAccordion=!0,a.assignedDocListObj.docList.pstmt=void 0,a.programDet=angular.copy(b),a.currentPage=1,a.myPersonalStatments=angular.copy(a.allPersonalStatements),a.myLors=angular.copy(a.allLors),t.getAssignedDocsForProgram(n.applicationId,b.unitId).then(function(c){c.length>0?a.assignedDocListObj.initDocList(c,b):a.assignedDocListObj.initDocList([],b),a.originalAssignUsmle=a.assignUsmle,a.originalAssignComlex=a.assignComlex}),L.$promise.then(L.show)},a.hideAssignDocumentsModal=function(){a.assignedDocListObj.docList.lor=[],L.$promise.then(L.hide)},a.displayProgramsTrainingDisclaimer=function(a){var b=!1;return a.unit&&a.unit.tracks&&_.forEach(a.unit.tracks,function(a){return a.nrmpPgmCd?(b=!0,!1):void 0}),b},a.changeSortCol=function(b){a.orderByCol===b?a.reverseSort=!a.reverseSort:(a.orderByCol=b,a.reverseSort=!a.reverseSort)},a.confirmationPage=function(b,c){a.showNoAssignSelections=!1;var d=!1,e=!1,f=!1;angular.forEach(b,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),angular.forEach(c,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d=!_.isEqual(_.pluck(_.filter(b,"lorLetterId")||_.filter(b,"lorUploaded"),"selected"),_.pluck(a.origAssignments.lors,"selected")),e=!_.isEqual(_.pluck(a.origAssignments.ps,"selected"),_.pluck(c,"selected"));var g=!1;if(angular.forEach(a.origAssignments.other,function(b,c){g=a[c]&&a[c].selected?a[c].selected:!1,b.selected!==g&&(f=!0)}),a.changedLors=d,d||e||f){if(d?a.currentPage=2:a.assignedDocListObj.saveDocList(),e){var h=_.find(c,function(a){return a.selected===!0});angular.isUndefined(h)||(a.personalStatement=h)}}else a.showNoAssignSelections=!0;z.applyAll=!1,a.checkData(a.myPrograms)},a.backToAssignPage=function(){a.currentPage=1},a.addPrograms=function(){g.go("main.programSearch")},a.selectStatement=function(b){angular.forEach(a.myPersonalStatments,function(a){a.psSeqNbr!==b.psSeqNbr&&(a.selected=!1)})},a.filteredColumns=function(a){var b=a&&(-1!==a.unit.unitName.toLowerCase().indexOf(z.searchForText.toLowerCase()||"")||-1!==a.unit.unitCity.toLowerCase().indexOf(z.searchForText.toLowerCase()||"")||-1!==a.accreditationId.indexOf(z.searchForText||"")||-1!==a.unit.specialty.specName.toLowerCase().indexOf(z.searchForText.toLowerCase()||"")||a.unit.unitStateDesc&&-1!==a.unit.unitStateDesc.toLowerCase().indexOf(z.searchForText.toLowerCase()||""));return b?!0:!1},a.filteredLors=function(a){var b=!1;return(a.lorLetterId||a.lorUploaded)&&(b=!0),b},a.lorsConfirmedOrUploaded=function(a){var b=!1,c={};return a&&a.length>0&&(c=a[0],(c.lorUploaded||c.lorLetterId)&&(b=!0)),b},a.isPsMaxLimit=function(){return a.assignedDocListObj.docList.lor.length>=4?!0:!1};var T=function(){l.all([r.getStates("USA"),r.getStates("CAN"),m.getSavedPrograms(n.applicationId)]).then(function(b){b&&(a.residenceStatesProvinces=b[0],_.forEach(b[1],function(b){a.residenceStatesProvinces.push(b)}),b[2]&&(b[2].soapDto&&(a.soapDto=b[2].soapDto,z.soapOpen=b[2].soapDto.soapOpen,z.applicantSoapEligible=b[2].soapDto.applicantSoapEligible,z.applicantSoapIneligible=b[2].soapDto.residencyApplicant&&!z.applicantSoapEligible&&"FM"!==a.applicationData.soapMatchStatus,a.isSoapIneligibleApplicant=z.applicantSoapIneligible,a.NRMP_UPDATE_TIME=a.soapDto.nrmpLastExchangeDt,v.contentCompiler(a.SOAP_ALL_NO_LONGER_ELIGIBLE,a).then(function(b){a.SOAP_ALL_NO_LONGER_ELIGIBLE=b})),z.showSoap=z.soapOpen&&z.isResidency,z.showSoap&&z.applicantSoapEligible?(a.myPrograms=b[2].soapEligiblePrograms,a.soapInEligiblePrograms=b[2].soapInEligiblePrograms,angular.forEach(a.myPrograms,function(a){a.soapEligibleProgram=!0}),angular.forEach(a.soapInEligiblePrograms,function(a){a.nonSoapEligibleProgram=!0}),t.getProgramsCount(n.applicationId).then(function(a){a&&(z.programsCount=a)})):z.showSoap&&!z.applicantSoapEligible?(a.myPrograms=b[2].soapInEligiblePrograms,a.soapInEligiblePrograms=a.myPrograms):a.myPrograms=b[2].selectedPrograms),E(a.myPrograms),J(),F(),G(),H(),I(),U(),N(a.myPrograms))})},U=function(){angular.forEach(a.myPrograms,function(a){a.inEligible=!1,a.showDelete=!1,a.warning=!1,angular.forEach(a.selectedProgramTracks,function(b){"N"===b.track.trackMyerasDisplayInd&&(b.showIneligibleMessage=!0,w.getTrackHistory(a.unitId,b.trackCode).then(function(a){b.inactiveDt=a}))});var b=_.where(a.selectedProgramTracks,{showIneligibleMessage:!0}).length;b>=1&&(a.inEligible=!0),b===a.unit.tracks.length?(a.inEligible=!0,a.showDelete=!0):0!==b&&b<a.unit.tracks.length&&(a.warning=!0,a.showDelete=!1)});var b=_.filter(a.myPrograms,function(a){return a.inEligible||a.warning}),c=_.size(b);c>0?a.showInEligibleText=!0:a.showInEligibleText=!1;var d=_.filter(a.myPrograms,function(a){return"O"!==a.unit.unitStatusCode}),e=_.size(d);e>0?a.showProgramInEligibleText=!0:a.showProgramInEligibleText=!1,a.myPrograms=_.sortBy(a.myPrograms,function(a){return a.inEligible})},V=function(){n.getApplication().then(function(b){b&&(a.applicationData=b,z.isResidency="MD"===b.residencyType||"DO"===b.residencyType||"IMG"===b.residencyType,a.applicationId=b.applicationId,a.applicant.applicationId=b.applicationId,a.allProgramsSize=a.myPrograms.length,T())}),n.getConfigElements().then(function(b){void 0!==b&&null!==b&&(a.configElements=b,a.paymentEnabled=_.find(a.configElements,function(a){return"PAYMENT_ENABLED"===a.varName})||{varValue:"Y"})}),v.getContent("PAYMENT_UNAVAILABLE").then(function(b){b&&(a.paymentDisabled=k.trustAsHtml(b.displayText))})};V();var W=function(){z.applicantSoapEligible&&z.soapOpen&&(z.soapMaxApplied=(a.selectedProgramsSize?a.selectedProgramsSize:0)+z.programsCount.soapPgmsAppliedCount>z.programsCount.maxSoapPgmsAllowedToApply)};a.isTrainingSelected=function(b){var c=_.filter(a.myPrograms,{"selectedProgramTracks.unitId":b.unitId,"selectedProgramTracks.track.trackCode":b.trackCode});return c?!0:!1},a.checkData=function(b){var c=f("filter")(b,a.filteredColumns);z.applyAll?(_.forEach(c,function(b){z.soapOpen&&z.applicantSoapIneligible?b.warning||b.inEligible||"O"!==b.unit.unitStatusCode||a.shouldDisableSelection(b)||b.unit.unfilledPositionsIndicator||(b.applyInd=!0):b.warning||b.inEligible||"O"!==b.unit.unitStatusCode||a.shouldDisableSelection(b)||b.soapNotEligibleForTraining?b.applyInd=!1:b.applyInd=!0}),N(b)):(_.forEach(b,function(a){a.applyInd=!1}),N(b)),W()},a.shouldDisableSelection=function(b){var c=!1;if(b&&"02"===b.unit.unitTimelineCode){var d=new Date;if(a.timelines&&a.timelines.length>0){var e=_.find(a.timelines,function(a){return"02"===a.timelineCode});d<e.timelineApplyDate&&(c=!0)}}return c},a.shouldShowMsg=function(b){return a.shouldDisableSelection(b)&&a.decCycleMsg&&!a.showProgramInEligibleText&&!b.inEligible&&!b.warning&&"O"===b.unit.unitStatusCode},a.preliminaryConditions=function(b){return a.preliminaryMode=!1,angular.forEach(b.unit.tracks,function(b){"P"===b.trackTypeCode&&b.selected===!0&&(a.preliminaryMode=!0)}),a.preliminaryMode}}]),angular.module("myeras.programsreApply",["ui.router"]).controller("programsreApplyController",["$scope","unitsService","$filter","$q","$state","$sce","$log","log","$modal","$timeout","$cacheFactory","applicationService","otherDocumentService","documentTrackingService","refDataService","programAssignmentsService","contentService","letterService","personalStatementService","soapService","trackHistoryService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(){a.messageKey=w(),q.getContent(a.messageKey).then(function(b){b&&(a.payUsmleFeeText=f.trustAsHtml(b.displayText))})}function w(){var b="",c=a.applicationData;if(c&&a.evaluatedPayment){var d=a.isSelUsmle?"USMLE_Y":"USMLE_N",e=a.isSelComlex?"COMLEX_Y":"COMLEX_N",f="DO"==c.residencyType||"DO"==c.fellowshipType?!0:!1;b=(f?"DO":"NonDO")+"_"+c.applicationType+"_"+d+"_"+e+"_TRANSCRIPT_FEE_TEXT"}return b}var x;a.vm=x={applyAll:!1,searchForText:"",selectedPrograms:[],showMoreCim:!1,showFullInfo:!1,applicantSoapEligible:!1,showSoap:!1,soapMaxApplied:!1,programsCount:{}},a.reverseSort=!1,a.usmle={},a.comlex={},a.ptal={},a.mspe={},a.msTranscript={},a.absite={},a.docCodes=o.getDocCodes(),a.photo={},a.myPrograms=[],a.ECFMG={},a.isReapplyProgramTab=!0,a.getReappyPrograms=function(){b.getProgramsForReApply(l.applicationId).then(function(b){b&&(b.soapDto&&(a.soapDto=b.soapDto,x.soapOpen=b.soapDto.soapOpen,x.applicantSoapEligible=b.soapDto.applicantSoapEligible,a.applicantSoapIneligible=b.soapDto&&!b.soapDto.applicantSoapEligible?!0:!1,x.showSoap=x.soapOpen&&b.soapDto.residencyApplicant,a.NRMP_UPDATE_TIME=a.soapDto.nrmpLastExchangeDt,q.contentCompiler(a.SOAP_ALL_NO_LONGER_ELIGIBLE,a).then(function(b){a.SOAP_ALL_NO_LONGER_ELIGIBLE=b}),x.showSoap&&x.applicantSoapEligible&&p.getProgramsCount(l.applicationId).then(function(a){a&&(x.programsCount=a)})),(!b.soapDto.soapOpen||!b.soapDto.residencyApplicant||b.soapDto.residencyApplicant&&!b.soapDto.soapOpen)&&(a.applicantNormalMode=!0),a.myPrograms=b.soapEligiblePrograms,P(a.myPrograms),a.applicationData=l.application,a.applicationData||l.getApplication().then(function(b){a.applicationData=l.application}),B())})},a.getReappyPrograms(),q.getContentList(["SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT","SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT","SOAP_DATA_UPDATES_IN_PROGRESS_MSG","SOAP_ALL_NO_LONGER_ELIGIBLE","SOAP_REAPPLY_TO_PROGRAMS_INSTRUCTIONS"]).then(function(b){b&&(a.SOAP_DATA_UPDATES_IN_PROGRESS_MSG=b.SOAP_DATA_UPDATES_IN_PROGRESS_MSG.displayText,a.soapProgramApplied=x.programsCount.soapPgmsAppliedCount,a.maxSoapPgmsAllowedToApply=x.programsCount.maxSoapPgmsAllowedToApply,a.appliedMessage=b.SOAP_ELIGIBLE_PGM_COUNT_STICKY_TEXT.displayText,a.hoverMessage=b.SOAP_ELIGIBLE_PGM_COUNT_HOVER_TEXT.displayText,a.SOAP_ALL_NO_LONGER_ELIGIBLE=b.SOAP_ALL_NO_LONGER_ELIGIBLE.displayText,a.SOAP_REAPPLY_TO_PROGRAMS_INSTRUCTIONS=b.SOAP_REAPPLY_TO_PROGRAMS_INSTRUCTIONS.displayText)});var y=i({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programs-reapply/validate-modal.html"});a.showValidateModal=function(b){a.programDet=b,y.$promise.then(y.show)},a.hideValidateModal=function(){y.$promise.then(y.hide)};var z=i({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/fully-matched-modal.html"});a.gotoSave=function(){e.go("main.programHome")},a.showFullyMatchedModal=function(b){a.programDet=b,z.$promise.then(z.show)},a.hideFullyMatchedModal=function(){z.$promise.then(z.hide)},a.goToDashboard=function(){a.hideFullyMatchedModal(),e.go("main.newdashboard")},a.setSelectedProgram=function(d){if(d.length>0){var f=c("filter")(d,{applyInd:!0});f.length>0?t.getSoapDto(l.applicationId).then(function(c){if(a.soapDto=c,t.checkSoapDataInProgress(a.soapDto))return t.showDataInProgessModal(a),!1;var g=_.filter(d,function(a){return a.applyInd});b.validatePrograms(g).then(function(c){if(c.success)b.setSelectedReappiedPgmsTracks(f),b.setMySelectedPrograms(f),a.reappliedData=b.getSelectedReappiedPgmsTracks(),a.reappliedData.length>0?e.go("main.payment"):a.showNoSelectedPrograms=!0;else if(a.soapDto.applicantFullyMatched||a.soapDto.applicantSoapIneligible)a.showFullyMatchedModal(c);else{if(a.soapProgramsIneligibleToApply=c.notAllowedPrograms,a.soapTracksIneligibleToApply=c.notAllowedTracks,a.tempSelectedPrograms=d,c.notAllowedPrograms&&c.notAllowedPrograms.length>0)return void a.showValidateModal(c);if(c.notAllowedTracks&&c.notAllowedTracks.length>0)return void a.showValidateModal(c)}})}):a.showNoSelectedPrograms=!0}else a.showNoSelectedPrograms=!0},a.newPaymentInvoice=function(){a.soapTracksIneligibleToApply&&a.soapTracksIneligibleToApply.length&&(angular.forEach(a.tempSelectedPrograms,function(b){angular.forEach(a.soapTracksIneligibleToApply,function(a){b.selectedProgramTracks=_.filter(b.selectedProgramTracks,function(c){return b.unitId.toString()===a.unitId.toString()&&a.trackCode.toString()===c.trackCode.toString()?!1:!0}),b.reApplyTracks=_.filter(b.reApplyTracks,function(c){return b.unitId.toString()===a.unitId.toString()&&a.trackCode.toString()===c.trackCode.toString()?!1:!0})})}),a.tempSelectedPrograms=_.filter(a.tempSelectedPrograms,function(a){return a.selectedProgramTracks.length?!0:!1})),a.soapProgramsIneligibleToApply&&a.soapProgramsIneligibleToApply.length&&angular.forEach(a.soapProgramsIneligibleToApply,function(b){a.tempSelectedPrograms=_.filter(a.tempSelectedPrograms,function(a){return a.unitId===b.unitId?!1:!0})}),a.setSelectedProgram(a.tempSelectedPrograms),a.hideValidateModal()},a.setMySelectedPrograms=function(c){var d={programsForUSMLE:[],programsForCOMLEX:[]};m.setProgramsForDocRelease(d),angular.forEach(c,function(b){b.invoiceSeqNumber||angular.forEach(b.programAssignments,function(c){a.usmleAuth&&a.usmleAuth.invoiceSeqNbr&&c.docCd===a.docCodes.USMLE.docCd&&d.programsForUSMLE.push(b.unitId),a.comlexAuth&&a.comlexAuth.invoiceSeqNbr&&c.docCd===a.docCodes.COMLEX.docCd&&d.programsForCOMLEX.push(b.unitId)})}),m.setProgramsForDocRelease(d),b.setMySelectedPrograms(c)},a.shouldBeACondition=function(b,c){var d="Y"===b.trackMyerasDisplayInd&&"Y"===b.nrmpUnfilledPositionsIndicator,e=-1!==a.applicationData.soapEligibilityPositionType.indexOf(b.trackType.trackTypeCode);return d&&e?!1:!0},a.eligibleTracks=function(b,d){var e=c("soapReApplyFilter")(b,d);return e.length>0?(a.isShowTracks=!0,!0):(a.isShowTracks=!1,!1)},a.changeSortCol=function(b){a.orderByCol===b?a.reverseSort=!a.reverseSort:(a.orderByCol=b,a.reverseSort=!a.reverseSort)},a.isSelectedProgram=function(b){var c=_.filter(a.myPrograms,{applyInd:!0});_.forEach(a.myPrograms,function(a){a.accreditationId===b.accreditationId&&(a.applyInd=!1)}),a.isSelectedProg=c.length>0,C(a.myPrograms),A()},a.shouldDisableSelection=function(b){var c=!1;if(b&&"02"===b.unit.unitTimelineCode){var d=new Date;if(a.timelines&&a.timelines.length>0){var e=_.find(a.timelines,function(a){return"02"===a.timelineCode});d<e.timelineApplyDate&&(c=!0)}}return A(),c},a.hideProgramDetailsModal=function(){D.$promise.then(D.hide)},a.clearProgramTracks=function(b){a.myPrograms=x.soapEligibleProgramsCopy,a.hideProgramDetailsModal()},a.checkData=function(b){var d=c("filter")(b,a.filteredColumns);x.applyAll?(_.forEach(d,function(b){b.warning||b.inEligible||"O"!==b.unit.unitStatusCode||a.shouldDisableSelection(b)||!b.showReApplyCheckbox?b.applyInd=!1:b.applyInd=!0}),a.isSelectedProg=!0,C(b)):(_.forEach(b,function(a){a.applyInd=!1}),a.isSelectedProg=!1,C(b)),A()};var A=function(){x.applicantSoapEligible&&x.soapOpen&&(x.soapMaxApplied=(a.selectedProgramsSize?a.selectedProgramsSize:0)+x.programsCount.soapPgmsAppliedCount>x.programsCount.maxSoapPgmsAllowedToApply)},B=function(){angular.forEach(a.myPrograms,function(a){a.reApplyTracks=[],a.showReApplyCheckbox=!1,angular.forEach(a.selectedProgramTracks,function(b){angular.forEach(a.unit.tracks,function(a){b.unitId===a.unitId&&b.trackCode===a.trackCode.toString()&&(a.appliedDate=b.appliedDate,a.reappliedDate=b.reappliedDate,a.trackSoapIndicator=b.trackSoapIndicator)})})})};a.filteredColumns=function(a){var b=a&&(-1!==a.unit.unitName.toLowerCase().indexOf(x.searchForText.toLowerCase()||"")||-1!==a.unit.unitCity.toLowerCase().indexOf(x.searchForText.toLowerCase()||"")||-1!==a.accreditationId.indexOf(x.searchForText||"")||-1!==a.unit.specialty.specName.toLowerCase().indexOf(x.searchForText.toLowerCase()||"")||a.unit.unitStateDesc&&-1!==a.unit.unitStateDesc.toLowerCase().indexOf(x.searchForText.toLowerCase()||""));return b?!0:!1};var C=function(b){var c,d=_.filter(b,{applyInd:!0,showReApplyCheckbox:!0});c=d.length,a.selectedProgramsSize=c,a.selectedProgramsSize>0&&(a.showNoSelectedPrograms=!1)},D=i({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/program-details-modal.html"}),E=i({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programsapplied/assign-documents-modal.html"}),F=function(){q.getContent("MILITARY_PROGRAM_US_CITIZEN_ONLY").then(function(b){b&&(a.programNoteMilitaryText=f.trustAsHtml(b.displayText))})};a.showProgramDetailsModal=function(b){F(),a.modalCurrentPage=1,a.programDet=b,x.soapEligibleProgramsCopy=angular.copy(a.myPrograms),angular.forEach(b.unit.tracks,function(b){"P"===b.trackTypeCode&&(a.hasPreliminaryTrack=!0)}),b.unit.unitPgmInformation&&b.unit.unitPgmInformation.length>225&&(0===b.unit.cimSurvey.length||!b.unit.cimSurvey)?a.showMore=!1:a.showMore=!0,!b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?x.showMoreCimInfo=!1:x.showMoreCimInfo=!0,b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?x.showFullInfo=!1:x.showFullInfo=!0,a.cimSurvey=b.unit.cimSurvey[0],a.cimSurveyUnitName=b.unit.unitName,D.$promise.then(D.show)},a.showMoreCim=function(){x.showMoreCimInfo=!x.showMoreCimInfo},a.showFullInfoFunction=function(){x.showFullInfo=!x.showFullInfo},a.selectTrack=function(b,c){angular.forEach(b.selectedProgramTracks,function(a){c.unitId===a.unitId&&c.trackCode.toString()===a.trackCode.toString()&&(a.selectedTrack=c.selected?!0:!1)}),angular.forEach(a.myPrograms,function(a){a.unitId===b.unitId&&angular.forEach(a.unit.tracks,function(d){d.unitId===c.unitId&&d.trackCode===c.trackCode&&(c.selected?(d.selected=!0,b.reApplyTracks.push(c),c.appliedDate||(c.selectedTrack=!0,b.selectedProgramTracks.push(c)),a.showReApplyCheckbox=!0):(d.selected=!1,_.remove(a.reApplyTracks,c),c.appliedDate||_.remove(a.selectedProgramTracks,c),a.reApplyTracks.length||(a.applyInd=!1,a.showReApplyCheckbox=!1)))})}),C(a.myPrograms)},a.assignedDocListObj={docList:{},program:{},initDocList:function(b,c){a.assignedDocListObj.program=c,_.forEach(b,function(b){var d=_.find(a.myPersonalStatments,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId&&b.paSubmitDt});d&&(d.selected=!0,d.preSelected=!0,a.assignedDocListObj.docList.pstmt=d),b.docCd===a.docCodes.USMLE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.usmle.selected=!0,a.usmle.preSelected=!0,a.assignUsmle=!0),b.docCd===a.docCodes.COMLEX.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.comlex.selected=!0,a.comlex.preSelected=!0,a.assignComlex=!0),b.docCd===a.docCodes.PTAL.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.ptal.selected=!0,a.ptal.preSelected=!0,a.assignPtal=!0),b.docCd===a.docCodes.MSPE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.mspe.selected=!0,a.mspe.preSelected=!0,a.assignMspe=!0),b.docCd===a.docCodes.MSTRANSCRIPT.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.msTranscript.selected=!0,a.msTranscript.preSelected=!0,a.assignMsTranscript=!0),b.docCd===a.docCodes.ABSITE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.absite.selected=!0,a.absite.preSelected=!0,a.assignAbsite=!0),b.docCd===a.docCodes.PHOTO.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.photo.selected=!0,a.photo.preSelected=!0,a.assignPhoto=!0),b.docCd===a.docCodes.ECFMG.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.ECFMG.selected=!0,a.ECFMG.preSelected=!0,a.assignEcfmg=!0),d=_.find(a.myLors,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId&&b.paSubmitDt}),d&&(d.selected=!0,d.preSelected=!0,a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(d):a.assignedDocListObj.docList.lor=[d])});var d={usmle:_.isEmpty(a.usmle)?{preSelected:!1,selected:!1}:a.usmle,comlex:_.isEmpty(a.comlex)?{preSelected:!1,selected:!1}:a.comlex,ptal:_.isEmpty(a.ptal)?{preSelected:!1,selected:!1}:a.ptal,mspe:_.isEmpty(a.mspe)?{preSelected:!1,selected:!1}:a.mspe,msTranscript:_.isEmpty(a.msTranscript)?{preSelected:!1,selected:!1}:a.msTranscript,absite:_.isEmpty(a.absite)?{preSelected:!1,selected:!1}:a.absite,photo:_.isEmpty(a.photo)?{preSelected:!1,selected:!1}:a.photo,ECFMG:_.isEmpty(a.ECFMG)?{preSelected:!1,selected:!1}:a.ECFMG};a.origAssignments=G(_.filter(a.myLors,function(b){return a.filteredLors(b)}),a.myPersonalStatments,d)},updatePersonalStatementAssignment:function(b){a.showNoAssignSelections=!1,a.assignedDocListObj.docList.pstmt!==b?b.selected?a.assignedDocListObj.docList.pstmt=b:delete a.assignedDocListObj.docList.pstmt:b.selected=!0},updateUsmle:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignUsmle=!0:a.assignUsmle=!1)},updateComlex:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignComlex=!0:a.assignComlex=!1)},updatePtal:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignPtal=!0:a.assignPtal=!1)},updateMspe:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignMspe=!0:a.assignMspe=!1)},updateMsTranscript:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignMsTranscript=!0:a.assignMsTranscript=!1)},updateAbsite:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignAbsite=!0:a.assignAbsite=!1)},updatePhoto:function(b){N(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignPhoto=!0:a.assignPhoto=!1)},updateLorList:function(b){a.showNoAssignSelections=!1,N(b,!0)&&(b.selected?a.assignedDocListObj.docList.lor&&a.assignedDocListObj.docList.lor.length>=4?(a.errorMsg="You have already selected 4 Letters of Recommendation",b.selected=!1,j(function(){a.errorMsg=null},3e3)):a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(b):a.assignedDocListObj.docList.lor=[b]:_.remove(a.assignedDocListObj.docList.lor,function(a){return a.lorLetterId===b.lorLetterId}))},saveDocList:function(){var b=[],c=[],d=a.assignedDocListObj.docList.pstmt,e=d;o.getServerCurrentDate().then(function(f){var g,i=f,j=a.assignedDocListObj.program.programAssignments,n=a.assignedDocListObj.program.unitId;d&&(e.unitId=n,g=_.find(j,{unitId:n,docCd:d.docCd,seqNbr:d.seqNbr})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:d.seqNbr,docCd:d.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignUsmle&&a.usmleAuth.invoiceSeqNbr&&(g=_.find(j,{unitId:n,docCd:a.docCodes.USMLE.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.USMLE.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignUsmle&&!a.usmleAuth.invoiceSeqNbr&&(g=_.find(j,{unitId:n,docCd:a.docCodes.USMLE.docCd,seqNbr:1})||{},c.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.USMLE.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignComlex&&a.comlexAuth.invoiceSeqNbr&&(g=_.find(j,{unitId:n,docCd:a.docCodes.COMLEX.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.COMLEX.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignComlex&&!a.comlexAuth.invoiceSeqNbr&&(g=_.find(j,{unitId:n,docCd:a.docCodes.COMLEX.docCd,seqNbr:1})||{},c.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.COMLEX.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignPtal&&(g=_.find(j,{unitId:n,docCd:a.docCodes.PTAL.docCd,seqNbr:a.ptalData.seqNbr})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:a.ptalData.seqNbr,docCd:a.docCodes.PTAL.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignMspe&&(g=_.find(j,{unitId:n,docCd:a.docCodes.MSPE.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.MSPE.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignMsTranscript&&(g=_.find(j,{unitId:n,docCd:a.docCodes.MSTRANSCRIPT.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.MSTRANSCRIPT.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignAbsite&&(g=_.find(j,{unitId:n,docCd:a.docCodes.ABSITE.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.ABSITE.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignPhoto&&(g=_.find(j,{unitId:n,docCd:a.docCodes.PHOTO.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.PHOTO.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),a.assignEcfmg&&(g=_.find(j,{unitId:n,docCd:a.docCodes.ECFMG.docCd,seqNbr:1})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:1,docCd:a.docCodes.ECFMG.docCd,paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})),_.forEach(a.assignedDocListObj.docList.lor,function(a){g=_.find(j,{unitId:n,docCd:a.docCd,seqNbr:a.seqNbr})||{},b.push({applicationId:l.applicationId,unitId:n,seqNbr:a.seqNbr,docCd:a.docCd,paLorActiveInd:"Y",paSubmitDt:g.paSubmitDt||i,paProcessedDt:g.paSubmitDt||i})}),c.length>0&&m.setDocumentsForpostPaymentAssignment(c,"programsTab"),p.assignDocumentsToAProgram(b,l.applicationId,n).then(function(b){a.assignPtal&&m.updatePoFilesForPtal(l.applicationId,a.ptalData.seqNbr),a.assignedDocListObj.docList.lor=[];var c={programsForUSMLE:[],programsForCOMLEX:[]};a.assignedDocListObj.program.invoiceSeqNumber&&(!a.originalAssignUsmle&&a.assignUsmle&&c.programsForUSMLE.push(n),!a.originalAssignComlex&&a.assignComlex&&c.programsForCOMLEX.push(n)),m.setProgramsForDocRelease(c),a.evaluatedPayment=M(a.assignedDocListObj.program),a.evaluatedPayment?(v(),a.currentPage=3):(a.assignedDocListObj.program.invoiceSeqNumber&&(a.assignUsmle&&a.usmleAuth&&a.usmleAuth.invoiceSeqNbr||a.assignComlex&&a.comlexAuth&&a.comlexAuth.invoiceSeqNbr)&&m.releaseTranscriptsToPrograms(a.applicationData),a.hideAssignDocumentsModal(),k.get("restCache").removeAll(),h.success("Saved Successfully"),O())})})}},a.applicant={},a.specialty="",a.orderByCol="unit.unitName",a.reverseSort=!1,a.currentPage=1,a.pagination={itemsPerPage:10,gap:5,currentPage:1};var G=function(a,b,c){var d={};d.lors=angular.copy(a),d.lors||(d.lors=[{}]),angular.forEach(d.lors,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d.ps=angular.copy(b),angular.forEach(d.ps,function(a){_.isUndefined(a.selected)&&(a.selected=!1)});var e=angular.copy(c);return d.other={usmle:e.usmle,comlex:e.comlex,ptal:e.ptal,mspe:e.mspe,msTranscript:e.msTranscript,absite:e.absite,photo:e.photo,ECFMG:e.ECFMG},d};a.selectStatement=function(b){var c=_.filter(a.myPersonalStatments,{selected:!0});c.length>0&&(b.selected=!0,angular.forEach(c,function(a){a!=b&&(a.selected=!1)}))},a.isTrackDisabled=function(a){return"N"===a.trackMyerasDisplayInd?!0:!1},a.showAssignDocumentsModal=function(b){a.showNoSelectedPrograms=!1,a.showNoAssignSelections=!1,a.showAppliedAdditionalDocAccordion=!0,a.showLorAccordion=!0,a.showPersonalStatAccordion=!0,a.usmle.selected=!1,a.usmle.preSelected=!1,a.comlex.selected=!1,a.comlex.preSelected=!1,a.ptal.selected=!1,a.ptal.preSelected=!1,a.mspe.selected=!1,a.mspe.preSelected=!1,a.msTranscript.selected=!1,a.msTranscript.preSelected=!1,a.absite.selected=!1,a.absite.preSelected=!1,a.photo.selected=!1,a.photo.preSelected=!1,a.assignComlex=!1,a.assignAbsite=!1,a.assignMspe=!1,a.assignPtal=!1,a.assignMsTranscript=!1,a.assignUsmle=!1,a.assignPhoto=!1,a.assignedDocListObj.docList.pstmt=void 0,a.programDet=b,a.currentPage=1,I(),K(),L(),a.myPersonalStatments=angular.copy(a.allPersonalStatements),a.myLors=angular.copy(a.allLors),p.getAssignedDocsForProgram(l.applicationId,b.unitId).then(function(c){c.length>0?a.assignedDocListObj.initDocList(c,b):a.assignedDocListObj.initDocList([],b),a.originalAssignUsmle=a.assignUsmle,a.originalAssignComlex=a.assignComlex}),E.$promise.then(E.show)};var H=l.applicationId;r.getApplicantLorAuthors(H).then(function(b){a.allLors=b,a.allLors=c("lorauthor")(a.allLors),_.forEach(a.allLors,function(b){b.docCd=a.docCodes.LOR.docCd}),s.getPersonalStatements(H).then(function(b){a.allPersonalStatements=b,_.forEach(a.allPersonalStatements,function(b){b.docCd=a.docCodes.PERSONAL_STMT.docCd,b.seqNbr=b.psSeqNbr}),(a.applicantNormalMode||a.applicantSoapIneligible)&&Q(a.myPrograms),a.applicantSoapEligible&&(Q(a.soapPrograms),Q(a.nonSoapPrograms))}),I(),K(),L(),J(),a.isBusy=!1}),a.hideAssignDocumentsModal=function(){a.assignedDocListObj.docList.lor=[],E.$promise.then(E.hide)};var I=function(){m.getUsmleAuth(l.applicationId,!0).then(function(b){b&&(a.usmleAuth=b)})},J=function(){l.getCAF(l.applicationId).then(function(b){a.applicantCafData=b})},K=function(){m.getComlexAuth(l.applicationId,!0).then(function(b){b&&(a.comlexAuth=b)})},L=function(){m.getPtals(l.applicationId).then(function(b){b&&(a.ptalData=b)})};a.cancelPayNowUsmleOrComlex=function(){a.hideAssignDocumentsModal()},a.payNowUsmleOrComlex=function(){a.hideAssignDocumentsModal()};var M=function(b){a.mySelectPaidPrograms=[],a.mySelectPaidPrograms.push(b);var c=(a.assignUsmle===!0||a.assignComlex===!0)&&b.invoiceSeqNumber&&(a.usmleAuth||a.comlexAuth);return!a.usmleAuth||a.assignUsmle!==!0||a.comlexAuth&&a.assignComlex===!0?!a.comlexAuth||a.assignComlex!==!0||a.usmleAuth&&a.assignUsmle===!0?a.usmleAuth&&a.assignUsmle===!0&&a.comlexAuth&&a.assignComlex===!0&&(a.usmleAuth.invoiceSeqNbr||a.assignUsmle!==!0?a.isSelUsmle=!1:a.isSelUsmle=!0,a.comlexAuth.invoiceSeqNbr||a.assignComlex!==!0?a.isSelComlex=!1:a.isSelComlex=!0,a.mySelectPaidPrograms.usmle=a.usmleAuth,a.mySelectPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,a.mySelectPaidPrograms.comlex=a.comlexAuth,a.mySelectPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&(!a.comlexAuth.invoiceSeqNbr||!a.usmleAuth.invoiceSeqNbr)):(a.isSelUsmle=!1,a.isSelComlex=!0,a.mySelectPaidPrograms.comlex=a.comlexAuth,a.mySelectPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&!a.comlexAuth.invoiceSeqNbr):(a.isSelComlex=!1,a.isSelUsmle=!0,a.mySelectPaidPrograms.usmle=a.usmleAuth,a.mySelectPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,c=c&&!a.usmleAuth.invoiceSeqNbr),c};a.goToOtherDocuments=function(){
a.hideAssignDocumentsModal(),e.go("main.otherDocuments")},a.filteredLors=function(a){var b=!1;return(a.lorLetterId||a.lorUploaded)&&(b=!0),b},a.numberOfPages=function(){return Math.ceil(c("filter")(a.myPrograms,x.searchForText).length/a.pagination.itemsPerPage)},a.setRange=function(){for(var b=[],c=Math.max(a.numberOfPages()-(a.pagination.gap-1),1),d=Math.min(a.pagination.currentPage-3,c);b.length<a.pagination.gap&&d<=a.numberOfPages();)d>0&&b.push(d),d++;a.range=b},a.prevPage=function(){a.pagination.currentPage>1&&a.pagination.currentPage--},a.nextPage=function(){a.pagination.currentPage<a.numberOfPages()&&a.pagination.currentPage++},a.isPsMaxLimit=function(){return a.assignedDocListObj.docList.lor.length>=4?!0:!1},a.lorsConfirmedOrUploaded=function(a){var b=!1,c={};return a&&a.length>0&&(c=a[0],(c.lorUploaded||c.lorLetterId)&&(b=!0)),b},a.confirmationPage=function(b,c){a.showNoAssignSelections=!1;var d=!1,e=!1,f=!1;angular.forEach(b,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),angular.forEach(c,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d=!_.isEqual(_.pluck(_.filter(b,"lorLetterId")||_.filter(b,"lorUploaded"),"selected"),_.pluck(a.origAssignments.lors,"selected")),e=!_.isEqual(_.pluck(a.origAssignments.ps,"selected"),_.pluck(c,"selected"));var g=!1;angular.forEach(a.origAssignments.other,function(b,c){g=a[c]&&a[c].selected?a[c].selected:!1,b.selected!==g&&(f=!0)}),a.changedLors=d,d||e||f?d?a.currentPage=2:a.assignedDocListObj.saveDocList():a.showNoAssignSelections=!0};var N=function(b,c){var d=p.validateSelection(b,c);return d||(a.hideAssignDocumentsModal(),a.showAssignDocumentsModal(a.programDet)),d},O=function(){a.isBusy=!0,a.getReappyPrograms(),d.all([o.getStates("USA"),o.getStates("CAN"),m.getTrancriptReleaseDate(l.applicationId)]).then(function(d){if(d){a.residenceStatesProvinces=d[0],_.forEach(d[1],function(b){a.residenceStatesProvinces.push(b)}),a.transcriptList=d[2],b.getWithdrawnPrograms(l.applicationId).then(function(b){a.allWithdrawnPrograms=b,angular.forEach(a.myPrograms,function(b){b.soapEligibleProgram=!0,b.panel={},angular.forEach(a.allWithdrawnPrograms,function(a){b.unitId===a.unitId&&(b.withdrawId=!0)})})});var e=l.applicationId;r.getApplicantLorAuthors(e).then(function(b){a.allLors=b,a.allLors=c("lorauthor")(a.allLors),_.forEach(a.allLors,function(b){b.docCd=a.docCodes.LOR.docCd}),s.getPersonalStatements(e).then(function(b){a.allPersonalStatements=b,_.forEach(a.allPersonalStatements,function(b){b.docCd=a.docCodes.PERSONAL_STMT.docCd,b.seqNbr=b.psSeqNbr}),(a.applicantNormalMode||a.applicantSoapIneligible)&&Q(a.myPrograms),a.applicantSoapEligible&&(Q(a.soapPrograms),Q(a.nonSoapPrograms))}),I(),K(),L(),J(),a.isBusy=!1})}})},P=function(b){angular.forEach(b,function(a){a.inEligible=!1,a.showDelete=!1,a.warning=!1,angular.forEach(a.unit.tracks,function(b){"N"===b.trackMyerasDisplayInd&&(b.showIneligibleMessage=!0,u.getTrackHistory(a.unitId,b.trackCode).then(function(a){b.inactiveDt=a}))});var b=_.where(a.selectedProgramTracks,{showIneligibleMessage:!0}).length;b===a.selectedProgramTracks.length&&(a.inEligible=!0),b===a.unit.tracks.length?(a.inEligible=!0,a.showDelete=!0):0!==b&&b<a.unit.tracks.length&&(a.warning=!0,a.showDelete=!1)});var c=_.filter(b,function(a){return a.inEligible||a.warning}),d=_.size(c);d>0?a.showInEligibleText=!0:a.showInEligibleText=!1,a.myPrograms=_.sortBy(b,function(a){return a.inEligible})};a.updateProgram=function(b){a.hideProgramDetailsModal()},a.saveProgramTracks=function(c){delete c.specialty,b.updateSelectedProgram(c).then(function(a){}),a.programsInMySelection=_.size(x.selectedPrograms),a.hideProgramDetailsModal()};var Q=function(b){angular.forEach(b,function(b){b.assignedLors=[],b.assignedPS=[],b.showUsmle=!1,b.showComlex=!1,b.showMsTranscript=!1,b.showMspe=!1,b.showAbsite=!1,b.showPtal=!1,b.showPhoto=!1,b.showEcfmgReport=!1,b.programAssignments.length>0&&angular.forEach(b.programAssignments,function(c){c.docCd===a.docCodes.LOR.docCd&&angular.forEach(a.allLors,function(d){d=angular.copy(d),c.seqNbr===d.seqNbr&&(d.paSubmitDt=c.paProcessedDt,d.lorReleaseDt=R(b.unitId,a.docCodes.PREPENDED_LOR.docCd,d.seqNbr),b.assignedLors.push(d))}),c.docCd===a.docCodes.PERSONAL_STMT.docCd&&angular.forEach(a.allPersonalStatements,function(d){d=angular.copy(d),c.seqNbr===d.psSeqNbr&&(d.paSubmitDt=c.paProcessedDt,b.personalStatementReleaseDt=R(b.unitId,a.docCodes.PERSONAL_STMT.docCd,d.psSeqNbr),d.paSubmitDt>b.personalStatementReleaseDt&&(b.personalStatementReleaseDt=d.paSubmitDt),b.showPs=!0,b.assignedPS.push(d))}),c.docCd===a.docCodes.USMLE.docCd&&(b.showUsmle=!0,b.usmleSubmitDt=c.paProcessedDt,b.usmleReleaseDt=S(b.unitId,a.docCodes.USMLETRANSCRIPT.docCd)),c.docCd===a.docCodes.COMLEX.docCd&&(b.showComlex=!0,b.comlexSubmitDt=c.paProcessedDt,b.comlexReleaseDt=S(b.unitId,a.docCodes.COMLEXTRANSCRIPT.docCd)),c.docCd===a.docCodes.PTAL.docCd&&(b.showPtal=!0,b.ptalSubmitDt=c.paProcessedDt,b.ptalReleaseDt=S(b.unitId,a.docCodes.PTAL.docCd)),c.docCd===a.docCodes.MSPE.docCd&&(b.showMspe=!0,b.shouldShowAvailableDt=!1,b.mspeSubmitDt=c.paProcessedDt,b.mspeReleaseDt=S(b.unitId,a.docCodes.MSPE.docCd),a.isResidency&&o.getServerCurrentDate().then(function(c){c>a.mspeAvailableDate&&c>b.mspeReleaseDt&&a.mspeAvailableDate>b.mspeReleaseDt&&(b.mspeReleaseDt=a.mspeAvailableDate,b.shouldShowAvailableDt=!0)})),c.docCd===a.docCodes.MSTRANSCRIPT.docCd&&(b.showMsTranscript=!0,b.mstSubmitDt=c.paProcessedDt,b.mstReleaseDt=S(b.unitId,a.docCodes.MSTRANSCRIPT.docCd)),c.docCd===a.docCodes.ABSITE.docCd&&(b.showAbsite=!0,b.absiteSubmitDt=c.paProcessedDt,b.absiteReleaseDt=S(b.unitId,a.docCodes.ABSITE.docCd)),c.docCd===a.docCodes.PHOTO.docCd&&(b.showPhoto=!0,b.photoSubmitDt=c.paProcessedDt,b.photoReleaseDt=S(b.unitId,a.docCodes.PHOTO.docCd)),c.docCd===a.docCodes.ECFMG.docCd&&(b.showEcfmgReport=!0,b.ecfmgReportSubmitDt=c.paProcessedDt,b.ecfmgReportReleaseDt=S(b.unitId,a.docCodes.ECFMG.docCd))})})},R=function(b,c,d){return n.findLorReleaseDate(a.transcriptList,b,c,d)},S=function(b,c){return n.findTranscriptReleaseDate(a.transcriptList,b,c)}}]),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){H.data.invoiceItemHistory=a,I.$promise.then(I.show)}function r(){I.$promise.then(I.hide)}function s(){J.$promise.then(J.show)}function t(){J.$promise.then(J.hide)}function u(a){K.$promise.then(K.show)}function v(){K.$promise.then(K.hide)}function w(){L.$promise.then(L.show)}function x(){L.$promise.then(L.hide)}function y(a){angular.forEach(a.invoiceItems,function(b){b.isEligible&&(a.amountToCharge.subTotal+=b.amountToCharge)}),a.amountToCharge.total+=a.amountToCharge.subTotal,a.amountToCharge.total+=a.usmle.isIncluded?a.usmle.fee:0,a.amountToCharge.total+=a.comlex.isIncluded?a.comlex.fee:0}function z(a){return H.exampleFee.groups[a-1].amount}function A(a,b){return G(a,b).total.toCharge}function B(a,b,c){var e;return e=a?a.displayText:e,e=e||(angular.isString(b)?b:""),e=angular.isFunction(c)?c(e):e,d.trustAsHtml(e)}function C(a){return a.replace(/#INVOKE-MODAL#/gi,"vm.modal.paymentPolicy.show()")}function D(a){return a.usmle&&(H.isPayingForTest.usmle=Boolean(!a.usmle.invoiceSeqNbr)),a.comlex&&(H.isPayingForTest.comlex=Boolean(!a.comlex.invoiceSeqNbr)),H.isPayingForTest.only=H.isPayingForTest.usmle||H.isPayingForTest.comlex}function E(a){if(b.vm.isPayingForTest.only)return!0;for(var c,d=a.length;d--;)if(c=a[d],c.eligibleForTimeLine)return!0;return!1}function F(a){a.length&&w()}var G,H,I=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/payment/app-history-breakdown-modal.html"}),J=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/payment/view-processing-fee-modal.html"}),K=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/payment/payment-policy-modal.html"}),L=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/payment/initiated-warning-modal.html"}),M={configuration:null,application:null,applicationFeeAmounts:null,usmleAuthorization:null,comlexAuthorization:null,billingGroups:null,programsAppliedTo:null,programsAppliedToByGroup:null,programsSelected:null,programsSelectedByGroup:null,programsAssignedToDocuments:null,seasons:null,medicalEducation:null,documentCodes:null};b.$on("$stateChangeSuccess",function(a,c,d,e,f){b.fromRoute=e}),b.goBack=function(){e.go(b.fromRoute.name)},b.vm=H={_data:M,content:{applicationNotCertified:null,paymentDisclaimer:null,paymentAcknowledgement:null,paymentPolicy:null,paymentDisclaimerInReview:null},data:{invoiceItems:[],invoiceItemPrograms:[],invoiceItemHistory:null,usmle:{fee:null,isIncluded:null,sendToPrograms:[],sendToUnPaidPrograms:[],sendUnAssignedPrograms:[]},comlex:{fee:null,isIncluded:null,sendToPrograms:[],sendToUnPaidPrograms:[],sendUnAssignedPrograms:[]},amountToCharge:{subTotal:0,total:0}},application:{isFellowship:null,isMilitary:null,countryCode:null,isCertifiedSubmitted:null,isRegistered:null},isPayingForTest:{only:null,usmle:null,comlex:null},exampleFee:{groups:null,amount:null,total:null},modal:{previouslyAppliedTo:{show:q,hide:r},processingFees:{show:s,hide:t},paymentPolicy:{show:u,hide:v},initiatedWarning:{show:w,hide:x}},paymentPolicyIsAccepted:null,acceptedError:!1,pageTitle:null,dataIsLoading:!0,hasEligibleItems:E,soapObject:null,soapOpen:null},j.getContentList(["SOAP_COUNT_VALIDATION_MSG_CONTINUE","SOAP_COUNT_VALIDATION_MSG_SUBMIT","SOAP_DATA_UPDATES_IN_PROGRESS_MSG","SOAP_ALL_NO_LONGER_ELIGIBLE"]).then(function(a){b.SOAP_DATA_UPDATES_IN_PROGRESS_MSG=a.SOAP_DATA_UPDATES_IN_PROGRESS_MSG.displayText,b.SOAP_COUNT_VALIDATION_MSG_CONTINUE=a.SOAP_COUNT_VALIDATION_MSG_CONTINUE.displayText,b.SOAP_COUNT_VALIDATION_MSG_SUBMIT=a.SOAP_COUNT_VALIDATION_MSG_SUBMIT.displayText,b.SOAP_ALL_NO_LONGER_ELIGIBLE=a.SOAP_ALL_NO_LONGER_ELIGIBLE.displayText});var N=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/payment/validate-payment-modal.html"});b.showValidatePaymentModal=function(a){b.programDet=a,N.$promise.then(N.show)},b.hideValidatePaymentModal=function(){N.$promise.then(N.hide)};var O=f({animation:"am-fade-and-slide-top",scope:b,show:!1,template:"states/programshome/fully-matched-modal.html"});b.showFullyMatchedModal=function(a){b.programDet=a,O.$promise.then(O.show)},b.hideFullyMatchedModal=function(){O.$promise.then(O.hide)},b.goToDashboard=function(){b.hideFullyMatchedModal(),e.go("main.newdashboard")},b.gotoSave=function(){e.go("main.programHome")},b.goToPaymentInfo=function(){H.paymentPolicyIsAccepted?p.getSoapDto(h.applicationId).then(function(a){if(b.soapDto=a,p.checkSoapDataInProgress(b.soapDto))return p.showDataInProgessModal(b),!1;if(b.NRMP_UPDATE_TIME=b.soapDto.nrmpLastExchangeDt,j.contentCompiler(b.SOAP_ALL_NO_LONGER_ELIGIBLE,b).then(function(a){b.SOAP_ALL_NO_LONGER_ELIGIBLE=a}),n.isSoapOpen&&n.applicantSoapObject&&n.applicantSoapObject.applicantSoapEligible){var c=k.getMySelectedPrograms();c&&c.length?k.validatePrograms(c).then(function(a){if(a.success)o.getProgramCount(H.data.previewedInvoice.id.applicationId,H.data.previewedInvoice.id.invoiceSeqNbr).then(function(a){a.success?(H.acceptedError=!1,e.go("main.paymentInfo")):(0===H.data.previewedInvoice.totalAmt&&(b.isShowContent=!0,b.isShowContent2=!1),H.data.previewedInvoice.totalAmt>0&&(b.isShowContent2=!0,b.isShowContent=!1))});else{if(b.soapProgramTracksNotEligibleForApply=a.notAllowedPrograms,b.soapProgramTracksNotEligibleForApply=a.notAllowedTracks,b.tempSelectedPrograms=selectedProgs,a.notAllowedPrograms&&a.notAllowedPrograms.length>0)return void b.showValidatePaymentModal(a);if(a.notAllowedTracks&&a.notAllowedTracks.length>0)return void b.showValidatePaymentModal(a)}}):(H.acceptedError=!1,e.go("main.paymentInfo"))}else H.acceptedError=!1,e.go("main.paymentInfo")}):H.acceptedError=!0},b.newInvoice=function(){var a=k.getMySelectedPrograms();b.soapProgramTracksNotEligibleForApply&&b.soapProgramTracksNotEligibleForApply.length&&(angular.forEach(a,function(a){angular.forEach(b.soapProgramTracksNotEligibleForApply,function(b){a.selectedProgramTracks=_.filter(a.selectedProgramTracks,function(c){return a.unitId.toString()===b.unitId.toString()&&b.trackCode.toString()===c.trackCode.toString()?!1:!0})})}),b.tempSelectedPrograms=_.filter(b.tempSelectedPrograms,function(a){return a.selectedProgramTracks.length?!0:!1})),b.soapProgramsNotEligibleForApply&&b.soapProgramsNotEligibleForApply.length&&angular.forEach(b.soapProgramsNotEligibleForApply,function(b){a=_.filter(a,function(a){return a.unitId===b.unitId?!1:!0})}),k.setMySelectedPrograms(a),e.reload()},c.all([h.getConfigElements(),h.getApplication(h.applicationId),l.getUsmleAuth(h.applicationId,!0),l.getComlexAuth(h.applicationId,!0),m.getProgramBillingCodes(),k.getAppliedProgramsDto(h.applicationId),h.getCurrentSeason(),i.getMedicalEducation(h.applicationId),j.getContent("MSG_APPLICATION_NOT_CERTIFIED"),j.getContent("PAYMENT_DISCLAIMER_TEXT_INVOICE"),j.getContent("PAYMENT_ACKNOWLEDGE_TEXT_IN_INVOICE"),j.getContent("ERAS_PAYMENT_POLICY_TEXT"),j.getContent("PAYMENT_DISCLAIMER_IN_REVIEW_PAYMENT_INFO"),j.getContent("PAYMENT_INITIATED_WARNING"),j.getContent("PAYMENT_MSG_APPLICATION_SUBMITTED"),j.getContent("PAYMENT_MSG_FEES_PAID_BY_USUHS"),j.getContent("PAYMENT_MSG_PAYMENT_SUBMITTED"),g.getInitiatedPreviewedInvoice(h.applicationId),j.getContent("PAYMENT_MSG_TRANSCRIPT_REQUEST_SENT")]).then(function(c){M.configuration=c[0],M.application=c[1],M.usmleAuthorization=c[2],M.comlexAuthorization=c[3],M.billingGroups=c[4],M.programsAppliedTo=H.soapOpen&&H.soapObject&&H.soapObject.applicantSoapEligible&&"FM"!==H.soapObject.applicantSoapMatchStatus?c[5].soapEligiblePrograms:c[5],M.seasons=c[6],M.medicalEducation=c[7],H.content.applicationNotCertified=B(c[8],"MSG_APPLICATION_NOT_CERTIFIED"),H.content.paymentDisclaimer=B(c[9],"PAYMENT_DISCLAIMER_TEXT_INVOICE"),H.content.paymentAcknowledgement=B(c[10],"PAYMENT_ACKNOWLEDGE_TEXT_IN_INVOICE",C),H.content.paymentPolicy=B(c[11],"ERAS_PAYMENT_POLICY_TEXT"),H.content.paymentDisclaimerInReview=B(c[12],"PAYMENT_DISCLAIMER_IN_REVIEW_PAYMENT_INFO"),H.content.initiatedWarning=B(c[13],"PAYMENT_INITIATED_WARNING"),H.content.paymentApplicationSubmittedMessage=B(c[14],"PAYMENT_MSG_APPLICATION_SUBMITTED"),H.content.paymentFeesPaidByUsuhsMessage=B(c[15],"PAYMENT_MSG_FEES_PAID_BY_USUHS"),H.content.paymentSubmittedMessage=B(c[16],"PAYMENT_MSG_PAYMENT_SUBMITTED"),H.content.paymentTranscriptRequestSentMessage=B(c[18],"PAYMENT_MSG_TRANSCRIPT_REQUEST_SENT"),M.application.inst=M.application.inst?M.application.inst:{},M.documentCodes=m.getDocCodes(),M.programsAssignedToDocuments=l.getProgramsForDocRelease(),M.applicationFeeAmounts=g.applicationFeeAmounts(M.application.applicationType,M.configuration),G=g.applicationFeeCalculator(M.applicationFeeAmounts),M.programsSelected=k.getMySelectedPrograms(),H.soapOpen=n.isSoapOpen,H.soapObject=n.applicantSoapObject;var d=!H.soapOpen||H.soapObject&&!H.soapObject.applicantSoapEligible||H.soapObject&&"FM"===H.soapObject.applicantSoapMatchStatus||"F"===M.application.applicationType;d&&o.preparePreviewedInvoice().then(function(a){return a.previewedInvoice?a.previewedInvoice&&(H.data.previewedInvoice=a.previewedInvoice,H.data.invoiceItems=a.billingItemDtos,H.data.amountToCharge=a.previewedInvoice,b.vm.isPayingForTest.only=(0!==a.previewedInvoice.comlexAmt||0!==a.previewedInvoice.usmleAmt)&&0===a.previewedInvoice.erasAmtMdDo&&!a.previewedInvoice.unitIdsApplyingTo,H.data.amountToCharge.subTotal=0,H.data.invoiceItems&&H.data.invoiceItems.length>0&&angular.forEach(H.data.invoiceItems,function(a){H.data.amountToCharge.subTotal+=a.fee}),o.setPreviewedInvoiceData(a.previewedInvoice),o.setPreviewedInvoiceDataObj(a),M.programsSelected.length>0&&!D(M.programsSelected)&&(M.programsSelectedByGroup=k.groupInvoicesByBillCode(M.programsSelected,M.configuration),M.programsAppliedToByGroup=k.groupInvoicesByBillCode(M.programsAppliedTo,M.configuration),g.invoiceItems(M.programsSelectedByGroup,M.programsAppliedToByGroup,M.billingGroups,H.data,G,k.getProgApplyConfigs(M.configuration))),0===M.programsSelected.length&&!H.isPayingForTest.only)?void e.go("main.programHome"):void 0:void e.go("main.programHome")}),F(c[17]),H.data.usmle.fee=g.feeAmount(M.configuration,"ME_USMLE_FEE"),H.data.usmle.isIncluded=g.testFeeIsIncluded("usmle",H.isPayingForTest,M,H.data.usmle.sendToPrograms,H.data.usmle.sendToUnPaidPrograms,H.data.usmle.sendUnAssignedPrograms),H.data.comlex.fee=g.feeAmount(M.configuration,"ME_COMLEX_FEE"),H.data.comlex.isIncluded=g.testFeeIsIncluded("comlex",H.isPayingForTest,M,H.data.comlex.sendToPrograms,H.data.comlex.sendToUnPaidPrograms,H.data.comlex.sendUnAssignedPrograms),H.exampleFee.groups=G(0,0).groups,H.exampleFee.amount=z,H.exampleFee.total=A,H.application.isFellowship="F"===M.application.applicationType,H.application.isMilitary=g.applicationIsMilitary(M.application,M.seasons,M.medicalEducation),H.application.countryCode=M.application.inst.countryCd,H.application.isCertifiedSubmitted=6===M.application.statusId,H.application.isRegistered=3===M.application.statusId,a.pageTitle=H.pageTitle=H.application.isMilitary?"Application Confirmation":"Payment Information",y(H.data),g.cachedData={vm:H,_data:M},H.dataIsLoading=!1})}angular.module("myeras.payment",[]).controller("paymentController",a),a.$inject=["$rootScope","$scope","$q","$sce","$state","$modal","paymentsService","applicationService","generalService","contentService","unitsService","otherDocumentService","refDataService","APP_CONFIG","previewedInvoiceService","soapService"]}(),angular.module("myeras.paymentInfo",["ui.router","myeras.applicationService","aamc.component.payment"]).config(["$provide",function(a){a.decorator("aamcPaymentFormDirective",["$delegate",function(a){return a[0].templateUrl="states/payment-info/custom-payment-form.html",a}]),a.decorator("aamcPaymentReviewDirective",["$delegate",function(a){return a[0].templateUrl="states/payment-info/custom-payment-review.html",a}]),a.decorator("aamcPaymentConfirmationDirective",["$delegate",function(a){return a[0].templateUrl="states/payment-info/custom-payment-confirmation.html",a}]),a.decorator("aamcPaymentErrorDirective",["$delegate",function(a){return a[0].templateUrl="states/payment-info/custom-payment-error.html",a}])}]).controller("PaymentInfoController",["$rootScope","$scope","$modal","$log","$state","$q","$cacheFactory","Restangular","paymentsService","epayTokenService","otherDocumentService","programAssignmentsService","urlService","previewedInvoiceService","unitsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,c){var d;g.get("restCache").removeAll(),d=c?s.success:d,d||(d=_.find(t,{result:a.RESULT}),d=d?d.respCode:s.failure);var e={id:{applicationId:w.application.applicationId,invoiceSeqNbr:b.invoiceSeqNbr},invoiceTransStatus:d,invoiceTransErrCd:a.RESULT,invoiceBatchId:null,invoicePaymentMethod:q(a.CARDTYPE)};return i.callToPostPaymentProcess(e).then(function(a){return v.dataIsLoading=!1,o.resetMySelectedPrograms(),a})}function q(a){var b=_.find(u,{type:a});return b?b.code:a}var r,s,t,u,v,w;return r=!1,s={success:"Success",incomplete:"Incomplete",failure:"Failure"},t=[{result:"0",respCode:s.success},{result:"102",respCode:s.incomplete},{result:"104",respCode:s.incomplete},{result:"106",respCode:s.incomplete},{result:"107",respCode:s.incomplete},{result:"109",respCode:s.incomplete},{result:"115",respCode:s.incomplete},{result:"151",respCode:s.incomplete},{result:"99",respCode:s.incomplete}],u=[{type:"0",code:"VS",description:"Visa"},{type:"1",code:"MC",description:"MasterCard"}],v=i.cachedData.vm,w=i.cachedData._data,v&&w?(v.dataIsLoading=!0,a.pageTitle=v.pageTitle,b.vm=v,v.postPaymentProcess=p,b.vm.errorCallback=function(){return g.get("restCache").removeAll(),j.getTokenStatus(b.secureToken)},n.getPreviewedInvoiceData().then(function(c){delete c.subTotal,delete c.total,b.secureToken=c.paypalSecureToken,b.secureTokenId=c.paypalSecureTokenId,b.invoiceSeqNbr=c.id.invoiceSeqNbr,a.invoiceSeqNbr=c.id.invoiceSeqNbr,v.data.amountToCharge.total=c.totalAmt,v.invoiceDataObj=c,(v.application.isMilitary||0===c.totalAmt)&&p({RESPMSG:"Approved",RESULT:"0",CARDTYPE:"VS"},!0),v.dataIsLoading=!1}),void b.$on("event:paypal-return",function(a,b){r||(r=!0)})):void e.go("main.programHome")}]).directive("customHandler",["paymentsService",function(a){return{require:"^aamcPayment",link:function(b,c,d,e){var f=a.cachedData._data,g=f?f.application:{};b.isFormValid=function(){return this.formValidator.validate("paymentform",!0)?(this.$parent.PaymentModule.verifyPayment(),!0):!1},c.click(function(){c[0].checked?(e.setCardAddress({addr1:g.contactAddress1,addr2:g.contactAddress2,city:g.contactCity,country:g.contactCountryCode,postal:g.contactPostalCode}),e.setCardAddress({state:g.contactStateCode})):e.setCardAddress({addr1:null,addr2:null,city:null,state:"",country:null,postal:""})})}}}]).directive("aamcPaymentInvoice",function(){return{restrict:"AE",replace:!0,templateUrl:"states/payment-info/payment-invoice_tpl.html",controller:["$scope","paymentsService","previewedInvoiceService","soapService",function(a,b,c,d){a.vm={},a.vm.previewedInvoiceData={},a.vm.data={amountToCharge:{}},c.getPreviewedInvoiceDataObj().then(function(c){a.vm.content=b.cachedData.vm?b.cachedData.vm.content:null,a.vm.previewedInvoiceData=c,a.vm.isPayingForTest={},a.vm.isPayingForTest.only=c.previewedInvoice&&0===c.previewedInvoice.erasAmtMdDo&&(c.previewedInvoice.usmleAmt>0||c.previewedInvoice.comlexAmt>0),a.vm.data.amountToCharge.total=c.previewedInvoice?c.previewedInvoice.totalAmt:0,a.soapApplicantConfirmation=!1,d.getSoapDto(c.previewedInvoice.id.applicationId).then(function(b){a.soapDto=b,a.soapApplicantConfirmation=a.soapDto&&a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible&&!a.soapDto.applicantFullyMatched})})}]}}).directive("submitButton",["urlService","paymentsService","previewedInvoiceService","applicationService","soapService","unitsService","$modal","$state","contentService",function(a,b,c,d,e,f,g,h,i){return{scope:!0,require:"^aamcPayment",restrict:"EA",template:'<button class="btn btn-primary btn-sm  btn-shadow" type="button" ng-click="initiatePayment()">Submit Payment</button>',link:function(a,j,k,l){a.initiatePayment=function(){var j=g({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/payment-info/payment-info-validate-modal.html"});a.showValidateProgramModal=function(b){a.programDet=b,j.$promise.then(j.show)};var k=g({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"states/programshome/fully-matched-modal.html"});i.getContent("SOAP_ALL_NO_LONGER_ELIGIBLE").then(function(b){b&&(a.SOAP_ALL_NO_LONGER_ELIGIBLE=b.displayText)}),a.showFullyMatchedModal=function(b){a.programDet=b,k.$promise.then(k.show)},a.hideValidateProgramModal=function(){j.$promise.then(j.hide)},a.gotoSave=function(){h.go("main.programHome")},a.hideFullyMatchedModal=function(){k.$promise.then(k.hide)},a.goToDashboard=function(){a.hideFullyMatchedModal(),h.go("main.newdashboard")},a.newInvoice=function(){a.programsApplyingTo=f.getMySelectedPrograms(),a.soapTracksIneligibleToApply&&a.soapTracksIneligibleToApply.length&&angular.forEach(a.programsApplyingTo,function(b){angular.forEach(a.soapTracksIneligibleToApply,function(a){b.selectedProgramTracks=_.filter(b.selectedProgramTracks,function(c){return b.unitId.toString()===a.unitId.toString()&&a.trackCode.toString()===c.trackCode.toString()?!1:!0})}),a.programsApplyingTo=_.filter(a.programsApplyingTo,function(a){return a.selectedProgramTracks.length?!0:!1})}),a.soapProgramsIneligibleToApply&&a.soapProgramsIneligibleToApply.length&&angular.forEach(a.programsApplyingTo,function(b){a.programsApplyingTo=_.filter(a.programsApplyingTo,function(a){return a.unitId===b.unitId?!1:!0})}),f.setMySelectedPrograms(a.programsApplyingTo),h.go("main.payment")},c.getPreviewedInvoiceData().then(function(c){var g=f.getMySelectedPrograms(),h=c;delete h.total,h.paymentStatus="Initiated",h.invoicePaymentMethod=b.findCardCode(l.card.cardType),e.getSoapDto(d.applicationId).then(function(c){a.soapDto=c,a.NRMP_UPDATE_TIME=a.soapDto.nrmpLastExchangeDt,i.contentCompiler(a.SOAP_ALL_NO_LONGER_ELIGIBLE,a).then(function(b){a.SOAP_ALL_NO_LONGER_ELIGIBLE=b}),c.soapOpen&&f.getMySelectedPrograms().length>0&&f.getSelectedReappiedPgmsTracks().length>0?f.validatePrograms(g).then(function(a){if(a.success)b.updatePreviewedInvoice(h).then(function(a){a&&l.submitPayment()});else if(c.applicantFullyMatched||c.applicantSoapIneligible)$scope.showFullyMatchedModal(a);else{if($scope.soapProgramsIneligibleToApply=a.notAllowedPrograms,$scope.soapTracksIneligibleToApply=a.notAllowedTracks,$scope.tempSelectedPrograms=programsApplyingTo,a.notAllowedPrograms&&a.notAllowedPrograms.length>0)return void $scope.showValidateProgramModal(a);if(a.notAllowedTracks&&a.notAllowedTracks.length>0)return void $scope.showValidateProgramModal(a)}}):b.updatePreviewedInvoice(h).then(function(a){a&&l.submitPayment()})})})}}}}]).directive("customPaymentReviewPrograms",function(){return{restrict:"E",replace:!0,templateUrl:"states/payment-info/custom-payment-review-programs.html",controller:["$scope","paymentsService","previewedInvoiceService","unitsService",function(a,b,c,d){c.getPreviewedInvoiceDataObj().then(function(b){a.vm=b,a.vm.invoiceItemPrograms=d.getMySelectedPrograms()})}]}}).directive("customPaymentReviewDisclaimer",function(){return{restrict:"E",replace:!0,template:'<div ng-bind-html="vm.content.paymentDisclaimerInReview"></div>',controller:["$scope","paymentsService",function(a,b){a.vm=b.cachedData.vm}]}}).directive("aamcSoapPaymentInvoiceHeader",function(){return{restrict:"E",replace:!0,scope:{programs:"="},templateUrl:"states/payment-info/soap-payment-invoice_tpl.html"}}),angular.module("myeras.customMessages",[]).controller("aamcCustomMessagesController",["$scope","contentService",function(a,b){a.name="aamcCustomMessages",a.init=function(){0!==a.resultCode?b.getContent("PAYMENT_ERR_MSG_PAYPAL_CODE_"+a.resultCode).then(function(c){c&&c.displayText?a.customPaymentMsg=c.displayText:b.getContent("PAYMENT_ERR_MSG_PAYPAL_CODE_DEFAULT").then(function(b){b&&b.displayText?a.customPaymentMsg=b.displayText:a.customPaymentMsg="Your card could not be processed. Please try again, try another card or try again later."}),99===a.resultCode&&a.vm.postPaymentProcess({RESULT:99})}):a.customPaymentMsg=a.application&&a.invoice&&a.application.isMilitary||a.application&&a.invoice&&0===a.invoice.amountToCharge.total?"":"Your payment was submitted successfully."},a.className=function(){var b;return b=0===parseInt(a.resultCode,10)?"text-success":"text-danger"},a.init()}]).directive("aamcCustomMessages",function(){return{restrict:"AE",replace:!0,scope:{resultCode:"=result",application:"=application",invoice:"=invoice"},templateUrl:"states/payment-info/payment-confirmation-msg_tpl.html",controller:"aamcCustomMessagesController"}}),angular.module("myeras.programDetails",[]).controller("aamcProgramDetailsController",["$scope","$state","refDataService","unitsService","applicationService",function(a,b,c,d,e){a.title="Program Details",a.invoice=[],a.billingCodes=[],a.programGroups=[];var f=function(){c.getProgramBillingCodes().then(function(c){var e=0;if(c){a.billingCodes=c;var f=d.getMySelectedPrograms();if(f&&!f.usmle&&!f.comlex){var g=_.filter(f,{applyInd:!0}),h=d.groupInvoicesByBillCode(g,a.configElements);a.mySelectedPrograms=d.getJulyDecCycle(h),(void 0===a.mySelectedPrograms||0===a.mySelectedPrograms.length)&&b.go("programHome"),angular.forEach(a.mySelectedPrograms,function(b){var c,f=!0;b.programGroup&&b.programGroup.length>0&&(c=d.prepareBillingGroup(a.billingCodes,b.unitBillingCode),f=d.isProgramEligible(b,a.progApplyConfigs),e=b.programGroup.length,b.isEligible=f),angular.forEach(b.programGroup,function(d){a.programGroups.push({billingGroup:c,programName:d.unit.unitName,currentlySelected:e,groupEligible:f,julyCycle:b.julyCycle,decCycle:b.decCycle})})})}}})};a.init=function(){e.getConfigElements().then(function(b){void 0!==b&&null!==b&&(a.configElements=b,a.progApplyConfigs=d.getProgApplyConfigs(a.configElements),f())})},a.init()}]).directive("aamcProgramDetails",function(){return{restrict:"AE",replace:!0,templateUrl:"states/payment-info/payment-details_tpl.html",controller:"aamcProgramDetailsController"}}),angular.module("aamc.component.payment",["angularPayments","aamc.component.security","aamc.component.login-standalone","ui.router"]).config(["$stateProvider","SSOSecurityProvider",function(a,b){a.state("paypalCheckoutResponse",{url:"/paypalCheckoutResponse",controller:["$rootScope","$location",function(a,b){var c=b.search();b.url(b.path()),a.$broadcast("event:paypal-hosted-return",c)}],resolve:{context:b.getAuthenticatedUser}})}]).controller("aamcComponentPaymentController",["$scope","$sce","$attrs","$window","referenceDataService","$rootScope","$log","applicationConfigService","$q","$timeout",function(a,b,c,d,e,f,g,h,i,j){var k=this;k.hosted=c.hosted,c.hosted&&(a.secureToken?d.location.href=h.getConfig().PAYPAL_URL+"?MODE="+h.getConfig().PAYPAL_MODE+"&TENDER=C&SECURETOKEN="+a.secureToken+"&SECURETOKENID="+a.secureTokenId:a.$watch("secureToken",function(b,c){c&&(d.location.href=h.getConfig().PAYPAL_URL+"?MODE="+h.getConfig().PAYPAL_MODE+"&TENDER=C&SECURETOKEN="+a.secureToken+"&SECURETOKENID="+a.secureTokenId)})),e.getAllStates().then(function(a){k.states=a}),e.getCountries().then(function(a){k.countries=a}),k.cardBlurred=!1,k.cvvBlurred=!1,k.paypalUrl=b.trustAsResourceUrl(h.getConfig().PAYPAL_URL),k.paypalMode=h.getConfig().PAYPAL_MODE,k.proceedTo="COLLECT",k.expiryMonths=e.getCreditCardMonths(),k.expiryYears=e.getCreditCardYears(),k.card={},k.setCardAddress=function(b){angular.extend(k.card,b),a.$apply()},k.verifyPayment=function(){k.proceedTo="REVIEW"},k.backToCollect=function(){k.proceedTo="COLLECT"},k.submitPayment=function(){if(!(k.card.creditCardNumber&&k.card.cardName&&k.card.cvv2&&k.card.addr1&&k.card.city&&k.card.country&&k.card.postal&&k.card.expirationMonth&&k.card.expirationYear&&a.secureToken&&a.secureTokenId))throw new Error("Missing card and billing information");k.proceedTo="SUBMIT"},k.getCardDetails=function(){return k.card},k.getPaymentDetails=function(){return k.paymentDetails},k.getCurrentState=function(){return k.proceedTo},k.checkTokenStatus=function(){var b=a.tokenstatuscheck?a.tokenstatuscheck():null;return a.tokenstatuscheck&&"function"==typeof b?i.when(b()).then(l):void 0};var l=function(a){switch(a=_.mapKeys(a,function(a,b){return b.toUpperCase()}),a.RESULT){case"160":k.checkTokenStatus();break;case"161":j(k.checkTokenStatus,1e3);break;case null:case void 0:case"99":k.proceedTo="ERROR";break;default:m(a)}},m=function(b){var c=a.confirmationcallback();k.paymentDetails=b,a.confirmationcallback&&"function"==typeof c?i.when(c(b)).then(n):n(),f.$broadcast("event:paypal-return",b),j(function(){a.$apply()})},n=function(){k.proceedTo="CONFIRMATION"},o=f.$on("frameEvent",function(a,b){b.hasOwnProperty("paypal")&&l(b)});a.$on("$destroy",o)}]).directive("aamcPayment",function(){var a={restrict:"AE",templateUrl:function(a,b){if(!b.securetoken||!b.securetokenid)throw new Error("cannot instatiate payment module without secureToken and secureTokenId");return b.templateurl||"/payment/src/tpl/payment.tpl.html"},controller:"aamcComponentPaymentController as PaymentModule",scope:{secureToken:"@securetoken",secureTokenId:"@securetokenid",amount:"@amount",confirmationcallback:"&",tokenstatuscheck:"&"}};return a}).directive("aamcPaymentForm",function(){var a={restrict:"AE",templateUrl:function(a,b){return b.templateurl||"/payment/src/tpl/payment-form.tpl.html"}};return a}).directive("aamcPaymentReview",function(){var a={restrict:"AE",templateUrl:function(a,b){return b.templateurl||"/payment/src/tpl/payment-review.tpl.html"}};return a}).directive("aamcPaymentError",function(){var a={restrict:"AE",templateUrl:function(a,b){return b.templateurl||"/payment/src/tpl/payment-error.tpl.html"}};return a}).directive("aamcPaymentSubmit",function(){var a={restrict:"AE",templateUrl:function(a,b){return b.templateurl||"/payment/src/tpl/payment-submit.tpl.html";
}};return a}).directive("aamcPaymentConfirmation",function(){var a={restrict:"AE",templateUrl:function(a,b){return b.templateurl||"/payment/src/tpl/payment-confirmation.tpl.html"}};return a}).directive("aamcPaymentSubmitPaypal",["$templateCache","$compile","$timeout","$interval","SSOSecurity","applicationConfigService","serverLogger",function(a,b,c,d,e,f,g){var h={restrict:"AE",require:"^aamcPayment",link:function(h,i,j,k){function l(){o++;var e,f,j=document.createElement("iframe"),k=a.get("/payment/src/tpl/paypal-submit.tpl.html"),l=b(k)(h),r="";try{i.append(j),e=j.contentWindow.document,e.open()}catch(s){g.log("ERROR","token = "+h.secureToken+" - couldn't append frame to document exception = "+JSON.stringify(s)),m(j)}c(function(){for(var a=0;a<l.length;a++)r+=l[a].outerHTML;try{e.write(r),e.close(),e.getElementById("paypalSubmitForm").submit()}catch(b){g.log("ERROR","token = "+h.secureToken+" - couldn't submit to paypal exception = "+JSON.stringify(b)),m(j)}f=d(function(a){try{(null===j.contentWindow||j.contentWindow.location.href.indexOf("?frameevent")>-1)&&d.cancel(f),a+1===Number(q)&&(g.log("ERROR","token = "+h.secureToken+" - max time reached proceed to error"),n())}catch(b){g.log("ERROR","token = "+h.secureToken+" - error when polling frame retry count = "+o+" exception = "+JSON.stringify(b)),d.cancel(f),o===p?(g.log("ERROR","token = "+h.secureToken+" - no retries left proceed to error"+o+" exception = "+JSON.stringify(b)),n()):m(j)}},1,q)},0)}function m(a){$(a).remove(),l()}function n(){var a=(new Date).getTime(),b=a-s;b>=r?k.checkTokenStatus():c(k.checkTokenStatus,r-b)}var o=0,p=5,q=f.getConfig().PAYPAL_TIMEOUT,r=f.getConfig().PAYPAL_MIN_WAIT||2e3,s=(new Date).getTime();g.log("INFO","token = "+h.secureToken+" - commencing paypal sumbmission"),e.getAuthenticatedUser().then(function(a){h.givenName=a.givenName,h.surname=a.surname,g.log("INFO","token = "+h.secureToken+" - user authenticated start frame"),l()})}};return h}]).directive("fieldBlur",["$parse",function(a){return function(b,c,d){var e=a(d.fieldBlur);c.bind("blur",function(a){b.$apply(function(){e(b,{$event:a})})})}}]).directive("fieldFocus",["$parse",function(a){return function(b,c,d){var e=a(d.fieldFocus);c.bind("focus",function(a){b.$apply(function(){e(b,{$event:a})})})}}]).directive("allowedCardTypes",function(){return{require:["ngModel","^aamcPayment"],link:function(a,b,c,d){var e=d[0],f=d[1],g=function(a){return f.card.cardType?(e.$setValidity("allowed",c.allowedCardTypes.indexOf(f.card.cardType)>-1),a):(e.$setValidity("allowed",!0),a)};e.$parsers.unshift(g),e.$formatters.push(g),a.$watch("PaymentModule.card.cardType",function(a,b){return a!==b?g(e.$viewValue):void 0})}}}).directive("futureMonth",function(){return{require:"ngModel",link:function(a,b,c,d){var e=(new Date).getFullYear(),f=(new Date).getMonth()+1,g=function(a){var b=Number(c.futureMonth)+2e3;return c.futureMonth?(d.$setValidity("future",b===e?a>=f:!0),a):(d.$setValidity("future",!0),a)};d.$parsers.unshift(g),d.$formatters.push(g),c.$observe("futureMonth",function(a){return g(d.$viewValue)})}}}).filter("creditCard",function(){return function(a){return a.replace(/\d{12}(\d{4})/,"xxxx xxxx xxxx $1")}}).filter("cardType",function(){return function(a){var b=a;switch(a){case"visa":b="VISA";break;case"mastercard":b="MasterCard"}return b}}).directive("focusablePopover",["$timeout",function(a){return{restrict:"EAC",link:function(b,c,d){var e=function(){b.$hide&&(b.$hide(),b.$apply())};c.on("click",function(a){a.stopPropagation()}),a(function(){angular.element("body").one("click",e),$(window).on("resize",function(a){angular.element("body").click()})},0),b.$on("$destroy",function(){angular.element("body").off("click",e)})}}}]),angular.module("templates-payment",["/payment/src/tpl/cvv-explanation.tpl.html","/payment/src/tpl/payment-confirmation.tpl.html","/payment/src/tpl/payment-error.tpl.html","/payment/src/tpl/payment-form.tpl.html","/payment/src/tpl/payment-review.tpl.html","/payment/src/tpl/payment-submit.tpl.html","/payment/src/tpl/payment.tpl.html","/payment/src/tpl/paypal-submit.tpl.html","/payment/src/tpl/paypal-process.html"]),angular.module("/payment/src/tpl/cvv-explanation.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/cvv-explanation.tpl.html",'<div class="popover box-shadow cvv-popover" focusable-popover >\n  <div class="arrow"></div>\n  <h3 class="popover-title" >CVV</h3>\n  <div class="popover-content" >\n  	<strong>Why is the CVV code required?</strong>\n<p>In order to prevent fraud, our merchant bank requires the CVV code from your credit card. This ensures that nobody can illegally use your credit card number without actually having the card in their possession. This is for your protection.</p>\n\n<strong>VISA/MASTERCARD</strong>\n<p>The three-digit CVV code is printed on the signature panel on the back of the card immediately after the card\'s account number, as show in this example:</p>\n\n<img src="data:image/gif;base64,R0lGODlhAwG1AMT/AP////8AAAAAAENCQ2RobqHD74Cv6cDY9n2CiODp8cHO2Y6Wnb3K1MbT3aCqsvD1+cvZ4rK9xA4PD//tmf/0uuLTov/y2sKogf/479nRy5lxYP/Ox/+vqP6Ujd20s97e3iwAAAAAAwG1AAAF/yAgjmRpnmiqrmzrvnAsz3Rts8+T7Hzv/8CgcEgsGo/IpHLJbDZzN0ACAmlYr9YqFlulZq/arXhMvioa5/F5nTYr3vC4HM6Yv+tyrH0f17f1Vml8bINoe4aDh3YMdXh9CTZTYV1aVGFflpmWX5xgXZ6gl39llGKjhn6IZoCBrKYNVW9lW15lsrOBa6i5uHZou4SJcZAzCbCVphGjlZqauM9YDLytY4x4DdK70grZgnnerXO5p6mIsue3W9/nu27CfObj73RxjgzEMA+bZBAICBGfRB0LxMCBl0mdwJCz4oABhD9wzEFY4GCBtAUIHETwpwBjxYwbFzTAGGFjSQQiSf+GjGdOl7xfLwn9SvfOlBxH6ILN28Pozh2ccR7EMFaLzD8FDlAyyAhhqYOGESpSRMCAZFKUCzpaRImGYoQFFsE2fFp1wVeLsqz+o5jVpD+p/wj8e4tybt25Hv2ZnDmOmrw+6bA9ixhOzzZ3MwlDjMgo17af3KzhsfYTKDd8Li4BSoNy40SMDikmMPs1Y9mGKJNKlZu0EYGPWDc+Bbtgoj+RCjZyW0BAbFsE/QhE9ddArgJ/VZXq5YjRotwGGYG1PPRPY8kIdSoyioqdwfWSsjR69Y69Y8OC579zR3rdAVIHv6KafQrha8WnFeNUtE8Rm2Sc0sSgmRrA9cMfLNrRZtb/a2xJ9ZV9ICFgiAO9gVQbAgQc15pHJTVgEoVYaScbVnVdlRRYJfqTYl4Z/dOSOrrI0dyMbKFI0WwYdRZfXrTNduJ9cIG1VEEK8oZbA0kp09lUUnkFx1liRTCdPQoI5cIDCY0BX339SclQWPOJNJZF2JVJZEF3UKRVh18h2dFaYp2hmkfWSZPkcWJW989SKf2zkXdcgSbbdGwkNkdUDson3o33IaqMLOg1ip+iiFJUlUZIIuqjWbIo+lRJDc7WCJEakRVZT5H9ZGUL+gw4y0G/wGoGJTHCJJOtt7iURnl14HpGY9LBZCsvufqlSE2+JJsTTSwBRo84vX6TTSOn/keZ/7WVUfYGZitg6ZcaETnrx06L+JSttvVYKxk96P43B4DPJmJZZfGuS65OPEFGLrbqjuouHesysioOzRRs8MEIJ6zwwgw37PDDDB8D8cQUV5yJxBAMvEICBHTs8ccghyzyyCSXbPLJKKes8sost+zyyzCb/MELHwhg880456zzzjz37PPPQAct9NBEF2300Ugn/XMENEug9NNQRy311FRXbfXOTLvwgdNXd+3112CHLbbNWbew9dhop6322mqXzcLZbMct99x0D+32CnDXrffefLfddN+ABy741HerkPfgiCeuOM+Fp3D44pBHHnjjKDwu+eWYx035CZZn7vnnX29uQv/noJduOtSil0D66ay3LnTqJKzu+uy04wz7CLLXrnvrt4uQ++7Ag947AL8Hb/zlwxd//PKKJ88189Bn7nz01CP/d/XYN3999txPvn334Os9ffjk0z1++eivfX767IudfPvwu9+0BPTXb//9+Oev//789+///wAMoAAHSMACGvCA/BveA/pFnu5sp0wQVE8Dr/NA9ViQghfMoAY3yMEOevCDEgShCEdIwhJ2kFsqaNUzwlAsGAmLWOj4izcANi9hWGZUAEsXtu5ViCkx8IdADKIQh/jDaqFKDhpLYS94yMQa2uNaRDyVEf8FRSJakVq/uqIWt8jFLVYLhSnw1oAWQyj/Qq2DGznsyWRucsQpFjFVbvTiv+gVMFR18Y54zCMD0XiPF2CpKON6SUzEQS5CzUtb/IJjqtQ4mTr2K46IzOGzdghJPVrykuoCIwq8FUi+mHE6ZmSivBgJxXet8VzqQuUbsejIKmLylbCsoiZPwMlwLMuWaYhWMG4IGWwo8l34SqO9zNVGyHhRiqbcYxd9AsRKWsOBQ3RmFE81SxPUclyCiI5kxIMdbDxKgrmREqCUAZaobOeZ3CjTeYz4KCyi8ZdsRCQO3ZXKfNmRktKkjKXc0x2NeIdM/qyKOYmUTvZ455+p6k4/SwXNKr5nmEfs45XIkIenSChMLVpOOV9j0Yxu/wRDyujNSD76GrlMBSwMGgmFcuQeYPJhnjuM4hNpqEwdAhFDcMlIbxghnBPN5T4YQkBu4JPRuYQkL+fpjXluk6PhmAWn0qxmCfSBGHnIhUGOWspIwJIArEAANUshUVe9hBWMdDU/tFkLdPqRJKwY4olAaaS/tJitZL7Rpje9ykVJwoge8eY+HsHIUNn6U5TWJQKv2U5v6JSailwVRe6h53+kSoJrigNJ82kRR9F61Ip8VS+qCYlwkBKbEm2lQogV7X5A0pIaqpKUfIwoHNFl1znGs5lzYU2LLOId1vy1RjnKDUWEI9TdRmi426FRc2aTGoy8Jqp+pOgt6lAFZZTknP/cwEZD+HidoXLDn+/xEFIElU6NsIc73vHQdt8BU9jWw1zMjOsi5mrDIEJFPO7RTnZANR9zioURqilIQfzLFvv0tTql8dN1lFLOR/KRsiO4ZjnEUBRKAPILf4iFILriIhca6guuvck760pi+sr1ncokZRGDGFsH88uVdVRAAGZM4xrb+MY1DiKERZCDHifAAAUIcgIeQIEHWOADRc5BAoLsYw84OQMZ6PEBlpyxHUAZyh/YwQcqkIAPWKDHHsjAB7Ks5QwkwMxTKAAECmAACFgZCGoWcpef7AEyf6AAVC7zlXnwATOPWcseSECd+TxmMhfAChFQc5fJ3IMP1KEA9/j/gJPDHOgsP4QRXe7yldHc5zGLOcsZqHOdC23mTzsaDRHAsapXHQBHN0UBme4zlHcMACg8wAAHYDOeAWABCvB6AhYQwZLZLJRgc4ADHdgABkRwAAMA2UodQDYHgo0BC1hgAhOgwLIBsIFjb5vXFMC2rwHQ7GYXYATZLsGPay2UZXfg3cGuNZufDQAMIDvZy7Z2uCkwbgtsoAMW+Havsb1tIJtbBNc2QbOl8IBl/zva8QZAkHEtgmNHW9n1vna24+3vDlR7BNcOd8EnPmMAhNsEBhjyAUZwbw4AYMY/FrIIug1xWlvp1s4+gJV6jQEKBPsBE5+yCCaAAXtjvNa4HjLC/y++AYQDG9v13sDDOfBtYBdd3s2muAj4DewRZH3l9Z4Ar6ftdQOQ20r/7na8sa1xXltA2k1Hd9GXfYCsA7nWCdg3CbJODJ8/INlxlzieFTCCd6t96FwP9gYs8O4OeGAEFKhAz+mea2cnYMYaH7cIdC13DCQ72DM2ANDBDoDGcwAKV4r7sInRc3ELG9cFADsGoB5wKfz47gifNgfizm+9A4Dsx+a463nsbK23PtvLBrrBWQ91Zedg3qTvdrcRzvV084YAF9i9CCJwgX07QAQGGID4mcYxAmgg3QCoiLM79g8KXKBjj/dHxwxQHARkgAMXGAABGMDrCpi/AsHmABqAAf//1jELQGQaMAASAn4GkBFCMWPYVgEXIALB4QArtxEaUAHcFm+hR3q/J33s5kfad3YgJ3YjsGTNhg/Zhn6xp3zE4G/IVnVsV3j1RnbVJm6K13S5RnoJV3vkBmQph27X9nMF8ADmtnP/RnVbJ27jJoAJcGwigAELMADApgEE8HgJ4AAFgBENVwET4AAaKAIEMABARgBXRgEIcAFKNh9y4R0fQAAdoAEO8AES4n4ZSAA6oH8PgGwf8AAecAETUAEUQIeP12wdIwKYRwF6CAANiCEzwwAX8H4ZwGyXFwBBuHTJxmM2F4Ml4Hu1doQg53tAh3Qrp2zIJnUM92ua123B53T/vud5y3ZuRRdu6CcFdadzUbiC2kaCTOZ2hrcBOhB2/DYCHqABI2hyVth9U6ABOrhy9keLFbAAzDaGDvAAJWFyE6ABkyhxQlEAGdFVHKABFyCHAAABBIAB44gBcvEBcciMIyCBBAcADaABwVYAvVFtEJgAJWGBbJYAVQFu7ieNozhjK1d0pzhtQhGMV3Jsgcd1fjdkQVZ3UTiE34aCQud5UpeJ5HZuvBaF/0aA8dZz/LZt9uZt9aZt+7ZtCbCDLyhyPniLuMh4NNd0twYJveaRHCCAETAzvZaBCNBuGgBwCEcASJZtXJhrxFVraXgBFnABpbIAt2gWG6ABCciUFmGP/wvQlA/gDwM4lRwngbVHh0H5ZQjgAQCIeTxGALimcwpAj8BWARqAAFIQeyVXersHcRK3cjaHik63cVIAe7vGc+EWcbmWiklokljHkTXIkKGIfLl3iggXbMNohEsGZJDgc7QYcXJWb9EmbfE2catib/B2ZmYYeeeoEW9HlfF2AXI5jF+llvaYfhfQcxIol2NoAEnhjMbIAfqHAEM2hh3jjxAQlAPgcgURdhdQNvinml0VjRhQcs8nF+dmAeIobh8gFnhWAKy2nTcWYSQwe71HbpW3awBAdOWpeZXXbrxmeCqpa2BncbuXb7Pnl1HXAR25hOhXbv1ocr42mGWnmKVneP/xFnPkCZ/KVnRwyW9WCJzT5pv1Jo7DKHgYYY8do4BsVypqORozgwDvxgF4mAEIwGYOgJs7aX7h+HgYgAD7JhJLR4BU8QDmp38zdmt1ZwB4OHsE0HbCpoCIyJ0+GgARtnNct23QZyWzV227WKN1V2y+JnXxNnorGYUXp4TgGXJuB3eQR3SfmXXkOYwRupJJF3Zjt3gjkJ2sl2wmSXDY53BTaYwAcJwTgAAAyGxZRwDsBpcMkG4QQIavoY8OQAELkH0bYH/p95NFmAFZOQDGSI7Z2H1xOjNTJwUIMHsfwJowV3wF4AAZgAEVgAAJh3dsRgArN2OeB4XMFmRFmEQkUJf/7IaZG3d1w2ak1Zd8uEZvYRdwyRdzojcCizeC+uZ63UaAGomNJviXOcd6tDhuNGqrzZerljcCRqeRGFCM+TeJwTqOG3CdvRGJi7UABjBcdgpu40gBWXibNnopE3ABC9B0b5gUA/AAY7YAzNgB+4cSnJqA2iiAVPluF/ABiOWfCBB6QFaEG1Gp2DdmjOitNtqj3BZ4ucaRCokCrJoD4pZub7d5q5Jw31Z3LZiLn1p3YEp6wuqD2JZt46aEpjpwPud2G1mEkDd3XheRVpJ4dFqZrPdwJJuN5Fh6ItABE5gB4wih+qqFjTiJR4oBWWMkdXedchpuEwh0xdEb8IoRhoeo/3KarlRpEVtJtRbAAFQJiMN4AQJ7biCKAPT4fm9hj+L3fc8ZAMqanbgXsScwsdXXb8OKnxH3YyAbhckqb5tXkNXWmRgABZnHcrsXeCtonrDIjVmqeT+Ya31XskQIfoB7kIOLn9AKeLyni7k3lyVYi+JZmPhpnrEncZdYqnwZdlAXhVRHduVZsic7Yx0LbsWKdLF6kjM2bqW7n7xWTXRLnxjpcVu3bz6IgmbHt772pCknkdwGcCa5ZFsXcb2qhPzpmM3rco25sqe6cLnYcwMqehKJkUlIeeAGrbpHpcTLq5lYbJlHmGzGg0SnvbgGdDaJptHmt/y5bW8HmSdpslI6o//tVrjCNnH4wG+sGoSlG3yqOgIT679jd4rbZrLmCbkyV3Qlu22jh3sZyb96WwKHV4L8Fm9pJ7yIl270q2uQYMG1aIScF7iCy2xBSJL/VgK9FqHN+5FDt4I/N2Xvy7fDZ4vPGrjHRr24F5IzTAImO24Y+aPbeaoGV3HJtsAMy2PaK6z3aXJWunmwJxQj6YncO3Od6bp6u6szx5hLKHK5928h6XPoR6BB2MXmuXnnhnZhfIKxd7yLeYwOyat3yXHp+7hBdquZWaY9xplDTL13jA+i6bo1XIsZycSshnRKZsjHJsUvB6Q8VmyLHHgaV3v6eYkmWIsPC7i/x4lz2cOGrJH/wPbHb0fCrmhtjDiexBDKT0rA9VZt/HvKpVvKFzeLKsvHLld1mJmYlsmf2IjBqLxs93Z08+ayvKx9v2q9and1iDeMKwl9w4uNMWt8v/dul5sCE8ttVJd2JXhtKll8zBeeusx8NYjM54YPaYeK8+mfUpeEETeYxVp8QnerNyl4BldsYhefPMZksjelywaewwiSHXrPoqjPfYeSO4zCQ2eQR/djRmikBv26bUeAD8fJNPuDT4x43gvEsVeQYvd2NKkC4Qx8cRdyjhl3t8i3Islj5ubMNdyRKmer4nx4Eryybxe4a+eQRdd0q8e3WUyguPhruKoDOOfMHziCibuy2teK/7PXydx2qs6Mmdqrq7LnkoO7A6jMmSBYveg31UrYe69KkxEJeb1HhAPb1dpG1L6LybW2wdQW1YUXdzs3g2Va0j48kp6ba0bKkC4H0I7svJI5cLW4vmwdx38JuX+tu93ozEbnusSqeQA3fVgsuRWHvfiQxQOMgq7YdUCXA1q300KZw8XqeTBYdIodx5m4A39NAiVNxuDZdYKt0nT9dzD7a3z9gamNpCE80A+bpZN3qiQok9IWi5cpvRkZd7CreUMMciG31RNHAiFsnrcmb0KhdozJvF1Xg+Orug7cyoF3gzbMsXh8pOi33aP41BcnnvwZknephLBbrDQXca1nw5Upsv9Pp7tJLbG7PYLQ23vbxoqMrMO22N/tNsjCVnkFyXhDTKQA+sAnaGQ/fJjoxtkrWW5w7djjScdm/GMpfOD2OdDEynFDjLi+x8NrSX3hDcO96HnRppEWfcUznHwHoHHFKuEjSIttHHNJPXARp3yWPLFkarsmB3Iel+QiGcf66bKuuoukWGuUjJg7uCqHuW2Fqb3Na2/xJtRavIPgprJcbnZKh5H8m8EkwIqBR3Ex7rzY69u1p7flVua/vXC4eMgaCXSBzHKGh+KAzZkyGdnLprfEhsV9C348oNsRppnNNtjx3bjBhuj0dpPxKG+419n45sQuW5J4qekia3HnbbKVfsf/WmeemW6zmcueczmwj9npG5ly+jvd5byysYfN5WnB6JnoUBzqyvfnBnrmBVnGd7txJlijl568onx3cx2knziw3W3XuajOt5dye81znxiRLyjeGJxysn3DI+jnpQvm9nzGUI7Ocqft1xx7Nil20pd8TKaYaUe9SF2DjDesaE2rOSd7Jz1uYOru5WvGgge9lEzCBFpxNCete4x0zrbLXgrwHo56Ag7tkV7QX67UnriRPDikMHzn2ex8RgjrZazGfR2lH9jNwebSMS54HPnk6d6LwnjVxkrGqP29o1dxAaeRU06YxXySngiElA3vNIlztl3fJ5hyHDl95LzZ1gvSLfnD/0AIds+uibHQaKVmZhCwZZ7GaDsAa252Zl5vDApABVoGARlQAWTWBdnFA09mZ2hwD26f9VZWAVcW9jvQFDyQ9pnGAwxwaHif9lz29Y/mEG7vZGvfAIrm9mM2aFsGZRUw+Dyw+GfGZX82BQZQ9oGv9n6vALoW9qEWZoy2Zj0QZmcWaF0W+Wk/9njGA2rfZzwAAZmP91VfaxLjCp9lEZ9ACwWBMbVwUCJRHwZhCAgBBvSBJCPFQsIFC3DwVQ4xJHdgBT2hDbFiK7HgIdLAQsxvFrihDLCQGFqwYapQBQ7RJqjAR2jwVbWBJFtCEQ/xXXz0Bu8PKbDgHe5hDrL1VZElV//UAgKMyDSKMiaAurJBsD4NBDU1XduOs+iNI0cYuoUwslgEjwrIghBB8IQ9HyKyizx3CAckQtASjSTvVrGoJhEIM/EsOjKeyKPRwYDzIAzCmle7L5gZdX0ZJQ3tCC3U2GHt2J21Qf5EKDRGYmEdQTGc6Hw1BDUaBe54Gupkisad/YiYwMbKyqaw2LrA4ODM6EI48NUt0DiQSlYdOVRRKSAwbCE3OFcmH/GQ6jU/n0F1VUEhVV1BqbV6EpxlOZGPN0XUHKPr/RoKOzu3Euz98nwthSfr+BbpixMfXna04pHMyLdo3txZ+YJkXz+GVfIp3IbvB6xXsEp0lMWglq0VuFT/xJChUlcOZF4iDKMjUcedgGOONeDBA0E0a+SIWcnT4FhQOqF46rwCkJ2po9+yLGpF7glPJo+QMEEgcZC0n8KaZSSwJCkRgJug7IiWBS0RbXWMlHh4YgtarUfEPjlIrprWhVuCnBhhopPIWCNLtniBkiXjGoGp3AgsIpqJEkLW/Hk14lWJIFgEf/4TZHOlE5VOV+qUScHn0qw9LwSM5XUcd55q/yEWJ06Nz7pV766tIJpuz1JEeR7swJLxTEVEpBbFcZp0K8trE6OZSgir7J02EyY8azBJxCcBPLjBUj1LO+sbd0HiGEfl4Y0d28dPvzKEj7FA5jeeLtQMV1kJIAE4/99/B+pX33CEIUiZfYaF1FF4lnl0QkiaDfbdYP+Jd6CBlU2mIXjfiReYSOWVdF5KNjDG3krvwcdYgQ7iuB+C480yH34VfhQhgIVpiGN+Q86S4o5JcoiihxmGd6KU4XXI5JRRXrlZkR92eBhiKrjIy31i3gdjmSIO15+RC94YYI5oyoKkf1VWmCKP/62ZIZ1BivSkR+Bt2KWTWV4pGaB9annineR9CaZi6KnHXoC9mHmmLjwmuKCQ9S3ZZ5IUVvnnloguCiSppQoqWKqEqsoqoSpqFquUhup5Aou3PJreDDTwcuSYll76o5w9Nkhsp6jKaueGKH5Y63h2Olvqq4a5Wv+ttdfOutmtieVCpo3wyQhsnKiySS6Rnh66rKp7Qltfu8MqG6pg8w6Krb33Tuvll2F6C2644mpa5p3F6kgCDQOnOCWfo0rGJajt3hmviafSim3F+Fr8p77m5Srmvw6h5UACXcB0w64zLGEDVlaoFwSvcO7C8h2ShrITR8MZQlyB+3XCoAnaCXhCCUj4FyKc/uEHIZSspcIlxk/by+6G25rU8cfz5UUNdiWL0UMqbpBsBM5F0JScbtRgA9QrENDVCHZ+PEE2ULAxzQATEjHHtBXuLLdDf9axBl12nwkeh25bxLXIbJYgsUprZ68CtZ+zWnixs9BS7WguwL7jyzMEdiP/ijfo5ONLK0CQbh0p46CtD1qA8aSGUsTAvclLSa3TjOectHPOOfxk409ClpCTD1jEqDHOQdGck0wzPjwCBVX7KJ+85ax2aWG9WTbMsGGZA8Av5zzRpNMW8V0mkT1VmP6L3cT8/rka52ijhzpyxOXMDzoldZRe32yBDwupgfmS8YVsOMMuzpCBNrawENeZJXlsy8tYoscFhLhhH8kYyi9+oYZ7XW9V3EvVuTbWolxxrjdqCZwV7NYFO5StZu7BzoNQ0TceWGIStnkE27jgAySQABCOcEcR5jAJRbTwZ0O0Bgy5Y0QGQoF42/mL9JDxAxgGgnE1McEQF0IHGC4EINcb/yGHBFUka23JWeBzUQp54cZd7YJX7PEYHO0jRxmYrD8q4U98JgQTIdFnF3tEmYI4VamdpWw5wyGCHmnkIwX9yF3KIgGJhHYjyY3xWVjCHqMaFSbOkWAlJzukr2LEEgNxZkhyakybpGUuciUoac/CE49ipSIKJWqTkuOkvLJVKxPianNwvE8g6PgEGpzvjQaTYzfYZyZfUIILN6gEHqt5MF7wrWQjsg9czvXKSMZpWItKmMbIib1conN7rjpjshSWojV2DFhskx4MfZGPg9ShJn9pXNs6EQVrtCJ0f/lCTWryQGucIxNogMNbeGKlT5VKnLBElpZwCbUx0otWZ8Soov9s1ajwodBSM4CHQuKDEEjQhTns8Aav5mG8LHQjIHGDAkEA0Yf77YQveFCHRMc1S0Oi6lg/LWeUsjcxy+3pYk6rqMSoRdR5wZMF/YrRMbTwvulFIhuN+4IOuFAG5/ktG1zIS05mmhFfFEMd+pSDJmiaDO+B85uvXNPDOtrLiorQl1ETz7q0505gcgslbyxTNTw3g+oUxRDWYWIzEcIy58Fkb5YAxCOsYJCAwCM74XCE7bKTqbmCdmBD4mteAUUlvxa1YYpaZ2lZ61FPPgoAw6zmjHbFjD/eEY95nJENdsugSDGoBDQLJJfQRNzRhhaihURaLD8LUUNpD1F4hS6sokv/paVRa2LqXBdgqybVk7kxjgyymzWvNqbcpnA/rWRuLNfr0/e6N0hCjShFN3pd1J42umlUqlHVeUtdQvWj55EteMPL29rOtrc1smalgqUf9SLrRs1dE5KOtk0DDUtYcfUUqBwGJIjlskggORS99OQh6DI1YSaI6goKnODzesu8LxZkekfU0x7RMrmtbK98IxmscTZVWh1VVk/5Gi+NmfGondxXbKea3gWb8o1OPpONc+QrTFXYTQJSZSBX+S0J22hOOhahT+dFXafWV1osVgGMaSvS9czRvPfB8I3Lxd6g8ZhY7M3wpQIGYVd+uK6JsuiqPMwk6UqMMGvWlXhlNNsp/8dRRqUUr6Um3eUri/lNkx4YUHFs6VP+1HvmCvKoSd1XE99pzQTWrZxBHSE699lB6t3UXIscLdH2tFieNlKXj1VnIB9ayNat5S8vRwsBN3mUrv5zn3X0Z0sDusOfMvWJ8xtr9zr71bpm5ZinHeE6ZVfYoa4cLFSt7Cef8pHz5XZoITRXUmcakF9+JK77DG8i/brb7753uZH9XTf3IjLNRiR8ablcfZPr1rXUUHNfjW0sY3rcCBe1N8814op3b0X+bvG52b1hCy8saGNWuJV6NuYNZ7pcIvLZyPdt8oJHO9zsMrK5+2WyWRsrnPQOLnEfNnGZ1xrmEJ4zz5/Nb7kmVf/HRz41sc09I0x//OA9fnCYdZzvmZM7nIsCtbE0XPXQ/trIgc7vcymW8JorOO0ED1iOJzUhdgd9Qj/X+tblvuVvwR3sPz8yh8H9yu5qjuPAJRPSPn13LgtM2n9PNLM2uuudqZvrbLexg5Gb3KaW0VSa7KupUvusmsNxtp9medFjDTAkHV1eFBX7eokOycRzTuIRI6GQlwYthT+J4u/cuApcTEh0U7nS+/72oQBUbJPbiZUpHL3Ux7nfhTfe+IWpl35LfN+IAR6k352xtpkPSWgHl64XvrHEwk7y0is/8pfW9ePh5bTHY9+0jafudOP7WiZvv7eOVv/V3i6wZ8sXzCn/HWlBXOn1n/o1m0QB4Mll3e2JipFVW7wYHei9h7f4WY0Znv05S6ZcnaB5mI9c4PKNXsyJ37tVF2nVnyZVDryBnouREvD5GNGVXQmCnKzZR5DBGwzq3JdVnDg137hI3+aloAoC3Y9k34AxE6Ut25PtYLotHLGpGMWN24ltHfD52ZFgHxROn6FJYbNgl/OZCFOBSgtyX88ZV+VpWem13VJ1my1p4RoikvrJHTh9HfSl3iyRHOcp3uVYn8bB1vYVmOvx3Pi5ncF1IJ3cYRdy4dRp2RxW2cKgHKARGQmSINktnR722x8KHnrd3MfBkvDZ3xs+4ShGIcS1SSRqyqaxXMKR/5zmBdv73dJQhZANKgAZmheGpdwVBp/kjVyiAZv4LWATCh8v9uLlDR+xuaItilL/uUmvVdouIkiItKG5dEqYJSAT/p963WEixh1Eed4skKH+/cuWBaAuVp3kteKoBVUTtt74edl80EyPwWI3Kt6upSMmfuCP2KLvqQck1uCVyeDsZZzIuWKGWN7kPVg5dh0CluB/BRkqLmJEOoipSeSK8R6BuSB4+cxGcgqWXWMkYkg9qqOeeeS2raL9cd21IWNFgp0Pbh5JvtI+auRKTJ0zGhL6cVkW6uQowiGm2J0cDh1QqpLIlWIDzmAoCmRE8ptM5lEdQZ68zSFOqqRPotkKUv9hPT4kFtIZrOEcwNBXVSJiLIpkUpKlXDGlC2abuomZ663jQ90a2dWdOTojILkjDyacU83f3PEkPRbIWc4kDOJd3rVjRB2kApYkYFbeXKpkDLZl0p3iP8LhIfJIOP7lNXofBjZkuyHlIj4jYiZeZoJWK17lt8mV1J3lnO2YvKnmZ36ih2UeMircMPrjR4JiT9pdUTpfOmLch0EMOF4kP3aiGXodAlJZyMVlrmVXuixkr10YQKKbbQognqkWPk7jRDElpaBmTXJbcULkfLnid+IZccaguBTnZiIcN4ZaVuJJCVznr7gnwMVeI1YZyimgGc6JTTKkZ6bfKkHnz0mmIqb/4nXyI6v5HnzGyMeEYGf+wWV6JlcqKGr+J0vq2xCCod3dH8cAorIBZyDa3NXI2WDmZ7pBWXkmpmJi51PylsABIHKaIGniiG4WnKqNjEYaGHAq2Ci9DGI6aLbtaIPq548u4MW9KBeiIGd8iJAqyd49wEXqyjAxk43eKIGWoSOlZY/CYD+a6HNyTnBeGjnqJaftZtZ95XB8lPZlaMehZaSlaYPlKIT6CpaKJ4QCqZam3cAJi3Hi6cm55C+SJH2Aj5nCwIZKqZNuaEYa2JwuiSkdmLZh45aGSz9aaK15Zy6Oqb4lJASUKaAGqo0WaoEGIoEaqCABF6Iu34Me2L8cqlZu/+bKKaSVIZ0r8Zm8LWmZDtimcmin4mqhnsngkaoSRpl+NiWXnqQnRiaYZZjOiRZoJcis0mps2UICzGiuSuu0qimNfuqN5tajDZ6wItijOhqO4ih3ehkjTp55EiY16sgHMGuzZmq7uit6zOoDLKm80mu92uu94mu+6uu+8mu/+uu/AmzACuy+Qmu+QmsCyGvBHuzCLqy8vmvgPWzESuzEUmzFWuzFYmzGaizG1urGeuzHgmzIiuzIkiz+lezJomzKquzKhmzHsuzLwmzMyuzJuuzM2uzN4mzOXqTO8mzP+izM1uzPCu3QEu3FBm3RIm3SKu0JLW3TOq3THu3TSu3Uzv9s1FLt1WItzTpr1nJt146s1c7sAkiABCyALQjA2QqABDiACggAAiBGBAhABADAB6wtC2TAAJztAGTAuyKAAMCAAJStCgzAAHwU3EbAA+DtAPStu9ItACxuxKbtrCpuxD5uzIJtzH6AAPCBAOztCmguFuDtBwBABIhuSTzA4QKABLjtCnyABAyADgyABPCt367A4KIE4H7U6Z5u22bAB8htu6ru3P7uw6YtAQju6s5u1W4tz6rrAghA6bIt8kqA8Q5A2TqABGiu3t5tBhBA2gYuABCABMxqBizAA2QA9qotADRB7H5A97ou7aqA84qu/J6vAAzAkq6v2upt4pIv4YL/r/cCQP2mr/segf8iAPYSwJKeQ+Kua9s+LwBMbvUGsN42QfcOQARgb9n2rfvurdhqrgrwgeu27PLyrPMaLwu0be0Sbgq7bgTgLRbErfNesAqXBAFcsAj3reLC7RdgLws8AO7abgvbbg5XQdx2LwF8wOI67y88rw1jMOHK8BP4rfPywPRCMOBSMQq7MPW6bQob7gY7r/7K7gZfr9627fWWLd6ewwgX7Qc47/ACQAoL7goXsdwaruHGMfJCsP/aQjLgsAAs6eNW7hynLhJoLgLgreMC8ujGLR4vru0+QOn6sf+m8CP7b/fucfRqMdx+wOR6cdw+biX7rSA7sBqIsO0y/5kLqPIqs3Irr/LQJrEme670Gm/b4rEDNHLc5jELhO+sLsAAdHL1DjHtkrItUPHz7nDyKLIK3LEuWzJ6iO7g/jIlu+0z/28m77Lnyu0A2HAXu+0X064oK3IglzI5YDPHuHI6q/PQwi0U6LLnOoELPzALX/AL47Hmdu7ctrDYrvDr/rEKZIDmXi/83q4Ip+4F88EyMzIMy60SCwATZ64/UzIBZIBDVzH1UrMWM3LwCjEoh3M1j7JAu25AO8HrnrPXvmv4Bi8Ko61J7zIG228ubzPursDd5i05T6/4Vq7YTi9BCy5NC/DaPm4zNzTtErAi5/SS4u0ZEDMCK3VGa/NPuzqtB3evFGvy4iJy4s4v9urtSaP0yJq08+bzV5N1WT9s9+atWav1Wmeq7441W8N1XMv1XNN1Xds1AIQAADs="/>\n  </div>\n</div>\n\n')}]),angular.module("/payment/src/tpl/payment-confirmation.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment-confirmation.tpl.html",'<h4 ng-if="PaymentModule.paymentDetails.RESULT === \'0\'" class="text-success">Thank you for your payment!</h4>\n<h4 ng-if="PaymentModule.paymentDetails.RESULT !== \'0\'" class="text-danger">Unable to process payment</h4>\n\n\n\n<div >\n	<span class="text-muted text-small">Payment Status</span>\n	<p ><strong>{{PaymentModule.paymentDetails.RESPMSG}}</strong></p>\n</div>\n\n\n<div ng-if="PaymentModule.paymentDetails.RESULT===\'0\'">\n	<span class="text-muted text-small">PNREF</span>\n	<p ><strong>{{PaymentModule.paymentDetails.PNREF}}</strong></p>\n</div>\n\n')}]),angular.module("/payment/src/tpl/payment-error.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment-error.tpl.html","<h1>Unexpected Issue</h1>\n\n<p>Please contact blah blah - service should include their own template here</p>")}]),angular.module("/payment/src/tpl/payment-form.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment-form.tpl.html",'<div ng-if="!PaymentModule.hosted">\n	<form class="form-horizontal" role="form" novalidate name="paymentform" ng-submit="paymentform.$valid && PaymentModule.verifyPayment()">\n		<div>\n			<h4>Credit Card Information</h4>\n			<hr/>\n			<div class="row clearfix">\n				<div class="col-md-3 col-md-offset-3 ">\n					<img class="pull-left" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAgCAYAAAC4oZ4KAAAIOElEQVRoge2YfVBU1xnGf5ddDOyyrAtIFPlWWeRDQU0TFURtEm2JNmmsnTZW7Yy240zTsWps4jSpqek0nXFa27HNtGlS7Rg7tY0zqDFRO1GwBo0oOAqCnysEhJWPxQVWYO85/ePSKxdlWVMb05Zn5s7ec857znne577ve+5eGMYwhjGMYfzfQBnY0dTYJD9rEkIIxsSNuYNLf3wueTXfaJYPCm63e1BBPk+8zP0bIaaQf/upfFqYzeZBxwbj1Vt6ku5de1Ara1CragAwZTgxZToZMW8OI+bPNdjL5jJk3V5kew3cvKB1Rqah2J0oCQtQYqYNycsQbq2trdLhcAzt3X8AbW1tREVF3TX8B/JS6+rpXPMK/tKygGuaMpxYf/kTTPEK4txmaDkVmET0VEKy1qHYnYPy+q8TzF9ZjfdrK5A3vUGvbXvdTkhkR3DG5ghCZr6pizaQ14PLwU8Bta7+nsUiHLreaketC/LM8Hcgjq3U0vYuMCSo7KzDf3Yt9N7U+5TY6Ziy1+rt5W/8A9cN7WltXJTDxr9VaP0F41leMB5PZw9b3q/iSFWjPid5VATbVuXp7dXbP6biWqu+xuyM0UH50rnmlXsSyzwJTAlacKifSP1+SPg7EOc2Y5r55p1r9m8o1gTMs95GXNlFy4mfMRI30l1KSMpilIgEKlytbC++DEBBxsN4OnsormoC4OlpibhudJDzwz20d/UaNvEk9ej324ov8av3z+vtI1WNQQnmr6wesmYNhGgF6bsdWYpFEjo5SNFaTiGby8A0ztB916MpJHUxPz2aTHbjJpYmnkZ6KlEiEthWfEm3Wf2lDD1KAHKSo9iyv0oXa1nBOJYXjKfC1Yqn67ZgW/ZXGfbqH4mB0L1rD0qkDVOmE7WyBlOmE9nu1U/HO3yI5w5xlPC+m+ip2m+gQyB6KrJuLySvNnQbU1JIhCoAWDg1ni++tgiAZa3nYMyTumBJMVYWToln25HbAk5KGMmW926L4ensITHawixnLABCFRw538iZa236GteaOymuakKoAikGrzFSSNTKak4uWcaTG1Zy4rU3ePRHq/BXVtO9aw8AvQcOEzpvDgC3vv4sYR+V0nPgMKHTp3HrD+9oAtfHMWLlEr2gi/IfgyUOefkdsDtRLHEAnLmZRu7M51APFSITjbwMggkpUIUmWH6foyvKFzFr4lFKmi/q0fP8/HRUIfRaZreEYgsz8715TopO1QFQVFZHUVkd35+fzubntCf6r1S0W0J5+avZrPj9cQBOu1pItg+eKkIK/MdPYVqoPcDYRV8GYN8NPyMXPktOWhwjX12Px+ujvKyGORnjaLPbcKxYgquhFZGXT+oXsvT1rhR9m6JzYeTOX0eyzYH9sWdwRGn+erw+UgDZ1QC+6wgpDFwMp6QQAiFU/VowZawm2ocT+VPJFd3ZJTOTEELlTK0WLZMTHQihku+M4cBLc8lPH6Wv+esPqtlecomr7pvsOfUJAN/KSyE7wa7bHKm8jhBGYgN5AZgynZpD6UkAPDXKzOyp4xhpC8fV0MpIWzjZfWl36VApAMlxUURN1OrQ7h0Hkc1lJClnWJZvo2BSLMlxUSihNmSvlyOnLhPp3k35ycPQ1WDYe1DBVPX2le/UHC9pjKGk2g3Agtyx2B4yU361RZ+XnWDX5+RNiOGD9XPY8JUMffyqu4NNu8/q7a0HL/Doywf09plrbUMKVpk9hZy0OCouNFBRUw+AOTOd8pPVAPSWllFRU0/MYzmauAlxtNW7+fvWv+Dx+ugtPUnL8QqUmGkomWtRstbh8frweH3aJn2vEUrMNHIfmYNsr0HaJtzBy5iSQiKEqrcLc8aw/s8VhgkvLZyIEKqejgAJ0Ra2HqxhxzEXC3K1qNxbXq+PSynYe7qewVBS7UaItACCSZT0CVz447s01dQSZjXzcXwcey+3kZKeSMuJM5w127B/WIb73f2ETn8E9+5DuKZPw5HppGz7HnwtDaSX7mfLW0nkZGbiOrobLHEk2X14Om5RMKqSq+W9uC7PIcleweTRt4hw5CJEgBomhTAoGu8IIzHaQm1LFwB5aTHEO8IQQujpCJA1NpL3Kho4W9fO2bp2wwbZ8XaklLT7tPr34lPp5DljANj5US07S2upbenC09k9qGBSCLJmTUY8v4Hx/fp/0O9+Sv8JvwXCwZryV2gEQoHRMOEFmGH5ObghP6rPtrtv3ANLUwCKtb5r0J3+IjJQhKlSS6v+WF/o1AUrzBmjj2eOjWR9obPv3oYQo7GFmTl2oVkTMcFOdrydb05PZGdprW773bmp2MNDAYh3hBMfpRWdtgCCqVIgZ88E53iouTSonQE+6NzSz5dwiNwU/B8babLS45iBesuoh+FocrlcMiIiIuhF7yc6OjpITk6+61Gp86q5hLL4O8EvGg6WpSEo4WBOC/KFtQ9dKavojZqJ12818BpQ9CWqEA/kGlgr7sprQirqqy8E77UPun4n8F+8t2+PHePW4hv9NP4RowLXMCGE/uL6WWOoU1LnVfgEYnQs5o2bUa43BVxTRlhR166CvAhGXPkFIWpnYA4mK97UNfQ4ZkDffgFPSdn3HvYgMLC4Dhwz8MrNQt3xG0z7DmHad4iQi1cM9mJMLGrhE6jfeAZsVvxAd/bbWJqKeMhTSqjvqsG+NzwFX8zj3Ip+HGm2Qr+9BvIyJPb589XSGmG9V1/vC7xeL5kZGXctNMHwUi5cQfF2IqZmB7WfuUsT2W9JvSdehgi72d6OECohIaagNr1fEEKlwzv4B76geMU9rP12BE672xjafihewxjGMIYxjP9x/BMNEhIm3K84UQAAAABJRU5ErkJggjxzY3JpcHQ+CihmdW5jdGlvbihpLHMsbyxnLHIsYSxtKXtpWydHb29nbGVBbmFseXRpY3NPYmplY3QnXT1yO2lbcl09aVtyXXx8ZnVuY3Rpb24oKXsKKGlbcl0ucT1pW3JdLnF8fFtdKS5wdXNoKGFyZ3VtZW50cyl9LGlbcl0ubD0xKm5ldyBEYXRlKCk7YT1zLmNyZWF0ZUVsZW1lbnQobyksCm09cy5nZXRFbGVtZW50c0J5VGFnTmFtZShvKVswXTthLmFzeW5jPTE7YS5zcmM9ZzttLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsbSkKfSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCcvL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9hbmFseXRpY3MuanMnLCdnYScpOwpnYSgnY3JlYXRlJywgJ1VBLTQ4MTA2NS0xJywgJ2F1dG8nKTsKZ2EoJ3NlbmQnLCAncGFnZXZpZXcnKTsKPC9zY3JpcHQ+"/>\n					<p style="padding-top:5px;padding-left:5px;color:silver;">Accepted cards</p>\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="creditCardNumber" class="col-md-3">Credit Card Number <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="creditCardNumber" class="form-control" name="creditCardNumber" type="text" ng-model="PaymentModule.card.creditCardNumber" required payments-validate="card" payments-type-model="PaymentModule.card.cardType" payments-format="card" field-blur="cardBlurred = true" field-focus="cardBlurred=false" allowed-card-types="visa,mastercard" placeholder="**** **** **** ****"/>\n					<span class="text-danger" ng-show="cardBlurred && paymentform.creditCardNumber.$error.card">Invalid Credit Card Number</span>\n					<span class="text-danger" ng-show="cardBlurred && paymentform.creditCardNumber.$error.allowed">Only Visa or Mastercard is accepted</span>\n				</div>\n			</div>\n			<div class="form-group "  >\n				<label for="cvv2"  class="col-md-3">CVV<span class="danger required" >*</span></label>\n				<div class="col-md-2 "   >\n					<div class="input-group "  >\n						<span id="popover-container"></span>\n						<input id="cvv2" class="form-control" name="cvv2" ng-model="PaymentModule.card.cvv2" required payments-validate="cvc"  field-focus="cvvBlurred=false" field-blur="cvvBlurred=true" placeholder="***" maxlength="3">\n						<span id="popover-trigger" class="input-group-btn" bs-popover title="Why is the CVV required?" html="true" data-template="/payment/src/tpl/cvv-explanation.tpl.html" data-trigger="click" data-placement="bottom" data-container="span#popover-container" data-autoClose="true">\n							<button class="btn" type="button">\n								<span class="glyphicon glyphicon-question-sign"></span>\n							</button>						\n						</span>\n					</div>\n					<span class="text-danger" ng-show="cvvBlurred && paymentform.cvv2.$error.cvc">Invalid CVV</span>\n				</div>\n				\n			</div>\n			\n			<div class="form-group">\n				<label class="col-md-3" >Expiration  <span class="danger required">*</span></label>\n				<div class="col-md-2">\n					<label for="expirationMonth" class="sr-only" >Expiration Month <span class="danger required">*</span></label>\n					<select id="expirationMonth" class="form-control" name="expirationMonth" ng-model="PaymentModule.card.expirationMonth" ng-options="month.cardMonth as month.cardMonthDesc for month in PaymentModule.expiryMonths"  required future-month="{{PaymentModule.card.expirationYear}}">\n						<option value>--Month--</option>\n					</select>\n					<span class="text-danger" ng-show="paymentform.expirationMonth.$error.future">Invalid Month</span>\n				</div>\n				<div class="col-md-2">\n					<label for="expirationYear" class="sr-only" >Expiration Year <span class="danger required">*</span></label>\n					<select id="expirationYear" class="form-control" ng-options="year.value as year.desc for year in PaymentModule.expiryYears " ng-model="PaymentModule.card.expirationYear" required>\n						<option value>--Year--</option>\n					</select>\n					\n				</div>\n			</div>\n			<div class="form-group">\n				\n			</div>\n			\n			<div class="form-group">\n				<label for="cardName"  class="col-md-3">Name on Credit Card <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="cardName" class="form-control " name="cardName" type="text" ng-model="PaymentModule.card.cardName" required maxlength="100">\n				</div>\n				\n			</div>\n			\n			<h4>Credit Card Billing Address</h4>\n			<hr/>\n			<div class="form-group">\n				<label for="addr1"  class="col-md-3">Street Address <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="addr1" class="form-control " name="addr1" type="text" ng-model="PaymentModule.card.addr1" required maxlength="30">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="addr2" class="col-md-3">Street Address 2</label>\n				<div class="col-md-4">\n				<input id="addr2" class="form-control " name="addr2" type="text" ng-model="PaymentModule.card.addr2" maxlength="30">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="cardCity"  class="col-md-3">City <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="cardCity" class="form-control " type="text" ng-model="PaymentModule.card.city" required maxlength="20">\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="cardCountry" class="col-md-3" >Country <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<select id="cardCountry" class="form-control" name="country" ng-model="PaymentModule.card.country" ng-options="country.countryCd as country.countryDesc for country in PaymentModule.countries | orderBy: \'countryDesc\'" required>\n						<option value>-- Select--</option>\n					</select>\n				</div>\n			</div>\n			\n			<div ng-if="PaymentModule.card.country === \'USA\' || PaymentModule.card.country === \'CAN\'" class="form-group">\n				<label for="cardState" class="col-md-3" >State <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<select id="cardState" class="form-control" ng-options="state.stateCd as state.stateDesc for state in PaymentModule.states | filter: {countryCd: PaymentModule.card.country}" ng-model="PaymentModule.card.state" required>\n						<option value>--Select--</option>\n					</select>\n				</div>\n				\n			</div>\n			<div ng-if="PaymentModule.card.country !== \'USA\' && PaymentModule.card.country !== \'CAN\'" class="form-group">\n				<label for="cardState" class="col-md-3" >State <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<select id="cardState" class="form-control" ng-model="PaymentModule.card.state" >\n						<option value>Not Applicable</option>\n					</select>\n				</div>\n			</div>\n			<div class="form-group">\n				<label for="cardPostal" class="col-md-3" >Postal Code <span class="danger required">*</span></label>\n				<div class="col-md-4">\n					<input id="cardPostal" name="postal" class="form-control " ng-model="PaymentModule.card.postal" required maxlength="9" ng-pattern="/^[0-9]+$/"></select>\n					<span class="text-danger" ng-show="paymentform.postal.$error.pattern">Invalid Postal Code: Do not use spaces, dashes, or non-numeric characters</span>\n				</div>\n			</div>\n			<div class="text-center">				\n				<button type="submit" class="btn btn-primary btn-sm btn-shadow" ng-disabled="paymentform.$invalid"> Verify Payment Details</button>\n			</div>\n		</div>\n	</form>	       \n</div>\n\n<div ng-if="PaymentModule.hosted">\n	Redirecting to paypal...\n</div>')}]),angular.module("/payment/src/tpl/payment-review.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment-review.tpl.html",'<h4>Review Card and Billing Information</h4>\n<div >\n	<span class="text-muted text-small">Credit Card Number</span>\n	<p ><strong>{{PaymentModule.card.creditCardNumber | creditCard}}</strong></p>\n</div>\n\n\n<div >\n	<span class="text-muted text-small">Card Type</span>\n	<p ><strong>{{PaymentModule.card.cardType | cardType}}</strong></p>\n</div>\n\n\n<div >\n	<span class="text-muted text-small">CVV</span>\n	<p ><strong>{{PaymentModule.card.cvv2}}</strong></p>\n</div>\n\n\n<div >\n	<span class="text-muted text-small">Expiration Date</span>\n	<p ><strong>{{PaymentModule.card.expirationMonth}}/{{PaymentModule.card.expirationYear}}</strong></p>\n</div>\n\n<div>\n	<span class="text-muted text-small">Name on Credit Card</span>\n	<p><strong>{{PaymentModule.card.cardName}}</strong></p>\n</div>\n<div>\n	<span class="text-muted text-small">Billing Address</span>\n	<p>\n	<strong>{{PaymentModule.card.addr1}}</strong><br/>\n	<span ng-show="PaymentModule.card.addr2"><strong>{{PaymentModule.card.addr2}}</strong><br/></span>\n	<strong>{{PaymentModule.card.city}}, {{PaymentModule.card.state}} {{PaymentModule.card.postal}}, {{PaymentModule.card.country}}</strong>\n	</p>\n</div>\n<div>\n	<span class="text-muted text-small">Amount To Be Billed</span>\n	<p>\n	<strong class="text-danger">${{amount}}</strong><br/>\n	</p>\n</div>\n\n<div class="text-center">\n	<button type="button" class="btn btn-default btn-sm" ng-click="PaymentModule.backToCollect()">Cancel</button>\n	<button class="btn btn-primary btn-sm  btn-shadow" type="button" ng-click="PaymentModule.submitPayment()">Submit Payment</button>\n</div>');
}]),angular.module("/payment/src/tpl/payment-submit.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment-submit.tpl.html",'<h4 class="text-center">Processing payment</h4>\n<div class="spinner">\n  <div class="bounce1"></div>\n  <div class="bounce2"></div>\n  <div class="bounce3"></div>\n</div>\n\n\n<div aamc-payment-submit-paypal class="ng-hide"></div>')}]),angular.module("/payment/src/tpl/payment.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/payment.tpl.html",'\n<div ng-switch on="PaymentModule.proceedTo">\n	<div ng-switch-when="COLLECT">\n		<div aamc-payment-form/>\n	</div>\n	<div ng-switch-when="REVIEW">\n		<div aamc-payment-review/>\n	</div>	\n	<div ng-switch-when="SUBMIT">\n		<div aamc-payment-submit/>\n	</div>\n	<div ng-switch-when="ERROR">\n		<div aamc-payment-error/>\n	</div>\n	<div ng-switch-when="CONFIRMATION">\n		<div aamc-payment-confirmation/>\n	</div>\n</div>\n\n')}]),angular.module("/payment/src/tpl/paypal-submit.tpl.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/paypal-submit.tpl.html",'\n<form name="paypalSubmit" id="paypalSubmitForm" action="{{PaymentModule.paypalUrl}}" method="post">\n	<input type="hidden" name="MODE" value="{{PaymentModule.paypalMode}}"/>\n	<input type="hidden" name="SILENTTRAN" value="TRUE"/>\n	<input type="hidden" name="ACCT" value="{{PaymentModule.card.creditCardNumber}}"/>\n	<input type="hidden" name="SECURETOKEN" value="{{secureToken}}"/>\n	<input type="hidden" name="SECURETOKENID" value="{{secureTokenId}}"/>\n	<input type="hidden" name="EXPDATE" value="{{PaymentModule.card.expirationMonth}}{{PaymentModule.card.expirationYear}}"/>\n	<input type="hidden" name="CVV2" value="{{PaymentModule.card.cvv2}}"/>\n	<input type="hidden" name="BILLTOSTREET" value="{{PaymentModule.card.addr1}}"/>\n	<input type="hidden" name="BILLTOSTREET2" value="{{PaymentModule.card.addr2}}"/>\n	<input type="hidden" name="BILLTOCITY" value="{{PaymentModule.card.city}}"/>\n	<input type="hidden" name="BILLTOSTATE" value="{{PaymentModule.card.state}}"/>\n	<input type="hidden" name="BILLTOCOUNTRY" value="{{PaymentModule.card.country}}"/>\n	<input type="hidden" name="BILLTOZIP" value="{{PaymentModule.card.postal}}"/>\n	<input type="hidden" name="BILLTOFIRSTNAME" value="{{PaymentModule.card.cardName}}"/>\n	<input type="hidden" name="USER4" value="{{PaymentModule.card.cardName}}"/>\n	<input type="hidden" name="USER5" value="{{givenName}}"/>\n	<input type="hidden" name="USER6" value="{{surname}}"/>\n	<input type="hidden" name="TRXTYPE" value="S"/>\n	<input type="hidden" name="TENDER" value="C"/>	\n</form>')}]),angular.module("/payment/src/tpl/paypal-process.html",[]).run(["$templateCache",function(a){a.put("/payment/src/tpl/paypal-process.html","<h1>Processing payment</h1>")}]),angular.module("myeras.paymentsService",[]).factory("paymentsService",["$log","Restangular","unitsService","urlService","$filter",function(a,b,c,d,e){function f(a,b,c){var d,f="",g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;return c&&c.currentServerDate&&(d=e("date")(new Date(c.currentServerDate),"fullDate")),b&&b.data&&(f=b.data.contactAddress1?b.data.contactAddress1.toString():"",f+=b.data.contactAddress2?"\n"+b.data.contactAddress2.toString():"",f+=b.data.contactCity?"\n"+b.data.contactCity.toString():"",b.data.contactStateCode&&"FR"!=b.data.contactStateCode&&(f+=b.data.contactStateCode?", "+b.data.contactStateCode.toString():""),b.data.contactPostalCode&&(f+=b.data.contactPostalCode?", "+b.data.contactPostalCode.toString():""),f+=b.data.contactCountryCode?", "+b.data.contactCountryCode:""),c&&c.total&&(c.total.invoice&&(g=c.total.invoice.processing,h=c.total.invoice.usmle,i=c.total.invoice.comlex,j=c.total.invoice.total,k=c.total.invoice.priorPayment,l=c.total.invoice.balanceDue),c.total.program&&(m=c.total.program.count,n=c.total.program.amount)),{content:[{text:"Personal Details",style:"title"},"\n",{table:{headerRows:1,widths:["100%"],style:"row",body:[[{table:{widths:["30%","*"],body:[[{text:"Name:",bold:!0},{text:a.commonName?a.commonName:""}],[{text:"AAMC ID:",bold:!0},{text:a.aamcId?a.aamcId.toString():""}],[{text:"Today:",bold:!0},{text:d?d:""}],[{text:"Season:",bold:!0},{text:b.data.season?b.data.season.toString():""}],[{text:"Address:",bold:!0},{text:f?f:""}],[{text:"Phone:",bold:!0},{text:b.data.contactPhone1?b.data.contactPhone1.toString():""}],[{text:"School:",bold:!0},{text:b.schoolName?b.schoolName.toString():""}]]},layout:"noBorders"}]]},layout:{hLineWidth:function(a,b){return 0===a?0:1},vLineWidth:function(a,b){return 0}}},"\n",{text:"Totals",style:"title"},"\n",{table:{headerRows:1,widths:["100%"],style:"row",body:[[{table:{widths:["30%","*"],body:[[{text:"Total ERAS Processing Fee:",bold:!0},{text:e("currency")(g)}],[{text:"USMLE Transcript Fee:",bold:!0},{text:e("currency")(h)}],[{text:b.isDO?"COMLEX-USA Transcript Fee:":"",bold:!0},{text:b.isDO?e("currency")(i):""}],[{text:"Total Amount:",bold:!0},{text:e("currency")(j)}]]},layout:"noBorders"}]]},layout:{hLineWidth:function(a,b){return 0===a?0:1},vLineWidth:function(a,b){return 0}}},"\n",{text:"Programs",style:"title"},"\n",{table:{headerRows:1,widths:["60%","*"],style:"row",ngRepeat:"invoiceItems",body:[[{text:"Specialty"},{text:"Number of Programs",alignment:"right"}],[{text:" ",ngModel:"billingGroupName"},{text:"",alignment:"right",ngModel:"totalSelected"}],[{text:"Total"},{text:m.toString(),alignment:"right"}]]},layout:{hLineWidth:function(a,b){return 0===a?0:1},vLineWidth:function(a,b){return 0}}},"\n",{text:"Invoices",style:"title"},"\n",{table:{headerRows:1,widths:["33%","33%","33%"],style:"row",ngRepeat:"invoiceLineItems",body:[[{text:"Invoice ID"},{text:"Amount",alignment:"right"},{text:"Date",alignment:"right"}],[{text:" ",ngModel:"invoiceSeqNbr"},{text:"",alignment:"right",ngModel:"invoiceTotal"},{text:"",alignment:"right",ngModel:"invoiceDtStr"}]]},layout:{hLineWidth:function(a,b){return 0===a?0:1},vLineWidth:function(a,b){return 0}}}],styles:{row:{margin:[0,0,0,2]},title:{bold:!0,fontSize:11}},defaultStyle:{columnGap:10,fontSize:11}}}function g(a){r=a||{}}function h(){return r||{}}function i(a,b,c,d,e,f){var g,h,i,j,k;return g=!1,h=c[a+"Authorization"]||{},i=c.programsAssignedToDocuments["programsFor"+angular.uppercase(a)]||[],j=c.programsAssignedToDocuments["unPaidProgramsFor"+angular.uppercase(a)]||[],k=c.programsAssignedToDocuments["unAssignedProgramsFor"+angular.uppercase(a)]||[],b.only||null!==h.invoiceSeqNbr||_.forEach(c.programsSelected,function(a){return g=-1!==i.indexOf(a.unitId),g?!1:void 0}),g=g||b.only&&b[a],(g||!b.only&&null!==h.invoiceSeqNbr)&&angular.forEach(b.only?c.programsAppliedTo:c.programsSelected,function(a){-1!==i.indexOf(a.unitId)&&(b.only||a.isEligible)&&d.push(a.unitId)}),j&&j.length&&angular.forEach(j,function(a){e.push(a)}),k&&k.length&&angular.forEach(k,function(a){f.push(a)}),d.length?g:!1}function j(a,b,c,d,e,f){function g(a,b){var c=_.find(a,{billingCode:b});return c?c.billingDescription:"UNKNOWN BILLING CODE:"+b}var h,i,j,k;angular.forEach(a,function(a){h=_.find(b,{unitBillingCode:a.unitBillingCode}),h||(h={programGroup:[]}),i=e(h.programGroup.length,a.programGroup.length),j=g(c,a.unitBillingCode),k=a.isEligible,d.invoiceItems.length&&angular.forEach(d.invoiceItems,function(a){a.billingGroup===j&&(a.applicationFee=i,a.billingGroupName=j)}),d.invoiceItems.length||d.invoiceItems.push({billingGroupCode:a.unitBillingCode,billingGroupName:j,appliedTo:h.programGroup.length,selected:a.programGroup.length,amountToCharge:i.total.toCharge,applicationFee:i,programs:{appliedTo:h.programGroup,selected:a.programGroup},isEligible:k}),angular.forEach(a.programGroup,function(a){a.isEligible=k,d.invoiceItemPrograms.push({name:a.unit.unitName,specialty:j,unitId:a.unitId,isEligible:k})})})}function k(a,b){var c=_.find(a,{id:{varName:b}});return c?parseFloat(c.varValue):0}function l(a){var b=_.find(s,{description:a.toLowerCase()});return b?b.code:a}function m(a,b){function c(a,b,c,d){var e="ME_"+("F"===b?"FELLOWSHIP":"RESIDENCY")+"_"+d;a.push(k(c,e))}var d=[];return c(d,a,b,"BASE_FEE"),c(d,a,b,"FEE_STEP1"),c(d,a,b,"FEE_STEP2"),c(d,a,b,"FEE_STEP3"),d}function n(a){function b(a){var b={amountType:{once:"",each:"each"},total:{appliedTo:0,selected:0,toCharge:0},groups:[]};return c(1,"Up to 10",10,b.amountType.once,b,a),c(2,"11 - 20",10,b.amountType.each,b,a),c(3,"21 - 30",10,b.amountType.each,b,a),c(4,"31 or more",null,b.amountType.each,b,a),b}function c(a,b,c,d,e,f){var g=f&&f[a-1]?f[a-1]:0;e.groups.push({number:a,label:b,limit:c,amount:g,amountType:d,appliedTo:0,selected:0})}function d(a,b,c){var d;0>=b||(a.total[c]=b,angular.forEach(a.groups,function(a){d=b,null!==a.limit&&(d=Math.min(d,a.limit-a.appliedTo)),a[c]=d,b-=d}))}function e(a){var b=0;angular.forEach(a.groups,function(c){c.amountType===a.amountType.once?b+=0===c.appliedTo?Math.min(c.selected,1)*c.amount:0:c.amountType===a.amountType.each&&(b+=c.selected*c.amount)}),a.total.toCharge=b}var f=b(a);return function(a,b){var c=angular.copy(f);return d(c,a,"appliedTo"),d(c,b,"selected"),e(c),c}}function o(b,c,d){function e(a,b){return a[0].season===b}var f;try{f=b.inst.militaryInst===!0&&b.season===d.medDegreeYr&&e(c,b.season)&&0===d.id.medSeqNbr}catch(g){d&&a.error("paymentsService.applicationIsMilitary:",c,d,g)}return Boolean(f)}var p,q,r,s=[{type:"0",code:"VS",description:"visa"},{type:"1",code:"MC",description:"mastercard"}];return p=d.appService,q={setPaidInvoice:function(a){return p.post("invoices?invoiceSeqNbr="+a.id.invoiceSeqNbr,a)},updatePreviewedInvoice:function(a){return p.one("previewedInvoices?applicationId="+a.id.applicationId+"&invoiceSeqNbr="+a.id.invoiceSeqNbr).customPUT(a)},getInitiatedPreviewedInvoice:function(a){return p.one("previewedInvoices").one("initiated",a).get()},getPreviewedInvoice:function(a){return p.one("previewedInvoices/"+a.id.applicationId+"/"+a.id.invoiceSeqNbr).get()},callToPostPaymentProcess:function(a){var b="processPostPayment/"+a.id.applicationId+"?invoiceSeqNbr="+a.id.invoiceSeqNbr;return d.dwsDocService.post(b,a)},getPendingPayment:function(a){return p.one("outstandingPayment?applicationId="+a).get()},generatePaymentTokens:function(a,b){return p.one("outstandingPayment").one("generateSecuredToken?applicationId="+a).customPUT(b)},savePaidDtOnPayment:function(a,b,c){var d=a.substring(4,a.length),e="RESPMSG="+b+",RESULT="+c;return p.one("outstandingPayment?invoiceSeqNbr="+d+"&paypalResponse="+e).put()},saveFailedPaymentResponse:function(a,b,c){var d="RESPMSG="+b+",RESULT="+c;return p.one("outstandingPayment/fail?applicationId="+a+"&paypalResponse="+d).put()},cachedData:null,testFeeIsIncluded:i,invoiceItems:j,feeAmount:k,applicationFeeAmounts:m,applicationFeeCalculator:n,applicationIsMilitary:o,getPrintInvoiceHistory:f,findCardCode:l},Object.defineProperty(q,"cachedData",{get:h,set:g}),q}]),angular.module("myeras.epayTokenService",[]).factory("epayTokenService",["Restangular","urlService",function(a,b){function c(a){return d.one("epayToken",a).get()}var d=b.appService;return{getTokenStatus:c}}]),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q={configuration:null,application:null,applicationFeeAmounts:null,billingGroups:null,programsAppliedTo:null,programsAppliedToByGroup:null,medicalEducation:null,serverCurrentDate:null};b.vm=p={_data:q,content:{paymentInvoiceHistory:null},data:{currentServerDate:null,invoiceItems:[],invoiceItemPrograms:[],invoiceLineItems:[],total:{program:{count:0,amount:0},invoice:{processing:0,usmle:0,comlex:0,total:0,priorPayment:0,balanceDue:0}}},application:{season:n.SEASON,isDO:null,data:null,schoolName:null},pageTitle:null,dataIsLoading:!0},o.preparePaymentHistory().then(function(a){b.vm=p=a,b.vm.pageTitle="Payment History"}),b.printInvoiceHistory=function(){g.printPdf(g.applicationId,"INVOICE_HISTORY","=PDF")}}angular.module("myeras.invoiceHistory",[]).controller("invoiceHistoryController",a),a.$inject=["$rootScope","$scope","$q","$sce","$log","paymentsService","applicationService","generalService","contentService","unitsService","refDataService","pdfMakeService","$filter","APP_CONFIG","paymentHistoryService"]}(),angular.module("myeras.programAssignmentsService",[]).factory("programAssignmentsService",["$q","applicationService","refDataService","Restangular","$log","urlService","log","$filter","APP_CONFIG",function(a,b,c,d,e,f,g,h,i){function j(a,b,c){return D.one("programAssignments").post("programsTab",a,{applicationId:b,unitId:c})}function k(a,b,c,d){return D.one("programAssignments").post("documentsTab?applicationId="+b+"&documentCode="+c+"&seqNbr="+d,a)}function l(a,b,c,d,e){return D.one("programAssignments").post("documentsTab?applicationId="+b+"&documentCode="+c+"&seqNbr="+d+"&delimitedUnitIds="+e,a)}function m(a,b){return C.one("programAssignments/"+a+"?docCode="+b).get()}function n(a,b){return C.one("programAssignments/"+a+"?unitId="+b).get()}function o(a,b,c){return C.one("programAssignments?applicationId="+a+"&docCode="+b+"&seqNumber="+c).remove()}function p(a){var b=[];return angular.forEach(a,function(a){b.push({applicationId:a.applicationId,unitId:a.unitId,seqNbr:a.seqNbr,docCd:a.docCd,paSubmitDt:a.paSubmitDt,paProcessedDt:a.paProcessedDt,paLorActiveInd:a.paLorActiveInd,createdBy:a.createdBy,createdDt:a.createdDt,lastUpdatedBy:a.lastUpdatedBy,lastUpdatedDt:a.lastUpdatedDt})}),b}function q(a,c,d){var e=[];return _.forEach(a,function(a){a.selected&&!a.assigned&&e.push({applicationId:b.applicationId,selected:a.selected,unitId:a.unitId,seqNbr:c,docCd:d,unitName:a.unit.unitName,specName:a.unit.specialty.specName,invoiceSeqNumber:a.invoiceSeqNumber,programAssignments:a.programAssignments,unfilledPositionsIndicator:a.unit.unfilledPositionsIndicator})}),e}function r(a,c,d){var e=[];return _.forEach(a,function(a){a.preSelected&&!a.selected&&e.push({applicationId:b.applicationId,selected:a.selected,unitId:a.unitId,seqNbr:c,docCd:d,unitName:a.unit.unitName,specName:a.unit.specialty.specName,invoiceSeqNumber:a.invoiceSeqNumber,programAssignments:a.programAssignments})}),e}function s(a){return"Y"===a.withdrawnIndicator?"Withdrawn":a.appliedDate&&"R"!==a.soapIndicator?"Applied":a.appliedDate&&"R"===a.soapIndicator?"Reapplied":a.appliedDate?void 0:"Saved"}function t(a){return D.one("lorRequests").one("unassignedLorCount").get({applicationId:a})}function u(a){return C.one("programAssignments").one("unassignedPersonalStatementsCount",a).get({docCode:4})}function v(a){var b=this;return b.getProgramsCountByApplicationId(!0,a).then(function(a){return a})}function w(a,b){return C.one("selectedPrograms").one("programsCount",b).get()}function x(a,b,c){var d={},e=[],f=[];return c&&c.length&&angular.forEach(c,function(a){e.push({applicationId:a.applicationId,unitId:a.unitId,seqNbr:a.seqNbr,docCd:a.docCd,paSubmitDt:a.paSubmitDt,paProcessedDt:a.paProcessedDt,paLorActiveInd:a.paLorActiveInd,createdBy:a.createdBy,createdDt:a.createdDt,lastUpdatedBy:a.lastUpdatedBy,lastUpdatedDt:a.lastUpdatedDt})}),angular.forEach(a,function(a){_.remove(e,function(b){return a.docCd===b.docCd&&a.unitId===b.unitId}),_.contains(f,a.unitId)||f.push(a.unitId),e.push(a)}),b&&b.length&&angular.forEach(b,function(a){_.remove(e,function(b){return b.docCd===a.docCd&&b.unitId===a.unitId})}),d.assignments=e,d.replaceUnitIds=null,f&&f.length&&(d.replaceUnitIds=f.toString()),d}function y(a,b,c){return z(a,b,c)?(a&&!a.lorUploaded&&b?g.error(" You cant assign a LoR which is only confirmed for upload. Please try again with valid assignments"):g.error(" You cant modify the assignments for documents already released to program or assignments on withdrawn programs. Please try again with valid assignments"),!1):!0}function z(a,b,c){return b?a&&(a.preSelected||!a.lorUploaded):a&&a.preSelected&&a.invoiceSeqNumber||"Y"===a.withdrawnIndicator&&(!c||!c.applicantSoapEligible)}function A(a){return a&&a.success===!1&&a.docAssignmentForIneligible===!1?!0:!1}function B(a,b){var c=h("filter")(b,{unfilledPositionsIndicator:null});return i.isSoapOpen&&i.ISRESIDENCY&&a&&b.length!==c.length?!0:!1}var C=f.appService,D=f.dwsDocService;return{getAssignedDocuments:m,getAssignedDocsForProgram:n,clearDocumentAssignments:o,updateSelectedPrograms:q,getRemovedPrograms:r,convertStatus:s,getUnassignedLoRCount:t,getUnassignedPersonalStatementsCount:u,assignDocumentsToProgramsFromDocSection:k,assignDocumentsToAProgram:j,prepareAssignments:p,getProgramsCount:v,getProgramsCountByApplicationId:w,prepareFinalPersonalStmtPAList:x,assignDocumentsToProgramsFromPersonalStmtSection:l,validateSelection:y,isSelectionNotValid:z,isUnsuccessfulDocumentAssignment:A,isInvalidSoapIneligibleApplicantSelections:B}}]),function(){function a(){var a={restrict:"E",replace:!0,templateUrl:"components/directives/aamc-program-details-modal/aamc-program-details-modal.html",controller:"ProgramDetailsModalController",controllerAs:"programDetailsModal"};return a}function b(a){var b=this;b.name="programDetailsModal";a.allProgramTracks=a.$parent.programDet.unit.tracks||[],a.selectedProgramTracks=a.$parent.programDet.selectedProgramTracks||[],a.getTooltipText=function(a,b,c){return b&&c?b&&c&&"Y"===a.nrmpUnfilledPositionsIndicator?"You will be considered for this training if you reapply":b&&c&&!a.nrmpUnfilledPositionsIndicator?"You will not be considered for this training if you reapply":void 0:"You have already selected this Program training"},a.showSaveButton=function(a,b){return b.soapOpen&&"FM"!==b.applicantSoapMatchStatus&&b.applicantSoapEligible&&!a.nonSoapEligibleProgram?!0:!b.soapOpen&&"Y"!==a.withdrawnIndicator||b.soapOpen&&!a.nonSoapEligibleProgram&&"FM"!==b.applicantSoapMatchStatus?!0:!1},a.showCloseButton=function(a,b){return b.soapOpen&&"FM"===b.applicantSoapMatchStatus?!0:!b.soapOpen&&"Y"===a.withdrawnIndicator||b.soapOpen&&a.nonSoapEligibleProgram?!0:!1},a.showCancelButton=function(a,b){return b.soapOpen&&"FM"===b.applicantSoapMatchStatus?!1:!b.soapOpen&&"Y"!==a.withdrawnIndicator||b.soapOpen&&!a.nonSoapEligibleProgram?!0:!1}}angular.module("myeras.programDetailsModal",[]).controller("ProgramDetailsModalController",b).directive("aamcProgramDetailsModal",a),b.$inject=["$scope"]}(),angular.module("aamc.eras.alerts",[]).controller("aamcErasAlertsController",["$scope","$timeout","$log","$rootScope","$anchorScroll",function(a,b,c,d,e){a.name="erasAlerts",d.alert={texts:["Saved Successfully"],timeout:4e3,type:"success",noTimeOut:!1},d.addAlert=function(a){d.addDetailedAlert(d.alert.texts,d.alert.timeout,d.alert.type,d.alert.noTimeOut,a)},d.addAlerts=function(a,b){d.addDetailedAlert(b,d.alert.timeout,d.alert.type,d.alert.noTimeOut,a)},d.addDetailedAlert=function(a,b,e,f,g){c.debug("addDetailedAlert"),a&&(d.alert.texts=a),b&&(d.alert.timeout=b),e&&("error"===e?d.alert.type="danger":d.alert.type=e),f&&(d.alert.noTimeOut=!0),d.showAlert(g)},d.dismissAlert=function(){d.alert.show=!1},d.showAlert=function(a){d.alert.show=!0,d.alert[a]=!0,e(),d.alert.noTimeOut||b(function(){d.alert.show=!1,d.alert[a]=!1},d.alert.timeout)}}]).directive("aamcErasAlerts",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-eras-alerts/aamc-eras-alerts.html",controller:"aamcErasAlertsController",transclude:!0}}),angular.module("myeras.trainingService",[]).factory("trainingService",["Restangular","APP_CONFIG","urlService",function(a,b,c){var d=c.appService;return{getAllTrainee:function(a){return d.getList("trainings",{applicationId:a})},saveTrainee:function(a){return d.post("trainings",a)},deleteTrainee:function(a,b){return d.one("trainings/"+a+"/"+b).remove()},updateTrainee:function(a){return d.customPUT(a,"trainings/"+a.id.applicationId+"/"+a.id.resSeqNbr)}}}]),angular.module("myeras.lorAuthor",[]).filter("lorauthor",function(){return function(a){var b,c=[];return angular.forEach(a,function(a){b=a.lorCaLorInd,b&&"N"!==b||c.push(a)}),c}}),angular.module("myeras.log",["toaster"]).service("log",["$log","toaster","contentService",function(a,b,c){function d(a,c){b.pop("note","",a,null,null,null,c)}function e(a,c){b.pop("success","",a,null,null,null,c)}function f(a,c,d){b.pop("success","",a,c,null,null,d)}function g(a,c){b.pop("error","",a,null,null,null,c)}function h(a,c){b.pop("warning","",a,null,null,null,c)}function i(b){a.debug(b)}var j={info:d,success:e,successWithTimer:f,error:g,warning:h,log:i};return j}]),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){Z=a}function k(a){a=a}function l(a){Y=a,ga.initialLoad=!0}function m(a){a=a}function n(a){da=a}function o(){ja>0&&(ja-=1)}function p(){var a=i.getCurrentContext();if(a.aamcId){if(null!=ja)return ja;ja=0,E(a.aamcId).then(function(a){ja=a.valueObject})}}function q(){return ha}function r(a){var b=c.defer();return ba.getApplication().then(function(c){if(c){var d=c.applicationId;a.aamcId=c.aamcId,a.season=c.season,t(a,d).then(function(c){if("New"==Z){Q(c.valueObject),W=c.valueObject.resultList;var d=aa.uniq(aa.pluck(W,"fromInstId"));L(d).then(function(a){ia=a,b.resolve([W,ia])})}else"Legacy"==Z?(ga.initialLoad===!0&&(n(ca),W=S(c)),W=P(W,a),ga.initialLoad=!1,ga.folderType=Y,b.resolve(W)):b.resolve([])})}}),b.promise}function s(a){return"New"===Z?v(a.messageGuid):u(a.msgId)}function t(a,b){if("New"==Z){var c=R(a);return D(c)}return F(a,b)}function u(a){return $.one("legacyMessages/msgBody",a).get()}function v(a){return $.one("messages",a).get()}function w(a){return"New"==Z?z(a):y(a)}function x(a){return $.one("attachment/info/"+a).get()}function y(a){return $.customPUT([a.msgId],"legacyMessages/undoDelete/"+e.applicationId+"/"+a.msgId)}function z(a){return $.customPUT([a.messageGuid],"messages/restore")}function A(a){return"New"===Z?C(a.messageGuid):B(a.msgId)}function B(a){return $.one("legacyMessages/"+e.applicationId+"/"+a).remove()}function C(a){return $.customPUT([a],"messages/delete")}function D(a){var b=Y.toLocaleLowerCase();return $.one("messages/"+b+"?"+a).get()}function E(a){return $.one("messages/new/count?aamcId="+a+"&tagId=1").get()}function F(a,b,d){var e=Y.toLocaleLowerCase();if(ga.initialLoad===!1&&ga.folderType==Y){var f=c.defer();return f.resolve(W),f.promise.then(d)}return $.one("legacyMessages/"+e+"/"+b).get()}function G(){return ha+"/attachment"}function H(a){return $.one("attachment/"+a).get()}function I(a){return $.one("messages/"+a.messageGuid+"/reply").get().then(function(a){return a&&a.valueObject?a.valueObject:{}})}function J(a){return ba.getApplication().then(function(b){var c=new Date;c.setFullYear(c.getFullYear()+1);var d={fromAamcId:b.aamcId,season:b.season,source:"MYERAS",attachmentIds:a.attachmentIds,subject:a.replySubject,expirationDate:c.getTime(),messageIdToReplyTo:a.replyToMessageId,recipients:a.replyRecipients,notificationText:"You have a new message from the AAMC.",message:a.replyMessage};return $.post("messages",d)})}function K(a,b){return"New"===Z?N(a,b):O(b)}function L(a){var b=c.defer();return a.length>0?M(a).then(function(a){b.resolve(a)}):b.resolve([]),b.promise}function M(a){return $.customPUT(a,"unifiedGmePrograms/get")}function N(a,b){return $.customPUT(b,"messages/"+b.messageGuid+"/read?aamcId="+a)}function O(a){return $.customPUT(a,"legacyMessages/read/"+e.applicationId+"/"+a.msgId)}function P(a,b){var c=b.ascending,d=b.order.split("."),e=c===!0?!1:!0,g=d.length>1?d[1]:b.order;return f("orderBy")(a,g,e)}function Q(a){W=data.valueObject.resultList,_.currentPage=a.currentPage,_.totalPages=a.totalPages,_.totalRecords=a.totalRecords}function R(a){return aa.map(a,function(a,b){return b+"="+a}).join("&")}function S(a){var b=[];return aa.each(a,function(a){var c={};aa.each(da,function(b,d){c[d]=a.messages[b]}),c.msgId=a.id.msgId,c.isRead="R"==a.msgIndicator?!0:!1,b.push(c)}),b}function T(a){return a.replace(new RegExp(String.fromCharCode(10),"g")," ")}var U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja;return ba=e,$=h.appService,ha=$.route,V="mailService",aa=d,W=[],X=[],ia=[],ja=null,Y="",Z="",_={},da={},fa=!1,ga={initialLoad:!0,folderType:"Inbox",ascending:!1},ca={createDate:"msgDate",fromInstitution:"msgFrom",subject:"msgSubject"},ea={createDate:"createDate",fromIndividual:"fromIndividual",subject:"subject"},U={name:V,pageInfo:_,messages:W,unreadMessageCount:ja,getUnreadMessageCount:p,decrementUnreadMessageCount:o,currentFolder:Y,currentInboxType:Z,specialtyInfo:ia,setInboxType:j,setInboxTypes:k,setFolderType:l,setFolderTypes:m,buildMessages:r,getLegacyMessageDetails:u,getMessageDetails:s,deleteMessage:A,markRead:K,restore:w,downloadFile:H,getReplyToMessage:I,sendMessage:J,getServiceUrl:q,getFileInfo:x,getFilePath:G,replaceSpecialChars:T}}angular.module("myeras.mailService",[]).factory("mailService",a),a.$inject=["APP_CONFIG","Restangular","$q","underscoreService","applicationService","$filter","$log","urlService","authService"]}(),angular.module("myeras.selfIdentification",[]).filter("selfidentification",["$log",function(a){return function(b){var c=[];return angular.forEach(b,function(a){parentSi=a.selfIdentification.siParentId,0===parentSi&&c.push(a)}),a.debug("final parentSis"),a.debug(c),c}}]),function(){"use strict";function a(){var a,b;return b="underscoreService",a={name:b},window._}angular.module("myeras.underscoreService",[]).factory("underscoreService",a)}(),angular.module("myeras.printApplicationService",["myeras.fiterByProperty"]).factory("printApplicationService",["$q","APP_CONFIG","Restangular","$log","$filter","personalService","refDataService","licensureService","generalService","applicationService","pdfMakeService","selfIdentificationService","trainingService","publicationService","experienceService","languageService","myerasCache",function(a,b,c,d,e,f,g,h,j,l,m,n,o,p,q,r,s){var t,u={},v=null,w={U:"UnderGraduate",G:"Graduate",O:"Other"},x=function(a){angular.forEach(a,function(a,b){_.isNull(a)&&(this[b]="none")},a)},y=function(a){var b=" ";return a&&"Y"===a?b="Yes":a&&"N"===a&&(b="No"),b},z=function(a){a.cafData.cafSexTransformed="No Response",a.fullPermanentAddressTransformed="",a.cafData.cafMilServiceObligIndTransformed=" ",a.cafData.cafMilBranchCdTransformed="",a.cafData.cafOtherServiceObligIndTransformed="",a.cafData.cafMisdemeanorIndTransformed="",a.cafData.cafFelonyIndTransformed="",a.cafData.cafNoLimitationsIndTransformed="",a.cafData.cafDeaRegExpTransformed="",a.cafData.cafBoardCertifiedIndTransformed="",a.cafData.cafLicensureProblemIndTransformed="",a.cafData.cafMalpracticeIndTransformed="",a.cafData.cafPastHistoryIndTransformed="",a.cafData.cafEducInterruptIndTransformed="",a.cafData.cafAwardsDescTransformed="",_.size(a.cafData)>0&&("M"===a.cafData.cafSex?a.cafData.cafSexTransformed="Male":"F"===a.cafData.cafSex&&(a.cafData.cafSexTransformed="Female"),a.cafData.cafDob=e("date")(a.cafData.cafDob,"MM/dd/yyyy"),(a.cafData.cafHomeAddr1||a.cafData.cafHomeAddr2||a.cafData.cafHomeCity||a.cafData.cafHomeStateCd||a.cafData.cafHomePostCd)&&(a.cafData.cafHomeAddr1&&(a.fullPermanentAddressTransformed=a.cafData.cafHomeAddr1+"\n"),a.cafData.cafHomeAddr2&&(a.fullPermanentAddressTransformed=a.fullPermanentAddressTransformed+a.cafData.cafHomeAddr2+"\n"),a.cafData.cafHomeCity&&(a.fullPermanentAddressTransformed=a.fullPermanentAddressTransformed+a.cafData.cafHomeCity),a.cafData.cafHomeStateCd&&(a.fullPermanentAddressTransformed+=", "+a.cafData.cafHomeStateCd),a.fullPermanentAddressTransformed=a.fullPermanentAddressTransformed+" "+a.cafData.cafHomePostCd,a.cafData.cafHomeCountryCd&&(a.fullPermanentAddressTransformed+=" "+a.cafData.cafHomeCountryCd)),a.cafData.cafMilServiceObligIndTransformed=y(a.cafData.cafMilServiceObligInd),"1"===a.cafData.cafMilBranchCd&&(a.cafData.cafMilBranchCdTransformed="Army"),"2"===a.cafData.cafMilBranchCd&&(a.cafData.cafMilBranchCdTransformed="Navy"),"3"===a.cafData.cafMilBranchCd&&(a.cafData.cafMilBranchCdTransformed="Air Force"),"4"===a.cafData.cafMilBranchCd&&(a.cafData.cafMilBranchCdTransformed="Other"),"Y"===a.cafData.cafNoLimitationsInd?(a.cafData.cafNoLimitationsIndTransformed="No",a.cafData.cafLimitationsDesc=null):"N"===a.cafData.cafNoLimitationsInd?a.cafData.cafNoLimitationsIndTransformed="Yes":"R"===a.cafData.cafNoLimitationsInd&&(a.cafData.cafNoLimitationsIndTransformed="No Response",a.cafData.cafLimitationsDesc=null),a.cafData.cafOtherServiceObligIndTransformed=y(a.cafData.cafOtherServiceObligInd),a.cafData.cafMisdemeanorIndTransformed=y(a.cafData.cafMisdemeanorInd),a.cafData.cafFelonyIndTransformed=y(a.cafData.cafFelonyInd),a.cafData.cafDeaRegExpTransformed=a.cafData.cafDeaRegExpMth&&a.cafData.cafDeaRegExpYr?a.cafData.cafDeaRegExpMth+"/"+a.cafData.cafDeaRegExpYr:"",a.cafData.cafBoardCertifiedIndTransformed=y(a.cafData.cafBoardCertifiedInd),a.cafData.cafLicensureProblemIndTransformed=y(a.cafData.cafLicensureProblemInd),a.cafData.cafMalpracticeIndTransformed=y(a.cafData.cafMalpracticeInd),a.cafData.cafPastHistoryIndTransformed=y(a.cafData.cafPastHistoryInd),a.cafData.cafEducInterruptIndTransformed=y(a.cafData.cafEducInterruptInd),a.cafData.cafAwardsDescTransformed=a.cafData.cafAwardsDesc?a.cafData.cafAwardsDesc:" ")},A=function(a){z(a),a.fullNameTransformed="",a.fullNameTransformedAlt="",(a.firstName||a.middleName||a.suffix)&&(a.firstName&&(a.fullNameTransformed=a.lastName+", "+a.firstName),a.middleName&&(a.fullNameTransformed+=" "+a.middleName),a.suffix&&(a.fullNameTransformed+=" "+a.suffix),a.fullNameTransformedAlt=a.fullNameTransformed,a.preferredName&&(a.fullNameTransformed+=" ("+a.preferredName+")")),a.usmleId&&(a.usmleId=a.usmleId.charAt(0)+"-"+a.usmleId.charAt(1)+a.usmleId.charAt(2)+a.usmleId.charAt(3)+"-"+a.usmleId.charAt(4)+a.usmleId.charAt(5)+a.usmleId.charAt(6)+"-"+a.usmleId.charAt(7)),a.nrmpIndicatorTransform=y(a.nrmpIndicator),a.nrmpPartnerIndicatorTransformed=y(a.nrmpPartnerIndicator),a.visaSponsorshipTransformed="",a.visaSponsorshipTransformed=y(a.visaSponsorship),a.expectedVisaTransformed="",a.expectedVisa&&(null!==a.expectedVisa.evB1&&"Y"===a.expectedVisa.evB1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"B-1 - Temporary visitor for business\n"),null!==a.expectedVisa.evB2&&"Y"===a.expectedVisa.evB2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"B-2 - Temporary visitor for pleasure\n"),null!==a.expectedVisa.evDS&&"Y"===a.expectedVisa.evDS&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Diplomatic Service\n"),null!==a.expectedVisa.evE2&&"Y"===a.expectedVisa.evE2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"E-2 - Treaty investor, spouse and children(Employement Authorization Document - EAD)\n"),null!==a.expectedVisa.evEAD&&"Y"===a.expectedVisa.evEAD&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Employment Authorization Document (EAD)\n"),null!==a.expectedVisa.evF1&&"Y"===a.expectedVisa.evF1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"F-1 - Academic student (Employement Authorization Document - Optional Practical Training - OPT)\n"),null!==a.expectedVisa.evF2&&"Y"===a.expectedVisa.evF2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"F-2 - Spouse or child of F-1\n"),null!==a.expectedVisa.evH1&&"Y"===a.expectedVisa.evH1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-1 - Temporary worker\n"),null!==a.expectedVisa.evH1b&&"Y"===a.expectedVisa.evH1b&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-1B - Specialty occupation, DOD worker, etc.\n"),null!==a.expectedVisa.evH4&&"Y"===a.expectedVisa.evH4&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-4 - Spouse or child of H-1, H-2, H-3\n"),null!==a.expectedVisa.evImm&&"Y"===a.expectedVisa.evImm&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Immigrant\n"),null!==a.expectedVisa.H2b&&"Y"===a.expectedVisa.evH2b&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-2B - Temporary worker - skilled and unskilled\n"),null!==a.expectedVisa.evJ1&&"Y"===a.expectedVisa.evJ1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"J-1 - Visa for exchange visitor\n"),null!==a.expectedVisa.evJ2&&"Y"===a.expectedVisa.evJ2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"J-2 - Spouse or child of J-1 (Employment Authorization document - EAD)\n"),null!==a.expectedVisa.evL2&&"Y"===a.expectedVisa.evL2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"L-2 - Dependent of Intra-Company Transferee (Employment Authorization Document - EAD)\n"),
null!==a.expectedVisa.evO1&&"Y"===a.expectedVisa.evO1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"O-1 - Extraordinary ability in sciences, arts, education, business or atheletics\n"),null!==a.expectedVisa.evTn&&"Y"===a.expectedVisa.evTn&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"TN - NAFTA trade visa for Canadians and Mexicans\n"),null!==a.expectedVisa.evOth&&"Y"===a.expectedVisa.evOth&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Other\n")),a.siTransformed="",a.parentSis&&angular.forEach(a.parentSis,function(b){a.siTransformed+=b.selfIdentification.selfIdentificationDescription+"\n",b.selfIdentificationOther&&(a.siTransformed+=" ("+b.selfIdentificationOther+")"),b.childSis&&b.childSis.length>0&&(angular.forEach(b.childSis,function(b){a.siTransformed+=b.selfIdentification.selfIdentificationDescription,b.selfIdentificationOther&&(a.siTransformed+=" ("+b.selfIdentificationOther+")"),a.siTransformed+=", "}),a.siTransformed=a.siTransformed.substring(0,a.siTransformed.lastIndexOf(", "))),a.siTransformed+="\n"}),a.nmsIndicatorTransformed=y(a.nmsIndicator),a.nmsPartnerIndicatorTransformed=y(a.nmsPartnerIndicator),a.fullPresentAddressTransformed="",(a.contactAddress1||a.contactAddress2||a.contactCity||a.contactStateCode||a.contactPostalCode)&&(a.contactAddress1&&(a.fullPresentAddressTransformed=a.contactAddress1+"\n"),a.contactAddress2&&(a.fullPresentAddressTransformed=a.fullPresentAddressTransformed+a.contactAddress2+"\n"),a.contactCity&&(a.fullPresentAddressTransformed=a.fullPresentAddressTransformed+a.contactCity),a.contactStateCode&&(a.fullPresentAddressTransformed+=", "+a.contactStateCode),a.fullPresentAddressTransformed+=" "+a.contactPostalCode,a.contactCountryCode&&(a.fullPresentAddressTransformed+=" "+a.contactCountryCode)),a.certLicTransformed="",a.aclsIndicatorTransformed=y(a.aclsIndicator),"Y"===a.aclsIndicator&&(a.certLicTransformed=a.certLicTransformed+"ACLS"),a.aclsExpireDt&&(a.aclsExpireDt=e("date")(a.aclsExpireDt,"MM/dd/yyyy"),a.certLicTransformed=a.certLicTransformed+", "+a.aclsExpireDt+"\n"),a.palsIndicatorTransformed=y(a.palsIndicator),"Y"===a.palsIndicator&&(a.certLicTransformed=a.certLicTransformed+"PALS"),a.palsExpireDt&&(a.palsExpireDt=e("date")(a.palsExpireDt,"MM/dd/yyyy"),a.certLicTransformed=a.certLicTransformed+", "+a.palsExpireDt+"\n"),a.blsIndicatorTransformed=y(a.blsIndicator),"Y"===a.blsIndicator&&(a.certLicTransformed=a.certLicTransformed+"BLS"),a.blsExpireDt&&(a.blsExpireDt=e("date")(a.blsExpireDt,"MM/dd/yyyy"),a.certLicTransformed=a.certLicTransformed+", "+a.blsExpireDt+"\n"),a.cafData.cafDeaRegExpTransformed="",a.cafData.cafDeaRegExpMth&&a.cafData.cafDeaRegExpYr&&(a.cafData.cafDeaRegExpTransformed=a.cafData.cafDeaRegExpMth+"/"+a.cafData.cafDeaRegExpYr,a.certLicTransformed=a.certLicTransformed+"DEA Reg#, "+a.cafData.cafDeaRegExpTransformed),a.membershipsTransformed="",a.aoaCode||a.sspCode||a.ghhsCode||a.cafData.cafMembershipsDesc?(a.aoaCode&&(a.membershipsTransformed="Alpha Omega Alpha\n"),"1"===a.aoaCode&&(a.membershipsTransformed=a.membershipsTransformed+"Member of AOA\n"),"2"===a.aoaCode&&(a.membershipsTransformed=a.membershipsTransformed+"AOA Elections held in Senior Year\n"),"3"===a.aoaCode&&(a.membershipsTransformed=a.membershipsTransformed+"No AOA Chapter at my School\n"),a.sspCode&&(a.membershipsTransformed=a.membershipsTransformed+"Sigma Sigma Phi\n"),"1"===a.sspCode&&(a.membershipsTransformed=a.membershipsTransformed+"Member of SSP\n"),"2"===a.sspCode&&(a.membershipsTransformed=a.membershipsTransformed+"SSP Elections held in Senior Year\n"),"3"===a.sspCode&&(a.membershipsTransformed=a.membershipsTransformed+"No SSP Chapter at my School\n"),a.ghhsCode&&(a.membershipsTransformed=a.membershipsTransformed+"Gold Humanism Honor Society\n"),"1"===a.ghhsCode&&(a.membershipsTransformed=a.membershipsTransformed+"Member of GHHS\n"),"2"===a.ghhsCode&&(a.membershipsTransformed=a.membershipsTransformed+"No GHHS Chapter at my School\n"),null!==a.cafData.cafMembershipsDesc&&""!==a.cafData.cafMembershipsDesc&&(a.membershipsTransformed=a.membershipsTransformed+a.cafData.cafMembershipsDesc+"\n")):a.membershipsTransformed=" ",M(a),N(a),O(a),Q(a),R(a),P(a),I(a),K(a),L(a)},B=function(a){u=a,F(v,u)},C=function(a,b){var c,d,e=!1,f=" ";return c=a.substr(a.indexOf(".")+1),c.indexOf(".")>0&&(d=c.substr(c.indexOf(".")+1),c=c.substr(0,c.indexOf(".")),e=!0),f=b[c]?e?b[c][d]?b[c][d].toString():" ":b[c].toString():" "},D=function(a,b){var c,d,e,f,g,h,j,l;if(a.body){if(g=a.headerRows,g||(g=0),h=g,j=a.body[g],e=a.ngRepeat.substr(a.ngRepeat.indexOf(".")+1),c=b[e]){for(i=0;i<c.length;i++){for(newTableRowObjs=[],k=0;k<j.length;k++)l=j[k].ngModel,c[i][l]?newTableRowObjs.push({text:c[i][l]}):newTableRowObjs.push({text:" "});a.body.splice(h,0,newTableRowObjs),h++}a.body.length>1&&a.body.splice(h,1)}}else for(d=a.ngModel.substr(a.ngModel.indexOf(".")+1),e=a.ngRepeat.substr(a.ngRepeat.indexOf(".")+1),c=b[e],i=0;i<c.length;i++)f=c[i],a.stack.push(c[i][d])},E=function(a,b){var c,d,e,f,g,h=!1,i=!0,j=0;if(a.body){e=a.body.length;for(var k=0;e>k;k++)if(a.ngShow&&(c=a.ngShow,(_.isUndefined(b[c])||_.isNull(b[c]))&&_.isEmpty(b[c])))if(j=0,a.headerRows&&(j=a.headerRows),j>=1){f=a.body[j].length;for(var l=0;f>l;l++)a.body[j][l].text=" ",delete a.body[j][l].ngModel;i=!1}else a.body&&a.body.length>0&&(a.body[j][0].text=" ",delete a.body[j][0].ngModel,i=!1)}else if(a.ngShow)if(c=a.ngShow.substr(a.ngShow.indexOf(".")+1),c.indexOf(".")>0&&(d=c.substr(c.indexOf(".")+1),c=c.substr(0,c.indexOf(".")),h=!0),_.isNull(b[c])||_.isUndefined(b[c]))_.isEmpty(b[c])&&h&&(b[c][d]||(a.text?(a.text=" ",delete a.ngModel):a.columns&&(a.columns[0].text=" ",delete a.columns[0].ngModel),i=!1));else if(h&&!b[c][d])if(a.text)a.text=" ",delete a.ngModel,i=!1;else if(a.columns){g=a.columns.length;for(var m=0;g>m;m++)a.columns[m].ngModel&&(a.columns[m].text=" ",delete a.columns[m].ngModel);i=!1}return i===!1&&a.ngRepeat&&delete a.ngRepeat,!0},F=function(a,b){var c,d=null;if(a instanceof Array)for(var e=0;e<a.length;e++)t=e,d=F(a[e],b);else{c=a;for(var f in a)"ngShow"==f&&null!==a.ngShow&&""!==a.ngShow&&(E(a,b),a&&a.ngShow&&delete a.ngShow),"ngRepeat"==f&&null!==a.ngRepeat&&""!==a.ngRepeat&&(D(a,b),a&&a.ngRepeat&&delete a.ngRepeat),"ngModel"==f&&null!==a.ngModel&&""!==a.ngModel&&(a.text=C(a.ngModel,b),a&&a.ngModel&&delete a.ngModel),(a[f]instanceof Object||a[f]instanceof Array)&&(d=F(a[f],b))}},G=function(a){angular.forEach(a.appSIs,function(a){a.siDisplaySeq=a.selfIdentification.siDisplaySeq,a.childSis=[]}),angular.forEach(a.appSIs,function(b){var c=b.selfIdentificationCode,d=function(b,c){angular.forEach(a.appSIs,function(a){var d=a.selfIdentification.siParentId;b==d&&c.childSis.push(a)})};d(c,b)}),a.parentSis=e("selfidentification")(a.appSIs)},H=function(a,b,c,d){var e;return e=12*(d-b),e-=a+1,e+=c,0>=e?0:e},I=function(a){angular.forEach(a.allPublications,function(b){J(b),a.showPublications=!0})},J=function(a){x(a),a.publicationDesc=a.publicationType.pubTypeDesc+"\n"+a.pubAuthor+". ",("1"===a.pubTypeCd||"2"===a.pubTypeCd)&&(a.publicationDesc+=a.pubTitle+". "+a.pubName+". "+e("date")(a.pubDt,"yyyy")+" "+e("date")(a.pubDt,"MMM")+"; ","1"===a.pubTypeCd&&(a.publicationDesc+=a.pubVol+"("+a.pubIssue+"): "+a.pubPages+".",a.pubPmid&&(a.publicationDesc+=" Cited in PubMed; PMID:"+a.pubPmid),a.publicationDesc&&(a.publicationDesc+=" Pub Status: "+a.pubStatus.pubStatusDesc)),"2"===a.pubTypeCd&&(a.publicationDesc+=" Pub Status: "+a.pubStatus.pubStatusDesc)),"3"===a.pubTypeCd&&(a.publicationDesc+="("+e("date")(a.pubDt,"yyyy")+"). "+a.pubTitle+" In "+a.pubEditor+" (Ed.) "+a.pubName+"("+a.pubPages+"). "+a.pubCity+":"+a.pubPublisher),"4"!==a.pubTypeCd||a.pubPages||(a.publicationDesc+="("+e("date")(a.pubDt,"yyyy")+"). "+a.pubTitle+" "+a.pubName+" "+a.pubVol+"("+a.pubIssue+" ",a.pubSerialNbr&&(a.publicationDesc+="Serial No. "+a.pubSerialNbr+"). "),a.pubWholeNbr&&(a.publicationDesc+="Whole No. "+a.pubWholeNbr+"). "),a.pubPartNbr&&(a.publicationDesc+=" pt. "+a.pubPartNbr+"). ")),"4"===a.pubTypeCd&&a.pubPages&&(a.publicationDesc+="("+e("date")(a.pubDt,"yyyy")+"). "+a.pubTitle+" [Monograph] "+a.pubName+" "+a.pubVol+"("+a.pubPages+")."),("6"===a.pubTypeCd||"7"===a.pubTypeCd)&&(a.publicationDesc+="("+e("date")(a.pubDt,"yyyy")+"). "+a.pubTitle,"6"===a.pubTypeCd&&(a.publicationDesc+=" Poster Presented At: "),"7"===a.pubTypeCd&&(a.publicationDesc+=" Oral Presentation Presented At: "),a.publicationDesc+=a.pubCity,a.publicationDesc+="USA"===a.pubCountryCd?a.pubStateCd:a.pubCountryCd),("8"===a.pubTypeCd||"9"===a.pubTypeCd)&&(a.publicationDesc+="("+e("date")(a.pubDt,"y, MMM d")+"). "+a.pubTitle+" "+a.pubUrl+", Pub Status: "+a.pubStatus.pubStatusDesc+"."),"5"===a.pubTypeCd&&(a.publicationDesc+="("+e("date")(a.pubDt,"y, MMM d")+"). "+a.pubTitle+" "+a.pubName+" "+a.pubStatus.pubStatusDesc+".")},K=function(a){angular.forEach(a.allLanguages,function(b){b.languageProficiencyDescription=b.languageProficiency.languageProficiencyDescription,a.showLanguages=!0})},L=function(a){var b="";("DO"===a.fellowshipType||"DO"===a.residencyType)&&(b=a.nbomeId),a.nbomeIdTransformed=b},M=function(a){a.AAMCAOAIdsTransformed="AAMC ID: "+(a.aamcId?a.aamcId:"")+", AOA ID:"+(a.aoaId?a.aoaId:"")},N=function(a){var b="";angular.forEach(a.allMedLicenses,function(c){b="",c.expDate=c.licenseExpirationMonth+"/"+c.licenseExpirationYear,c.licenseStateCode&&(b=b+c.licenseStateCode+", "),c.licenseType&&(b=b+c.licenseType+", "),b=b+"Exp. Date: "+c.expDate,c.stateLicensesTransformed=b,a.showStateLicense=!0})},O=function(a){angular.forEach(a.allMedicalEducations,function(a){a.campus&&(a.medInstitutionName=a.medInstitutionName+" - "+a.campus.campusName),a.datesAttended=a.medStartMth+"/"+a.medStartyr+" - ",a.medEndMth&&a.medEndYr?a.datesAttended+=a.medEndMth+"/"+a.medEndYr:a.datesAttended+="Present","Y"===a.medDegreeInd?a.degreeObtained="Yes, "+a.degree.degreeDescription+" ("+a.medDegreeCd+")":a.degreeObtained=y(a.medDegreeInd),a.medDegreeMth&&a.medDegreeYr?a.degreeDate=a.medDegreeMth+"/"+a.medDegreeYr:a.degreeDate="";var b=s.get("countries"),c=e("fiterbyproperty")(b,"countryCd",a.medCountryCd,"countryDesc");a.medInstitutionName&&(a.medicalEducationTransformed=a.medInstitutionName+", "+c+", \n"+a.datesAttended),a.medDegreeCd&&(a.medicalEducationTransformed+="\n"+a.degree.degreeDescription+" "+(a.degreeDate?a.degreeDate:""))})},P=function(a){var b="";a.workExperience=[],a.volunteerExperience=[],a.researchExperience=[],angular.forEach(a.allExperiences,function(c){b="",c.orgLoc=c.expOrgName+"\n"+c.expCity+", "+c.expStateCd+", "+c.expCountryCd,c.datesAttended=c.expStartMth+"/"+c.expStartYr+" - ",c.expEndMth&&c.expEndYr?c.datesAttended+=c.expEndMth+"/"+c.expEndYr:c.datesAttended+="Present",c.expDesc=c.experienceType.experienceTypeDesc,b=b+c.datesAttended+"      Average Hours/Week: ",c.expHours?b=b+c.expHours+"\n":b+="\n",b=b+c.expOrgName+", "+c.expStateCd+", "+c.expCountryCd+"\n",c.expPosTitle?b=b+c.expPosTitle+",":b+=" ",c.expSupervisorName?b=b+c.expSupervisorName+"\n":b+="\n",c.expJobDesc&&(b+=c.expJobDesc),"1"===c.experienceType.experienceTypeCd?(a.workExperience.push({workExperienceTransformed:b}),a.showWorkExperience=!0):"2"===c.experienceType.experienceTypeCd?(a.researchExperience.push({researchExperienceTransformed:b}),a.showResearchExperience=!0):"3"===c.experienceType.experienceTypeCd&&(a.volunteerExperience.push({volunteerExperienceTransformed:b}),a.showVolunteerExperience=!0),a.showAllExperiences=!0})},Q=function(a){var b;angular.forEach(a.allHigherEducations,function(c){b="",c.educationTypeIndicator=w[c.educationTypeIndicator],c.educationInstitution=c.educationInstitution+", "+c.location,c.datesAttended=c.educationStartMonth+"/"+c.educationStartYear+" - ",c.educationEndMonth&&c.educationEndYear?c.datesAttended+=c.educationEndMonth+"/"+c.educationEndYear:c.datesAttended+="Present","Y"===c.degreeIndicator?c.degreeObtained="Yes, "+c.degreeCode:c.degreeObtained=y(c.degreeIndicator),c.degreeDate=c.degreeMonth&&c.degreeYear?c.degreeMonth+"/"+c.degreeYear:"",c.educationMajor&&(b=b+c.educationMajor+"\n"),b=b+c.datesAttended+"\n",c.degreeCode&&(b=b+c.degree.degreeDescription+", "+c.degreeDate),c.higherEducationTransformed=b,a.showAllHigherEducations=!0},a)},R=function(a){var b="";angular.forEach(a.allTrainings,function(c){b="",c.inst=c.resPgm+"\n"+c.resCity+",\n"+c.resStateCd+",\n"+c.resCountryCd+", \n"+c.trainingType.ptDesc,d.debug(c.inst),c.datesAttended=c.resStartMth+"/"+c.resStartYr+" - ",c.resEndMth&&c.resEndYr?c.datesAttended+=c.resEndMth+"/"+c.resEndYr:c.datesAttended+="Present",c.totalMonths=H(c.resStartMth,c.resStartYr,c.resEndMth,c.resEndYr).toString(),c.specialtyName=c.specialty.specName,b=b+c.datesAttended+"      Average Hours/Week: \n",b=b+c.trainingType.ptDesc+", ",c.resChiefInd?b=b+c.resChiefInd+"\n":b+="\n",c.resPgm?b=b+c.resPgm+", ":b+=",",c.resPgmDirector&&(b=b+c.resPgmDirector+"\n"),c.resSupervisor&&(b=b+c.resSupervisor+"\n"),c.trainingTransformed=b+"\n",a.showAllTrainings=!0})},S=function(a,b){return a?0!==a[b]:!1};return{createPDF:function(a,b,c){v=b,l.getApplication().then(function(b){d.debug("applicationData: ",b),h.getAllMedLicenses(b.applicationId).then(function(c){c.length>0&&S(c[0].id,"licenseSeqNbr")?b.allMedLicenses=e("orderBy")(c,["licenseType","-licenseExpirationMonth","-licenseExpirationYear"]):b.allMedLicenses=[],j.getAllMedicalEducation(b.applicationId).then(function(c){c?b.allMedicalEducations=e("orderBy")(c,["-medStartMth","-medStartyr","-medEndMth","-medEndYr"]):b.allMedicalEducations=[],j.getAllHigherEducation(b.applicationId).then(function(c){c.length>0&&S(c[0].id,"eduSeqNbr")?b.allHigherEducations=e("orderBy")(c,["educationEndYear","-educationStartMonth"]):b.allHigherEducations=[],l.getCAF(b.applicationId).then(function(c){c?(b.cafData=c,b.cafData.cafHobbiesInterestsDesc=c.cafHobbiesInterestsDesc?c.cafHobbiesInterestsDesc:" ",b.cafData.cafOtherAccomplDesc=c.cafOtherAccomplDesc?c.cafOtherAccomplDesc:" "):b.cafData={},f.findExpectedVisa(b.applicationId).then(function(c){c&&(b.expectedVisa=c),n.getAppSIs().then(function(c){c&&(b.appSIs=c,G(b)),o.getAllTrainee(b.applicationId).then(function(c){c.length>0&&S(c[0].id,"resSeqNbr")?b.allTrainings=e("orderBy")(c,["-resStartYr","-resStartMth","-resEndYr","-resEndMth"]):b.allTrainings=[],q.getAllExperiences(b.applicationId).then(function(c){c.length>0&&S(c[0].id,"expSeqNbr")?b.allExperiences=e("orderBy")(c,["-expStartYr","-expStartMth","-expEndYr","-expEndMth"]):b.allExperiences=[],p.getAllPublications(b.applicationId).then(function(c){c.length>0&&S(c[0].id,"pubSeqNbr")?b.allPublications=c:b.allPublications=[],r.getAppLangs(b.applicationId).then(function(c){c&&(b.allLanguages=c),A(b),B(b),d.debug(b),v&&v.content&&v.content.length>0&&("open"===a?m.createPdf({},v,"open","Application.pdf"):m.createPdf({},v,"download","Application.pdf"))})})})})})})})})})})})}}}]),angular.module("myeras.printCVService",[]).factory("printCVService",["$q","APP_CONFIG","Restangular","$log","$filter","applicationService","licensureService","generalService","urlService",function(a,b,c,d,e,f,g,h,j){var l,m,n,o=(j.authService,j.appService),p={},q=function(a){a.fullNameTransformed="",(a.firstName||a.middleName||a.suffix)&&(a.firstName&&(a.fullNameTransformed=a.lastName+", "+a.firstName),a.middleName&&(a.fullNameTransformed+=", "+a.middleName),a.suffix&&(a.fullNameTransformed+=" "+a.suffix),a.preferredName&&(a.fullNameTransformed+=" "+a.preferredName)),a.cafSexTransformed="No Response","M"===p.cafSex?a.cafSexTransformed="Male":"F"===p.cafSex&&(a.cafSexTransformed="Female"),a.nrmpIndicatorTransform="No","Y"===p.nrmpIndicator&&(a.nrmpIndicatorTransform="Yes"),a.nrmpPartnerIndicatorTransformed="No","Y"===p.nrmpPartnerIndicator&&(a.nrmpPartnerIndicatorTransformed="Yes"),a.visaSponsorshipTransformed="No","Y"===p.visaSponsorship&&(a.visaSponsorshipTransformed="Yes"),a.expectedVisaTransformed="",a.expectedVisa&&(null!==a.expectedVisa.evB1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"B-1 - Temporary visitor for business\n"),null!==a.expectedVisa.evB2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"B-2 - Temporary visitor for pleasure\n"),null!==a.expectedVisa.evDS&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Diplomatic Service\n"),null!==a.expectedVisa.evE2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"E-2 - Treaty investor, spouse and children(Employement Authorization Document - EAD)\n"),null!==a.expectedVisa.evEAD&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Employment Authorization Document (EAD)\n"),null!==a.expectedVisa.evF1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"F-1 - Academic student (Employement Authorization Document - Optional Practical Training - OPT)\n"),null!==a.expectedVisa.evF2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"F-2 - Spouse or child of F-1\n"),null!==a.expectedVisa.evH1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-1 - Temporary worker\n"),null!==a.expectedVisa.evH1b&&(a.expectedVisaTransformed=a.expectedVisaTransformed+">H-1B - Specialty occupation, DOD worker, etc.\n"),null!==a.expectedVisa.evH4&&(a.expectedVisaTransformed=a.expectedVisaTransformed+">H-4 - Spouse or child of H-1, H-2, H-3\n"),null!==a.expectedVisa.evImm&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Immigrant\n"),null!==a.expectedVisa.H2b&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-2B - Temporary worker - skilled and unskilled\n"),null!==a.expectedVisa.H2b&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"H-2B - Temporary worker - skilled and unskilled\n"),null!==a.expectedVisa.evJ1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"J-1 - Visa for exchange visitor\n"),null!==a.expectedVisa.evJ2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"J-2 - Spouse or child of J-1 (Employment Authorization document - EAD)\n"),null!==a.expectedVisa.evL2&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"L-2 - Dependent of Intra-Company Transferee (Employment Authorization Document - EAD)\n"),null!==a.expectedVisa.evO1&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"O-1 - Extraordinary ability in sciences, arts, education, business or atheletics\n"),null!==a.expectedVisa.evTn&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"TN - NAFTA trade visa for Canadians and Mexicans\n"),null!==a.expectedVisa.evOth&&(a.expectedVisaTransformed=a.expectedVisaTransformed+"Other\n")),a.nmsIndicatorTransformed="No","Y"===a.nmsIndicator&&(a.nmsIndicatorTransformed="Yes"),a.nmsPartnerIndicatorTransformed="No","Y"===a.nmsPartnerIndicator&&(a.nmsPartnerIndicatorTransformed="Yes"),a.fullPresentAddressTransformed="",(a.cafHomeAddr1||a.cafHomeAddr2||a.cafHomeCity||a.cafHomeStateCd||a.cafHomePostCd)&&(a.cafHomeAddr1&&(a.fullPresentAddressTransformed=a.cafHomeAddr1+"\n"),a.cafHomeAddr2&&(a.fullPresentAddressTransformed=a.fullPresentAddressTransformed+a.cafHomeAddr2+"\n"),a.cafHomeCity&&(a.fullPresentAddressTransformed=a.fullPresentAddressTransformed+a.cafHomeCity+", "+a.cafHomeStateCd+" "+a.cafHomePostCd+"\n"),a.fullPresentAddressTransformed=a.fullPresentAddressTransformed+p.cafHomeCountryCd),a.fullPremanentAddressTransformed="",(a.contactAddress1||a.contactAddress2||a.contactCity||a.contactStateCode||a.contactPostalCode)&&(a.contactAddress1&&(a.fullPremanentAddressTransformed=a.contactAddress1+"\n"),a.contactAddress2&&(a.fullPremanentAddressTransformed=a.fullPremanentAddressTransformed+a.contactAddress2+"\n"),a.contactCity&&(a.fullPremanentAddressTransformed=a.fullPremanentAddressTransformed+a.contactCity+", "+a.contactStateCode+" "+a.contactPostalCode+"\n"),a.fullPremanentAddressTransformed=a.fullPremanentAddressTransformed+p.contactCountryCode),a.cafMilServiceObligIndTransformed="No","Y"===a.cafMilServiceObligInd&&(a.cafMilServiceObligIndTransformed="Yes"),a.cafMilBranchCdTransformed="No",1===a.cafMilBranchCd&&(a.cafMilBranchCdTransformed="Army"),2===a.cafMilBranchCd&&(a.cafMilBranchCdTransformed="Navy"),3===a.cafMilBranchCd&&(a.cafMilBranchCdTransformed="Air Force"),4===a.cafMilBranchCd&&(a.cafMilBranchCdTransformed="Other"),a.cafOtherServiceObligIndTransformed="No","Y"===a.cafOtherServiceObligInd&&(a.cafOtherServiceObligIndTransformed="Yes"),a.cafMisdemeanorIndTransformed="No","Y"===a.cafMisdemeanorInd&&(a.cafMisdemeanorIndTransformed="Yes"),a.cafFelonyIndTransformed="No","Y"===a.cafFelonyInd&&(a.cafFelonyIndTransformed="Yes"),a.cafNoLimitationsIndTransformed="No","Y"===a.cafNoLimitationsInd&&(a.cafNoLimitationsIndTransformed="Yes"),a.aclsIndicatorTransformed="No","Y"===a.aclsIndicator&&(a.aclsIndicatorTransformed="Yes"),a.aclsIndicatorTransformed="No","Y"===a.palsIndicator&&(a.palsIndicatorTransformed="Yes"),a.blsIndicatorTransformed="No","Y"===a.blsIndicator&&(a.blsIndicatorTransformed="Yes"),a.cafDeaRegNbrTransformed="None","Y"===a.cafDeaRegNbr&&(a.cafDeaRegNbrTransformed="Yes"),a.cafDeaRegExpTransformed="None",a.cafDeaRegExpMth&&cafDeaRegExpYr&&(a.cafDeaRegExpTransformed=p.cafDeaRegExpMth+"/"+p.cafDeaRegExpYr),a.cafBoardCertifiedIndTransformed="No","Y"===a.cafBoardCertifiedInd&&(a.cafBoardCertifiedIndTransformed="Yes"),a.cafLicensureProblemIndTransformed="No","Y"===a.cafLicensureProblemInd&&(a.cafLicensureProblemIndTransformed="Yes"),a.cafMalpracticeIndTransformed="No","Y"===a.cafMalpracticeInd&&(a.cafMalpracticeIndTransformed="Yes"),a.cafPastHistoryIndTransformed="No","Y"===a.cafPastHistoryInd&&(a.cafPastHistoryIndTransformed="Yes"),a.cafEducInterruptIndTransformed="No","Y"===a.cafEducInterruptInd&&(a.cafEducInterruptIndTransformed="Yes"),a.membershipsTransformed="",a.aoaCode||a.sspCode||a.ghhsCode||a.cafMembershipsDesc||(a.membershipsTransformed="none")},r=function(a){p=a,v(w,p)},s=function(a,b){var c,d,e=!1,f=" ";return c=a.substr(a.indexOf(".")+1),c.indexOf(".")>0&&(d=c.substr(c.indexOf(".")+1),c=c.substr(0,c.indexOf(".")),e=!0),b[c]&&(f=e?b[c][d].toString():b[c].toString()),f},t=function(a,b){var c,d,e,f,g,h,j,l;if(a.body){for(g=a.headerRows,h=g,j=a.body[g],e=a.ngRepeat.substr(a.ngRepeat.indexOf(".")+1),c=b[e],i=0;i<c.length;i++){for(newTableRowObjs=[],k=0;k<j.length;k++)l=j[k].ngModel,c[i][l]?newTableRowObjs.push({text:c[i][l]}):newTableRowObjs.push({text:" "});a.body.splice(h,0,newTableRowObjs),h++}a.body.splice(h,1)}else for(d=a.ngModel.substr(a.ngModel.indexOf(".")+1),e=a.ngRepeat.substr(a.ngRepeat.indexOf(".")+1),c=b[e],i=0;i<c.length;i++)f=c[i],a.stack.push(c[i][d])},u=function(a,b){var c;_.remove(w.content,function(a){return a.ngShow?(c=a.ngShow.substr(a.ngShow.indexOf(".")+1),this[c]?!1:!0):!1},b)},v=function(a,b){var c,d=null;if(a instanceof Array)for(var e=0;e<a.length;e++)m=e,d=v(a[e],b);else{c=a;for(var f in a)"ngModel"==f&&null!==a.ngModel&&""!==a.ngModel&&(a.text=s(a.ngModel,b)),"ngRepeat"==f&&null!==a.ngRepeat&&""!==a.ngRepeat&&t(a,b),"ngShow"==f&&null!==a.ngShow&&""!==a.ngShow&&u(a,b),(a[f]instanceof Object||a[f]instanceof Array)&&(d=v(a[f],b))}},w={header:{columns:[{text:"MyERAS Application Form ",alignment:"center"}]},content:[{text:"General Information",style:"header"},{alignment:"left",style:"row",columns:[{width:"auto",text:"Name:",bold:!0},{width:"*",text:"",ngModel:"applicantData.fullNameTransformed"},{width:"auto",text:"Applicant ID:",bold:!0},{width:"*",text:"",ngModel:"applicantData.applicationId"}]},{alignment:"left",style:"row",columns:[{text:"Previous Last Name"},{text:"",ngModel:"applicationData.previousLastName"},{text:"AAMC ID:"},{text:"",ngModel:"applicationData.aamcId"}]},{alignment:"left",style:"row",columns:[{text:"Preferred Name:"},{text:"",ngModel:"applicationData.preferredName"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"School:"},{width:"*",text:"",ngModel:"applicationData.inst.instName"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"USMLE ID:"},{width:"*",text:"",ngModel:"applicationData.usmleId"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"NBOME ID:"},{text:"",ngModel:"applicationData.nbomeId"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"AUA ID:"},{text:"",ngModel:"applicationData.auaNumber"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"E-mail:"},{width:"*",text:"",ngModel:"applicationData.email"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Gender:"},{width:"*",text:"",ngModel:"applicantData.cafSexTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Birth Date:"},{width:"*",text:"",ngModel:"applicantData.cafDob"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Birth place:"},{width:"*",text:"",ngModel:"applicantData.cafBirthPlace"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Citizenship:",bold:!0},{width:"*",text:"",ngModel:"applicationData.citizenship.citizenshipDescription"},{width:"auto",text:"NRMP ID:",bold:!0},{width:"*",text:"",ngModel:"applicationData.nrmpId"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Current Visa/Employment Authorization Status:",bold:!0},{width:"*",text:"",ngModel:"applicationData.visa.visaDescription"},{width:"auto",text:"Participating in the NRMP Match:",bold:!0},{width:"*",text:"",ngModel:"applicationData.nrmpIndicatorTransform"}]},{alignment:"left",style:"row",columns:[{width:"100%",text:""},{width:"100%",text:""},{width:"auto",text:"Participating as a Couple in NRMP:",bold:!0},{width:"*",text:"",ngModel:"applicationData.nrmpPartnerIndicatorTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Visa Sponsorship Needed:",bold:!0},{width:"*",text:"",ngModel:"applicationData.visaSponsorshipTransformed"},{width:"auto",text:"NRMP Partner’s Name:",bold:!0},{width:"*",text:"",ngModel:"applicationData.nrmpPartnerName"}]},{alignment:"left",style:"rowHeader",columns:[{columns:[{text:"Expected Visa /Employment Authorization Status (s):"},{text:"Specialties NRMP Partner is applying to:"}]}]},{alignment:"left",style:"row",columns:[{columns:[{text:"",ngModel:"applicationData.expectedVisaTransformed"},{text:"",ngModel:"applicationData.nrmpPartnerSpec"}]}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},"Self Identification:",{alignment:"left",style:"row",columns:[{text:" "}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"AOA ID:"},{width:"*",text:"",ngModel:"applicationData.aoaId"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"AOA Match ID:"},{width:"*",text:"",ngModel:"applicationData.nmsId"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"Participating in the NMS Match:"},{width:"*",text:"",ngModel:"applicationData.nmsIndicatorTransformed"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"Participating as a Couple in NMS:"},{width:"*",text:"",ngModel:"applicationData.nmsPartnerIndicatorTransformed"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"NMS Partner’s NamE:"},{width:"*",text:"",ngModel:"applicationData.nmsPartnerName"}]},{alignment:"left",style:"row",columns:[{width:"25%",text:""},{width:"25%",text:""},{width:"auto",text:"Specialties NMS Partner is applying to:"},{width:"*",text:"",ngModel:"applicationData.applicationData.nmsPartnerSpec"}]},{alignment:"left",style:"row",columns:[{text:"Present Mailing Address:",bold:!0},{text:"Permanent Mailing Address:",bold:!0}]},{alignment:"left",style:"row",columns:[{width:"*",text:"",ngModel:"applicationData.fullPresentAddressTransformed"},{width:"*",text:"",ngModel:"applicationData.fullPermanentAddressTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Preferred Phone #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.contactPhone1"},{width:"auto",text:"Phone:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafHomePhone1"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Alternate Phone #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.contactPhone2"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Mobile #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.contactCellNumber"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Pager #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.contactBeeperNumber"}]},{alignment:"left",columns:[{width:"auto",text:"Fax #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.faxNumber"}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{alignment:"left",style:"row",columns:[{width:"auto",text:"Military Service Obligation/Deferment?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafMilServiceObligIndTransformed"}]},{alignment:"left",style:"row",ngShow:"applicantData.cafMilServiceYrs",columns:[{width:"auto",text:"Years Remaining?:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafMilServiceYrs"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Military Branch:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafMilBranchCdTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Other Service Obligation?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafOtherServiceObligIndTransformed"}]},{alignment:"left",ngShow:"applicantData.cafOtherServiceDesc",columns:[{width:"auto",text:"Description:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafOtherServiceDesc"}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{alignment:"left",style:"row",columns:[{width:"auto",text:"Misdemeanor Conviction in the United States?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafMisdemeanorIndTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicationData.applicantData.cafMisdemeanorDesc"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Felony Conviction in the United States?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafFelonyIndTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicationData.applicantData.cafFelonyDesc"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Limitations?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafNoLimitationsIndTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafLimitationsDesc"}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{text:"Medical Licensure ",style:"header"},{alignment:"left",style:"row",columns:[{width:"auto",text:"ACLS:",bold:!0},{width:"*",text:"",ngModel:"applicationData.aclsIndicatorTransformed"},{width:"auto",text:"Exp. Date:",bold:!0},{width:"*",text:"",ngModel:"applicationData.aclsExpireDt"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"PALS:",bold:!0},{width:"*",text:"",ngModel:"applicationData.aclsIndicatorTransformed"},{width:"auto",text:"Exp. Date:",bold:!0},{width:"*",text:"",ngModel:"applicationData.applicationData.palsExpireDt"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"BLS:",bold:!0},{width:"*",text:"",ngModel:"applicationData.blsIndicatorTransformed"},{width:"auto",text:"Exp. Date:",bold:!0},{width:"*",text:"",ngModel:"applicationData.blsExpireDt"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"DEA Reg. #:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafDeaRegNbrTransformed"},{width:"auto",text:"Exp. Date:",bold:!0},{width:"*",text:"",
ngModel:"applicationData.cafDeaRegExpTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"DEA Reg. #22222:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafDeaRegNbrTransformed"},{width:"auto",text:"Exp. Date22222:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafDeaRegExpTransformed"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Board Certification:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafBoardCertifiedIndTransformed"},{width:"auto",text:"Name:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafBoardCertifiedName"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Medical Licensure Suspended/Revoked/Voluntarily Terminated:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafLicensureProblemIndTransformed"}]},{alignment:"left",style:"row",ngShow:"applicantData.cafLicensureProblemDesc",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafLicensureProblemDesc"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Ever Named in a Malpractice Suit?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafMalpracticeIndTransformed"}]},{alignment:"left",style:"row",ngShow:"applicantData.cafMalpracticeDesc",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafMalpracticeDesc"}]},{alignment:"left",style:"row",columns:[{width:"auto",text:"Past History?:",bold:!0},{width:"*",text:"",ngModel:"applicationData.cafPastHistoryIndTransformed"}]},{alignment:"left",style:"row",ngShow:"applicantData.cafPastHistoryDesc",columns:[{width:"auto",text:"Explanation:",bold:!0},{width:"*",text:"",ngModel:"applicantData.cafPastHistoryDesc"}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{text:"State Medical Licenses",style:"header"},{table:{headerRows:1,widths:["*","*","*","*"],style:"row",ngRepeat:"applicationData.allMedLicenses",body:[["Type","Number","State","Exp Date"],[{text:"[License Type]",ngModel:"licenseType"},{text:"[License Number]",ngModel:"licenseNumber"},{text:"[License State]",ngModel:".licenseStateCode"},{text:"[License Exp. Date mm/yyyy]",ngModel:"licenseExpirationMonth"}]]}},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{text:"Medical Education",style:"header"},{table:{headerRows:1,widths:["*","*","*","*"],ngRepeat:"applicationData.allMedicalEducations",body:[["Institution & Location","Dates Attended","Degree","Date of Degree"],[{text:"[Institution]\n[Location or Country if not USA]\nClinical Campus: [Clinical Campus Name],\n[Clinical Campus Other ]",ngModel:"medInstitutionName"},{text:"[Start Date mm/yyyy] - [End Date mm/yyyy]",ngModel:"medStartMth"},{text:"[Yes], [Degree] or [No]",ngModel:"medDegreeCd"},{text:"[Degree Date mm/yyyy]",ngModel:"medDegreeMth"}],[{text:"Medical Education/Training Extended or Interrupted?"},{text:"",ngModel:"applicationData.cafEducInterruptIndTransformed",colSpan:3},{text:""},{text:""}],[{text:"Explanation:[If Yes, Extended., Interrupted. Explanation]"},{text:"",ngModel:"applicantData.cafEducInterruptDesc",colSpan:3},{text:""},{text:""}]]}},{text:"Medical School Honors/Awards",style:"header"},{table:{widths:["*"],style:"row",body:[[{text:"",ngModel:"applicantData.cafAwardsDesc"}]]}},{text:"Membership in Honorary/Professional Societies",style:"header"},{table:{widths:["*"],style:"row",body:[[{text:"",ngModel:"applicationData.membershipsTransformed"}]]}},{text:"Education",style:"header"},{table:{headerRows:1,widths:["*","*","*","*","*","*"],body:[["Education","Institution & Location","Dates Attended","Degree","Degree Date","Field of Study"],[{text:"[Institution]\n[Location or Country if not USA]\nClinical Campus: [Clinical Campus Name],\n[Clinical Campus Other ]"},{text:"[Start Date mm/yyyy] - [End Date mm/yyyy]"},{text:"[Yes], [Degree] or [No]"},{text:"[Degree Date mm/yyyy]"},{text:"[Degree Date mm/yyyy]"},{text:"[Degree Date mm/yyyy]"}]]}}],styles:{myBold:{bold:!0,fontSize:18},row:{margin:[0,0,0,2]},rowHeader:{margin:[0,10,0,10]},header:{fontSize:18,margin:[0,0,0,10]}},defaultStyle:{columnGap:10,fontSize:10}};return{getApplication:function(){var b=a.defer();return f.applicationId&&l&&l.applicationId.toString()!==f.applicationId.toString()&&(delete f.applicationId,l=null),l?(d.debug("APPLICATION SERVICE - FOUND LOCAL COPY OF APP. RETURNING A COPY OF THIS OBJECT"),b.resolve(angular.copy(l)),b.promise):f.applicationId?(d.debug("APPLICATION SERVICE - GETTING APP FROM COOKIE ..."),o.one("applications",f.applicationId).get()):(d.debug("NO LOCAL APP OR COOKIE FOUND. RETURNING AN EMPTY PROMISE ..."),b.resolve(),b.promise)},getParentSis:function(a){angular.forEach(appSIs,function(a){a.siDisplaySeq=a.selfIdentification.siDisplaySeq,a.childSis=[]}),angular.forEach(appSIs,function(a){var b=a.selfIdentificationCode,c=function(a,b){angular.forEach(appSIs,function(c){var e=c.selfIdentification.siParentId;a==e&&(d.debug("returning child SI"),d.debug(c),b.childSis.push(c))})};c(b,a)}),n=e("selfidentification")(appSIs)},createPDF:function(a){this.getApplication().then(function(b){g.getAllMedLicenses(b.applicationId).then(function(c){h.getAllMedicalEducation(b.applicationId).then(function(c){b.allMedicalEducations=c,b.allMedLicenses=c,q(b),r(b),"open"===a?pdfMake.createPdf(w).open():pdfMake.createPdf(w).download()})})})}}}]),function(){"use strict";function a(){return pdfMake}angular.module("myeras.pdfMakeService",[]).factory("pdfMakeService",a)}(),function(){"use strict";function a(){var a,b;return b="pdfmakeCVService",a={name:b,getDataDef:function(){return{content:[{alignment:"center",style:"row",columns:[{text:"",ngModel:"applicantData.fullNameTransformed"}]},{alignment:"center",style:"row",columns:[{text:"",ngModel:"applicantData.AAMCAOAIdsTransformed"}]},{text:"",style:"rowHeader"},{alignment:"left",style:"rowTitle",columns:[{width:"10%",text:""},{width:"40%",text:"Present Mailing Address",bold:!0},{width:"10%",text:""},{width:"40%",text:"Permanent Mailing Address",bold:!0}]},{alignment:"left",style:"row",columns:[{width:"10%",text:""},{width:"40%",text:"",ngModel:"applicationData.fullPresentAddressTransformed"},{width:"10%",text:""},{width:"40%",text:"",ngModel:"applicationData.fullPermanentAddressTransformed"}]},{alignment:"left",style:"row",columns:[{width:"10%",text:""},{width:"40%",columns:[{text:"Preferred Phone:"},{text:"",ngModel:"applicationData.contactPhone1"}]},{width:"10%",text:""},{width:"40%",text:"",ngModel:"applicationData.cafData.cafHomePhone1"}]},{alignment:"left",style:"row",columns:[{width:"10%",text:""},{width:"40%",columns:[{text:"Alternate Phone:"},{text:"",ngModel:"applicationData.contactPhone2"}]},{width:"10%",text:""},{width:"40%",text:""}]},{alignment:"left",style:"row",columns:[{width:"10%",text:""},{width:"40%",columns:[{text:"Mobile Phone:"},{text:"",ngModel:"applicationData.contactCellNumber"}]},{width:"10%",text:""},{width:"40%",text:""}]},{alignment:"left",style:"row",columns:[{width:"10%",text:""},{width:"40%",columns:[{width:"auto",text:"Email:"},{width:"auto",text:"",ngModel:"applicationData.email"}]},{width:"10%",text:""},{width:"40%",text:""}]},{text:"",style:"rowHeader"},{text:"Medical Education",style:"header"},{table:{ngRepeat:"applicationData.allMedicalEducations",body:[[{text:"",ngModel:"medicalEducationTransformed"}]]},layout:"noBorders"},{text:"",style:"rowHeader"},{text:"Education",style:"header"},{table:{widths:["*"],ngShow:"showAllHigherEducations",ngRepeat:"applicationData.allHigherEducations",style:"tableRow",body:[[{text:"",ngModel:"higherEducationTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Membership and Honorary/Professional Societies",style:"header"},{alignment:"left",style:"row",ngShow:"membershipsTransformed",columns:[{width:"*",text:"",ngModel:"applicationData.membershipsTransformed"}]},"\n\n",{text:"Medical School Awards",style:"header"},{alignment:"left",style:"row",columns:[{width:"*",text:"",ngModel:"applicationData.cafData.cafAwardsDescTransformed"}]},{text:"",style:"rowHeader"},{text:"Certification/Licensure",style:"header"},{alignment:"left",style:"row",columns:[{width:"*",text:"",ngModel:"applicationData.certLicTransformed"}]},{text:"",ngModel:"applicantData.cafData.cafBoardCertifiedName"},"\n\n",{text:"State Licenses",style:"header"},{table:{ngShow:"showStateLicense",ngRepeat:"applicationData.allMedLicenses",body:[[{text:"",ngModel:"stateLicensesTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Work Experience",style:"header"},{table:{ngShow:"showWorkExperience",ngRepeat:"applicationData.workExperience",body:[[{text:"",ngModel:"workExperienceTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Volunteer Experience",style:"header"},{table:{ngShow:"showVolunteerExperience",ngRepeat:"applicationData.volunteerExperience",body:[[{text:"",ngModel:"volunteerExperienceTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Current/Prior Training",style:"header"},{table:{ngShow:"showAllTrainings",ngRepeat:"applicationData.allTrainings",body:[[{text:"",ngModel:"trainingTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Research Experience",style:"header"},{table:{ngShow:"showResearchExperience",ngRepeat:"applicationData.researchExperience",body:[[{text:"",ngModel:"researchExperienceTransformed"}]]},layout:"noBorders"},"\n\n",{text:"Publications",style:"header"},{table:{widths:["*"],ngShow:"showPublications",ngRepeat:"applicationData.allPublications",body:[[{text:"[Publication]",ngModel:"publicationDesc"}]]},layout:"noBorders"},"\n\n",{text:"Hobbies & Interests",style:"header"},{alignment:"left",style:"row",columns:[{text:"",ngModel:"applicationData.cafData.cafHobbiesInterestsDesc"}]},"\n\n",{text:"Language Fluency",style:"header"},{table:{headerRows:1,widths:["*","*","*"],ngShow:"showLanguages",ngRepeat:"applicationData.allLanguages",body:[["Language","Language Proficiency","Proficiency Description"],[{text:"[Language]",ngModel:"languageDescription"},{text:"[Language Proficiency]",ngModel:"languageProficiencyDescription"},{text:"[Proficiency Description]",ngModel:"lpNotes"}]]}},"\n\n",{text:"Other Awards/Accomplishments",style:"header"},{alignment:"left",style:"row",columns:[{text:"",ngModel:"applicationData.cafData.cafOtherAccomplDesc"}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}}],styles:{myBold:{bold:!0,fontSize:18},row:{fontSize:10,margin:[0,0,0,2]},rowTitle:{fontSize:11,margin:[0,0,0,2]},rowHeader:{margin:[0,10,0,10]},header:{fontSize:12,bold:!0,margin:[0,0,0,3]},title:{fontSize:11},table:{border:0}},defaultStyle:{columnGap:10,fontSize:10}}}}}angular.module("myeras.pdfmakeCVService",[]).factory("pdfmakeCVService",a)}(),function(){"use strict";function a(){function a(){return{alignment:"left",margin:[0,10,0,10],table:{widths:["3%","96%","3%"],style:"row",body:[[{text:""},{text:"MyERAS Application Form",alignment:"left",width:95},{text:""}]]},layout:"noBorders"}}function b(a,b){return{margin:[0,10,0,10],table:{widths:["3%","96%","3%"],style:"row",body:[[{text:""},{text:"Page "+a+" of "+b,alignment:"right"},{text:""}]]},layout:"noBorders"}}var c,d;return d="pdfmakeAppService",c={name:d,getDataDef:function(){var c={header:function(){return a()},footer:function(a,c){return b(a,c)},content:[{text:"General Information",style:"header"},{alignment:"left",style:"row",columns:[{text:"Name:"},{text:"",ngModel:"applicantData.fullNameTransformedAlt",italics:!0},{text:"Applicant ID:"},{text:"",ngModel:"applicantData.applicationId",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Previous Last Name"},{text:"",ngModel:"applicationData.previousLastName",italics:!0},{text:"AAMC ID:"},{text:"",ngModel:"applicationData.aamcId",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Preferred Name:"},{text:"",ngModel:"applicationData.preferredName",italics:!0},{text:""},{text:""}]},{style:"row",table:{widths:["*","*","*","*"],body:[[{rowSpan:3,text:"School"},{rowSpan:3,text:"",ngModel:"applicationData.inst.instName",italics:!0},{text:"USMLE ID"},{text:"",ngModel:"applicationData.usmleId",italics:!0}],[{text:"nothing interesting here 21",italics:!0,color:"gray"},{text:"nothing interesting here 22",italics:!0,color:"gray"},{text:"NBOME"},{text:"",ngModel:"applicationData.nbomeIdTransformed",italics:!0}],[{text:"nothing interesting here 31",italics:!0,color:"gray"},{text:"nothing interesting here 32",italics:!0,color:"gray"},{text:"AUA ID"},{text:"",ngModel:"applicationData.auaNumber",italics:!0}]]},layout:"noBorders"},{alignment:"left",style:"row",columns:[{text:"E-mail:"},{text:"",ngModel:"applicationData.email",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Gender:"},{text:"",ngModel:"applicantData.cafData.cafSexTransformed",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Birth Date:"},{text:"",ngModel:"applicantData.cafData.cafDob",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Birth place:"},{text:"",ngModel:"applicantData.cafData.cafBirthPlace",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Citizenship:"},{text:"",ngModel:"applicationData.citizenship.citizenshipDescription",italics:!0},{text:"NRMP ID:"},{text:"",ngModel:"applicationData.nrmpId",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Current Visa/Employment Authorization Status:"},{text:"",ngModel:"applicationData.visa.visaDescription",italics:!0},{text:"Participating in the NRMP Match:"},{text:"",ngModel:"applicationData.nrmpIndicatorTransform",italics:!0}]},{alignment:"left",style:"row",columns:[{text:""},{text:""},{text:"Participating as a Couple in NRMP:"},{text:"",ngModel:"applicationData.nrmpPartnerIndicatorTransformed",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Visa Sponsorship Needed:"},{text:"",ngModel:"applicationData.visaSponsorshipTransformed",italics:!0},{text:"NRMP Partner’s Name:"},{text:"",ngModel:"applicationData.nrmpPartnerName",italics:!0}]},{alignment:"left",style:"rowHeader",columns:[{columns:[{text:"Expected Visa /Employment Authorization Status (s):",style:"label"},{text:"",ngModel:"applicationData.expectedVisaTransformed",italics:!0},{text:"Specialties NRMP Partner is applying to:"},{text:"",ngModel:"applicationData.nrmpPartnerSpec",italics:!0}]}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},"Self Identification:",{table:{widths:["*","*"],body:[[[{table:{widths:[10,"*"],body:[[{text:""},{text:"",ngModel:"applicationData.siTransformed",italics:!0}]]},layout:"noBorders"}],[{table:{widths:[120,"*"],body:[[{text:"AOA Match ID:"},{text:"",ngModel:"applicationData.nmsId",italics:!0}],[{text:"Participating in the NMS Match:"},{text:"",ngModel:"applicationData.nmsIndicatorTransformed",italics:!0}],[{text:"Participating as a Couple in NMS:"},{text:"",ngModel:"applicationData.nmsPartnerIndicatorTransformed",italics:!0}],[{text:"NMS Partner's Name:"},{text:"",ngModel:"applicationData.nmsPartnerName",italics:!0}],[{text:"Specialties NMS Partner is applying to:"},{text:"",ngModel:"applicationData.nmsPartnerSpec",italics:!0}]]},layout:"noBorders"}]]]},layout:"noBorders"},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{alignment:"left",style:"row",columns:[{text:"Present Mailing Address:",bold:!0},{text:"Permanent Mailing Address:",bold:!0}]},{alignment:"left",style:"row",columns:[{text:"",ngModel:"applicationData.fullPresentAddressTransformed",italics:!0},{text:"",ngModel:"applicationData.fullPermanentAddressTransformed",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Preferred Phone #:"},{text:"",ngModel:"applicationData.contactPhone1",italics:!0},{text:"Phone:"},{text:"",ngModel:"applicantData.cafData.cafHomePhone1",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Alternate Phone #:"},{text:"",ngModel:"applicationData.contactPhone2",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Mobile #:"},{text:"",ngModel:"applicationData.contactCellNumber",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Pager #:"},{text:"",ngModel:"applicationData.contactBeeperNumber",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",columns:[{text:"Fax #:"},{text:"",ngModel:"applicationData.faxNumber",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{alignment:"left",style:"row",columns:[{text:"Military Service Obligation/Deferment?:"},{text:"",ngModel:"applicationData.cafData.cafMilServiceObligIndTransformed",italics:!0},{ngShow:"applicantData.cafData.cafMilServiceYrs",text:"Years Remaining"},{ngShow:"applicantData.cafData.cafMilServiceYrs",text:"",ngModel:"applicationData.cafData.cafMilServiceYrs",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Military Branch:"},{text:"",ngModel:"applicationData.cafData.cafMilBranchCdTransformed",italics:!0},{width:"25%",text:""},{width:"25%",text:""}]},{alignment:"left",style:"row",columns:[{text:"Other Service Obligation?:"},{text:"",ngModel:"applicationData.cafData.cafOtherServiceObligIndTransformed",italics:!0},{text:"Description"},{text:"",ngModel:"applicationData.cafData.cafOtherServiceDesc",italics:!0}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{alignment:"left",style:"row",columns:[{text:"Misdemeanor Conviction in the United States?:"},{text:"",ngModel:"applicationData.cafData.cafMisdemeanorIndTransformed",italics:!0}]},{alignment:"left",style:"row",ngShow:"applicationData.cafData.cafMisdemeanorDesc",columns:[{text:"Explanation:"},{text:"",ngModel:"applicationData.cafData.cafMisdemeanorDesc",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Felony Conviction in the United States?:"},{text:"",ngModel:"applicationData.cafData.cafFelonyIndTransformed",italics:!0}]},{alignment:"left",style:"row",ngShow:"applicationData.cafData.cafFelonyDesc",columns:[{text:"Explanation:"},{text:"",ngModel:"applicationData.cafData.cafFelonyDesc",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Limitations?:"},{text:"",ngModel:"applicationData.cafData.cafNoLimitationsIndTransformed",italics:!0}]},{alignment:"left",style:"row",ngShow:"applicationData.cafData.cafLimitationsDesc",columns:[{text:"Explanation:"},{text:"",ngModel:"applicantData.cafData.cafLimitationsDesc",italics:!0}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{text:"Medical Licensure ",style:"header"},{alignment:"left",style:"row",columns:[{text:"ACLS:"},{text:"",ngModel:"applicationData.aclsIndicatorTransformed",italics:!0},{text:"Exp. Date:"},{text:"",ngModel:"applicationData.aclsExpireDt",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"PALS:"},{text:"",ngModel:"applicationData.palsIndicatorTransformed",italics:!0},{text:"Exp. Date:"},{text:"",ngModel:"applicationData.palsExpireDt",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"BLS:"},{text:"",ngModel:"applicationData.blsIndicatorTransformed",italics:!0},{text:"Exp. Date:"},{text:"",ngModel:"applicationData.blsExpireDt",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"DEA Reg. #:"},{text:"",ngModel:"applicationData.cafData.cafDeaRegNbr",italics:!0},{text:"Exp. Date:"},{text:"",ngModel:"applicationData.cafData.cafDeaRegExpTransformed",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Board Certification:"},{text:"",ngModel:"applicationData.cafData.cafBoardCertifiedIndTransformed",italics:!0},{text:"Name:"},{text:"",ngModel:"applicantData.cafData.cafBoardCertifiedName",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Medical Licensure Suspended/Revoked/Voluntarily Terminated:"},{text:"",ngModel:"applicationData.cafData.cafLicensureProblemIndTransformed",italics:!0},{text:"Explanation:"},{text:"",ngModel:"applicantData.cafData.cafLicensureProblemDesc",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Ever Named in a Malpractice Suit?:"},{text:"",ngModel:"applicationData.cafData.cafMalpracticeIndTransformed",italics:!0},{text:"Explanation:"},{text:"",ngModel:"applicantData.cafData.cafMalpracticeDesc",italics:!0}]},{alignment:"left",style:"row",columns:[{text:"Past History?:"},{text:"",ngModel:"applicationData.cafData.cafPastHistoryIndTransformed",italics:!0},{text:"Explanation:"},{text:"",ngModel:"applicantData.cafData.cafPastHistoryDesc",italics:!0}]},{table:{widths:["*"],body:[[" "],[" "]]},layout:{hLineWidth:function(a,b){return 0===a||a===b.table.body.length?0:1},vLineWidth:function(a,b){return 0}}},{text:"State Medical Licenses",style:"header"},{table:{headerRows:1,widths:["*","*","*","*"],style:"row",ngShow:"showStateLicense",ngRepeat:"applicationData.allMedLicenses",body:[["Type","Number","State","Exp Date"],[{text:"[License Type]",ngModel:"licenseType",italics:!0},{text:"[License Number]",ngModel:"licenseNumber",italics:!0},{text:"[License State]",ngModel:"licenseStateCode",italics:!0},{text:"[License Exp. Date mm/yyyy]",ngModel:"expDate",italics:!0}]]}},{text:"Medical Education",style:"header"},{table:{headerRows:1,widths:["*","*","*","*"],ngRepeat:"applicationData.allMedicalEducations",body:[["Institution & Location","Dates Attended","Degree","Date of Degree"],[{text:"",ngModel:"medInstitutionName",italics:!0},{text:"",ngModel:"datesAttended",italics:!0},{text:"",ngModel:"degreeObtained",italics:!0},{text:"",ngModel:"degreeDate",italics:!0}],[{colSpan:4,table:{widths:[170,"*"],body:[[{text:"Medical Education/Training Extended or Interrupted?"},{text:"",ngModel:"applicationData.nmsId",italics:!0}],[{text:"Explanation:[If Yes]"},{text:"",ngModel:"applicationData.nmsIndicatorTransformed",italics:!0}]]},layout:"noBorders"}]]}},{text:"Medical School Honors/Awards",style:"header"},{table:{widths:["*"],style:"row",body:[[{text:"",ngModel:"applicantData.cafData.cafAwardsDescTransformed",italics:!0}]]}},{text:"Membership and Honorary/Professional Societies",style:"header"},{table:{widths:["*"],style:"row",body:[[{text:"",ngModel:"applicationData.membershipsTransformed",italics:!0}]]}},{text:"Education",style:"header"},{table:{headerRows:1,widths:["*","*","*","*","*","*"],ngShow:"showAllHigherEducations",ngRepeat:"applicationData.allHigherEducations",body:[["Education","Institution & Location","Dates Attended","Degree","Degree Date","Field of Study"],[{text:"[Education]",ngModel:"educationTypeIndicator",italics:!0},{text:"[Institution & Location]",ngModel:"educationInstitution",italics:!0},{text:"[Yes], [Degree] or [No]",ngModel:"datesAttended",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"degreeObtained",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"degreeDate",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"educationMajor",italics:!0}]]}},{text:"Current/Prior Training",style:"header"},{table:{headerRows:1,ngShow:"showAllTrainings",ngRepeat:"applicationData.allTrainings",body:[["Institution, Location & Training Type","Program Director","Program Supervisor","Dates Attended","Month(s)","Discipline","Reason For Leaving"],[{text:"[Inst & Loc]",ngModel:"inst",italics:!0},{text:"[Program Director]",ngModel:"resPgmDirector",italics:!0},{text:"[Yes], [Degree] or [No]",ngModel:"resSupervisor",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"datesAttended",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"totalMonths",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"specialtyName",italics:!0},{text:"[Degree Date mm/yyyy]",ngModel:"resReasonLeftDesc",italics:!0}]]}},{text:"Experience",style:"header"},{table:{headerRows:1,widths:["*","*","*","*","*","*","*"],ngShow:"showAllExperiences",ngRepeat:"applicationData.allExperiences",body:[["Experience","Organization & Location","Position","Dates","Supervisor","Average Hours/Week","Description"],[{text:"[Experience]",ngModel:"expDesc",italics:!0},{text:"[Program Director]",ngModel:"orgLoc",italics:!0},{text:"[Position]",ngModel:"expPosTitle",italics:!0},{text:"[Dates]",ngModel:"datesAttended",italics:!0},{text:"[Supervisor]",ngModel:"expSupervisorName",italics:!0},{text:"[Avg hrs/wk]",ngModel:"expHours",italics:!0},{text:"[Description]",ngModel:"expJobDesc",italics:!0}]]}},{text:"Publications",style:"header"},{table:{widths:["*"],ngShow:"showPublications",ngRepeat:"applicationData.allPublications",body:[[{text:"",ngModel:"publicationDesc",italics:!0}]]}},{text:"Language Fluency",style:"header"},{table:{headerRows:1,widths:["*","*","*"],ngRepeat:"applicationData.allLanguages",body:[["Language","Language Proficiency","Proficiency Description"],[{text:"[Language]",ngModel:"languageDescription",italics:!0},{text:"[Language Proficiency]",ngModel:"languageProficiencyDescription",italics:!0},{text:"[Proficiency Description]",ngModel:"lpNotes",italics:!0}]]}},{text:"Hobbies & Interests",style:"header"},{table:{widths:["*"],body:[[{text:"",ngModel:"applicationData.cafData.cafHobbiesInterestsDesc",italics:!0}]]}},{text:"Other Awards/Accomplishments",style:"header"},{table:{widths:["*"],body:[[{text:"",ngModel:"applicationData.cafData.cafOtherAccomplDesc",italics:!0}]]}},"\n\n"],styles:{myBold:{bold:!0,fontSize:18},row:{margin:[0,0,0,2]},rowHeader:{margin:[0,10,0,10]},header:{bold:!0,fontSize:15,margin:[0,20,0,0],alignment:"center"},label:{},data:{italics:!0}},defaultStyle:{columnGap:10,fontSize:10}};return c}}}angular.module("myeras.pdfmakeAppService",[]).factory("pdfmakeAppService",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k){function l(){return U}function m(a){var c=b.defer();return V=a,e.getTracks(a.aamcId).then(function(a){U=angular.copy(a),c.resolve(a)},function(){c.resolve(V)}),c.promise}function n(){return S.application}function o(a){a?(p(a),G()):S.application=null}function p(a){if(a){var b=c("filter")(U,{applicationId:a.applicationId})[0];S.application=b,e.setApplication(b)}}function q(){a.$broadcast("handleApplicationBroadcast")}function r(a){a=a}function s(){var a=b.defer();return e.getApplicationChecklist().then(function(b){var c=angular.copy(b);W.personalInfo={key:"Personal Information",value:null!=c.personalInfoSavedDt?"Saved":"Incomplete"},W.general={key:"Education",value:null!=c.higherEducSavedDt&&null!=c.medicalEducSavedDt&&null!=c.additionalQsEducSavedDt?"Saved":"Incomplete"},W.biographic={key:"Biographic Information",value:null!=c.biographicInfoSavedDt?"Saved":"Incomplete"},W.experience={key:"Experience",value:null!=c.trngSavedDt&&null!=c.experienceSavedDt&&null!=c.additionalQsExpSavedDt?"Saved":"Incomplete"},W.licensure={key:"Licensure",value:null!=c.licensureInfoSavedDt&&null!=c.medicalLicensesSavedDt?"Saved":"Incomplete"},W.publications={key:"Publications",value:null!=c.publicationsSavedDt?"Saved":"Incomplete"},a.resolve(W)}),a.promise}function t(){var a=b.defer();return e.getCAF(e.applicationId).then(function(b){a.resolve(b)}),a.promise}function u(a){var c=b.defer();return e.saveCAF(a).then(function(a){c.resolve(a)}),c.promise}function v(){return e.getConfigElements()}function w(a){var c=null==S.application.residencyType?S.application.fellowshipType:S.application.residencyType,e="";e=d.FUTURESEASON?"HELPCONTENT_FUTURE_TEXT":"HELPCONTENT_"+S.application.applicationType+"_"+c;var f=b.defer();return S.contentText&&S.contentText[e]&&(X=S.contentText[e].displayText,f.resolve(X)),f.promise}function x(a){return $.one("soap",a).get({cacheBust:new Date})}function y(a){var c="";a.soapOpen&&a.residencyApplicant&&"FM"===a.applicantSoapMatchStatus?c="SOAP_FULLY_MATCH_DASH_BOARD_TEXT":a.soapOpen&&a.residencyApplicant&&a.applicantSoapEligible&&"FM"!==a.applicantSoapMatchStatus?c="SOAP_ELIGIBLE_DASHBOARD_MESSAGE":a.soapOpen&&a.residencyApplicant&&!a.applicantSoapEligible&&"FM"!==a.applicantSoapMatchStatus&&(c="SOAP_INELIGIBLE_DASHBOARD_MESSAGE");var d=b.defer();return S.contentText&&S.contentText[c]&&(X=S.contentText[c].displayText,d.resolve(X)),d.promise}function z(){var a=b.defer();return g.getSelectedProgramsDto(S.application.applicationId).then(function(b){Y=b.length,a.resolve(Y)}),a.promise}function A(){var a=b.defer();return g.getAppliedProgramsDto(S.application.applicationId).then(function(b){Z=b.length,a.resolve(Z)}),a.promise}function B(a){ba=a}function C(){return ba}function D(a){var c=b.defer();return V.wamId?E().then(function(b){0===b.length?U.length&&U[0].aamcId?F(U[0]).then(function(a){aa=a,c.resolve(a)}):c.resolve(a):a?V.aamcId?H(b[0]).then(function(){a.aamcId?F(a).then(function(a){aa=a,c.resolve(a)}):c.resolve(a)}):c.resolve(a):(c.resolve(b[0]),aa=b[0])}):c.resolve(a),c.promise}function E(){var a=0;return V.wamId&&(a=V.wamId),$.one("myErasAccessLogs").one("createdBy").get({wamId:V.wamId})}function F(a){var b={applicationId:a.applicationId,pageName:"Dashboard",createdBy:V.wamId,lastUpdatedBy:V.wamId};return $.post("myErasAccessLogs",b)}function G(){var a=null===S.application.residencyType?S.application.fellowshipType:S.application.residencyType,b=["DASHBOARD_DOCUMENTS_FUTURE_TEXT","DASHBOARD_PROGRAMS_FUTURE_TEXT","DASHBOARD_APPLICATION_FUTURE_TEXT","PENDING_PAYMENT_DETAILED_TEXT","PENDING_PAYMENT_DETAILED_FOOTER_TEXT","HELPCONTENT_FUTURE_TEXT","SOAP_FULLYMATCHED_HELPCONTENT_R","SOAP_ELIGIBLE_HELPCONTENT_R","SOAP_INELIGIBLE_HELPCONTENT_R","SOAP_FULLY_MATCH_DASH_BOARD_TEXT","SOAP_ELIGIBLE_DASHBOARD_MESSAGE","SOAP_INELIGIBLE_DASHBOARD_MESSAGE","PHOTO_INSTRUCTION_TEXT","HELPCONTENT_"+S.application.applicationType+"_"+a];f.getContentList(b).then(function(a){return S.contentText=a,q(),a})}function H(a){return $.one("myErasAccessLogs/"+a.myErasAccessLogId).remove()}function I(){return h.getUnassignedLoRCount(S.application.applicationId)}function J(){return h.getUnassignedPersonalStatementsCount(S.application.applicationId)}function K(){return i.getMostRecentTranscriptStatus(S.application.applicationId,"COMLEX")}function L(){return i.getMostRecentTranscriptStatus(S.application.applicationId,"USMLE")}function M(){return j.getDocUploadStatus(S.application.applicationId)}function N(a){return i.findStatusForRequest(a)}function O(){return j.getPtals(S.application.applicationId)}function P(){return _.route+"/documents/"+S.application.applicationId+"?docCode=10"}function Q(){return _.one("documents/"+S.application.applicationId+"?docCode=10").get()}function R(){return h.getProgramsCount(S.application.applicationId)}var S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca;return T="dashboardService",$=k.appService,_=k.dwsDocService,aa={},U=[],ca={},V={},X="",Y=0,Z=0,ba=null,W={personalInfo:{key:"Personal Information",value:"Not Started"},biographic:{key:"Biographic Information",value:"Not Started"},general:{key:"Education",value:"Not Started"},experience:{key:"Experience",value:"Not Started"},licensure:{key:"Licensure",value:"Not Started"},publications:{key:"Publications",value:"Not Started"}},S={name:T,tracks:U,contentText:ca,getDocServiceUrl:P,getAvatar:Q,setTracks:m,getTracks:l,getCurrentTrack:n,getHelpContent:w,getSoapInfo:x,getSoapMessage:y,getSelectedPrograms:z,getAppliedPrograms:A,prepForBroadcast:o,setApplicationStatus:r,getApplicationStatus:s,getPostApplicationStatus:t,updatePostApplicationStatus:u,getDashboardAlertMessages:v,getLastAccessedApplication:D,getUnassignedLoRCount:I,getUnassignedPersonalStatementsCount:J,getComlexStatus:K,getUsmleStatus:L,getDocUploadStatus:M,getPtalData:O,findStatusByCode:N,
addAccessLog:F,setCurrentRoute:B,getCurrentRoute:C,getProgramsCount:R,getAllContentText:G}}angular.module("myeras.dashboardService",["ui.router"]).service("dashboardService",a),a.$inject=["$rootScope","$q","$filter","APP_CONFIG","applicationService","contentService","unitsService","programAssignmentsService","documentService","otherDocumentService","urlService"]}(),angular.module("myeras.modalService",[]).factory("modalService",["$rootScope","$modal","$filter",function(a,b,c){function d(b){b=b||{},angular.extend(this,{modals:[],defaults:{id:"modal"+Math.random().toString(36).substring(7),scope:a.$new(),show:!1}},b)}d.prototype={create:function(a){var b=a.id,c=this.get(b),d=angular.extend({},this.defaults,a),e=this.isScopeLost(c);return e&&(c=this.destroy(b)),c||(c=this.build(d)),d.show&&this.show(b),this.pushModal(c),c.$promise},build:function(a){return b(a)},pushModal:function(a){var b=!this.get(a.$id);b&&this.modals.push(a)},isScopeLost:function(a){return a?a.$scope.$parent.$$destroyed:!1},get:function(a){return c("filter")(this.modals,{$id:a})[0]},show:function(a){var b=this.get(a);return b&&b.$promise.then(b.show),b},hide:function(a){var b=this.get(a);return b&&b.hide(),b},isShown:function(a){var b=this.get(a)||{};return b.$isShown},hideAll:function(){var a=this;angular.forEach(this.modals,function(b){a.hide(b.$id)})},destroy:function(a){var b=this.get(a),c=this.modals.indexOf(b);return b&&(this.hide(a),this.modals.splice(c,1)),null}};var e=new d;return e}]),angular.module("aamc.component.reference-data",["restangular"]).factory("referenceDataService",["Restangular","applicationConfigService","$q",function(a,b,c){var d=a.oneUrl("30/eras-application-service"),e=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}];return{getCountries:function(){return d.getList("countries")},getStatesByCountryCd:function(a){return d.getList("states",{countryCd:a})},getAllStates:function(){return c.all([d.getList("states",{countryCd:"USA"}),d.getList("states",{countryCd:"CAN"})]).then(function(a){return _.flatten([a[0],a[1]])})},getMonths:function(){return e},getCreditCardMonths:function(){return _.transform(e,function(a,b){b.cardMonth=_.padLeft(b.id,2,"0"),b.cardMonthDesc=b.name+" - "+b.cardMonth,a.push(b)})},getCreditCardYears:function(){for(var a=(new Date).getFullYear(),b=[],c=a;a+10>=c;c++)b.push({value:c-2e3,desc:c});return b}}}]),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-dashboard-help-section/aamc-dashboard-help-section.html",link:a,controller:"DashboardHelpSectionController",controllerAs:"dashboardHelpSection"};return b}function b(a,b,c,d){function e(){var a=c.getCurrentTrack();a&&(f.isBusy=!0,d.getCurrentSeason().then(function(d){f.currentSeason=d[0],d[0]&&"FUTURE"===d[0].seasonStatus?c.getSoapInfo(a.applicationId).then(function(a){f.soapInfo=a,c.getHelpContent(a).then(function(a){f.helpContent=a,f.isBusy=!1})}):c.getSoapInfo(a.applicationId).then(function(a){f.soapInfo=a,c.getHelpContent(a).then(function(a){f.helpContent=b.trustAsHtml(a),f.isBusy=!1})})}))}var f=this;f.name="dashboardHelpSection",f.myAttr=a.myAttr,e(),a.$on("handleApplicationBroadcast",function(){e()})}angular.module("myeras.dashboardHelpSection",[]).controller("DashboardHelpSectionController",b).directive("aamcDashboardHelpSection",a),b.$inject=["$scope","$sce","dashboardService","applicationService"]}(),function(){function a(a){function b(a,b,c){a.dismiss=function(){b.modal("hide")}}var c={restrict:"E",replace:!0,scope:{},templateUrl:"components/directives/aamc-dashboard-id-summary/aamc-dashboard-id-summary.html",link:b,controller:"DashboardIdSummaryController",controllerAs:"vm"};return c}function b(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){t.originalImage=b,t[a]="data:image/jpg;base64,"+b,t.validationPhotoMsg=!1}function n(){t.validationPhotoMsg=!1,t.isImageChanged=!0,o("previewDisplayArea",t.selectedFile[0])}function o(a,b){var d=new FileReader;d.onload=function(b){var e=new Image;e.src=d.result,t[a]=d.result,c.$apply()},d.readAsDataURL(b)}function p(c){var d=t.selectedFile[0],g=e.BASE_URL+"/"+h.getDocServiceUrl();return d?(a.get("restCache").removeAll(),void f.upload({url:g,file:d,method:"POST"}).success(function(a){a&&(h.getAvatar().then(function(a){if(a.valueObject){var c=a.valueObject.fileContent;c&&(m("avatarDisplayArea",c),m("previewDisplayArea",c),j.success("Image uploaded successfully."),q(),b.$broadcast("handleAvatarUploadBroadcast"))}}),t.selectedFile=[])}).error(function(a){t.errorMsg=a[0].messageText})):(t.validationPhotoMsg=!0,!1)}function q(){t.errorMsg="",t.isImageChanged=!1,m("previewDisplayArea",t.originalImage),t.uploadAvatarModal.$promise.then(t.uploadAvatarModal.hide)}function r(){"DWS"===t.currentApplication.sourceOrganization&&"FUTURE"!==t.currentSeason.seasonStatus&&(c.photoText=h.contentText.PHOTO_INSTRUCTION_TEXT.displayText,t.uploadAvatarModal.$promise.then(t.uploadAvatarModal.show))}function s(){t.selectedFile=[],t.validationPhotoMsg=!1,t.errorMsg="",t.isImageChanged=!1,m("previewDisplayArea",t.originalImage),t.uploadAvatarModal.$promise.then(t.uploadAvatarModal.hide)}var t=this;t.name="dashboardIdSummary",t.avatar="",t.displayImage="",t.selectedFile="",t.previewDisplayArea="",t.avatarDisplayArea="",t.currentApplication=null,t.errorMsg="",t.originalImage="",t.isImageChanged=!1,t.validationPhotoMsg=!1,t.uploadAvatarModal=d({animation:"am-fade-and-slid-top",scope:c,show:!1,template:"components/directives/aamc-dashboard-id-summary/aamc-upload-avatar-modal.html"}),t.updatePreview=n,t.uploadFile=p,t.showUploadAvatarModal=r,t.hideUploadAvatarModal=s,c.$watch(function(){return g.getCurrentContext()},function(a){a.aamcId&&(t.context=angular.copy(a))}),c.$on("handleSavePersonalInfo",function(a,b){t.currentApplication.firstName=b.applicant.firstName,t.currentApplication.lastName=b.applicant.lastName}),c.$watch(function(){return h.getCurrentTrack()},function(a){t.originalImage=null,t.avatarDisplayArea=null,t.previewDisplayArea=null,t.tooltipText="Upload Photo",t.photoTooltipText="Replace Photo",k.getCurrentSeason().then(function(b){b&&(t.currentSeason=b[0]),a?(t.tokenRegisterInProgress=!1,t.currentApplication=a,h.getAvatar().then(function(a){if(a.valueObject){var b=a.valueObject.fileContent;b&&(m("avatarDisplayArea",b),m("previewDisplayArea",b))}}),"EFDO"===a.sourceOrganization?(t.tooltipText="Photo may only be uploaded/changed via the EFDO On-line Services",t.photoTooltipText="Photo may only be uploaded/changed via the EFDO On-line Services"):"ECFMG"===a.sourceOrganization&&(t.tooltipText="Photo may only be uploaded/changed via ECFMG's OASIS",t.photoTooltipText="Photo may only be uploaded/changed via ECFMG's OASIS"),"FUTURE"===t.currentSeason.seasonStatus&&(t.tooltipText="Photo cannot be uploaded until ERAS "+t.currentSeason.season+" season opens in "+l("date")(t.currentSeason.myErasSeasonStartDate,"MMMM yyyy"),t.photoTooltipText="Photo cannot be uploaded until ERAS "+t.currentSeason.season+" season opens in "+l("date")(t.currentSeason.myErasSeasonStartDate,"MMMM yyyy"))):t.tokenRegisterInProgress=!0})}),c.$on("handleUploadAvatar",function(){r()})}angular.module("myeras.dashboardIdSummary",["myeras.dashboardService"]).controller("DashboardIdSummaryController",b).directive("aamcDashboardIdSummary",a),a.$inject=["dashboardService"],b.$inject=["$cacheFactory","$rootScope","$scope","$modal","APP_CONFIG","$upload","authService","dashboardService","contentService","log","applicationService","$filter"]}(),function(){function a(){function a(a,b,c,d){}var b={restrict:"E",replace:!0,scope:!1,templateUrl:"components/directives/aamc-dashboard-title/aamc-dashboard-title.html",link:a,controller:"DashboardTitleController",controllerAs:"dashboardTitle"};return b}function b(a,b,c,d,e,f,g,h,i,j,k,l){function m(b){r.type=b,a.get("restCache").removeAll(),f.setTracks(i.getCurrentContext()).then(function(a){var b=[];angular.forEach(a,function(a){a.season===e.SEASON&&b.push(a)}),r.tracks=b,r.toggleRegister=!r.toggleRegister,r.tracks.length>1?r.currentTrackIndex=0===r.currentTrackIndex?1:0:r.currentTrackIndex=0,n(r.tracks[r.currentTrackIndex])})}function n(a){var b=a;f.getLastAccessedApplication(a).then(function(a){var d;d=r.initialToken?b:a;var f=0;switch(angular.forEach(r.tracks,function(a,b){a.applicationId===d.applicationId&&(r.currentTrackIndex=f),f++}),r.currentTrackIndex=-1===r.currentTrackIndex?0:r.currentTrackIndex,r.tracks.length){case 2:var g=r.tracks[r.currentTrackIndex].applicationType,h="R"===g?"F":"R";r.dropdownTitle=r.applicationType[g],r.dropdownOtherApplicationOption=r.applicationType[h],o(r.tracks[r.currentTrackIndex]);break;case 1:var i,j=r.tracks[0];r.initialToken?(r.dropdownTitle=r.applicationType[r.tracks[0].applicationType],i="R"===r.tracks[0].applicationType?"F":"R",r.dropdownNewTokenOption="Register an ERAS "+r.SEASON+" "+r.applicationType[i]+" token",r.dropdownOtherApplicationOption="",r.initialToken=!1):r.toggleRegister&&"new"!==r.type||"main.token"===c.current.name&&!e.FUTURESEASON?(i="R"===r.tracks[0].applicationType?"F":"R",r.dropdownTitle="Register an ERAS "+r.SEASON+" "+r.applicationType[i]+" token",r.dropdownNewTokenOption="",r.dropdownOtherApplicationOption=r.applicationType[r.tracks[0].applicationType],j=null):(r.dropdownTitle=r.applicationType[r.tracks[0].applicationType],i="R"===r.tracks[0].applicationType?"F":"R",r.dropdownNewTokenOption="Register an ERAS "+r.SEASON+" "+r.applicationType[i]+" token",r.dropdownOtherApplicationOption=""),o(j)}})}function o(a){f.prepForBroadcast(a),p(a),q(),l.logAccess(),a&&5===a.statusId?c.go("main.revoked",{reload:!0}):"main.revoked"===c.current.name&&c.go("main.newdashboard",{reload:!0})}function p(a){a&&"F"===a.applicationType?(j.showEmailDifferenceResidencyAlert=!1,j.showEmailDifferenceFellowshipAlert=!0):(j.showEmailDifferenceFellowshipAlert=!1,j.showEmailDifferenceResidencyAlert=!0),a&&a.applicationId&&k.getCAF(a.applicationId).then(function(b){r.caf=b,r.context=i.getCurrentContext(),r.caf.cafSubmitDt&&(j.applicationSubmitted=!0,j.showEmailUpdateAlert=a.email!==r.context.emailAddress?!0:!1)})}function q(){k.getConfigElements().then(function(a){var b=a;angular.forEach(b,function(a){"ME_MAINT_FLAG"===a.varName&&"Y"===a.varValue&&(r.showToggleInd=!1)})})}var r=this;r.name="dashboardTitle",r.myAttr=b.myAttr,r.tracks=[],r.applicationType={R:"Residency",F:"Fellowship"},k.getAllSeasons().then(function(a){r.availableSeasons=a}),r.dropdownNewTokenOption="",r.dropdownOtherApplicationOption="",r.currentTrack={},r.currentTrackIndex=-1,r.toggleRegister=!1,r.initialToken=!1,r.showToggleInd=!0,r.seasonTitle=e.SEASON,r.toggleTrack=m;var s=b.$watch(function(){return[f.getTracks(),i.contextLoaded]},function(a){var b=a[0].length,c=a[1];if(b&&c){r.tracks=angular.copy(f.getTracks());var d=[];angular.forEach(r.tracks,function(a){a.season===e.SEASON&&d.push(a)}),r.tracks=d,n(null),s()}},!0);b.$watch(function(){return e.SEASON},function(a,b){b!==a&&(r.SEASON=a)}),b.$watch(function(){return e.FUTURESEASON},function(a,b){b!==a&&(r.FUTURESEASON=a)});j.$on("handleFirstAppRegistrationBroadcast",function(){var b=a.get("appCache"),c=b.get("application");r.tracks.push(c),r.initialToken=!0,a.get("appCache").removeAll(),n(c),f.addAccessLog(c).then(function(a){})})}angular.module("myeras.dashboardTitle",["myeras.applicationService","myeras.dashboardService"]).controller("DashboardTitleController",b).directive("aamcDashboardTitle",a),b.$inject=["$cacheFactory","$scope","$state","$filter","APP_CONFIG","dashboardService","$log","underscoreService","authService","$rootScope","applicationService","browserLogService"]}(),function(){function a(){function a(a,b,c,d){}var b={restrict:"E",replace:!0,scope:!0,templateUrl:"components/directives/aamc-dashboard-application-section/aamc-dashboard-application-section.html",link:a,controller:"DashboardApplicationSectionController",controllerAs:"dashboardApplicationSection"};return b}function b(a,b,c,d,e,f,g){function h(){d.getCurrentTrack()&&(r.applicationStatus=[],r.postApplicationStatus={},r.isBusy=!0,b.all([i(),j(),n(),k()]).then(function(){r.isBusy=!1,m(c.applicationId)}))}function i(){return d.getApplicationStatus().then(function(a){r.applicationStatus=a,r.isBusy=!1})}function j(){return d.getPostApplicationStatus().then(function(a){r.postApplicationStatus=a,r.isBusy=!1})}function k(){return c.getCurrentSeason().then(function(a){r.currentSeason=a[0],"FUTURE"===r.currentSeason.seasonStatus&&d.contentText&&d.contentText.DASHBOARD_APPLICATION_FUTURE_TEXT&&(r.applicationFutureText=d.contentText.DASHBOARD_APPLICATION_FUTURE_TEXT.displayText)})}function l(){s.$promise.then(s.show)}function m(b){f.getPendingPayment(b).then(function(b){d.contentText&&(a.pendingPaymentText=d.contentText.PENDING_PAYMENT_DETAILED_TEXT,a.pendingPaymentFooterText=d.contentText.PENDING_PAYMENT_DETAILED_FOOTER_TEXT),a.pendingPayment=b,a.pendingPayment&&l()})}function n(){return c.getApplicationChecklist(c.applicationId).then(function(a){r.applicationCheckList=a,r.isBusy=!1})}function o(){c.printPdf(c.applicationId,"MY_ERAS_APPLICATION","PDF")}function p(){c.printPdf(c.applicationId,"CV","PDF")}function q(a){var b="Y"===a?"Y":"N";r.postApplicationStatus.cafReleaseInd=b,d.updatePostApplicationStatus(r.postApplicationStatus).then(function(a){h()})}var r=this;r.name="dashboardApplicationSection",r.applicationStatus={},r.updatePostApplicationStatus=q,r.printApp=o,r.printCV=p,h();var s=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-modal.html"}),t=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"components/directives/aamc-dashboard-application-section/aamc-outstanding-payment-detail-modal.html"});a.hidePaymentPendingModal=function(){s.$promise.then(s.hide)},a.hidePaymentPendingDetailModal=function(){t.$promise.then(t.hide)},a.viewPaymentPendingDetailModal=function(){t.$promise.then(t.show)},a.saveOutstandingPaymentModal=function(){return a.pendingPayment.url=window.location.href.replace(window.location.hash,"")+"#/hostedCheckoutResponse",f.generatePaymentTokens(c.applicationId,a.pendingPayment).then(function(b){a.pendingPayment=b,f.cachedData={pendingPayment:a.pendingPayment},g.go("main.pendingPaymentInfo")})},a.$on("handleApplicationBroadcast",function(){h()})}angular.module("myeras.dashboardApplicationSection",[]).controller("DashboardApplicationSectionController",b).directive("aamcDashboardApplicationSection",a),b.$inject=["$scope","$q","applicationService","dashboardService","$modal","paymentsService","$state"]}(),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-dashboard-documents-section/aamc-dashboard-documents-section.html",link:a,controller:"DashboardDocumentsSectionController",controllerAs:"dashboardDocumentsSection"};return b}function b(a,b,c,d,e,f){function g(){p.app=c.getCurrentTrack(),p.app&&(p.isBusy=!0,p.comlexStatus=null,a.all([h(),i(),j(),k(),l(),m(),n()]).then(function(){p.isBusy=!1}))}function h(){return c.getUnassignedLoRCount().then(function(a){p.unassignedLoRCount=a})}function i(){return c.getUnassignedPersonalStatementsCount().then(function(a){p.unassignedPersonalStatementsCount=a})}function j(){return"DO"===p.app.fellowshipType||"DO"===p.app.residencyType?c.getComlexStatus().then(function(a){p.comlexStatus=a&&a.status?c.findStatusByCode(a.status)[0]:null}):void 0}function k(){return c.getUsmleStatus().then(function(a){p.usmleStatus=a&&a.status?c.findStatusByCode(a.status)[0]:null})}function l(){return c.getDocUploadStatus().then(function(a){p.docStatus=a})}function m(){return c.getPtalData().then(function(a){p.ptalData=a})}function n(){return d.getCurrentSeason().then(function(a){p.currentSeason=a[0],"FUTURE"===p.currentSeason.seasonStatus&&(c.contentText&&c.contentText.DASHBOARD_DOCUMENTS_FUTURE_TEXT&&(p.documentsFutureText=c.contentText.DASHBOARD_DOCUMENTS_FUTURE_TEXT.displayText),f.getApplicantLorAuthors(d.applicationId).then(function(a){p.applicantLors=a,o()}))})}function o(){p.totalLors=p.applicantLors.length,p.confirmedLorsLength=_.size(_.filter(p.applicantLors,function(a){return a.lorLetterId})),p.uploadedLorsLength=_.size(_.filter(p.applicantLors,function(a){return a.lorUploaded}))}var p=this;p.name="dashboardDocumentsSection",p.myAttr=b.myAttr,g(),b.$on("handleApplicationBroadcast",function(){g()}),b.$on("handleAvatarUploadBroadcast",function(){l()})}angular.module("myeras.dashboardDocumentsSection",[]).controller("DashboardDocumentsSectionController",b).directive("aamcDashboardDocumentsSection",a),b.$inject=["$q","$scope","dashboardService","applicationService","contentService","letterService"]}(),function(){function a(){function a(a,b,c,d){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},template:'<div ng-include="getTemplateUrl()"></div>',link:a,controller:"DashboardProgramsSectionController",controllerAs:"dashboardProgramsSection"};return b}function b(a,b,c,d){function e(){d.getApplication().then(function(a){a&&(g.applicationType=a.applicationType,c.getSoapInfo(a.applicationId).then(function(a){g.soapInfo=a}),c.getCurrentTrack()&&(g.isBusy=!0,c.getProgramsCount().then(function(a){g.programsCount=a.plain(),g.isBusy=!1,f()})))})}function f(){return d.getCurrentSeason().then(function(a){g.currentSeason=a[0],"FUTURE"===g.currentSeason.seasonStatus&&c.contentText&&c.contentText.DASHBOARD_PROGRAMS_FUTURE_TEXT&&(g.programsFutureText=c.contentText.DASHBOARD_PROGRAMS_FUTURE_TEXT.displayText)})}var g=this;g.name="dashboardProgramsSection",g.myAttr=a.myAttr,g.soapInfo={},g.applicationType="",e(),a.getTemplateUrl=function(){var a="";return a=g.soapInfo&&"R"===g.applicationType&&g.soapInfo.applicantSoapEligible&&g.soapInfo.soapOpen?"components/directives/aamc-dashboard-programs-section/aamc-dashboard-soap-programs-section.html":"components/directives/aamc-dashboard-programs-section/aamc-dashboard-programs-section.html"},a.$on("handleApplicationBroadcast",function(){e()})}angular.module("myeras.dashboardProgramsSection",[]).controller("DashboardProgramsSectionController",b).directive("aamcDashboardProgramsSection",a),b.$inject=["$scope","$q","dashboardService","applicationService"]}(),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-dashboard-alerts-section/aamc-dashboard-alerts-section.html",link:a,controller:"DashboardAlertsSectionController",controllerAs:"dashboardAlertsSection"};return b}function b(a,b,c,d,e,f){var g=this;g.name="dashboardAlertsSection",g.myAttr=a.myAttr,e.$on("$stateChangeSuccess",function(a,b){g.currentState=b.name,f.getDashboardAlertMessages().then(function(a){g.alerts=[],angular.forEach(a,function(b){if("ME_BROADCAST_ON"===b.varName&&"Y"===b.varValue){var c;angular.forEach(a,function(a){"ME_BROADCAST_MSG"===a.varName&&(c=a)}),g.alerts.push(c)}})})})}angular.module("myeras.dashboardAlertsSection",[]).controller("DashboardAlertsSectionController",b).directive("aamcDashboardAlertsSection",a),b.$inject=["$scope","$filter","$log","$state","$rootScope","dashboardService"]}(),function(){"use strict";function a(a,b){var c=this;c.title="NewDashboard"}angular.module("myeras.NewDashboard",["ui.router"]).controller("NewdashboardController",a),a.$inject=["$state","dashboardService"]}(),angular.module("myeras.sentScores",[]).controller("aamcProgramsAppliedController",["$scope",function(a){a.name="sentScores"}]).directive("aamcProgramsApplied",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-programs-applied/aamc-programs-applied.html",controller:"aamcProgramsAppliedController"}}),angular.module("myeras.documentService",[]).factory("documentService",["$q","Restangular","$log","contentService","urlService","$sce",function(a,b,c,d,e,f){var g=e.dwsDocService,h=b.one("30/eras-dws-doc-service");return{reTransmitScores:function(a){return g.post("transcriptRequest/jms",a)},getDocumentStatusWithScores:function(a,b){return g.one("transcriptRequest").one("withScores",a).get({transcriptType:b})},getDocumentStatus:function(a,b){return g.one("transcriptRequest",a).get({transcriptType:b})},getMostRecentTranscriptStatus:function(a,b){return g.one("transcriptRequest").one("mostRecent",a).get({transcriptType:b})},getScoreTypes:function(){return g.one("scoreTypes").getList()},removeDuplicates:function(a){var b=a;angular.forEach(a,function(b){angular.forEach(a,function(c){b.accreditationId===c.accreditationId&&b.requestDate>c.requestDate&&_.remove(a,c)})});var c=_.uniq(b,function(a,b,c){return a.accreditationId});return c},prepareTranscriptReportContent1:function(a,b,d){var e=this,f=[],g=null,h=null;if(a&&a.length>0)for(var i=0;i<a.length;i++)if(b&&b.length>0)for(var j=0;j<b.length&&(g={},g.examScores=null,!b[j]||!a[i]||b[j].programId!==a[i].programId);j++)j===b.length-1&&(g.examScores=null,g.programId=a[i].programId,g.unitName=a[i].unitName,g.unitStateCode=a[i].unitStateCode,g.accreditationId=a[i].accreditationId,g.specialtyName=a[i].specialtyName,h=this.findStatusForRequest(a[i].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=a[i].requestDate,g.lastSuccessStatusDate=a[i].requestDate,a[i].scoresList&&a[i].scoresList.length>0&&(g.examScores=e.prepareExamData(a[i].scoresList,d,a[i].transcriptType)),c.debug("Adding the transcriptRequestWithScores not in transcriptRequestWithOutScores"),f.push(g));return f},prepareTranscriptReportContent:function(a,b,d){var e=this,f=[],g=null,h=null;if(a){if(a.length>0)for(var i=0;i<a.length;i++)if(b&&b.length>0)for(var j=0;j<b.length;j++){if(g={},g.examScores=null,a[i]&&b[j]&&a[i].programId===b[j].programId){a[i].requestDate>b[j].requestDate?(g.programId=a[i].programId,g.unitName=a[i].unitName,g.unitStateCode=a[i].unitStateCode,g.accreditationId=a[i].accreditationId,g.specialtyName=a[i].specialtyName,h=this.findStatusForRequest(a[i].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=a[i].requestDate):(g.programId=b[j].programId,g.unitName=b[j].unitName,g.unitStateCode=b[j].unitStateCode,g.accreditationId=b[j].accreditationId,g.specialtyName=b[j].specialtyName,h=this.findStatusForRequest(b[j].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=b[j].requestDate),g.lastSuccessStatusDate=b[j].requestDate,b[j].scoresList&&b[j].scoresList.length>0&&(g.examScores=e.prepareExamData(b[j].scoresList,d,b[j].transcriptType)),c.debug("Adding the same programId latest"),f.push(g);break}j===b.length-1&&(g.examScores=null,g.programId=a[i].programId,g.unitName=a[i].unitName,g.unitStateCode=a[i].unitStateCode,g.accreditationId=a[i].accreditationId,g.specialtyName=a[i].specialtyName,h=this.findStatusForRequest(a[i].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=a[i].requestDate,g.lastSuccessStatusDate=null,c.debug("Adding the ones in withoutscores not present in withscores"),f.push(g))}else g={},g.examScores=null,g.programId=a[i].programId,g.unitName=a[i].unitName,g.unitStateCode=a[i].unitStateCode,g.accreditationId=a[i].accreditationId,g.specialtyName=a[i].specialtyName,h=this.findStatusForRequest(a[i].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=a[i].requestDate,g.lastSuccessStatusDate=null,c.debug("Adding the ones in withoutscores no withscores at all"),f.push(g);else if(b.length>0)for(var k=0;k<b.length;k++){var l={};l.examScores=null,l.programId=b[k].programId,l.unitName=b[k].unitName,l.unitStateCode=b[k].unitStateCode,l.accreditationId=b[k].accreditationId,l.specialtyName=b[k].specialtyName,h=this.findStatusForRequest(b[k].status),l.status=h[0],l.tooltipStatus=h[1],l.requestDate=b[k].requestDate,l.lastSuccessStatusDate=b[k].requestDate,b[k].scoresList&&b[k].scoresList.length>0&&(l.examScores=e.prepareExamData(b[k].scoresList,d,b[k].transcriptType)),c.debug("Adding the ones in withscores no withoutscores at all"),f.push(l)}}else if(b&&b.length>0)for(var m=0;m<b.length;m++)g={},g.examScores=null,g.programId=b[m].programId,g.unitName=b[m].unitName,g.unitStateCode=b[m].unitStateCode,g.accreditationId=b[m].accreditationId,g.specialtyName=b[m].specialtyName,h=this.findStatusForRequest(b[m].status),g.status=h[0],g.tooltipStatus=h[1],g.requestDate=b[m].requestDate,g.lastSuccessStatusDate=b[m].requestDate,b[m].scoresList&&b[m].scoresList.length>0&&(g.examScores=e.prepareExamData(b[m].scoresList,d,b[m].transcriptType)),c.debug("Adding the ones in withscores no withoutscores null"),f.push(g);return f},prepareExamData:function(a,b,c){var d=[],e=this,f=null,g=a[0].scoresData;if(g){var h=g.examScores;if(h&&h.length>0)for(var i=0;i<h.length;i++){var j=h[i].examScore;f="USMLE"===c?e.findScoreType(j.substring(0,2),b):e.findScoreType("L"+j.substring(0,1),b);var k=j.substring(2,10),l=k.substring(0,2),m=k.substring(2,4),n=k.substring(4),o=new Date(n,l,m),p=l+"/"+m+"/"+n,q={scoreType:f,examDate:p,examDateLong:o};d.push(q)}}return d=_.sortBy(d,"examDateLong")},findScoreType:function(a,b){if(b&&b.length>0)for(var c=0;c<b.length;c++)if(a===b[c].scoreType)return b[c].displayText;return null},findStatusForRequest:function(a){switch(a){case"SCORES_COMPLETE":case_status="Successful";break;case"NOT_MATCHED":case_status="Not Matched";break;case"NO_SCORES":case_status="No Scores";break;default:case_status="Processing Request"}return[case_status]},inLieuPdf:function(a){return h.one("inLieuPdfs",a).customPUT()}}}]),angular.module("myeras.formatCreditCard",[]).filter("formatcreditcard",["$log",function(a){return function(a){return a.replace(/\d{12}(\d{4})/,"************$1")}}]),angular.module("myeras.Compiler",[],["$compileProvider",function(a){a.directive("aamcCompiler",["$compile",function(a){return function(b,c,d){b.$watch(function(a){return a.$eval(d.aamcCompiler)},function(d){d=d&&d.valueOf?d.valueOf():d,d&&(c.html(d),a(c.contents())(b))})}}])}]),angular.module("myeras.showInvalidModelValue",[]).directive("aamcShowInvalidModelValue",function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){d&&!~["radio","checkbox"].indexOf(angular.lowercase(c.type))&&d.$formatters.unshift(function(a){return d.$invalid&&angular.isUndefined(a)?d.$modelValue:a})}}}),function(){"use strict";function a(a,b,c,d){function e(){c.isAuthenticated()}function f(c,d){var e=a.defer(),f="landing";return c.aamcId?b.getApplication().then(function(a){a&&7!==a.statusId?"landing"===d.name||(a.status&&"Revoked"===a.status.statusDesc&&"main.revoked"!==d.name&&"main.token"!==d.name?e.resolve("main.revoked"):a.applicationId&&a.aamcId?b.getApplicationChecklist().then(function(a){b.isChecklistComplete()||-1===k.indexOf(d.name)||e.resolve("main.newdashboard")}):3!==a.statusId&&8!==a.statusId&&-1!==l.indexOf(d.name)&&e.resolve("main.newdashboard")):-1===j.indexOf(d.name)&&e.resolve("main.token")}):e.resolve(f),e.promise}function g(a,b){return-1!==b.indexOf(a)?!0:!1}var h,i,j,k,l;return i="routeService",j=["landing","main.create","main.token","main.track","main.revoked"],k=["main.submission"],l=["main.biographic","main.general","main.experience","main.licensure","main.publications","main.certify","main.submission"],h={name:i,initializeRoute:e,getRoute:f,validateRoute:g}}angular.module("myeras.routeService",[]).factory("routeService",a),a.$inject=["$q","applicationService","authService","$log"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){var g=b.defer();return d.getAuthenticatedUser().then(function(a){n&&n.aamcId===a.aamcId&&e.applicationId?g.resolve(n):n&&n.aamcId===a.aamcId&&e.applicationId||(n=a,f.setTracks(n).then(function(){f.getLastAccessedApplication().then(function(a){a?b.all([e.getApplicationChecklist(a.applicationId),e.getCAF(a.applicationId)]).then(function(){f.prepForBroadcast(a),o.contextLoaded=!0,g.resolve(n)}):g.resolve(n)})},function(){g.resolve(n)}))})["catch"](function(b){var d=[],e="Unable to access auth-service to fetch context. Please try again.",f=c("duplicateError")(a,e);f||(a.errors.push(e),a.addDetailedAlert(d,0,"error",!0,"serviceError")),g.resolve(b)}),g.promise}function h(){var e=b.defer();return d.isUserLoggedIn().then(function(a){n=a,e.resolve(n)})["catch"](function(b){var d=[],f="Unable to access auth-service to fetch login context. Please try again.",g=c("duplicateError")(a,f);g||(a.errors.push(f),a.addDetailedAlert(d,0,"error",!0,"serviceError")),e.resolve(b)}),e.promise}function i(){return n}function j(){return m}function k(a){m!=a&&(m=a)}var l="authService",m=!1,n={},o={name:l,context:n,getContext:g,getContextIfLoggedIn:h,getCurrentContext:i,authenticationStatus:m,isAuthenticated:j,authenticate:k};return o}angular.module("myeras.authService",[]).factory("authService",a),a.$inject=["$rootScope","$q","$filter","SSOSecurity","applicationService","dashboardService"]}(),angular.module("myeras.searchProgram",[]).filter("searchprogram",["$log",function(a){return function(a){return angular.forEach(a,function(a){a.unit.tracks.length>0&&_.remove(a.unit.tracks,function(a){return"N"===a.trackMyerasDisplayInd})}),a}}]),angular.module("myeras.stickyHeader",[]).directive("aamcStickyHeader",["$window",function(a){return{restrict:"A",link:function(b,c,d){function e(a,b){b&&(g=i=void 0,f(!1)),g=g?g:c[0].offsetTop,h=i,i=a.pageYOffset&&a.pageYOffset>=g,h!==i&&f(i)}function f(a){a?c.addClass(function(){return j.stickyBaseClass+(j.stickyClass?" "+j.stickyClass:"")}):c.attr("class",d["class"]?d["class"]:"")}var g,h,i,j;j=b.$eval(d.aamcStickyHeader),j=angular.isObject(j)?j:{},j.stickyClass=angular.isString(j.stickyClass)?j.stickyClass:"stickyHeader",j.stickyClass="NONE"===j.stickyClass.toUpperCase()?void 0:j.stickyClass,j.stickyBaseClass=angular.isString(j.stickyBaseClass)?j.stickyBaseClass:"navbar-fixed-top",angular.element(a).bind("scroll",function(){e(this)}),angular.element(a).bind("resize",function(){e(this,!0)})}}}]),angular.module("myeras.programsApplied",["ui.router"]).controller("programsAppliedController",["$scope","$rootScope","$modal","$log","log","$filter","$state","$location","$anchorScroll","$timeout","$sce","unitsService","applicationService","letterService","context","APP_CONFIG","refDataService","personalStatementService","programAssignmentsService","otherDocumentService","contentService","trackHistoryService","$q","documentService","trackService","$cacheFactory","documentTrackingService","soapService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B){function C(){var b="",c=a.application;if(c&&G(a.assignedDocListObj.program)){var d=a.isSelUsmle?"USMLE_Y":"USMLE_N",e=a.isSelComlex?"COMLEX_Y":"COMLEX_N",f="DO"==c.residencyType||"DO"==c.fellowshipType?!0:!1;b=(f?"DO":"NonDO")+"_"+c.applicationType+"_"+d+"_"+e+"_TRANSCRIPT_FEE_TEXT"}return b}function D(a){return a=a||{},a.selectedProgramTracks=a.selectedProgramTracks||[],0===a.selectedProgramTracks.length}var E;a.vm=E={searchForText:"",selectedPrograms:[],trackNotSelected:!1,content:{trackNotSelected:""},showMoreCim:!1,showFullInfo:!1,applicantSoapEligible:!1,showSoap:!1,programsCount:{}},a.isBusy=!1,a.usmle={},a.comlex={},a.ptal={},a.mspe={},a.msTranscript={},a.absite={},a.photo={},a.ECFMG={},a.showAppliedAdditionalDocAccordion=!1,a.showLorAccordion=!1,a.showPersonalStatAccordion=!1,a.showInEligibleText=!1,a.withdrawnProgramList=[],a.docCodes=q.getDocCodes(),a.isAppliedProgramTab=!0,a.programDet={},a.isSoapIneligibleApplicant=!0,a.showNoAssignSelections=!1,a.showNoProgramSelections=!1,a.transcriptList=[],a.isResidency=!1,a.applicationService=m,u.getContent("TRACK_NOT_SELECTED").then(function(a){a&&(E.content.trackNotSelected=k.trustAsHtml(a.displayText))}),u.getContent("PROGRAMS_NOT_APPLIEDTO_TEXT").then(function(b){b&&(a.programNoAppliedToText=k.trustAsHtml(b.displayText))}),u.getContent("DOCUMENT_ASSIGNMENT_UNSUCCESSFUL_TEXT").then(function(b){b&&(a.documentAssigmentUnsuccessful=k.trustAsHtml(b.displayText))}),u.getContent("MSPE_AVAILABLE_DT").then(function(b){if(b){
a.mspeAvailableDtString=b.displayText,a.mspeAvailableDate=new Date(a.mspeAvailableDtString);var c=f("amDateFormat")(b.displayText,"MMM Do");a.mspeAvailableDt=c}}),a.modalControl1=function(b,c){var d,e,f,g,h,i,j=!1;return a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible&&(f=a.soapDto.applicantSoapEligible&&(!b.nrmpUnfilledPositionsIndicator||"N"===b.nrmpUnfilledPositionsIndicator)||"FM"===E.applicantSoapMatchStatus,g=a.soapDto.applicantSoapEligible&&a.applicationData.soapEligibilityPositionType&&-1===a.applicationData.soapEligibilityPositionType.indexOf(b.trackTypeCode),_.forEach(c.selectedProgramTracks,function(a){a.unitId===b.unitId&&a.trackCode==b.trackCode&&(h=a.trackSoapIndicator&&"N"===a.trackSoapIndicator)}),i=!g&&h&&!f),d=a.checkToDisableTrack(c,b)||"Y"===c.withdrawnIndicator,e=b.disableOnUncheck||b.preselected&&!i,(d||e||f||g)&&(j=!0),j},a.modalControl2=function(b,c){var d,e,f,g=!1;return a.soapDto.soapOpen&&(e="FM"===E.applicantSoapMatchStatus,f=a.soapDto.applicantSoapEligible&&a.applicationData.soapEligibilityPositionType&&-1===a.applicationData.soapEligibilityPositionType.indexOf(b.trackTypeCode)),d=a.checkToDisableTrack(c,b)||"Y"===c.withdrawnIndicator,(d||e||f)&&(g=!0),g},a.assignedDocListObj={docList:{},program:{},initDocList:function(b,c){a.assignedDocListObj.program=c,_.forEach(b,function(b){var d=_.find(a.myPersonalStatments,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId&&b.paSubmitDt});d&&(d.selected=!0,d.preSelected=!0,a.assignedDocListObj.docList.pstmt=d),b.docCd===a.docCodes.USMLE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.usmle.selected=!0,a.usmle.preSelected=!0,a.assignUsmle=!0),b.docCd===a.docCodes.COMLEX.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.comlex.selected=!0,a.comlex.preSelected=!0,a.assignComlex=!0),b.docCd===a.docCodes.PTAL.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.ptal.selected=!0,a.ptal.preSelected=!0,a.assignPtal=!0),b.docCd===a.docCodes.MSPE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.mspe.selected=!0,a.mspe.preSelected=!0,a.assignMspe=!0),b.docCd===a.docCodes.MSTRANSCRIPT.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.msTranscript.selected=!0,a.msTranscript.preSelected=!0,a.assignMsTranscript=!0),b.docCd===a.docCodes.ABSITE.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.absite.selected=!0,a.absite.preSelected=!0,a.assignAbsite=!0),b.docCd===a.docCodes.PHOTO.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.photo.selected=!0,a.photo.preSelected=!0,a.assignPhoto=!0),b.docCd===a.docCodes.ECFMG.docCd&&b.unitId===c.unitId&&b.paSubmitDt&&(a.ECFMG.selected=!0,a.ECFMG.preSelected=!0,a.assignEcfmg=!0),d=_.find(a.myLors,function(a){return a.docCd===b.docCd&&a.seqNbr===b.seqNbr&&b.unitId===c.unitId&&b.paSubmitDt}),d&&(d.selected=!0,d.preSelected=!0,a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(d):a.assignedDocListObj.docList.lor=[d])});var d={usmle:_.isEmpty(a.usmle)?{preSelected:!1,selected:!1}:a.usmle,comlex:_.isEmpty(a.comlex)?{preSelected:!1,selected:!1}:a.comlex,ptal:_.isEmpty(a.ptal)?{preSelected:!1,selected:!1}:a.ptal,mspe:_.isEmpty(a.mspe)?{preSelected:!1,selected:!1}:a.mspe,msTranscript:_.isEmpty(a.msTranscript)?{preSelected:!1,selected:!1}:a.msTranscript,absite:_.isEmpty(a.absite)?{preSelected:!1,selected:!1}:a.absite,photo:_.isEmpty(a.photo)?{preSelected:!1,selected:!1}:a.photo,ECFMG:_.isEmpty(a.ECFMG)?{preSelected:!1,selected:!1}:a.ECFMG};a.origAssignments=P(_.filter(a.myLors,function(b){return a.filteredLors(b)}),a.myPersonalStatments,d)},updatePersonalStatementAssignment:function(b){a.showNoAssignSelections=!1,a.assignedDocListObj.docList.pstmt!==b?b.selected?a.assignedDocListObj.docList.pstmt=b:delete a.assignedDocListObj.docList.pstmt:b.selected=!0},updateUsmle:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignUsmle=!0:a.assignUsmle=!1)},updateComlex:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignComlex=!0:a.assignComlex=!1)},updatePtal:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignPtal=!0:a.assignPtal=!1)},updateMspe:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignMspe=!0:a.assignMspe=!1)},updateMsTranscript:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignMsTranscript=!0:a.assignMsTranscript=!1)},updateAbsite:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignAbsite=!0:a.assignAbsite=!1)},updatePhoto:function(b){X(b,!1)&&(a.showNoAssignSelections=!1,b.selected?a.assignPhoto=!0:a.assignPhoto=!1)},updateLorList:function(b){a.showNoAssignSelections=!1,X(b,!0)&&(b.selected?a.assignedDocListObj.docList.lor&&a.assignedDocListObj.docList.lor.length>=4?(a.errorMsg="You have already selected 4 Letters of Recommendation",b.selected=!1,j(function(){a.errorMsg=null},3e3)):a.assignedDocListObj.docList.lor?a.assignedDocListObj.docList.lor.push(b):a.assignedDocListObj.docList.lor=[b]:_.remove(a.assignedDocListObj.docList.lor,function(a){return a.lorLetterId===b.lorLetterId}))},saveDocList:function(){a.isBusy=!0,F();var b=[],c=[],d=a.assignedDocListObj.docList.pstmt,f=d;q.getServerCurrentDate().then(function(g){var h,i=g,j=a.assignedDocListObj.program.programAssignments,k=a.assignedDocListObj.program.unitId;d&&(f.unitId=k,h=_.find(j,{unitId:k,docCd:d.docCd,seqNbr:d.seqNbr})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:d.seqNbr,docCd:d.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignUsmle&&a.usmleAuth.invoiceSeqNbr&&(h=_.find(j,{unitId:k,docCd:a.docCodes.USMLE.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.USMLE.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignUsmle&&!a.usmleAuth.invoiceSeqNbr&&(h=_.find(j,{unitId:k,docCd:a.docCodes.USMLE.docCd,seqNbr:1})||{},c.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.USMLE.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignComlex&&a.comlexAuth.invoiceSeqNbr&&(h=_.find(j,{unitId:k,docCd:a.docCodes.COMLEX.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.COMLEX.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignComlex&&!a.comlexAuth.invoiceSeqNbr&&(h=_.find(j,{unitId:k,docCd:a.docCodes.COMLEX.docCd,seqNbr:1})||{},c.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.COMLEX.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignPtal&&(h=_.find(j,{unitId:k,docCd:a.docCodes.PTAL.docCd,seqNbr:a.ptalData.seqNbr})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:a.ptalData.seqNbr,docCd:a.docCodes.PTAL.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignMspe&&(h=_.find(j,{unitId:k,docCd:a.docCodes.MSPE.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.MSPE.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignMsTranscript&&(h=_.find(j,{unitId:k,docCd:a.docCodes.MSTRANSCRIPT.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.MSTRANSCRIPT.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignAbsite&&(h=_.find(j,{unitId:k,docCd:a.docCodes.ABSITE.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.ABSITE.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignPhoto&&(h=_.find(j,{unitId:k,docCd:a.docCodes.PHOTO.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.PHOTO.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),a.assignEcfmg&&(h=_.find(j,{unitId:k,docCd:a.docCodes.ECFMG.docCd,seqNbr:1})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:1,docCd:a.docCodes.ECFMG.docCd,paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})),_.forEach(a.assignedDocListObj.docList.lor,function(a){h=_.find(j,{unitId:k,docCd:a.docCd,seqNbr:a.seqNbr})||{},b.push({applicationId:m.applicationId,unitId:k,seqNbr:a.seqNbr,docCd:a.docCd,paLorActiveInd:"Y",paSubmitDt:h.paSubmitDt||i,paProcessedDt:h.paSubmitDt||i})}),c.length>0&&t.setDocumentsForpostPaymentAssignment(c,"programsTab"),s.assignDocumentsToAProgram(b,m.applicationId,k).then(function(b){if(s.isUnsuccessfulDocumentAssignment(b))e.error(b.message),a.hideAssignDocumentsModal(),Q();else{a.assignPtal&&t.updatePoFilesForPtal(m.applicationId,a.ptalData.seqNbr),a.assignedDocListObj.docList.lor=[];var c={programsForUSMLE:[],programsForCOMLEX:[]};a.assignedDocListObj.program.invoiceSeqNumber&&(!a.originalAssignUsmle&&a.assignUsmle&&c.programsForUSMLE.push(k),!a.originalAssignComlex&&a.assignComlex&&c.programsForCOMLEX.push(k)),t.setProgramsForDocRelease(c),G(a.assignedDocListObj.program)?a.currentPage=3:(a.hideAssignDocumentsModal(),z.get("restCache").removeAll(),e.success("Saved Successfully"),Q())}})})}},a.applicant={},a.myPrograms=[],a.specialty="",a.disableSearch=!0,a.orderByCol="unit.unitName",a.reverseSort=!1,a.currentPage=1,a.pagination={itemsPerPage:10,gap:5,currentPage:1};var F=function(){a.messageKey=C(),u.getContent(a.messageKey).then(function(b){b&&(a.payUsmleFeeText=k.trustAsHtml(b.displayText))})};a.cancelPayNowUsmleOrComlex=function(){a.hideAssignDocumentsModal()},a.payNowUsmleOrComlex=function(){a.hideAssignDocumentsModal()};var G=function(b){a.mySelectPaidPrograms=[],a.mySelectPaidPrograms.push(b);var c=(a.assignUsmle===!0||a.assignComlex===!0)&&b.invoiceSeqNumber&&(a.usmleAuth||a.comlexAuth);return!a.usmleAuth||a.assignUsmle!==!0||a.comlexAuth&&a.assignComlex===!0?!a.comlexAuth||a.assignComlex!==!0||a.usmleAuth&&a.assignUsmle===!0?a.usmleAuth&&a.assignUsmle===!0&&a.comlexAuth&&a.assignComlex===!0&&(a.usmleAuth.invoiceSeqNbr||a.assignUsmle!==!0?a.isSelUsmle=!1:a.isSelUsmle=!0,a.comlexAuth.invoiceSeqNbr||a.assignComlex!==!0?a.isSelComlex=!1:a.isSelComlex=!0,a.mySelectPaidPrograms.usmle=a.usmleAuth,a.mySelectPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,a.mySelectPaidPrograms.comlex=a.comlexAuth,a.mySelectPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&(!a.comlexAuth.invoiceSeqNbr||!a.usmleAuth.invoiceSeqNbr)):(a.isSelUsmle=!1,a.isSelComlex=!0,a.mySelectPaidPrograms.comlex=a.comlexAuth,a.mySelectPaidPrograms.comlex.docCd=a.docCodes.COMLEX.docCd,c=c&&!a.comlexAuth.invoiceSeqNbr):(a.isSelComlex=!1,a.isSelUsmle=!0,a.mySelectPaidPrograms.usmle=a.usmleAuth,a.mySelectPaidPrograms.usmle.docCd=a.docCodes.USMLE.docCd,c=c&&!a.usmleAuth.invoiceSeqNbr),c},H=function(b){var c=[],d={},e=null;e||(e=b),_.forEach(e,function(b){var e=_.find(a.withdrawnProgramList,function(a){return a.unitId===b.unitId});e&&(b.withdrawId=e.withdrawId),b.unit.unitStateDesc=l.findStateDesc(b.unit.unitStateCode,a.residenceStatesProvinces),b.selectedProgramTracks.length>0&&(b.selPrgTracksCopy=angular.copy(b.selectedProgramTracks),c=b.selectedProgramTracks,_.forEach(b.unit.tracks,function(e){d=e,d.selected=!1;var f,g,h,i,j=a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible;j&&(f=a.soapDto.applicantSoapEligible&&(!d.nrmpUnfilledPositionsIndicator||"N"===d.nrmpUnfilledPositionsIndicator)||"FM"===E.applicantSoapMatchStatus,g=a.soapDto.applicantSoapEligible&&a.applicationData.soapEligibilityPositionType&&-1===a.applicationData.soapEligibilityPositionType.indexOf(d.trackTypeCode)),_.forEach(c,function(a){a.track&&"N"===a.track.trackMyerasDisplayInd&&v.getTrackHistory(b.unitId,a.trackCode).then(function(b){a.inactiveDt=b}),d.trackCode===+a.trackCode&&d.unitId===a.unitId&&(j?(h=a.trackSoapIndicator&&"N"===a.trackSoapIndicator,i=!g&&h&&!f,i||(d.selected=!0,d.preselected=!0)):(d.selected=!0,d.preselected=!0),d.createdBy=a.createdBy,d.createdDt=a.createdDt,d.lastUpdatedBy=a.lastUpdatedBy,d.lastUpdatedDt=a.lastUpdatedDt)})}))})},I=function(){t.getUsmleAuth(m.applicationId,!0).then(function(b){b&&(a.usmleAuth=b)})},J=function(){t.getComlexAuth(m.applicationId,!0).then(function(b){b&&(a.comlexAuth=b)})},K=function(){t.getPtals(m.applicationId).then(function(b){b&&(a.ptalData=b)})};a.goToOtherDocuments=function(){a.hideAssignDocumentsModal(),g.go("main.otherDocuments")};var L=c({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"states/programsapplied/program-details-modal.html"}),M=c({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"states/programsapplied/withdraw-programs-modal.html"}),N=c({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"states/programsapplied/assign-documents-modal.html"});a.withdrawFromPrograms=function(b){_.isEmpty(a.withdrawnProgramList)?a.showNoProgramSelections=!0:(a.showNoProgramSelections=!1,u.getContent("MY_ERAS_WITHDRAW_PROGRAM_TEXT").then(function(b){b&&(a.programWithdrawText=k.trustAsHtml(b.displayText),M.$promise.then(M.show))}))},a.checkAllPrograms=function(b){a.showNoProgramSelections=!1;var c=f("filter")(a.myPrograms,E.searchForText);E.withdrawAll?(a.withdrawnProgramList=[],angular.forEach(c,function(b){"Y"!=b.withdrawnIndicator&&(b.withdrawId=!0,a.withdrawnProgramList.push(b))})):angular.forEach(a.myPrograms,function(b){"Y"!=b.withdrawnIndicator&&(b.withdrawId=!1,a.withdrawnProgramList=[])})},a.hideProgramWithdrawnModal=function(){M.$promise.then(M.hide)},a.withdrawProgramAction=function(b){a.showNoProgramSelections=!1,!b.withdrawId||"Y"==b.withdrawnIndicator&&b.withdrawnIndicator?b.withdrawId||"Y"!==b.withdrawnIndicator?_.remove(a.withdrawnProgramList,function(a){return a.unitId===b.unitId}):a.showProgramReapplyModal(b):a.withdrawnProgramList.push(b)},a.withdrawProgram=function(){var b=[];angular.forEach(a.withdrawnProgramList,function(a){b.push({applicationId:a.applicationId,unitId:a.unitId,withdrawnIndicator:"Y"})}),l.saveWithdrawnPrograms(b).then(function(b){b&&(Q(),M.$promise.then(M.hide),E.withdrawAll=!1,a.withdrawnProgramList=[])})};var O=function(){u.getContent("MILITARY_PROGRAM_US_CITIZEN_ONLY").then(function(b){b&&(a.programNoteMilitaryText=k.trustAsHtml(b.displayText))})};a.showProgramDetailsModal=function(b){a.enableModalSave=!1,O(),a.modalCurrentPage=1,a.programDet=angular.copy(b),y.filterTracks(a.programDet,a.soapDto,a.applicationData),E.trackNotSelected=D(b),b.unit.unitPgmInformation&&b.unit.unitPgmInformation.length>225&&(0===b.unit.cimSurvey.length||!b.unit.cimSurvey)?a.showMore=!1:a.showMore=!0,!b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?E.showMoreCimInfo=!1:E.showMoreCimInfo=!0,b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?E.showFullInfo=!1:E.showFullInfo=!0,a.cimSurvey=b.unit.cimSurvey[0],a.cimSurveyUnitName=b.unit.unitName,L.$promise.then(L.show)},a.showMoreCim=function(){E.showMoreCimInfo=!E.showMoreCimInfo},a.showFullInfoFunction=function(){E.showFullInfo=!E.showFullInfo},a.updateProgramSelections=function(b,c){if(a.enableModalSave=!0,angular.forEach(b.selectedProgramTracks,function(a){c.unitId===a.unitId&&c.trackCode.toString()===a.trackCode.toString()&&(a.selectedTrack=c.selected?!0:!1,a.appliedDate&&!a.reAppliedDate&&"N"===a.trackSoapIndicator&&a.selectedTrack&&(a.eligibleForReapply=!0))}),c.selected){var d=!1;_.forEach(b.selPrgTracksCopy,function(a){c.trackCode.toString()===a.trackCode.toString()&&(a.appliedDate&&!a.reAppliedDate&&"N"===a.trackSoapIndicator&&(d=!0),c.createdBy=a.createdBy,c.createdDt=a.createdDt,c.lastUpdatedBy=a.lastUpdatedBy,c.lastUpdatedDt=a.lastUpdatedDt)}),c.selectedTrack=c.selected?!0:!1,d||b.selectedProgramTracks.push({track:c})}else"N"===c.trackMyerasDisplayInd&&(c.disableOnUncheck=!0),_.remove(b.selectedProgramTracks,function(a){return c.trackCode===a.track.trackCode});E.trackNotSelected=D(b),R()},a.checkToDisableTrack=function(a,b){return 1===a.selectedProgramTracks.length&&1===a.unit.tracks.length?!0:b.preselected&&"N"===b.trackMyerasDisplayInd?!1:b.selected||"N"!==b.trackMyerasDisplayInd?b.preselected||"N"!==b.trackMyerasDisplayInd?void 0:!1:!0},a.backToProgramDetails=function(){a.modalCurrentPage=1},a.isSelectedProgram=function(b){var c=_.filter(b,{applyInd:!0});a.isSelectedProg=c.length>0},a.updateProgram=function(b){if(!E.trackNotSelected){var c={applicationAvailableDate:b.applicationAvailableDate,applicationId:m.applicationId,invoiceSeqNumber:b.invoiceSeqNumber,processedDate:b.processedDate,unitId:b.unitId,appliedDate:b.appliedDate,soapIndicator:b.soapIndicator,pgy2:b.pgy2,withdrawnIndicator:b.withdrawnIndicator,reappliedDate:b.reappliedDate,withdrawnJmsIndicator:b.withdrawnJmsIndicator,reinstateJmsIndicator:b.reinstateJmsIndicator},d=[],e=0;if(angular.forEach(b.selectedProgramTracks,function(c){var f={};f.applicationId=m.applicationId,f.unitId=b.unitId,f.trackCode=c.track.trackCode,f.trackName=c.track.trackName,f.selectedTrack=c.track.selectedTrack,f.trackSoapIndicator=a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible?B.getSoapInd(c):B.getClosedSoapInd(a.soapDto,c),f.createdBy=c.track.createdBy?c.track.createdBy:c.createdBy,f.createdDt=c.track.createdDt?c.track.createdDt:c.createdDt,f.lastUpdatedBy=c.track.lastUpdatedBy?c.track.lastUpdatedBy:c.lastUpdatedBy,f.lastUpdatedDt=c.track.lastUpdatedDt?c.track.lastUpdatedDt:c.lastUpdatedDt,f.appliedDate=c.appliedDate,f.reappliedDate=c.reappliedDate,f.eligibleForReapply=c.eligibleForReapply,f.eligibleForReapply&&(f.selectedTrack=c.selectedTrack),c.track.preselected=!0,d.push(f),"P"===c.track.trackTypeCode&&e++}),0===e&&b.pgy2&&(b.pgy2=null,c.pgy2=null),1===a.modalCurrentPage&&0===d.length)a.modalCurrentPage=2;else{var f=_.findIndex(a.myPrograms,{unitId:b.unitId});0===d.length?a.hideProgramDetailsModal():(c.selectedProgramTracks=d,c.programAssignments=b.programAssignments?b.programAssignments:[],a.myPrograms[f]=a.programDet,a.saveProgramTracks(c),E.selectedPrograms[b.unitId]=b)}R()}},a.saveProgramTracks=function(b){delete b.specialty,l.updateSelectedProgram(b).then(function(a){a&&Q()}),a.programsInMySelection=_.size(E.selectedPrograms),a.hideProgramDetailsModal(),e.success("Saved Successfully")},a.setMySelectedPrograms=function(b){R();var c={programsForUSMLE:[],programsForCOMLEX:[]};t.setProgramsForDocRelease(c),angular.forEach(b,function(b){b.invoiceSeqNumber||angular.forEach(b.programAssignments,function(d){a.usmleAuth&&a.usmleAuth.invoiceSeqNbr&&d.docCd===a.docCodes.USMLE.docCd&&c.programsForUSMLE.push(b.unitId),a.comlexAuth&&a.comlexAuth.invoiceSeqNbr&&d.docCd===a.docCodes.COMLEX.docCd&&c.programsForCOMLEX.push(b.unitId)})}),t.setProgramsForDocRelease(c),l.setMySelectedPrograms(b)},a.showAbsite=function(a){return"450"===a.unit.specialty.specCd||"460"===a.unit.specialty.specCd||"060"===a.unit.specialty.specCd||"442"===a.unit.specialty.specCd||"445"===a.unit.specialty.specCd||"451"===a.unit.specialty.specCd||"362"===a.unit.specialty.specCd||"461"===a.unit.specialty.specCd||"446"===a.unit.specialty.specCd||"221"===a.unit.specialty.specCd||"486"===a.unit.specialty.specCd?!0:!1};var P=function(a,b,c){var d={};d.lors=angular.copy(a),d.lors||(d.lors=[{}]),angular.forEach(d.lors,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d.ps=angular.copy(b),angular.forEach(d.ps,function(a){_.isUndefined(a.selected)&&(a.selected=!1)});var e=angular.copy(c);return d.other={usmle:e.usmle,comlex:e.comlex,ptal:e.ptal,mspe:e.mspe,msTranscript:e.msTranscript,absite:e.absite,photo:e.photo,ECFMG:e.ECFMG},d};a.clearProgramTracks=function(){a.hideProgramDetailsModal()},a.hideProgramDetailsModal=function(){L.$promise.then(L.hide)},a.showAssignDocumentsModal=function(b){a.vm.soapOpen&&("FM"===a.vm.applicantSoapMatchStatus||!a.vm.applicantSoapEligible&&b.unit.unfilledPositionsIndicator&&"FM"!==a.vm.applicantSoapMatchStatus)||a.vm.soapOpen&&a.vm.applicantSoapEligible&&"FM"!==a.vm.applicantSoapMatchStatus&&b.nonSoapEligibleProgram||(a.showNoAssignSelections=!1,a.showAppliedAdditionalDocAccordion=!0,a.showLorAccordion=!0,a.showPersonalStatAccordion=!0,a.usmle.selected=!1,a.usmle.preSelected=!1,a.comlex.selected=!1,a.comlex.preSelected=!1,a.ptal.selected=!1,a.ptal.preSelected=!1,a.mspe.selected=!1,a.mspe.preSelected=!1,a.msTranscript.selected=!1,a.msTranscript.preSelected=!1,a.absite.selected=!1,a.absite.preSelected=!1,a.photo.selected=!1,a.photo.preSelected=!1,a.assignComlex=!1,a.assignAbsite=!1,a.assignMspe=!1,a.assignPtal=!1,a.assignMsTranscript=!1,a.assignUsmle=!1,a.assignPhoto=!1,a.assignedDocListObj.docList.pstmt=void 0,a.programDet=angular.copy(b),a.currentPage=1,I(),J(),K(),a.myPersonalStatments=angular.copy(a.allPersonalStatements),a.myLors=angular.copy(a.allLors),s.getAssignedDocsForProgram(m.applicationId,b.unitId).then(function(c){c.length>0?a.assignedDocListObj.initDocList(c,b):a.assignedDocListObj.initDocList([],b),a.originalAssignUsmle=a.assignUsmle,a.originalAssignComlex=a.assignComlex}),N.$promise.then(N.show))},a.hideAssignDocumentsModal=function(){a.assignedDocListObj.docList.lor=[],N.$promise.then(N.hide)},a.displayProgramsTrainingDisclaimer=function(a){var b=!1;return a.unit&&a.unit.tracks&&_.forEach(a.unit.tracks,function(a){return a.nrmpPgmCd?(b=!0,!1):void 0}),b},a.changeSortCol=function(b){a.orderByCol===b?a.reverseSort=!a.reverseSort:(a.orderByCol=b,a.reverseSort=!a.reverseSort)},a.confirmationPage=function(b,c){a.showNoAssignSelections=!1;var d=!1,e=!1,f=!1;angular.forEach(b,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),angular.forEach(c,function(a){_.isUndefined(a.selected)&&(a.selected=!1)}),d=!_.isEqual(_.pluck(_.filter(b,"lorLetterId")||_.filter(b,"lorUploaded"),"selected"),_.pluck(a.origAssignments.lors,"selected")),e=!_.isEqual(_.pluck(a.origAssignments.ps,"selected"),_.pluck(c,"selected"));var g=!1;angular.forEach(a.origAssignments.other,function(b,c){g=a[c]&&a[c].selected?a[c].selected:!1,b.selected!==g&&(f=!0)}),a.changedLors=d,d||e||f?d?a.currentPage=2:a.assignedDocListObj.saveDocList():a.showNoAssignSelections=!0},a.backToAssignPage=function(){a.currentPage=1},a.selectStatement=function(b){var c=_.filter(a.myPersonalStatments,{selected:!0});c.length>0&&(b.selected=!0,angular.forEach(c,function(a){a!=b&&(a.selected=!1)}))},a.filteredPrograms=function(a){var b=!1,c="NRMP Program Code:";if(a&&a.unit&&(a.unit.unitName||a.unit.tracks))for(var d=0;d<a.unit.tracks.length;d++){var e=a.unit.tracks[d].trackName;a.unit.tracks[d].nrmpPgmCd&&(e+=" | "+c+a.unit.tracks[d].nrmpPgmCd),e+=" ("+a.unit.tracks[d].trackType.trackTypeDescription+")";var f=-1!==a.unit.unitName.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==a.unit.tracks[d].trackName.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==a.unit.unitCity.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==a.unit.unitStateDesc.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==a.unit.specialty.specName.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==a.accreditationId.toString().indexOf(E.searchForText||""),g=-1!==a.unit.tracks[d].trackType.trackTypeDescription.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||a.unit.tracks[d].nrmpPgmCd&&-1!==c.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||-1!==e.toLowerCase().indexOf(E.searchForText.toLowerCase()||"")||a.unit.tracks[d].nrmpPgmCd&&-1!==a.unit.tracks[d].nrmpPgmCd.indexOf(E.searchForText||"");(f||g)&&(b=!0)}return b},a.filteredLors=function(a){var b=!1;return(a.lorLetterId||a.lorUploaded)&&(b=!0),b},a.lorsConfirmedOrUploaded=function(a){var b=!1,c={};return a&&a.length>0&&(c=a[0],(c.lorUploaded||c.lorLetterId)&&(b=!0)),b},a.numberOfPages=function(){return Math.ceil(f("filter")(a.myPrograms,E.searchForText).length/a.pagination.itemsPerPage)},a.setRange=function(){for(var b=[],c=Math.max(a.numberOfPages()-(a.pagination.gap-1),1),d=Math.min(a.pagination.currentPage-3,c);b.length<a.pagination.gap&&d<=a.numberOfPages();)d>0&&b.push(d),d++;a.range=b},a.prevPage=function(){a.pagination.currentPage>1&&a.pagination.currentPage--},a.nextPage=function(){a.pagination.currentPage<a.numberOfPages()&&a.pagination.currentPage++},a.isPsMaxLimit=function(){return a.assignedDocListObj.docList.lor.length>=4?!0:!1};var Q=function(){a.isBusy=!0,w.all([q.getStates("USA"),q.getStates("CAN"),l.getAppliedPrograms(m.applicationId),t.getTrancriptReleaseDate(m.applicationId)]).then(function(b){if(b){a.residenceStatesProvinces=b[0],_.forEach(b[1],function(b){a.residenceStatesProvinces.push(b)}),b[2]&&(b[2].soapDto&&(a.soapDto=b[2].soapDto,E.soapOpen=b[2].soapDto.soapOpen,E.applicantSoapMatchStatus=b[2].soapDto.applicantSoapMatchStatus,E.applicantSoapEligible=b[2].soapDto.applicantSoapEligible,!b[2].soapDto.soapOpen||!b[2].soapDto.residencyApplicant||b[2].soapDto.residencyApplicant&&!b[2].soapDto.soapOpen?a.applicantNormalMode=!0:b[2].soapDto&&!b[2].soapDto.applicantSoapEligible?(a.applicantSoapIneligible=!0,a.isSoapIneligibleApplicant=!1):b[2].soapDto&&b[2].soapDto.applicantSoapEligible&&(a.applicantSoapEligible=!0)),E.showSoap=E.soapOpen&&a.isResidency,E.showSoap&&E.applicantSoapEligible&&s.getProgramsCount(m.applicationId).then(function(a){a&&(E.programsCount=a)}),a.applicantNormalMode?(a.myPrograms=b[2].selectedPrograms,H(a.myPrograms),a.disableSearch=!1):a.applicantSoapIneligible?(a.myPrograms=b[2].soapInEligiblePrograms,H(a.myPrograms),a.disableSearch=!1):a.applicantSoapEligible&&(a.soapPrograms=b[2].soapEligiblePrograms,a.nonSoapPrograms=b[2].soapInEligiblePrograms,a.disableSearch=!1,angular.forEach(a.soapPrograms,function(a){a.soapEligibleProgram=!0}),angular.forEach(a.nonSoapPrograms,function(a){a.nonSoapEligibleProgram=!0}),H(a.soapPrograms),H(a.nonSoapPrograms))),a.transcriptList=b[3],l.getWithdrawnPrograms(m.applicationId).then(function(b){a.allWithdrawnPrograms=b,angular.forEach(a.myPrograms,function(b){b.panel={},angular.forEach(a.allWithdrawnPrograms,function(a){b.unitId===a.unitId&&(b.withdrawId=!0)})})});var c=m.applicationId;n.getApplicantLorAuthors(c).then(function(b){a.allLors=b,a.allLors=f("lorauthor")(a.allLors),_.forEach(a.allLors,function(b){b.docCd=a.docCodes.LOR.docCd}),r.getPersonalStatements(c).then(function(b){a.allPersonalStatements=b,_.forEach(a.allPersonalStatements,function(b){b.docCd=a.docCodes.PERSONAL_STMT.docCd,b.seqNbr=b.psSeqNbr}),(a.applicantNormalMode||a.applicantSoapIneligible)&&T(a.myPrograms),a.applicantSoapEligible&&(T(a.soapPrograms),T(a.nonSoapPrograms))}),I(),J(),K(),R(),U(),a.isBusy=!1})}})},R=function(){var b=_.filter(a.myPrograms,function(a){return a.inEligible||a.warning}),c=_.size(b);c>0?a.showInEligibleText=!0:a.showInEligibleText=!1,a.myPrograms=_.sortBy(a.myPrograms,function(a){return a.inEligible})},S=function(){m.getApplication().then(function(b){b&&(a.applicationData=b,"R"===b.applicationType?(a.applicantType="R",a.isResidency=!0):(a.applicantType="F",a.isResidency=!1),a.statusId=b.statusId,a.applicationId=b.applicationId,a.applicant.applicationId=b.applicationId,a.allProgramsSize=a.myPrograms.length,Q())})};S(),a.isTrainingSelected=function(b){var c=_.filter(a.myPrograms,{"selectedProgramTracks.unitId":b.unitId,"selectedProgramTracks.track.trackCode":b.trackCode});return c?!0:!1};var T=function(b){angular.forEach(b,function(b){b.assignedLors=[],b.assignedPS=[],b.showUsmle=!1,b.showComlex=!1,b.showMsTranscript=!1,b.showMspe=!1,b.showAbsite=!1,b.showPtal=!1,b.showPhoto=!1,b.showEcfmgReport=!1,b.programAssignments.length>0&&angular.forEach(b.programAssignments,function(c){c.docCd===a.docCodes.LOR.docCd&&angular.forEach(a.allLors,function(d){d=angular.copy(d),c.seqNbr===d.seqNbr&&(d.paSubmitDt=c.paProcessedDt,d.lorReleaseDt=W(b.unitId,a.docCodes.PREPENDED_LOR.docCd,d.seqNbr),b.assignedLors.push(d))}),c.docCd===a.docCodes.PERSONAL_STMT.docCd&&angular.forEach(a.allPersonalStatements,function(d){d=angular.copy(d),c.seqNbr===d.psSeqNbr&&(d.paSubmitDt=c.paProcessedDt,b.personalStatementReleaseDt=W(b.unitId,a.docCodes.PERSONAL_STMT.docCd,d.psSeqNbr),d.paSubmitDt>b.personalStatementReleaseDt&&(b.personalStatementReleaseDt=d.paSubmitDt),b.showPs=!0,b.assignedPS.push(d))}),c.docCd===a.docCodes.USMLE.docCd&&(b.showUsmle=!0,b.usmleSubmitDt=c.paProcessedDt,b.usmleReleaseDt=V(b.unitId,a.docCodes.USMLETRANSCRIPT.docCd)),c.docCd===a.docCodes.COMLEX.docCd&&(b.showComlex=!0,b.comlexSubmitDt=c.paProcessedDt,b.comlexReleaseDt=V(b.unitId,a.docCodes.COMLEXTRANSCRIPT.docCd)),c.docCd===a.docCodes.PTAL.docCd&&(b.showPtal=!0,b.ptalSubmitDt=c.paProcessedDt,b.ptalReleaseDt=V(b.unitId,a.docCodes.PTAL.docCd)),c.docCd===a.docCodes.MSPE.docCd&&(b.showMspe=!0,b.shouldShowAvailableDt=!1,b.mspeSubmitDt=c.paProcessedDt,b.mspeReleaseDt=V(b.unitId,a.docCodes.MSPE.docCd),a.isResidency&&q.getServerCurrentDate().then(function(c){c>a.mspeAvailableDate&&c>b.mspeReleaseDt&&a.mspeAvailableDate>b.mspeReleaseDt&&(b.mspeReleaseDt=a.mspeAvailableDate,b.shouldShowAvailableDt=!0)})),c.docCd===a.docCodes.MSTRANSCRIPT.docCd&&(b.showMsTranscript=!0,b.mstSubmitDt=c.paProcessedDt,b.mstReleaseDt=V(b.unitId,a.docCodes.MSTRANSCRIPT.docCd)),c.docCd===a.docCodes.ABSITE.docCd&&(b.showAbsite=!0,b.absiteSubmitDt=c.paProcessedDt,b.absiteReleaseDt=V(b.unitId,a.docCodes.ABSITE.docCd)),c.docCd===a.docCodes.PHOTO.docCd&&(b.showPhoto=!0,b.photoSubmitDt=c.paProcessedDt,b.photoReleaseDt=V(b.unitId,a.docCodes.PHOTO.docCd)),c.docCd===a.docCodes.ECFMG.docCd&&(b.showEcfmgReport=!0,b.ecfmgReportSubmitDt=c.paProcessedDt,b.ecfmgReportReleaseDt=V(b.unitId,a.docCodes.ECFMG.docCd))})})};a.showPastInvoiceLink=function(){return 3!==a.statusId};var U=function(){m.getCAF(m.applicationId).then(function(b){a.applicantCafData=b})};a.$watchCollection("[pagination.currentPage, pagination.itemsPerPage, myPrograms]",function(){a.setRange(),a.pagination.currentPage>a.numberOfPages()&&(a.pagination.currentPage=Math.max(a.numberOfPages(),1))});var V=function(b,c){return A.findTranscriptReleaseDate(a.transcriptList,b,c)},W=function(b,c,d){return A.findLorReleaseDate(a.transcriptList,b,c,d)},X=function(b,c){var d=s.validateSelection(b,c);return d||(a.hideAssignDocumentsModal(),a.showAssignDocumentsModal(a.programDet)),d};a.$watch("vm.searchForText",function(){a.setRange()}),a.preliminaryConditions=function(b){return a.preliminaryMode=!1,angular.forEach(b.unit.tracks,function(b){"P"===b.trackTypeCode&&b.selected===!0&&(a.preliminaryMode=!0)}),a.preliminaryMode}}]),angular.module("myeras.programsWithdrawn",["ui.router"]).controller("programsWithdrawnController",["$scope","$rootScope","$modal","$q","APP_CONFIG","unitsService","applicationService","refDataService","contentService","trackHistoryService","soapSeasonOpening",function(a,b,c,d,e,f,g,h,i,j,k){function l(){g.getApplication().then(function(b){b&&(a.applicationData=b,a.applicationId=b.applicationId,m())})}function m(){d.all([h.getStates("USA"),h.getStates("CAN"),f.getAppliedProgramsDto(g.applicationId),f.getWithdrawnPrograms(a.applicationId)]).then(function(b){b&&(a.residenceStatesProvinces=b[0],a.soapDto=e.applicantSoapObject?e.applicantSoapObject:{},a.soapOpen=a.soapDto.soapOpen,a.applicantSoapIneligible=a.soapDto.residencyApplicant&&!a.soapDto.applicantSoapEligible&&"FM"!==a.applicationData.soapMatchStatus,angular.forEach(b[1],function(b){a.residenceStatesProvinces.push(b)}),a.applicantSoapIneligible&&i.getContent("PROGRAM_WITHOUT_CHECKBOX_MSG").then(function(b){if(b){a.contentName="reinstate";var c=b.displayText;i.contentCompiler(c,a).then(function(b){a.programWithoutCheckboxMsg=b})}}),a.allWithdrawnPrograms=b[3],angular.forEach(a.allWithdrawnPrograms,function(b){b.unit.unitStateDesc=f.findStateDesc(b.unit.unitStateCode,a.residenceStatesProvinces),angular.forEach(b.selectedProgramTracks,function(c){"N"===c.track.trackMyerasDisplayInd&&(b.showExclamation=!0,a.isInEligibleToWithdrawText=!0,j.getTrackHistory(b.unitId,c.trackCode).then(function(a){c.inactiveDt=a}))})}))})}a.isInEligibleToWithdrawText=!1,l(),a.soapOpen=k,b.breadcrumbs=[{link:"#/programHome",active:!0,title:"Program Home"}];var n;a.vm=n={searchForText:"",selectedPrograms:[]},a.isAppliedProgramTab=!0,a.reapplyProgramList=[],a.orderByCol="unit.unitName",a.reverseSort=!1,a.applicationId=null;var o=c({animation:"am-fade-and-slide-top",scope:a,
show:!1,backdrop:"static",keyboard:!1,template:"states/programsapplied/program-details-modal.html"}),p=c({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"states/programs-withdrawn/programs-reinstate-modal.html"});c({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",keyboard:!1,template:"states/programsapplied/reapply-programs-modal.html"});a.modalControl1=function(b,c){var d=n.soapOpen?!g.isSoapEligibleToApplyReapply(b,c):!1,e=a.checkToDisableTrack(c,b)||"Y"===c.withdrawnIndicator,f=b.disableOnUncheck||b.preselected,h=c.unit.unfilledPositionsIndicator;return d||e||f||h?!0:!1},a.modalControl2=function(b,c){var d=a.checkToDisableTrack(c,b)||"Y"===c.withdrawnIndicator,e="FM"===n.applicantSoapMatchStatus;return d||e?!0:!1},a.checkToDisableTrack=function(a,b){return 1===a.selectedProgramTracks.length&&1===a.unit.tracks.length?!0:b.preselected&&"N"===b.trackMyerasDisplayInd?!1:b.selected||"N"!==b.trackMyerasDisplayInd?b.preselected||"N"!==b.trackMyerasDisplayInd?void 0:!1:!0},a.reinstatePrograms=function(b){_.isEmpty(a.withdrawnProgramList)?a.showNoAssignSelections=!0:(a.showNoAssignSelections=!1,p.$promise.then(p.show))},a.showFullInfoFunction=function(){n.showFullInfo=!n.showFullInfo},a.showMoreCim=function(){n.showMoreCimInfo=!n.showMoreCimInfo},a.hideProgramReinstateModal=function(){p.$promise.then(p.hide)},a.hideProgramDetailsModal=function(){o.$promise.then(o.hide)},a.loadSelectedPrograms=function(){f.getWithdrawnPrograms(a.applicationId).then(function(b){a.allWithdrawnPrograms=b,l()})},a.clearProgramTracks=function(){a.hideProgramDetailsModal()},a.showWithdrawnProgramDetailsModal=function(b){a.enableModalSave=!1,a.modalCurrentPage=1,a.programDet=angular.copy(b),angular.forEach(a.programDet.unit.tracks,function(b){angular.forEach(a.programDet.selectedProgramTracks,function(a){b.unitId===a.unitId&&b.trackCode===a.track.trackCode&&(b.selected=!0)})}),b.unit.unitPgmInformation&&b.unit.unitPgmInformation.length>225&&(0===b.unit.cimSurvey.length||!b.unit.cimSurvey)?a.showMore=!1:a.showMore=!0,!b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?n.showMoreCimInfo=!1:n.showMoreCimInfo=!0,b.unit.unitPgmInformation&&b.unit.cimSurvey&&b.unit.cimSurvey.length>0&&b.unit.cimSurvey[0]&&"Y"===b.unit.cimSurvey[0].myerasDisplayId?n.showFullInfo=!1:n.showFullInfo=!0,a.cimSurvey=b.unit.cimSurvey[0],a.cimSurveyUnitName=b.unit.unitName,o.$promise.then(o.show)},a.checkAllWithdrawPrograms=function(b){a.showNoAssignSelections=!1,n.withdrawAll?((!a.withdrawnProgramList||0===a.withdrawnProgramList.length||0===a.withdrawnProgramList.length&&!a.withdrawnProgramList[0])&&(a.withdrawnProgramList=[]),angular.forEach(b,function(b){b.withdrawId||a.isInEligibleToWithdraw(b)||b.showExclamation||(b.withdrawId=!0,a.reapplyProgramList.push({applicationId:b.applicationId,unitId:b.unitId,withdrawnIndicator:"N"}),a.withdrawnProgramList.push(b))})):(angular.forEach(b,function(a){a.withdrawId=!1}),a.reapplyProgramList=[],a.withdrawnProgramList=[])},a.withdrawnProgramList=[],a.withdrawProgramAction=function(b){if(a.showNoAssignSelections=!1,b.withdrawId){a.withdrawnProgramList.push(b);angular.copy(b);a.reapplyProgramList.push({applicationId:b.applicationId,unitId:b.unitId,withdrawnIndicator:"N"})}else _.remove(a.withdrawnProgramList,function(a){return a.unitId===b.unitId}),_.remove(a.reapplyProgramList,function(a){return a.unitId===b.unitId})},a.isInEligibleToWithdraw=function(b){return b.unit.unfilledPositionsIndicator&&a.soapOpen},a.reapplyProgram=function(){f.saveWithdrawnPrograms(a.reapplyProgramList).then(function(b){b&&(n.searchForText="",a.hideProgramReinstateModal(),a.withdrawnProgramList=[],a.reapplyProgramList=[],n.withdrawAll&&(n.withdrawAll=!1),a.loadSelectedPrograms())})},a.changeSortCol=function(b){a.orderByCol===b?a.reverseSort=!a.reverseSort:(a.orderByCol=b,a.reverseSort=!a.reverseSort)},a.filteredPrograms=function(a){var b=!1,c="NRMP Program Code:";if(a&&a.unit&&(a.unit.unitName||a.unit.tracks))for(var d=0;d<a.unit.tracks.length;d++){var e=a.unit.tracks[d].trackName;a.unit.tracks[d].nrmpPgmCd&&(e+=" | "+c+a.unit.tracks[d].nrmpPgmCd),e+=" ("+a.unit.tracks[d].trackType.trackTypeDescription+")";var f=-1!==a.unit.unitName.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==a.unit.tracks[d].trackName.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==a.unit.unitCity.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==a.unit.unitStateDesc.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==a.unit.specialty.specName.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==a.accreditationId.toString().indexOf(n.searchForText||""),g=-1!==a.unit.tracks[d].trackType.trackTypeDescription.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||a.unit.tracks[d].nrmpPgmCd&&-1!==c.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||-1!==e.toLowerCase().indexOf(n.searchForText.toLowerCase()||"")||a.unit.tracks[d].nrmpPgmCd&&-1!==a.unit.tracks[d].nrmpPgmCd.indexOf(n.searchForText||"");(f||g)&&(b=!0)}return b}}]),function(){function a(a,b,c,d,e,f,g,h,i,j){function k(a,b,c,d,e){return{programName:a.unit.unitName,specialty:l(a,e),city:a.unit.unitCity,state:a.unit.unitStateCode,programDirector:a.unit.unitPgmDirector,phone:a.unit.unitPhone,email:a.unit.unitEmail,tracks:a.selectedProgramTracks,pgy2:a.pgy2,tracksSorted:null,documents:m(a.programAssignments,b,c,d),documentsSorted:null,isWithdrawn:"Y"===angular.uppercase(a.withdrawnIndicator),isInactive:"O"!==angular.uppercase(a.unit.unitStatusCode),program:a}}function l(a,b){var c,d;return d=angular.uppercase(a.unit.unitPgmTypeCode),d&&(c=!c&&~["I","O"].indexOf(d)?"(DO)":c,c=!c&&~["R","F"].indexOf(d)?"(MD)":c),a.unit.specialty.specName+(c?" "+c:"")}function m(a,b,c,d){var e,f,g,h,i,j;return e=[],angular.forEach(a,function(a){f=_.find(b,{code:a.docCd}),f&&(g=angular.copy(f),"PERSONAL_STMT"===g.type?(h=_.find(c,{psSeqNbr:a.seqNbr}),h&&(g.description=h.psTitle)):"LOR"===g.type&&(i=_.find(d,{seqNbr:a.seqNbr}),i&&(j="",j=j||"Y"!==angular.uppercase(i.lorPgmDirectorInd)?j:"PD",j=j||"Y"!==angular.uppercase(i.lorDeptChairInd)?j:"DC",j=j?"["+j+"]":"",i.lorInstructions=null!==i.lorInstructions?i.lorInstructions:"",""!==i.lorInstructions&&(g.description=i.lorWriterName+", "+i.lorInstructions+" "+j),""===i.lorInstructions&&(g.description=i.lorWriterName+" "+j),g.sort.secondary=i.lorWriterName,g.sort.tertiary=i.lorInstructions)),e.push(g))}),e}function n(){var a,b,c;return a=[],b=["MSPE","MSTRANSCRIPT","USMLE","COMLEX","PHOTO","ECFMG","PTAL","ABSITE","PERSONAL_STMT","LOR"],_.forIn(j.getDocCodes(),function(d,e){e=angular.uppercase(e),c=b.indexOf(e),c>=0&&a.push({type:e,code:d.docCd,description:d.docType,sort:{primary:c,secondary:"",tertiary:""}})}),a}function o(a,b){var d;return d=a?a.displayText:d,d=d||(angular.isString(b)?b:""),c.trustAsHtml(d)}function p(a){return"N"===angular.uppercase(a.track.trackMyerasDisplayInd)}function q(b){return a.preliminaryMode=!1,angular.forEach(b.tracks,function(b){"P"===b.track.trackTypeCode&&(a.preliminaryMode=!0)}),a.preliminaryMode}function r(){d.generatePdf("10",s.application.season,s.application.instId,s.application.applicationId)}var s;a.vm=s={content:{programIsWithdrawn:null,programIsInactive:null,trackIsInactive:null,documentsNotAssigned:null},saved:{programs:[],programsSorted:null,content:{programsNotSelected:null}},appliedTo:{programs:[],programsSorted:null,content:{programsNotSelected:null}},trackIsInactive:p,dataIsLoading:!0,residenceStatesProvinces:[],application:{},preliminaryConditions:q,printAssignmentReport:r},b.all([d.getApplication(d.applicationId),e.getAllSelectedPrograms(d.applicationId),f.getPersonalStatements(d.applicationId),g.getApplicantLorAuthors(d.applicationId),h.getContent("PROGRAM_WITHDRAWN_TEXT"),h.getContent("PROGRAM_INACTIVE_TEXT"),h.getContent("TRACK_INACTIVE_TEXT"),h.getContent("DOCUMENTS_NOT_ASSIGNED_TEXT"),h.getContent("PROGRAMS_NOT_SAVED_TEXT"),h.getContent("PROGRAMS_NOT_APPLIEDTO_TEXT"),j.getStates("USA"),j.getStates("CAN")]).then(function(a){var b,c,d,e,f,g;s.content.programIsWithdrawn=o(a[4],"You have indicated that you no longer would like to be considered for a position with this program."),s.content.programIsInactive=o(a[5],"This program is no longer offered."),s.content.trackIsInactive=o(a[6],"This track is no longer offered."),s.content.documentsNotAssigned=o(a[7],"There are no documents assigned to this program."),s.saved.content.programsNotSelected=o(a[8],"There are no programs saved."),s.appliedTo.content.programsNotSelected=o(a[9],"There are no programs applied to."),b=a[0],s.application=b,c="F"===angular.uppercase(b.applicationType),d=a[1],e=n(),f=a[2],g=a[3],angular.forEach(d,function(a){s[a.invoiceSeqNumber?"appliedTo":"saved"].programs.push(k(a,e,f,g,c))}),s.residenceStatesProvinces=angular.copy(a[10]),_.forEach(a[11],function(a){s.residenceStatesProvinces.push(a)}),s.dataIsLoading=!1})}function b(){return{restrict:"E",replace:!0,scope:{vm:"="},link:function(a,b,c){a.dvm={section:a.vm[c.sectionPrograms]?a.vm[c.sectionPrograms]:{},sectionTitle:angular.isString(c.sectionTitle)?c.sectionTitle:""}},templateUrl:"states/assignment-report/assignment-report-programs.html"}}angular.module("myeras.assignmentReport",[]).controller("assignmentReportController",a).directive("assignmentReportPrograms",b),a.$inject=["$scope","$q","$sce","applicationService","unitsService","personalStatementService","letterService","contentService","$log","refDataService"]}(),angular.module("myeras.documentTracking",[]).controller("aamcDocumenttrackingController",["$scope","applicationService",function(a,b){a.name="documentTracking",b.getApplicationChecklist(b.applicationId).then(function(b){a.applicationChecklist=b})}]).directive("aamcDocumenttracking",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-documenttracking/aamc-documenttracking.html",controller:"aamcDocumenttrackingController"}}),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-dashboard-email-alert-section/aamc-dashboard-email-alert-section.html",link:a,controller:"DashboardEmailAlertSectionController",controllerAs:"dashboardEmailAlertSection"};return b}function b(a,b,c,d,e,f,g){function h(){l.consolidateEmails=!1,l.emailModal.$promise.then(l.emailModal.hide)}function i(){l.emailModal.$promise.then(l.emailModal.show)}function j(){l.application.email=l.context.emailAddress,g.updateApplication(l.application).then(function(a){l.application=a,b.hideEmailModal(),l.application&&"F"===l.application.applicationType?b.showEmailDifferenceFellowshipAlert=!1:b.showEmailDifferenceResidencyAlert=!1,l.emailUpdateMsg=["Your MyERAS email address has been changed to "+l.application.email],b.addDetailedAlert(l.emailUpdateMsg,4e3,"success",!1,"emailUpdateAlert")},function(a){b.hideEmailModal(),b.errorMsg="Could not update MyERAS Email Address",l.application.email=l.erasEmail})}function k(){l.consolidateEmails=!1,l.application&&"F"===l.application.applicationType?b.showEmailDifferenceFellowshipAlert=!1:b.showEmailDifferenceResidencyAlert=!1,g.ignoreEmailUpdate="true",l.emailUpdateMsg=["Your MyERAS email address is "+l.application.email+"; it has not been changed."],b.addDetailedAlert(l.emailUpdateMsg,4e3,"success",!1,"emailUpdateAlert")}var l=this;l.name="dashboardEmailAlertSection",l.myAttr=a.myAttr,l.msgCd=c.msgCd,l.emailModal=d({animation:"am-fade-and-slide-top",scope:a.$parent,show:!1,template:"states/newdashboard/email-difference-modal.html"}),l.contextEmail="",l.applicationEmail="",l.hideEmailModal=h,l.showEmailModal=i,l.updateEmail=j,l.ignoreEmailUpdate=k,a.$watch(function(){return e.getCurrentContext()},function(a){a.aamcId&&(l.context=angular.copy(a),l.contextEmail=l.context.emailAddress)}),a.$watch(function(){return f.getCurrentTrack()},function(a){a&&(l.application=angular.copy(a),l.erasEmail=a.email,b.erasEmail=a.email,b.hideEmailModal=h,b.updateEmail=j)})}angular.module("myeras.dashboardEmailAlertSection",["ui.router"]).controller("DashboardEmailAlertSectionController",b).directive("aamcDashboardEmailAlertSection",a),b.$inject=["$scope","$rootScope","$stateParams","$modal","authService","dashboardService","applicationService"]}(),angular.module("myeras.trackHistoryService",[]).factory("trackHistoryService",["Restangular","urlService",function(a,b){var c=b.appService;return{getTrackHistory:function(a,b){return b?c.one("trackStatusHistory?unitId="+a+"&trackCode="+b).get():void 0}}}]),function(){function a(){function a(a,b,c){a.contentkey=c.contentkey}var b={restrict:"EA",replace:!1,scope:{myAttr:"="},templateUrl:"components/directives/aamc-help-modal/aamc-help-modal.html",link:a,controller:"HelpModalController",controllerAs:"HelpModal"};return b}function b(a,b,c){function d(){e.isBusy=!0,c.getHelpContent(a.contentkey,!0).then(function(a){e.htmlContent=a,e.isBusy=!1})}var e=this;e.name="HelpModal",e.htmlContent="",e.myAttr=a.myAttr,e.getHelpContent=d}angular.module("myeras.HelpModal",[]).controller("HelpModalController",b).directive("aamcHelpModal",a),b.$inject=["$scope","$sce","contentService"]}(),function(){function a(a,b){function c(c,d,e){c.printContent=function(){var c=angular.element(a[0].body),e=d.html(),f=angular.element('<div class="printable"></div>');c.css({height:"auto"}),c.append(f),f.html(e),b.print(),f.remove(),c.css({height:"100%"})}}var d={restrict:"A",replace:!0,scope:{printContent:"="},link:c};return d}angular.module("myeras.browserPrint",[]).directive("aamcBrowserPrint",a),a.$inject=["$document","$window"]}(),angular.module("myeras.transcriptQuestionModal",[]).controller("aamcTranscriptquestionmodalController",["$scope","$modal","applicationService","$rootScope",function(a,b,c,d){a.name="transcriptQuestionModal";var e=b({animation:"am-fade-and-slide-top",scope:a,show:!1,backdrop:"static",template:"components/directives/aamc-transcriptquestionmodal/transcript-question-modal.html"});a.showTranscriptQuestionModal=function(){c.getCAF(c.applicationId).then(function(b){a.originalApplicationDataObj=b,a.applicationDataObj=angular.copy(a.originalApplicationDataObj),e.$promise.then(e.show)})},a.hideTranscriptQuestionModal=function(){a.applicationDataObj=a.originalApplicationDataObj,e.$promise.then(e.hide)},a.saveTranscriptQuestion=function(){c.saveCAF(a.applicationDataObj).then(function(b){a.originalApplicationDataObj=b,a.hideTranscriptQuestionModal(),d.$broadcast("goBackAndFetchNewCaf","Broadcast")})}}]).directive("aamcTranscriptquestionmodal",function(){return{restrict:"A",replace:!0,scope:{showTranscriptQuestionModal:"="},controller:"aamcTranscriptquestionmodalController"}}),function(){function a(a,b){return{restrict:"A",link:function(c,d,e){function f(a){var b="panel-danger";return a.$invalid||(b=""),b}function g(a){var d=a[0]?a[0].name:void 0,e=a.find("input"),f=a.find("select"),g=a.find("textarea"),i=d.replace("forms.","");return d?n(d)?void b.warn('Duplicate form: "%s" (%s) already registered.',d):(a.attr("novalidate","novalidate"),r.valid=null,r.invalid=null,-1===d.indexOf("forms.")&&(d="forms."+d,a.attr("name",d)),r.forms[i]={name:i,dom:a[0],valid:!0},q&&c.$on("modal.hide",function(){o(d)}),void(s&&(angular.forEach(e,function(a){h(a,d)}),angular.forEach(f,function(a){h(a,d)}),angular.forEach(g,function(a){h(a,d)})))):void b.error("Invalid form: name attribute required:",a)}function h(b,d){var e,f=angular.element(b),g=b.name,h=!f.attr("data-custom-error")&&(f.attr("ng-required")||!!f.attr("required")),i="radio"===f.attr("type"),j="This field is required.";if(suppressMsg=b.hasAttribute("noMsg")?!0:!1,!suppressMsg){if(h&&d&&g&&!i){switch(window.fv=c.formValidator,b.type){case"select-one":j="Selection is required.";break;case"text":case"textarea":case"number":j="This field is required."}e='<span class="text-danger" ng-show="!formValidator.'+d+".valid && "+d+"."+g+".$error.required && ("+h+')">'+j+"</span>"}angular.element(f).after(a(e)(c))}}function i(a){angular.forEach(a.find("form"),function(a){g(angular.element(a))})}function j(a,b){var c,d;return c=n(a),b=null!=b?Boolean(b):!0,c?(r.valid=m(c),r.invalid=!r.valid,r.invalid&&(d=c.dom.querySelector(".ng-invalid"),r.setFocus=d?function(){d.focus()}:angular.noop,b&&r.setFocus()),r.valid):!0}function k(a){var b=!0;return _.forEach(r.forms,function(a){a.valid=!0,m(a)||(a.valid=!1)}),_.forEach(r.forms,function(c){return j(c,a)?void 0:b=!1}),b}function l(a,b){var c=!0;return _.forEach(a,function(a){return j(a,b)?void 0:c=!1}),c}function m(a){var b=c.forms[a.name]?c.forms[a.name].$valid:!0;return r.forms[a.name].valid=b,b}function n(a){var b=Object.keys(r.forms);return null==a&&1===b.length?r.forms[b[0]]:angular.isObject(a)?a:_.find(r.forms,{name:a})}function o(a){_.remove(r.forms,{name:a.replace("forms.","")})}var p,q,r,s=e.addErrorElems;return p=c.$eval(e.aamcValidateFormAndFocus),p=angular.isObject(p)?p:{},p.scopeName=angular.isString(p.scopeName)?p.scopeName:"formValidator",q=c.$show&&c.$hide&&c.$toggle,r=c[p.scopeName]=c[p.scopeName]||{forms:{},valid:null,invalid:null,validate:j,validateAll:k,validateSome:l,showSectionError:f,setFocus:angular.noop},d[0]&&d[0].tagName?"FORM"===d[0].tagName.toUpperCase()?g(d):i(d):void 0}}}angular.module("myeras.validateFormAndFocus",[]).directive("aamcValidateFormAndFocus",a),a.$inject=["$compile","$log"]}(),function(){angular.module("myeras.AutoFocus",[]).directive("aamcAutoFocus".aamcAutoFocus)}(),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-timeout/aamc-timeout.html",link:a,controller:"TimeoutController",controllerAs:"timeout"};return b}function b(a,b,c,d,e){function f(){l.warning&&(j(),l.warning=null),l.timedout&&(k(),l.timedout=null)}function g(){f(),d.watch(),l.started=!0}function h(){f(),d.unwatch(),l.started=!1}function i(){l.warningModal.$promise.then(l.warningModal.show)}function j(){l.warningModal.$promise.then(l.warningModal.hide)}function k(){l.timeoutModal.$promise.then(l.timeoutModal.hide)}var l=this;l.name="timeout",l.warningModal=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"components/directives/aamc-timeout/aamc-warning-modal.html"}),l.timeoutModal=e({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"components/directives/aamc-timeout/aamc-timeout-modal.html"}),l.start=g,l.stopSessionTimer=h,l.hideWarningModal=j,l.hideTimeoutModal=k,a.$watch(function(){return c.getCurrentContext()},function(a){a&&a.aamcId&&g()}),l.started=!1,a.$on("IdleStart",function(){l.started&&(f(),i())}),a.$on("IdleEnd",function(){j()}),a.$on("IdleTimeout",function(){l.started&&(f(),j(),b.logout())})}angular.module("myeras.timeout",["mgcrea.ngStrap"]).controller("TimeoutController",b).directive("aamcTimeout",a),b.$inject=["$scope","SSOSecurity","authService","Idle","$modal"]}(),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:!1,templateUrl:"components/directives/aamc-dashboard-payment-alerts-section/aamc-dashboard-payment-alerts-section.html",link:a,controller:"DashboardPaymentAlertsSectionController",controllerAs:"dashboardPaymentAlertsSection"};return b}function b(a,b,c,d){function e(a,b){c.getAssignedDocuments(a.applicationId,6).then(function(c){c.length>0&&d.getUsmleAuth(a.applicationId,!0).then(function(a){a&&"Y"===a.usmleTransmissionInd&&null==a.invoiceSeqNbr&&(g.showPaymentAlert=!0,b&&(g.showPaymentAlertInPrograms=b),g.showMessageDiv=!0)})}),g.showPaymentAlert||c.getAssignedDocuments(a.applicationId,14).then(function(b){b.length>0&&d.getComlexAuth(a.applicationId,!0).then(function(a){a&&"Y"===a.comlexTransmissionInd&&null==a.invoiceSeqNbr&&(g.showPaymentAlert=!0,g.showMessageDiv=!0)})})}function f(){g.showMessageDiv=!1}var g=this;g.name="dashboardPaymentAlertsSection",g.showPaymentAlertInPrograms=!1,g.showMessageDiv=!0,g.trackSession={},g.hideAlert=f,a.$watch(function(){return b.getCurrentTrack()},function(a){a&&(g.showPaymentAlert=!1,g.application=angular.copy(a),e(g.application,!1))}),a.$watch(function(){return b.getCurrentRoute()},function(a){if(a&&("main.programsapplied"==a.name||"main.programHome"==a.name)){var c=b.getCurrentTrack(),d=g.trackSession[a.name];d||(e(c,!0),g.trackSession[a.name]=a.name)}})}angular.module("myeras.dashboardPaymentAlertsSection",[]).controller("DashboardPaymentAlertsSectionController",b).directive("aamcDashboardPaymentAlertsSection",a),b.$inject=["$scope","dashboardService","programAssignmentsService","otherDocumentService"]}(),angular.module("myeras.maintenance",["ui.router"]).controller("maintenanceController",["$scope","appConfigElements",function(a,b){angular.forEach(b,function(b){"ME_MAINT_MSG"===b.varName&&(a.maintMsg=b.varValue)})}]),function(){function a(a){return{restrict:"E",replace:!0,link:function(b,c,d){a.logAccess(d.applicationName)}}}function b(a,b,c,d,e,f){function g(a){return h().then(function(){return i()}).then(function(){return j(a)}).then(function(){return k()})}function h(){return p?m(p):c.getConfigElements().then(function(a){return p=a})}function i(){var a;return null===o.isOn&&(a=l("ME_BROWSER_LOG_IND"),o.isOn=a&&angular.isString(a.varValue)&&"Y"===angular.uppercase(a.varValue),o.isOn=!0),m(o.isOn)}function j(a){var b;return o.isOn&&(q=angular.isString(a)?a:q,q||(b=l("ME_BROWSER_LOG_APPLICATION_NAME"),q=b&&angular.isString(b.varValue)?b.varValue:q),q=angular.isString(q)?q:"MyERAS"),m(q)}function k(){var a,b;return a={accessWasLogged:!1,browserLog:{}},o.isOn&&c.applicationId&&(b=_.find(o.applications,{applicationId:c.applicationId,appName:q}),!b)?d.getServerCurrentDate().then(function(d){return b={applicationId:c.applicationId,appName:q,loginDate:d,loginBrowser:e.browser+","+e.os},o.applications.push(b),a.browserLog=b,a.accessWasLogged=!0,n.post(b).then(function(){return a})}):m(a)}function l(a){return _.find(p,{id:{varName:angular.isString(a)?a:""}})}function m(b){var c=a.defer();return c.resolve(b),c.promise}var n,o,p,q;return n=f.appService.all("browserLog"),o={isOn:null,applications:[]},{logAccess:g}}angular.module("myeras.browserLogService",[]).factory("browserLogService",b).directive("aamcBrowserLog",a),a.$inject=["browserLogService"],b.$inject=["$q","Restangular","applicationService","refDataService","deviceDetector","urlService"]}(),function(){"use strict";function a(a,b,c){function d(a,b){return g.one("accounts",a).one("updateEmail").customPOST(b)}function e(a){return h.one("applications").one("revokeByStaffTools").get({applicationId:a})}var f,g=c.userAccountService,h=c.appService;return f={updateEmail:d,getStaffToolsData:e}}angular.module("myeras.userAccountService",[]).factory("userAccountService",a),a.$inject=["APP_CONFIG","Restangular","urlService"]}(),function(){"use strict";function a(a){var b,c;return c="urlService",b={authService:a.one("30/auth-service/services-rs"),appService:a.one("30/eras-application-service"),dwsService:a.one("30/eras-dws-service"),dwsDocService:a.one("30/eras-dws-doc-service/myeras"),userAccountService:a.one("30/user-account-service")}}angular.module("myeras.urlService",[]).factory("urlService",a),a.$inject=["Restangular"]}(),angular.module("myeras.aamcSubmissionImg",[]).controller("aamcSubmissionImgController",["$scope",function(a){a.name="transcript-question-modal",a.saveTranscriptQuestion=function(){applicationService.saveCAF(a.cafDataObj).then(function(b){a.originalApplicationDataObj=b,$rootScope.$broadcast("goBackAndFetchNewCaf","Broadcast")})}}]).directive("aamcSubmissionImg",function(){return{restrict:"EA",templateUrl:"components/directives/aamcSubmissionImg/aamc-submission-img.html",controller:"aamcSubmissionImgController"}}),function(){"use strict";function a(a,b){var c=_.result(_.find(b,{stateCd:a}),"stateDesc");return c}angular.module("myeras.formatstate",[]).filter("formatstate",function(){return a})}(),angular.module("myeras.soapReApplyFilter",[]).filter("soapReApplyFilter",["$log",function(a){return function(a,b){var c=[];return angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){var d=b&&-1!==b.indexOf(a.trackTypeCode)?!0:!1;"Y"===a.nrmpUnfilledPositionsIndicator&&d&&c.push(a)}),c}}]),angular.module("myeras.documentTrackingService",[]).factory("documentTrackingService",["refDataService","$log","$filter",function(a,b,c){return{findTranscriptReleaseDate:function(a,b,c){return a?_.result(_.find(a,{docCode:c,unitId:b}),"releaseDate"):null},findLorReleaseDate:function(a,b,c,d){return a?_.result(_.find(a,{docCode:c,unitId:b,seqNbr:d}),"releaseDate"):null},name:"documentTracking Service"}}]),function(){"use strict";function a(a,b,c){function d(a){o=angular.copy(p),e(a,o),a[10]&&a[10].length>0&&g(a[10]),a[3]&&f(a[3]),(a[7]||a[9]||a[3])&&h(a[7],a[9],a[3]),(a[6]||a[12]||a[3])&&i(a[6],a[12],a[3]),(a[3]||a[13])&&j(a[3],a[13]),(a[4]||a[3])&&k(a[4],a[3])}function e(a){angular.forEach(o,function(b){"general"===b.state&&a[6]&&a[6].length>0&&0===a[6][0].id.eduSeqNbr&&-1===b.statusMessages.indexOf(q[0])&&b.statusMessages.push(q[0]),"experience"===b.state&&a[7]&&a[7].length>0&&0===a[7][0].id.resSeqNbr&&-1===b.statusMessages.indexOf(q[1])&&b.statusMessages.push(q[1]),"experience"===b.state&&a[9]&&a[9].length>0&&0===a[9][0].id.expSeqNbr&&-1===b.statusMessages.indexOf(q[2])&&b.statusMessages.push(q[2]),"licensure"===b.state&&a[2]&&a[2].length>0&&0===a[2][0].id.licenseSeqNbr&&-1===b.statusMessages.indexOf(q[3])&&b.statusMessages.push(q[3]),"publications"===b.state&&a[10]&&a[10].length>0&&0===a[10][0].id.pubSeqNbr&&-1===b.statusMessages.indexOf(q[4])&&b.statusMessages.push(q[4])})}function f(a){a&&(a.cafDeaRegNbr||angular.forEach(o,function(a){"licensure"===a.state&&-1===a.statusMessages.indexOf(q[6])&&a.statusMessages.push(q[6])}))}function g(a){a&&angular.forEach(o,function(b){"publications"===b.state&&(b.statusMessages=b.statusMessages.splice(b.statusMessages.indexOf(q[6])-1,1),angular.forEach(a,function(a){"1"!==a.pubTypeCd||a.pubPmid||-1===b.statusMessages.indexOf(q[6])&&b.statusMessages.push(q[6])}))})}function h(a,b,c){var d=!1;angular.forEach(o,function(e){"experience"===e.state&&(a&&a.length>0&&0!==a[0].id.resSeqNbr&&angular.forEach(a,function(a){0===a.id.resSeqNbr||a.resReasonLeftDesc||(d=!0)}),b&&b.length>0&&0!==b[0].id.expSeqNbr&&angular.forEach(b,function(a){("2"===a.expTypeCd||a.expSupervisorName)&&a.expHours&&a.expJobDesc&&a.expReasonLeftDesc&&a.expEndYr&&a.expEndMth||(d=!0)}),c&&"Y"===c.cafEducInterruptInd&&!c.cafEducInterruptDesc&&(d=!0),d?-1===e.statusMessages.indexOf(q[6])&&e.statusMessages.push(q[6]):-1!==e.statusMessages.indexOf(q[6])&&(e.statusMessages=e.statusMessages.splice(e.statusMessages.indexOf(q[6]),1)))})}function i(a,b,c){var d=!1;angular.forEach(o,function(e){"general"===e.state&&(-1!==e.statusMessages.indexOf(q[6])&&(e.statusMessages=e.statusMessages.splice(e.statusMessages.indexOf(q[6])-1,1)),a&&a.length>0&&0!==a[0].id.eduSeqNbr&&angular.forEach(a,function(a){a.educationEndMonth&&a.educationEndYear||(d=!0)}),b&&angular.forEach(b,function(a){a.medEndMth&&a.medEndYr||(d=!0)}),!c||c.cafMembershipsDesc&&c.cafAwardsDesc&&c.cafOtherAccomplDesc||(d=!0),d&&-1===e.statusMessages.indexOf(q[6])&&e.statusMessages.push(q[6]))})}function j(a,b){var c=!1;angular.forEach(o,function(d){"biographic"===d.state&&(a&&(a.cafDob&&a.cafBirthPlace&&a.cafHobbiesInterestsDesc||(c=!0)),(!b||b.length<=0)&&(c=!0),c?-1===d.statusMessages.indexOf(q[6])&&d.statusMessages.push(q[6]):-1!==d.statusMessages.indexOf(q[6])&&(d.statusMessages=d.statusMessages.splice(d.statusMessages.indexOf(q[6])-1,1)))})}function k(a,b){var c=!1;angular.forEach(o,function(d){"personalInfo"===d.state&&(-1!==d.statusMessages.indexOf(q[6])&&(d.statusMessages=d.statusMessages.splice(d.statusMessages.indexOf(q[6])-1,1)),a&&(("1"!==a.citizenshipCode||a.dualCitizenshipIndicator)&&("1"!==a.citizenshipCode&&"3"!==a.citizenshipCode||a.residenceStateCode)&&("Y"!==a.nrmpIndicator||a.nrmpId&&a.nrmpPartnerIndicator&&("Y"!==a.nrmpPartnerIndicator||a.nrmpPartnerName&&a.nrmpPartnerSpec))||(c=!0),"Y"!==a.nmsIndicator||a.nmsId&&a.nmsPartnerIndicator&&("Y"!==a.nmsPartnerIndicator||a.nmsPartnerName&&a.nmsPartnerSpec)||(c=!0),a.auaNumber&&a.aoaCode&&a.ghhsCode||(c=!0),"IMG"===a.residencyType||"IMG"===a.fellowshipType||a.usmleId||(c=!0),a.aclsIndicator&&a.palsIndicator&&a.contactBeeperNumber&&a.contactCellNumber&&a.faxNumber&&a.previousLastName&&a.suffix&&a.preferredName&&a.ssnLastFourDigit&&a.contactPhone2&&a.blsIndicator&&a.contactAddress2&&a.contactPostalCode&&b.cafHomeAddr2&&b.cafHomePostCd&&b.cafHomePhone1||(c=!0)),c&&-1===d.statusMessages.indexOf(q[6])&&d.statusMessages.push(q[6]))})}function l(){var b=a.defer();return c.getApplicationStatus().then(function(a){var c=a;angular.forEach(o,function(a){c[a.state]&&(a.status=c[a.state].value,"Incomplete"===a.status&&-1===a.statusMessages.indexOf(q[5])&&a.statusMessages.push(q[5]))}),b.resolve(o)}),b.promise}var m,n="certifySubmitEvaluationService",o=[{stateName:"Personal Information",status:"",state:"personalInfo",statusMessages:[],stateParams:["personalInfo"],uiState:"main.personalInfo"},{stateName:"Biographic Information",status:"",state:"biographic",statusMessages:[],stateParams:["biographic"],uiState:"main.biographic"},{stateName:"Education",status:"",state:"general",statusMessages:[],stateParams:["higherEducation"],uiState:"main.general"},{stateName:"Experience",status:"",state:"experience",statusMessages:[],stateParams:["trainings","experiences"],uiState:"main.experience"},{stateName:"Licensure",status:"",state:"licensure",statusMessages:[],stateParams:["licensure"],uiState:"main.licensure"},{stateName:"Publications",status:"",state:"publications",statusMessages:[],stateParams:["publications"],uiState:"main.publications"}],p=angular.copy(o),q=[{msg:"<em>None</em> has been selected for Higher Education"},{msg:"<em>None</em> has been selected for Training entry"},{msg:"<em>None</em> has been selected for Experience entry"},{msg:"<em>None</em> has been selected for State Medical Licenses entry"},{msg:"<em>None</em> has been selected for Publication entry"},{msg:"At least one <em>required</em> field was left blank."},{msg:"At least one <em>non-required</em> field was left blank."}];return m={name:n,intializeEvaluation:d,evaluatePublications:g,evaluateLicensure:f,evaluateTrainings:h,evaluateEducation:i,evaluateBiographicInfo:j,evaluatePersonalInfo:k,computeNone:e,getStates:l}}angular.module("myeras.certifySubmitEvaluationService",[]).factory("certifySubmitEvaluationService",a),a.$inject=["$q","$log","dashboardService"]}(),angular.module("myeras.soapService",[]).factory("soapService",["$rootScope","$q","$filter","Restangular","urlService","modalService",function(a,b,c,d,e,f){function g(d){angular.extend(this,{getSoapSeasonStatus:function(){var d=b.defer();return h.one("isSoap").get().then(function(a){d.resolve(a)})["catch"](function(b){var e=[],f="Unable to access application-service to fetch soap status. Please try again.",g=c("duplicateError")(a,f);g||(a.errors.push(f),a.addDetailedAlert(e,0,"error",!0,"serviceError")),d.resolve(b)}),d.promise},getApplicantSoapStatus:function(a){var c=b.defer();return h.one("soap",a).get({cacheBust:new Date}).then(function(a){c.resolve(a.plain())}),c.promise},getSoapDto:function(a){var c=b.defer();return h.one("soapValidation/soapDto",a).get({cacheBust:new Date}).then(function(a){c.resolve(a.plain())}),c.promise},checkSoapDataInProgress:function(a){return a.soapOpen&&a.soapDataUpdatesInProgress&&a.applicantSoapEligible?!0:!1},showDataInProgessModal:function(a){var b=a;f.create({id:"inProgessModal",scope:b,template:"components/templates/processModal.html",show:!1,keyboard:!1,backdrop:"static"}).then(f.show("inProgessModal"))},getSoapInd:function(a){return a.createdBy||a.createdDt?a.trackSoapIndicator?a.trackSoapIndicator:a.trackSoapIndicator?void 0:null:"Y"},getClosedSoapInd:function(a,b){return a.soapOpen&&a.applicantSoapEligible?b.trackSoapIndicator:"N"},isSoapFullyMatchedApplicant:function(a){return a&&"FM"===a.applicantSoapMatchStatus?!0:!1;
}})}var h=e.appService,i=new g;return i}]),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var b=a.defer(),h=d.getMySelectedPrograms(),i=e.getProgramsForDocRelease(),j=[],k=d.getSelectedReappiedPgmsTracks();angular.forEach(h,function(a){j.push(a.unitId)});var l=j.toString(),m={id:{applicationId:f.applicationId},unitIdsApplyingTo:l,totalAmt:0,erasAmtMdDo:0,usmleAmt:0,comlexAmt:0,osteoErasAmt:0,url:c.location.href.replace(c.location.hash,"")+"?frameEvent?nobootstrap?paypal",unitIdsForUsmle:i.programsForUSMLE?i.programsForUSMLE.toString():null,unitIdsForComlex:i.programsForCOMLEX?i.programsForCOMLEX.toString():null,unAssignedUnitIdsForUsmle:i.unAssignedProgramsForUSMLE?i.unAssignedProgramsForUSMLE.toString():null,unAssignedUnitIdsForComlex:i.unAssignedProgramsForCOMLEX?i.unAssignedProgramsForCOMLEX.toString():null,reapplySoapTracks:k,paymentStatus:"No Payment",lockIndicator:0};return g.appService.post("previewedInvoices",m).then(function(a){b.resolve(a.plain()),d.resetReapplyTracks()}),b.promise}var i,j="soapEligiblePreviewedInvoiceService";return i={name:j,preparePreviewedInvoice:h}}angular.module("myeras.soapEligiblePreviewedInvoiceService",[]).factory("soapEligiblePreviewedInvoiceService",a),a.$inject=["$q","$log","$window","unitsService","otherDocumentService","applicationService","urlService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){var b=a.defer(),h=d.getMySelectedPrograms(),i=e.getProgramsForDocRelease(),j=d.getSelectedReappiedPgmsTracks(),k=[];angular.forEach(h,function(a){k.push(a.unitId)});var l=k.toString();if(l||i.programsForUSMLE.length||i.programsForCOMLEX.length){var m={id:{applicationId:f.applicationId},unitIdsApplyingTo:l,totalAmt:0,erasAmtMdDo:0,usmleAmt:0,comlexAmt:0,osteoErasAmt:0,url:c.location.href.replace(c.location.hash,"")+"?frameEvent?nobootstrap?paypal",unitIdsForUsmle:i.programsForUSMLE?i.programsForUSMLE.toString():null,unitIdsForComlex:i.programsForCOMLEX?i.programsForCOMLEX.toString():null,unAssignedUnitIdsForUsmle:i.unAssignedProgramsForUSMLE?i.unAssignedProgramsForUSMLE.toString():null,unAssignedUnitIdsForComlex:i.unAssignedProgramsForCOMLEX?i.unAssignedProgramsForCOMLEX.toString():null,reapplySoapTracks:j||[],paymentStatus:"No Payment",lockIndicator:0};return g.appService.post("previewedInvoices",m).then(function(a){b.resolve(a.plain()),d.resetReapplyTracks()}),b.promise}return b.resolve({}),d.resetReapplyTracks(),b.promise}function i(a){o=a||{}}function j(a){p=a||{}}function k(){var b=a.defer();return b.resolve(o||{}),b.promise}function l(){var b=a.defer();return b.resolve(p||{}),b.promise}function m(a,b){return g.dwsDocService.one("soapValidation").one("pgmCount").one(a.toString()).get({invoiceSeqNbr:b})}var n,o,p,q="previewedInvoiceService";return n={name:q,preparePreviewedInvoice:h,setPreviewedInvoiceData:i,getPreviewedInvoiceData:k,setPreviewedInvoiceDataObj:j,getPreviewedInvoiceDataObj:l,getProgramCount:m}}angular.module("myeras.previewedInvoiceService",[]).factory("previewedInvoiceService",a),a.$inject=["$q","$log","$window","unitsService","otherDocumentService","applicationService","urlService"]}(),angular.module("myeras.applicationEvaluationService",[]).factory("applicationEvaluationService",["$q","$filter","$state","$rootScope","Restangular","urlService","contentService","soapService","APP_CONFIG","routeService","$log","applicationService","debounceService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=f.appService;Factory=function(){angular.extend(this,{evaluateApplication:function(b,c){var d=a.defer();return i.FUTURESEASON="FUTURE"===c.seasonStatus?!0:!1,i.PASTSEASON="PAST"===c.seasonStatus?!0:!1,i.CURRENTSEASON="CURRENT"===c.seasonStatus?!0:!1,i.ISRESIDENCY=b&&"R"===b.applicationType?!0:!1,delete i.applicantSoapObject,h.getSoapSeasonStatus().then(function(a){if(i.isSoapOpen=a,i.CURRENTSEASON&&"R"===b.applicationType&&i.isSoapOpen)h.getApplicantSoapStatus(b.applicationId).then(function(a){if(a){i.applicantSoapObject=a;var c=o.setApplicantArguments(b);o.getApplicationRoutes(c,b).then(function(){d.resolve(i)})}});else{var c=o.setApplicantArguments(b);o.getApplicationRoutes(c).then(function(){d.resolve(i)})}}),d.promise},getApplicationRoutes:function(b){var e=a.defer();return n.one("applicationRoutes").getList(l.applicationId,b).then(function(a){if(a){var b=[];angular.forEach(a.plain(),function(a){b.push(a.appRouteName)}),this.cachedApplicationRoutes=b,i.FUTURESEASON?g.getContent("ROUTE_NOT_AVAILABLE_FUTURE").then(function(a){var c=d.$new();c.seasonStartDate=i.SEASONSTARTDATE,c.season=i.SEASON;var f=a.displayText;g.contentCompiler(f,c).then(function(a){i.routeNotAvailableTooltipText=a,i.applicantRoutes=b,e.resolve(i.applicantRoutes)})}):i.applicantSoapObject&&i.applicantSoapObject.applicantSoapEligible?g.getContent("SOAP_NOT_FULLY_MATCHED_ROUTE_DISABLED_TEXT").then(function(a){i.routeNotAvailableTooltipText=a.displayText,i.applicantRoutes=b,e.resolve(i.applicantRoutes)}):i.applicantSoapObject&&"FM"===i.applicantSoapObject.applicantSoapMatchStatus?g.getContent("SOAP_FULLY_MATCHED_ROUTE_DISABLED_TEXT").then(function(a){var c=d.$new();c.soapEndDate=i.applicantSoapObject.soapCloseDt;var f=a.displayText;g.contentCompiler(f,c).then(function(a){i.routeNotAvailableTooltipText=a,i.applicantRoutes=b,e.resolve(i.applicantRoutes)})}):(i.applicantRoutes=b,e.resolve(i.applicantRoutes)),j.validateRoute(c.current.name,b)||c.go("main.newdashboard")}}),e.promise},setApplicantArguments:function(a){return{appName:"MYERAS"}},getCachedApplicationRoutes:function(){var b=a.defer();return b.resolve(this.cachedApplicationRoutes),b.promise}})};var o=new Factory;return m.debounceAll(o)}]),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){var b={configuration:null,application:null,applicationFeeAmounts:null,billingGroups:null,programsAppliedTo:null,programsAppliedToByGroup:null,medicalEducation:null,serverCurrentDate:null},c={_data:b,content:{paymentInvoiceHistory:null},data:{currentServerDate:null,invoiceItems:[],invoiceItemPrograms:[],invoiceLineItems:[],total:{program:{count:0,amount:0},invoice:{processing:0,usmle:0,comlex:0,total:0}},applicantReApplied:null,soapOpen:!1},application:{season:l.SEASON,isDO:null,data:null,schoolName:null},pageTitle:null,dataIsLoading:!1},d=a.defer();return a.all([e.getConfigElements(),e.getApplication(),j.getProgramBillingCodes(),i.getSelectedProgramsDto(e.applicationId),e.getInvoices(e.applicationId),f.getMedicalEducation(e.applicationId),j.getServerCurrentDate(),h.getContent("PAYMENT_INVOICE_HISTORY_TEXT"),h.getContent("REAPPLIED_PAYMENT_HISTORY_NOTE")]).then(function(a){var e;b.configuration=a[0],b.application=a[1],b.billingGroups=a[2],l.applicantSoapObject&&l.applicantSoapObject.applicantSoapEligible?b.programsAppliedTo=a[3].soapEligiblePrograms.concat(a[3].soapInEligiblePrograms):b.programsAppliedTo=a[3],b.programsAppliedTo=_.filter(b.programsAppliedTo,function(a){return a.invoiceSeqNumber?!0:!1}),c.data.invoiceLineItems=a[4],b.medicalEducation=a[5],c.data.currentServerDate=a[6],c.content.paymentInvoiceHistory=n(a[7],"PAYMENT_INVOICE_HISTORY_TEXT"),c.content.reappliedPaymentHistoryNote=n(a[8],"REAPPLIED_PAYMENT_HISTORY_NOTE"),b.applicationFeeAmounts=g.applicationFeeAmounts(b.application.applicationType,b.configuration),e=g.applicationFeeCalculator(b.applicationFeeAmounts),b.programsAppliedToByGroup=i.groupInvoicesByBillCode(b.programsAppliedTo,b.configuration),s(b.programsAppliedToByGroup,[],b.billingGroups,c.data,e,b.configuration),o(c.data.invoiceLineItems,b.programsAppliedTo),p(c.data,e),q(c.data.invoiceLineItems),r(c.data.invoiceLineItems),t(c.data,b.programsAppliedTo),c.application.isDO="DO"===b.application.residencyType||"DO"===b.application.fellowshipType,c.application.data=b.application,c.application.schoolName=b.application.inst&&b.application.inst.instName.trim()?b.application.inst.instName:c.application.schoolName,c.application.schoolName=c.application.schoolName||(b.medicalEducation?b.medicalEducation.medInstitutionName:c.application.schoolName),l.isSoapOpen&&(c.data.soapOpen=!0),d.resolve(c)}),d.promise}function n(a,c,d){var e;return e=a?a.displayText:e,e=e||(angular.isString(c)?c:""),e=angular.isFunction(d)?d(e):e,b.trustAsHtml(e)}function o(a,b){angular.forEach(a,function(a){a.invoicePrograms=[],angular.forEach(b,function(b){a.id.invoiceSeqNbr===b.invoiceSeqNumber&&a.invoicePrograms.push(b)})})}function p(a,b){var c,d;angular.forEach(a.invoiceItems,function(b){b.isEligible&&(a.total.program.count+=b.selected,a.total.program.amount+=b.amountToCharge)}),angular.forEach(a.invoiceLineItems,function(b){c=b.invoiceErasAmt+b.invoiceUsmleAmt+b.invoiceComlexAmt,d="SUCCESS"===angular.uppercase(b.invoiceTransStatus),a.total.invoice.processing+=b.invoiceErasAmt,a.total.invoice.usmle+=b.invoiceUsmleAmt,a.total.invoice.comlex+=b.invoiceComlexAmt,a.total.invoice.total+=c,b.invoiceTotal=c})}function q(a){angular.forEach(a,function(a){return 0!==a.invoiceTotal&&a.invoicePaymentMethod?"VS"===a.invoicePaymentMethod?void(a.invoicePaymentMethodDispText="VISA"):"MC"===a.invoicePaymentMethod?void(a.invoicePaymentMethodDispText="MasterCard"):void(a.invoicePaymentMethodDispText=a.invoicePaymentMethod):void(a.invoicePaymentMethodDispText="N/A")})}function r(a){angular.forEach(a,function(a){a.showInvoicePrograms=!1})}function s(a,b,c,d,e,f){function g(a,b){var c=_.find(a,{billingCode:b});return c?c.billingDescription:"UNKNOWN BILLING CODE:"+b}var h,i,j;angular.forEach(a,function(a){h=_.find(b,{unitBillingCode:a.unitBillingCode}),h||(h={programGroup:[]}),i=g(c,a.unitBillingCode),j=a.isEligible,d.invoiceItems.push({billingGroupCode:a.unitBillingCode,billingGroupName:i,appliedTo:h.programGroup.length,selected:a.programGroup&&a.programGroup.length?a.programGroup.length:0,programs:{appliedTo:h.programGroup,selected:a.programGroup},isEligible:j}),angular.forEach(a.programGroup,function(a){a.isEligible=j,d.invoiceItemPrograms.push({name:a.unit.unitName,specialty:i,unitId:a.unitId,isEligible:j})})})}function t(a,b){var c=[];c=d("filter")(b,{soapIndicator:"R"}),c.length?a.applicantReApplied=!0:a.applicantReApplied=!1}var u,v="soapEligiblePreviewedInvoiceService";return u={name:v,preparePaymentHistory:m,contentServiceData:n,groupProgramsAndAddToInvoice:o,convertCardDisplayTexts:q,calculateAmounts:p,addPanelPropertiesToInvoiceItems:r,invoiceItems:s,checkIfApplicantReApplied:t}}angular.module("myeras.paymentHistoryService",[]).factory("paymentHistoryService",a),a.$inject=["$q","$sce","$log","$filter","applicationService","generalService","paymentsService","contentService","unitsService","refDataService","pdfMakeService","APP_CONFIG"]}(),function(){function a(a,b,c,d,e){a.pageTitle="Program Assignment Unsuccessful",a.errorMessage="Your program assignment was unsuccesful. Please contact support desk with the following invoice number for further assistance:",a.invoiceSeqNbr=b.invoiceSeqNbr,a.invoiceData={id:{}},e.getApplication().then(function(b){a.applicationData=b,a.invoiceData.id.applicationId=a.applicationData.applicationId,a.invoiceData.id.invoiceSeqNbr=a.invoiceSeqNbr,d.getPreviewedInvoice(a.invoiceData).then(function(b){a.pinvData=b,a.pinvData.paymentStatus="Failure",a.pinvData.lockIndicator=0,d.updatePreviewedInvoice(a.pinvData)})}),c.getContent("PAYMENT_ERROR").then(function(b){b&&(a.errorMessage=b.displayText)}),c.getContent("PAYMENT_ERROR_TITLE").then(function(b){b&&(a.pageTitle=b.displayText)})}angular.module("myeras.payment.error",[]).controller("PaymentErrorController",a),a.$inject=["$scope","$stateParams","contentService","paymentsService","applicationService"]}(),function(){function a(){function a(a,b,c){a.checklistStatesObj=c.checkliststates}var b={restrict:"EA",replace:!1,scope:{checklistStates:"="},templateUrl:"components/directives/certify-submit-checklist/certify-submit-checklist.html",link:a,controller:"CertifySubmitChecklistController",controllerAs:"CertifySubmitChecklist"};return b}function b(a){var b=this;b.name="dashboardApplicationSection",a.$watch("checklistStatesObj",function(){a.checklistStatesObj&&(b.states=JSON.parse(a.checklistStatesObj))})}angular.module("myeras.certifySubmitChecklist",[]).controller("CertifySubmitChecklistController",b).directive("certifySubmitChecklist",a),b.$inject=["$scope"]}(),angular.module("myeras.pendingPayment",["ui.router","aamc.component.payment"]).controller("pendingPaymentController",["$rootScope","$scope","$log","$state","$q","$cacheFactory","Restangular","paymentsService","urlService","APP_CONFIG",function(a,b,c,d,e,f,g,h,i,j){return a.pendingPayment=h.cachedData.pendingPayment,a.pendingPayment?void 0:void d.go("main.landing")}]),angular.module("myeras.hostedCheckOutResponse",["ui.router"]).controller("hostedCheckOutResponseController",["$rootScope","$scope","$log","Restangular","paymentsService","$location","contentService","$q","applicationService",function(a,b,c,d,e,f,g,h,i){var j=f.search();b.errorMessage=null,f.url(f.path()),j&&i.getApplication().then(function(a){j.INVNUM&&"Approved"===j.RESPMSG?h.all([g.getContent("PENDING_PAYMENT_SUCCESS_TEXT"),g.getContent("PENDING_PAYMENT_SUCCESS_FOOTER_TEXT"),e.savePaidDtOnPayment(j.INVNUM,j.RESPMSG,j.RESULT)]).then(function(a){b.pendingPaymentSuccessText=a[0],b.pendingPaymentSuccessFooterText=a[1],b.pendingPayment=a[2]}):h.all([g.getContent("PENDING_PAYMENT_FAILURE_TEXT"),g.getContent("PENDING_PAYMENT_SUCCESS_FOOTER_TEXT"),e.saveFailedPaymentResponse(a.applicationId,j.RESPMSG,j.RESULT)]).then(function(a){b.errorMessage=a[0],b.paypalResponse=j.RESPMSG,b.pendingPaymentSuccessFooterText=a[1],b.pendingPayment=a[2]})})}]),angular.module("myeras.navbar",[]).controller("navbarController",["$scope","APP_CONFIG",function(a,b){a.name="navbar",a.applicationStates={},a.$on("applicationDataFullLoad",function(c){a.applicationStates.availableStates=b.applicantRoutes,a.seasonStartDate=b.SEASONSTARTDATE,a.tooltipText=b.routeNotAvailableTooltipText,a.showReApply=b.applicantSoapObject&&b.applicantSoapObject.applicantSoapEligible})}]).directive("navbar",function(){return{restrict:"EA",templateUrl:"components/directives/navbar/navbar.html",controller:"navbarController"}}),angular.module("myeras.programSearchSoap",[]).controller("aamcProgramSearchSoapController",["$scope","applicationService","APP_CONFIG",function(a,b,c){a.name="programSearchSoap",a.soapEligible=c.applicantSoapEligible,a.soapOpen=c.soapOpen}]).directive("aamcProgramSearchSoap",function(){return{restrict:"EA",templateUrl:"components/directives/aamc-program-search-soap/aamc-program-search-soap.html",controller:"aamcProgramSearchSoapController"}}),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{myAttr:"="},templateUrl:"components/directives/aamc-dashboard-soap-message/aamc-dashboard-soap-message.html",link:a,controller:"DashboardSoapMessageController",controllerAs:"dashboardSoapMessage"};return b}function b(a,b,c,d){function e(){var a=c.getCurrentTrack();a&&(f.isBusy=!0,d.getCurrentSeason().then(function(d){d[0]&&"FUTURE"!==d[0].seasonStatus&&c.getSoapInfo(a.applicationId).then(function(a){f.soapInfo=a,c.getSoapMessage(a).then(function(a){f.soapMessage=b.trustAsHtml(a)})})}))}var f=this;f.name="dashboardSoapMessage",f.myAttr=a.myAttr,e(),a.$on("handleApplicationBroadcast",function(){e()})}angular.module("myeras.dashboardSoapMessage",[]).controller("DashboardSoapMessageController",b).directive("aamcDashboardSoapMessage",a),b.$inject=["$scope","$sce","dashboardService","applicationService"]}(),angular.module("myeras.soapStickyHeaderMessage",[]).directive("aamcStickyMessage",["$log","contentService",function(a,b){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-soap-sticky-header-message/aamc-soap-sticky-header-message.html",scope:{executableFunc:"&",showNoSelectedProgram:"=",applicantEligibility:"=",selectedProgram:"=",appliedMessage:"=",hoverMessage:"=",btnLabel:"@",isSuccess:"@",isDanger:"@",soapProgramApplied:"=",maxSoapPgmsAllowedToApply:"=",isValidate:"="},link:function(a){a.isValidate&&(a.maxSoapProgramApplied=(a.selectedProgram&&a.isValidate?a.selectedProgram:0)+a.soapProgramApplied>a.maxSoapPgmsAllowedToApply);var c=a.$watch("maxSoapPgmsAllowedToApply",function(){a.isValidate||c(),a.maxSoapPgmsAllowedToApply&&a.soapProgramApplied&&(a.soapRemainingPgms=a.maxSoapPgmsAllowedToApply-a.soapProgramApplied,b.contentCompiler(a.hoverMessage,a).then(function(b){a.compiledMessage=b}),c())}),d=a.$watch("selectedProgram",function(b,c){a.isValidate||d(),b!==c&&a.isValidate&&(a.maxSoapProgramApplied=(a.selectedProgram&&a.isValidate?a.selectedProgram:0)+a.soapProgramApplied>a.maxSoapPgmsAllowedToApply)})}}}]),angular.module("myeras.soapProgramsTableOptionalMessage",[]).directive("aamcProgramTableOptionalMessage",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-program-optional-content/aamc-program-table-optional-content.html",scope:{programMessage:"=",conditionCheck:"="},link:function(){}}}),angular.module("myeras.soapIneligibleProgramsApplied",[]).controller("soapProgramsAppliedController",["$scope","contentService","$q","APP_CONFIG",function(a,b,c,d){a.name="soapProgramsApplied",c.all([b.getContent("SOAP_INELIGIBLE_APPLICANT_INSTRUCTION_TEXT"),b.getContent("SOAP_INELIGIBLE_PGMS_APPLIED_TO_TEXT")]).then(function(b){a.soapProgramsAppliedInstructionsText=b[0].displayText,a.soapIneligibleProgramsAppliedText=b[1].displayText}),a.applicantSoapObject=d.applicantSoapObject,a.showHyperlinkedProgramName=function(b){return"FM"===a.applicantSoapObject.applicantSoapMatchStatus?!1:b.unit.unfilledPositionsIndicator||a.applicantSoapObject.applicantSoapEligible||a.applicantSoapObject.applicantSoapMatchStatus?!1:!0}}]).directive("soapIneligibleProgramsApplied",function(){return{restrict:"EA",templateUrl:"components/directives/soap-ineligible-programs-applied/soap-ineligible-programs-applied.html",controller:"soapProgramsAppliedController"}}),angular.module("myeras.soapEligibleProgramsApplied",[]).controller("soapEligibleProgramsAppliedController",["$scope","contentService","$q",function(a,b,c){a.name="soapEligibleProgramsApplied",c.all([b.getContent("SOAP_ELIGIBLE_APPLICANT_INSTRUCTION_TEXT"),b.getContent("SOAP_ELIGIBLE_PGMS_APPLIED_TO_TEXT"),b.getContent("SOAP_ELIGIBLE_PGMS_APPLIED_TO_REAPPLY_TEXT"),b.getContent("SOAP_ELIGIBLE_PGMS_TRACK_SELECTED_TEXT")]).then(function(b){a.soapProgramsAppliedInstructionsText=b[0].displayText,a.soapEligibleSoapProgramsText=b[1].displayText,a.soapEligibleNonSoapProgramsText=b[2].displayText,a.trackTooltipText=b[3].displayText})}]).directive("soapEligibleProgramsApplied",function(){return{restrict:"EA",templateUrl:"components/directives/soap-eligible-programs-applied/soap-eligible-programs-applied.html",controller:"soapEligibleProgramsAppliedController"}}),angular.module("myeras.soapEligiblePreviewedInvoice",[]).controller("soapEligiblePreviewedInvoiceController",["$scope","$state","$modal","applicationService","contentService","unitsService","soapEligiblePreviewedInvoiceService","previewedInvoiceService","otherDocumentService","programAssignmentsService","soapService",function(a,b,c,d,e,f,g,h,i,j,k){a.name="soapEligiblePreviewedInvoice";var l=f.getMySelectedPrograms();i.getProgramsForDocRelease();k.getSoapDto(d.applicationId).then(function(b){a.soapDto=b}),g.preparePreviewedInvoice().then(function(c){a.vm.isPayingForTest.only=(0!==c.previewedInvoice.comlexAmt||0!==c.previewedInvoice.usmleAmt)&&0===c.previewedInvoice.erasAmtMdDo&&!c.previewedInvoice.unitIdsApplyingTo,l.length||a.vm.isPayingForTest.only||b.go("main.programHome"),a.vm.data.invoiceItems=c.soapBillingItemDtos,a.vm.data.previewedInvoice=c.previewedInvoice,h.setPreviewedInvoiceData(c.previewedInvoice),h.setPreviewedInvoiceDataObj(c),j.getProgramsCount(c.previewedInvoice.id.applicationId).then(function(b){a.vm.maxSoapPgmsAllowedToApply=b.maxSoapPgmsAllowedToApply,a.vm.programsRemainingToApply=a.vm.maxSoapPgmsAllowedToApply-(b.soapPgmsAppliedCount+l.length),e.getContent("SOAP_PREVIEW_INVOICE_PROGRAMS_REMAINING_LIMIT").then(function(b){b&&(a.SOAP_PREVIEW_INVOICE_PROGRAMS_REMAINING_LIMIT=b.displayText)})})});var m=c({animation:"am-fade-and-slide-top",scope:a,show:!1,template:"components/directives/soap-eligible-previewed-invoice/view-fee-modal.html"});a.showSoapProcessingFeeModal=function(){e.getContent("SOAP_ELIGIBLE_PREVIEWED_INVOICE_CALCULATIONS").then(function(b){a.content=b.displayText,m.$promise.then(m.show)})},a.hideSoapProcessingFeeModal=function(){m.$promise.then(m.hide)}}]).directive("soapEligiblePreviewedInvoice",function(){return{restrict:"EA",replace:!0,templateUrl:"components/directives/soap-eligible-previewed-invoice/soap-eligible-previewed-invoice.html",controller:"soapEligiblePreviewedInvoiceController"}}),angular.module("myeras.soapEligibleProgramAssignments",[]).controller("soapEligibleProgramAssignmentsController",["$scope","$q","contentService",function(a,b,c){a.ineligibleProgramsEligibility=!1,a.eligibleProgramsEligibility=!0,c.getContent("SOAP_ASSIGN_DOCUMENTS").then(function(b){b&&(a.soapAssignmentMessage=b.displayText)})}]).directive("soapEligibleProgramAssignments",function(){return{restrict:"EA",templateUrl:"components/directives/soap-eligible-program-assignments/soap-eligible-program-assignments.html",controller:"soapEligibleProgramAssignmentsController"}}),angular.module("myeras.programAssignmentsDocSide",[]).controller("programAssignmentsDocSideController",["$scope",function(a){a.getHoverText=function(a){var b="";return a&&"Y"===a.withdrawnIndicator?b="You cannot assign documents to a withdrawn program":a&&a.unit&&"O"!==a.unit.unitStatusCode?b="You cannot assign documents to programs that are closed":b}}]).directive("programAssignmentsDocSide",function(){return{restrict:"EA",templateUrl:"components/directives/program-assignments-doc-side/program-assignments-doc-side.html",controller:"programAssignmentsDocSideController"}}),angular.module("myeras.aamcProgramStatusCode",[]).directive("aamcProgramStatusCode",["$log","APP_CONFIG","contentService",function(a,b,c){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-program-status-code/aamc-program-status-code.html",scope:{displayProgram:"=",contentText:"="},link:function(a){a.programStatus={},a.currentSeason=b.SEASON,"N"===a.displayProgram.unit.unitStatusCode&&b.CURRENTSEASON===!0?(a.programStatus.show=!0,c.getContent("PROGRAM_STATUSES_NOT_PARTICIPATING_TEXT").then(function(b){b&&(a.programStatus.message=b.displayText)})):"D"===a.displayProgram.unit.unitStatusCode&&b.CURRENTSEASON===!0?(a.displayProgram.unit.unitStatusHistory.length>0&&(a.statusChangeDt=a.displayProgram.unit.unitStatusHistory[a.displayProgram.unit.unitStatusHistory.length-1].statusChangeDate),a.programStatus.show=!0,c.getContent("PROGRAM_STATUSES_NO_LONGER_ACCEPTING_TEXT").then(function(b){b&&(a.programStatus.message=b.displayText)})):"C"===a.displayProgram.unit.unitStatusCode&&b.CURRENTSEASON===!0&&(a.programStatus.show=!0,c.getContent("PROGRAM_STATUSES_CLOSED_TEXT").then(function(b){b&&(a.programStatus.message=b.displayText)}))}}}]),angular.module("myeras.programsAppliedTracks",[]).controller("aamcprogramsAppliedTracksController",["$scope",function(a){a.name="programsAppliedTracks",a.checkTrackEligibility=function(b,c){var d="O"!==c.unit.unitStatusCode||!b.selected&&"N"===b.trackMyerasDisplayInd,e=-1===a.applicationData.soapEligibilityPositionType.indexOf(b.trackType.trackTypeCode);return d||e?!0:!1}}]).directive("aamcProgramsAppliedTracks",function(){return{restrict:"EA",replace:!1,templateUrl:"components/directives/aamc-programs-applied-tracks/aamc-programs-applied-tracks.html",controller:"aamcprogramsAppliedTracksController"}}),angular.module("myeras.programDetailsControl",[]).directive("aamcProgramDetailsControl",function(){return{restrict:"E",replace:!0,templateUrl:"components/directives/aamc-program-details-modal/aamc-program-details-control.html",scope:{executableFunc:"&",isDisabled:"=",track:"=",program:"=",applicationData:"=",soapDto:"="},link:function(a){a.applicantType=a.applicationData&&"R"===a.applicationData.applicationType?!0:!1;var b=function(){return a.soapDto&&a.soapDto.soapOpen&&a.soapDto.applicantSoapEligible};a.getMessage=function(){var c="You are currently not eligible for this training at this program. Please update your training selection(s)",d=b();if(d&&a.program.soapEligibleProgram){if(!a.track.nrmpUnfilledPositionsIndicator||"N"===a.track.nrmpUnfilledPositionsIndicator)return a.isSavedTrack=!0,c;if(a.applicationData.soapEligibilityPositionType&&-1===a.applicationData.soapEligibilityPositionType.indexOf(a.track.trackTypeCode))return a.isSavedTrack=!0,c}}}}}),function(){function a(){function a(){}var b={restrict:"E",replace:!0,scope:{track:"=",programs:"="},templateUrl:"components/directives/aamc-applied-reapplied-date/aamc-applied-reapplied-date.html",link:a,controller:"AppliedReappliedDateController",controllerAs:"appliedReappliedDate"};return b}function b(a,b){function c(){d.dates=b("trackDate")(d.track,d.programs),d.dates.appliedDate&&(d.appliedDate=d.dates.appliedDate),d.dates.reappliedDate&&(d.reappliedDate=d.dates.reappliedDate)}var d=this;d.name="appliedReappliedDate",d.track=a.track,d.programs=a.programs,c()}angular.module("myeras.appliedReappliedDate",[]).controller("AppliedReappliedDateController",b).directive("aamcAppliedReappliedDate",a),b.$inject=["$scope","$filter"]}(),function(){function a(){function a(a){a.$watch("itemContext",function(b){void 0!==b&&(a.actions.itemContext=b)})}var b={restrict:"EA",replace:!0,scope:{itemContext:"=",menuType:"@"},templateUrl:"components/directives/aamc-actions/aamc-actions.html",link:a,controller:"ActionsController",controllerAs:"actions"};return b}function b(a,b){function c(){d.menuList=b.getMenuList(d.itemContext,d.menuType)}var d=this;d.name="actions",d.itemContext=a.itemContext,d.menuType=a.menuType,d.activate=c,d.callFunction=function(a){var c=b.getContext();angular.isFunction(c[a])?c[a](d.itemContext):console.log(a+" function does not exist on controller for "+c.currState)}}angular.module("myeras.actions",[]).controller("ActionsController",b).directive("aamcActions",a),b.$inject=["$scope","actionsService"]}(),function(){"use strict";function a(a,b,c,d,e){function f(){return o}function g(a){r=a}function h(b,f){var g=[];q=f,o=b,d.getApplication().then(function(b){c.getApplicantSoapStatus(b.applicationId).then(function(b){b&&(r=b,g=a.FUTURESEASON?["FUTURE_SEASON_LOR_ASSIGN"]:["SOAP_DOCUMENT_ASSIGNMENT_FULLY_MATCHED_TEXT","CURRENT_SEASON_LOR_ASSIGN_NO_PGMS"],e.getContentList(g).then(function(a){s=a}))})})}function i(a,b){return j(a,b)}function j(b,c){switch(c){case"PersonalStatements":p=[{hasDivider:!1,isVisible:!0,menuItemLabel:"Edit",menuFavIcon:"fa-pencil",clickEventHandler:"editPersonalStatement"},{hasDivider:!1,isVisible:!0,menuItemLabel:"Preview / Print",menuFavIcon:"fa-print",clickEventHandler:"viewps"},{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"viewAssignPersonalStatementsModal"},{hasDivider:!0,isVisible:b&&!b.assignedToAppliedProg,isDisabled:!1,menuItemLabel:"Delete",menuFavIcon:"fa-trash",clickEventHandler:"deleteps"}];break;case"LetterRecommendation":p=[{hasDivider:!1,isVisible:b&&null===b.lorSubmitDt,menuItemLabel:"Edit",menuFavIcon:"fa-pencil",clickEventHandler:"editLorAuthorInfo"},{hasDivider:!1,showToolTip:k()||a.FUTURESEASON||o.disableAssign(),toolTip:l(),isDisabled:k()||a.FUTURESEASON||o.disableAssign(),isVisible:b&&b.lorUploaded===!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignLorModal"},{hasDivider:!1,isVisible:b&&null!==b.lorSubmitDt,menuItemLabel:"Print Letter Request Form",menuFavIcon:"fa-print",clickEventHandler:"printLOR"},{hasDivider:!0,isVisible:b&&null===b.lorSubmitDt,isDisabled:!1,menuItemLabel:"Delete",menuFavIcon:"fa-trash",dataTarget:"#deleteAuthorModal",dataToggle:"modal",clickEventHandler:"deleteLorAuthor"}];break;case"OtherDocuments.USMLE":p=[{hasDivider:!1,isVisible:b.applicantData&&"N"===b.applicantData.usmleTransmissionInd||!b.applicantData.usmleTransmissionInd,menuItemLabel:"Authorize Release",menuFavIcon:"fa-unlock-alt",clickEventHandler:"showUsmleModal"},{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:b.applicantData&&"Y"===b.applicantData.usmleTransmissionInd,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"},{hasDivider:!1,isVisible:b.applicantData&&"Y"===b.applicantData.usmleTransmissionInd&&o.showUsmleDocStatusLink,menuItemLabel:"Resend My Scores",menuFavIcon:"fa-share-square-o",clickEventHandler:"showResendUsmleModal",isDisabled:k()}];break;case"OtherDocuments.COMLEX":p=[{hasDivider:!1,isVisible:b.comlexData&&"N"===b.comlexData.comlexTransmissionInd||!b.comlexData.comlexTransmissionInd,menuItemLabel:"Authorize Release",menuFavIcon:"fa-unlock-alt",clickEventHandler:"showComlexModal"},{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:b.comlexData&&"Y"===b.comlexData.comlexTransmissionInd,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"},{hasDivider:!1,isVisible:b.comlexData&&"Y"===b.comlexData.comlexTransmissionInd&&o.showComlexDocStatusLink,menuItemLabel:"Resend My Scores",menuFavIcon:"fa-share-square-o",clickEventHandler:"showResendComlexModal",isDisabled:k()}];break;case"OtherDocuments.PTAL":p=[{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"}];break;case"OtherDocuments.MSPE":p=[{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"}];break;case"OtherDocuments.MSTRANSCRIPT":p=[{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"}];break;case"OtherDocuments.PHOTO":p=[{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"},{hasDivider:!1,isDisabled:!1,isVisible:b.applicationData&&"DWS"===b.applicationData.sourceOrganization&&"Y"===b.applicationData.usCanGradInd,menuItemLabel:"Upload New Photo",menuFavIcon:"fa-upload",clickEventHandler:"uploadAvatar"}];break;case"OtherDocuments.ABSITE":p=[{hasDivider:!1,showToolTip:k()||o.disableAssign(),toolTip:l(),isDisabled:o.disableAssign()||k(),isVisible:!0,menuItemLabel:"Assign",menuFavIcon:"fa-share",clickEventHandler:"showAssignProgramsModal"}]}return p}function k(){return r&&r.soapOpen&&a.ISRESIDENCY&&"FM"===r.applicantSoapMatchStatus?!0:!1}function l(){var c="";if(o.disableAssign()&&(c=s.CURRENT_SEASON_LOR_ASSIGN_NO_PGMS&&s.CURRENT_SEASON_LOR_ASSIGN_NO_PGMS.displayText),k()&&(c=s.SOAP_DOCUMENT_ASSIGNMENT_FULLY_MATCHED_TEXT&&s.SOAP_DOCUMENT_ASSIGNMENT_FULLY_MATCHED_TEXT.displayText),a.FUTURESEASON){var d=new Date(a.SEASONSTARTDATE),e=b("date")(d,"yyyy");c=s.FUTURE_SEASON_LOR_ASSIGN&&s.FUTURE_SEASON_LOR_ASSIGN.displayText,c&&(c=c.replace(/<SEASON_YEAR>/g,a.SEASON).replace(/<YEAR>/g,e))}return c}var m,n,o,p,q,r,s;return n="actionsService",m={name:n,getContext:f,setContext:h,getMenuList:i,setApplicantInfo:g}}angular.module("myeras.actionsService",[]).factory("actionsService",a),a.$inject=["APP_CONFIG","$filter","soapService","applicationService","contentService"]}(),angular.module("myeras.soapEligibleAssignmentsPrograms",[]).controller("soapEligibleAssignmentsProgramsController",["$scope","$q","$sce","programAssignmentsService",function(a,b,c,d){a.modalCurrentPage=1,a.seqNbr=a.doc.seqNbr,a.docCd=a.currentDocObj.docCd,a.program={},a.assignPrograms={},a.currentDocObj.docCd===a.docCodes.PTAL.docCd&&(a.programs=_.filter(a.programs,function(a){
return"CA"===a.unit.unitStateCode})),"4"===a.currentDocObj.docCd?(angular.forEach(a.programs,function(b){b.selected||(b.selected=_.filter(a.assignedprograms,{unitId:b.unitId,seqNbr:a.doc.seqNbr}).length>0),b.preSelected=_.filter(a.assignedprograms,{unitId:b.unitId,seqNbr:a.doc.seqNbr}).length>0}),angular.forEach(a.programs,function(b){b.assignedPs=[],angular.forEach(a.assignedprograms,function(c){c.unitId===b.unitId&&angular.forEach(a.allPersonalStatements,function(a){c.seqNbr===a.psSeqNbr&&b.assignedPs.push(a)})})})):angular.forEach(a.programs,function(b){b.assigned=_.where(a.assignedprograms,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0,b.selected||(b.selected=_.where(a.assignedprograms,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0),b.preSelected=_.where(a.assignedprograms,{unitId:b.unitId,seqNbr:a.currentDocObj.docCd===a.docCodes.PTAL.docCd?a.ptalData.seqNbr:1,docCd:a.currentDocObj.docCd}).length>0}),a.checkAllPrograms=function(){angular.forEach(a.programs,function(b){a.isDisabled(b)||_.isUndefined(a.assignPrograms.selectAll)||(b.selected=a.assignPrograms.selectAll)}),angular.forEach(a.selectedPrograms,function(b){a.isDisabled(b)||_.isUndefined(a.assignPrograms.selectAll)||-1===a.eligiblePrograms.indexOf(b)||(b.selected=a.assignPrograms.selectAll)}),a.updateAssignedPrograms(a.doc.seqNbr,a.selectedPrograms)},a.isDisabled=function(b){var c=a.checkPaid?a.checkPaid(b):!1,d=a.currentDocObj.docCd===a.docCodes.PERSONAL_STMT.docCd,e=b.assignedPs&&b.assignedPs.length&&a.doc&&b.assignedPs[0].psSeqNbr===a.doc.seqNbr,f=d&&e&&b.invoiceSeqNumber;return c||f},a.convertStatus=function(a){return d.convertStatus(a)},a.getReappliedStatus=function(a){return a.programEligibleForReapply?"(Eligible for Reapply)":""},a.checkPaid=function(a){return a.invoiceSeqNumber>0&&a.selected&&a.assigned===!0},a.updateAssignments=function(b,c,d){angular.forEach(a.selectedPrograms,function(a){d.unitId===a.unitId&&(a.selected=d.selected)}),a.executableFunction(b,c,d)}}]).directive("soapEligibleAssignmentsPrograms",function(){return{restrict:"EA",scope:{programs:"=",eligible:"=",currentDocObj:"=",doc:"=",assignedprograms:"=",docCodes:"=",executableFunction:"=",allPersonalStatements:"=",ptalData:"=",applicationData:"=",selectedPrograms:"=",updateAssignedPrograms:"=",eligiblePrograms:"="},replace:!0,templateUrl:"components/directives/soap-eligible-assignments-programs/soap-eligible-assignments-programs.html",controller:"soapEligibleAssignmentsProgramsController"}}),angular.module("myeras.soapEligibleLetterAssignments",[]).controller("soapEligibleLetterAssignmentsController",["$scope","contentService",function(a,b){b.getContent("SOAP_ASSIGN_DOCUMENTS").then(function(b){b&&(a.soapAssignmentMessage=b.displayText)}),angular.forEach(a.eligiblePrograms,function(b){b.selected=_.filter(a.assignedDocs,{unitId:b.unitId,seqNbr:a.letter.seqNbr}).length>0,b.preSelected=_.filter(a.originalAssignedDocs,{unitId:b.unitId,seqNbr:a.letter.seqNbr}).length>0,b.numAssignedDocs=_.filter(a.originalAssignedDocs,{unitId:b.unitId}).length}),angular.forEach(a.ineligiblePrograms,function(b){b.selected=_.filter(a.assignedDocs,{unitId:b.unitId,seqNbr:a.letter.seqNbr}).length>0,b.preSelected=_.filter(a.originalAssignedDocs,{unitId:b.unitId,seqNbr:a.letter.seqNbr}).length>0,b.numAssignedDocs=_.filter(a.originalAssignedDocs,{unitId:b.unitId}).length}),a.getReappliedStatus=function(a){return a.programEligibleForReapply?"(Eligible for Reapply)":""}}]).directive("soapEligibleLetterAssignments",function(){return{restrict:"EA",templateUrl:"components/directives/soap-eligible-letter-assignments/soap-eligible-letter-assignments.html",controller:"soapEligibleLetterAssignmentsController"}}),angular.module("myeras.usmleIdValidation",[]).directive("aamcUsmleIdValidation",function(){return{restrict:"A",require:"^ngModel",link:function(a,b,c,d){a.$watch(c.ngModel,function(a,b){var c,e,f,g,h,i,j,k,l,m,n;if(b&&b.length<=8&&(d.$setValidity("zeroRange",!0),d.$setValidity("usmleIdValidation",!0)),n=[],a&&8===a.length){if("00000000"===a)return void d.$setValidity("zeroRange",!1);for(d.$setValidity("zeroRange",!0),c=0;c<a.length;c++)n[c]=a.substr(c,1);for(f=parseInt(n[1].toString(),10)+parseInt(n[3].toString(),10)+parseInt(n[5].toString(),10),g=n[0].toString().concat(n[2].toString(),n[4].toString(),n[6].toString()),h=2*parseInt(g.toString(),10),g=h.toString(),i=g.length,j=0,e=0;i-1>=e;e++)j+=parseInt(g.substr(e,1),10);if(k=f+j,l=k%10===0?k:10*Math.floor(k/10)+10,m=l-k,m.toString()!==n[7].toString())return void d.$setValidity("usmleIdValidation",!1);d.$setValidity("usmleIdValidation",!0)}})}}}),angular.module("myeras.debounceService",[]).service("debounceService",function(){function a(a){var b;return function(){var c;return b?b:(c=a.apply(this,arguments),c.then&&(b=c,c["finally"](function(){b=void 0})),c)}}function b(b){return angular.forEach(b,function(c,d){"function"==typeof c&&(b[d]=a(c))}),b}return{debounceAll:b}}),angular.module("myeras.tracksDetails",[]).directive("aamcTracksDetails",["applicationService",function(a){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"components/directives/aamc-tracks-details/aamc-tracks-details.html",link:function(b){a.getApplication().then(function(a){a&&(b.applicantType="R"===a.applicationType?!0:!1)})}}}]).directive("aamcTracksDetailRows",function(){return{restrict:"EA",replace:!0,scope:{program:"=",selectedTrack:"=",applicationData:"="},templateUrl:"components/directives/aamc-tracks-details/aamc-tracks-detail-rows.html",link:function(a){a.applicationData&&(a.applicantType="R"===a.applicationData.applicationType?!0:!1)}}}),angular.module("myeras.textFormatter",[]).directive("aamcTextFormatter",function(){return{restrict:"A",link:function(a,b,c){a.$watch(function(a){return a.$eval(c.ngModel)},function(c){a.textAreaLength=28e3,c&&(a.textAreaLength-=b.text().length,a.showIsDisabled=b.text().length>=28e3?!0:!1)})}}});